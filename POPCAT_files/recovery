(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,a=Object.create(r.prototype),o=new A(i||[]);return a._invoke=function(e,t,n){var i=u;return function(r,a){if(i===p)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw a;return B()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=l(e,t,n);if("normal"===c.type){if(i=n.done?h:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=h,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var u="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function m(){}function v(){}function b(){}var w={};c(w,a,(function(){return this}));var y=Object.getPrototypeOf,M=y&&y(y(k([])));M&&M!==n&&i.call(M,a)&&(w=M);var _=b.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function n(r,a,o,s){var c=l(e[r],e,a);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){d.value=e,o(d)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function T(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:B}}function B(){return{value:t,done:!0}}return v.prototype=b,c(_,"constructor",b),c(b,"constructor",v),v.displayName=c(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(D.prototype),c(D.prototype,o,(function(){return this})),e.AsyncIterator=D,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new D(d(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),c(_,s,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),d=i.call(o,"finallyLoc");if(c&&d){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:k(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},757:(e,t,n)=>{e.exports=n(553)},363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p,z:()=>h});var i,r,a=n(2),o=n(671),s=n(144),c=n(942),d=n(302),l=n(616),u=Boolean(window.console&&window.console.info),f=!1;!function(){try{f=l.topmostAccessibleWindow.location.href.indexOf("bt_debug=true")>=0||"true"===l.topmostAccessibleWindow.localStorage.getItem("bt_debug")}catch(e){f=!1}}();var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"":n,r=t.level,a=void 0===r?h.DEFAULT:r;(0,o.Z)(this,e),(0,c.Z)(this,"tag","Blockthrough"),(0,c.Z)(this,"prefix",""),this.setPrefix(i),this.setLevel(a)}return(0,s.Z)(e,[{key:"setPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}},{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.DEFAULT;D(e)?this.level=e:this.level=h.DEFAULT}},{key:"log",value:function(e,t,n,i){if(f&&u){if(arguments.length<3||!D(e)||"object"!==(0,a.Z)(t)||"string"!=typeof n)throw new TypeError;if(!(e<this.level)){var r=y(),o=M(t),s="";s+="%c["+this.tag+" - "+m[e]+"]%c",s+="%c[%s]%c ",o&&(s+="%c["+o+"]%c "),this.prefix&&(s+=this.prefix),s+=n;var c=[];c.push(s),c.push("color: #000000; background-color: "+v[e]),c.push("background-color: inherit"),c.push("color: #757575;"),c.push(_(r)),c.push("background-color: inherit"),o&&(c.push("color: "+E(t)),c.push("color: inherit")),c=c.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,c)}}}},{key:"debugf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.DEBUG,e,t].concat(n)),T(i,g.DEBUG)}},{key:"infof",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.INFO,e,t].concat(n)),T(i,g.INFO)}},{key:"noticef",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.NOTICE,e,t].concat(n)),T(i,g.NOTICE)}},{key:"warningf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.WARNING,e,t].concat(n)),T(i,g.WARNING)}},{key:"errorf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:1,event:"general_error_event",error:{name:t}}),T(i,g.ERROR)}},{key:"criticalf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:1,event:"general_critical_event",error:{name:t}}),T(i,g.CRITICAL)}},{key:"alertf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.ALERT,e,t].concat(n)),T(i,g.ALERT)}},{key:"emergencyf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[h.EMERGENCY,e,t].concat(n)),T(i,g.EMERGENCY)}}]),e}(),h={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},g={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},m=(i={},(0,c.Z)(i,h.DEFAULT,"DFT"),(0,c.Z)(i,h.DEBUG,"DBG"),(0,c.Z)(i,h.INFO,"INF"),(0,c.Z)(i,h.NOTICE,"NTC"),(0,c.Z)(i,h.WARNING,"WRN"),(0,c.Z)(i,h.ERROR,"ERR"),(0,c.Z)(i,h.CRITICAL,"CRT"),(0,c.Z)(i,h.ALERT,"ALR"),(0,c.Z)(i,h.EMERGENCY,"EMR"),i),v=(r={},(0,c.Z)(r,h.DEFAULT,"#F5F5F5"),(0,c.Z)(r,h.DEBUG,"#BBDEFB"),(0,c.Z)(r,h.INFO,"#B3E5FC"),(0,c.Z)(r,h.NOTICE,"#DCEDC8"),(0,c.Z)(r,h.WARNING,"#FFE0B2"),(0,c.Z)(r,h.ERROR,"#FFCCBC"),(0,c.Z)(r,h.CRITICAL,"#E57373"),(0,c.Z)(r,h.ALERT,"#F06292"),(0,c.Z)(r,h.EMERGENCY,"#BA68C8"),r),b=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],w=(new Date).getTime();function y(){return(new Date).getTime()-w}function M(e){return e&&e.id||null}function _(e){return e<1e3?Math.round(e).toString()+"ms":(e/1e3).toFixed(2)+"s"}function E(e){var t=M(e);return t?b[function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%b.length]:"#000000"}function D(e){return"number"==typeof e&&void 0!==m[e]}function T(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||(0,l.getTrueByProbability)(e.sendPercentage))){var n=Object.assign({},e,{severity:t});d.Y.fireEvent("sendLog",n)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>CustomEvents});var CustomEvents=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,r){if(this.hasEventListener(e))for(var a=new i(e,t),o=this.events[e],s=o.length,c=0;c<s;c++){try{var d=o[c].call(n,a)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=d)return d;if(a.shouldStop)return}}},i=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i,p:()=>r});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]},r={"Europe/Andorra":"AD","Asia/Dubai":"AE","Asia/Kabul":"AF","Europe/Tirane":"AL","Asia/Yerevan":"AM","Antarctica/Casey":"AQ","Antarctica/Davis":"AQ","Antarctica/Mawson":"AQ","Antarctica/Palmer":"AQ","Antarctica/Rothera":"AQ","Antarctica/Troll":"AQ","Antarctica/Vostok":"AQ","America/Argentina/Buenos_Aires":"AR","America/Argentina/Cordoba":"AR","America/Argentina/Salta":"AR","America/Argentina/Jujuy":"AR","America/Argentina/Tucuman":"AR","America/Argentina/Catamarca":"AR","America/Argentina/La_Rioja":"AR","America/Argentina/San_Juan":"AR","America/Argentina/Mendoza":"AR","America/Argentina/San_Luis":"AR","America/Argentina/Rio_Gallegos":"AR","America/Argentina/Ushuaia":"AR","Pacific/Pago_Pago":"AS","Europe/Vienna":"AT","Australia/Lord_Howe":"AU","Antarctica/Macquarie":"AU","Australia/Hobart":"AU","Australia/Melbourne":"AU","Australia/Sydney":"AU","Australia/Broken_Hill":"AU","Australia/Brisbane":"AU","Australia/Lindeman":"AU","Australia/Adelaide":"AU","Australia/Darwin":"AU","Australia/Perth":"AU","Australia/Eucla":"AU","Asia/Baku":"AZ","America/Barbados":"BB","Asia/Dhaka":"BD","Europe/Brussels":"BE","Europe/Sofia":"BG","Atlantic/Bermuda":"BM","Asia/Brunei":"BN","America/La_Paz":"BO","America/Noronha":"BR","America/Belem":"BR","America/Fortaleza":"BR","America/Recife":"BR","America/Araguaina":"BR","America/Maceio":"BR","America/Bahia":"BR","America/Sao_Paulo":"BR","America/Campo_Grande":"BR","America/Cuiaba":"BR","America/Santarem":"BR","America/Porto_Velho":"BR","America/Boa_Vista":"BR","America/Manaus":"BR","America/Eirunepe":"BR","America/Rio_Branco":"BR","Asia/Thimphu":"BT","Europe/Minsk":"BY","America/Belize":"BZ","America/St_Johns":"CA","America/Halifax":"CA","America/Glace_Bay":"CA","America/Moncton":"CA","America/Goose_Bay":"CA","America/Toronto":"CA","America/Nipigon":"CA","America/Thunder_Bay":"CA","America/Iqaluit":"CA","America/Pangnirtung":"CA","America/Winnipeg":"CA","America/Rainy_River":"CA","America/Resolute":"CA","America/Rankin_Inlet":"CA","America/Regina":"CA","America/Swift_Current":"CA","America/Edmonton":"CA","America/Cambridge_Bay":"CA","America/Yellowknife":"CA","America/Inuvik":"CA","America/Dawson_Creek":"CA","America/Fort_Nelson":"CA","America/Whitehorse":"CA","America/Dawson":"CA","America/Vancouver":"CA","Indian/Cocos":"CC","Europe/Zurich":"CH","Africa/Abidjan":"CI","Pacific/Rarotonga":"CK","America/Santiago":"CL","America/Punta_Arenas":"CL","Pacific/Easter":"CL","Asia/Shanghai":"CN","Asia/Urumqi":"CN","America/Bogota":"CO","America/Costa_Rica":"CR","America/Havana":"CU","Atlantic/Cape_Verde":"CV","Indian/Christmas":"CX","Asia/Nicosia":"CY","Asia/Famagusta":"CY","Europe/Prague":"CZ","Europe/Berlin":"DE","Europe/Copenhagen":"DK","America/Santo_Domingo":"DO","Africa/Algiers":"DZ","America/Guayaquil":"EC","Pacific/Galapagos":"EC","Europe/Tallinn":"EE","Africa/Cairo":"EG","Africa/El_Aaiun":"EH","Europe/Madrid":"ES","Africa/Ceuta":"ES","Atlantic/Canary":"ES","Europe/Helsinki":"FI","Pacific/Fiji":"FJ","Atlantic/Stanley":"FK","Pacific/Chuuk":"FM","Pacific/Pohnpei":"FM","Pacific/Kosrae":"FM","Atlantic/Faroe":"FO","Europe/Paris":"FR","Europe/London":"GB","Asia/Tbilisi":"GE","America/Cayenne":"GF","Europe/Gibraltar":"GI","America/Nuuk":"GL","America/Danmarkshavn":"GL","America/Scoresbysund":"GL","America/Thule":"GL","Europe/Athens":"GR","Atlantic/South_Georgia":"GS","America/Guatemala":"GT","Pacific/Guam":"GU","Africa/Bissau":"GW","America/Guyana":"GY","Asia/Hong_Kong":"HK","America/Tegucigalpa":"HN","America/Port-au-Prince":"HT","Europe/Budapest":"HU","Asia/Jakarta":"ID","Asia/Pontianak":"ID","Asia/Makassar":"ID","Asia/Jayapura":"ID","Europe/Dublin":"IE","Asia/Jerusalem":"IL","Asia/Kolkata":"IN","Asia/Calcutta":"IN","Indian/Chagos":"IO","Asia/Baghdad":"IQ","Asia/Tehran":"IR","Atlantic/Reykjavik":"IS","Europe/Rome":"IT","America/Jamaica":"JM","Asia/Amman":"JO","Asia/Tokyo":"JP","Africa/Nairobi":"KE","Asia/Bishkek":"KG","Pacific/Tarawa":"KI","Pacific/Kanton":"KI","Pacific/Kiritimati":"KI","Asia/Pyongyang":"KP","Asia/Seoul":"KR","Asia/Almaty":"KZ","Asia/Qyzylorda":"KZ","Asia/Qostanay":"KZ","Asia/Aqtobe":"KZ","Asia/Aqtau":"KZ","Asia/Atyrau":"KZ","Asia/Oral":"KZ","Asia/Beirut":"LB","Asia/Colombo":"LK","Africa/Monrovia":"LR","Europe/Vilnius":"LT","Europe/Luxembourg":"LU","Europe/Riga":"LV","Africa/Tripoli":"LY","Africa/Casablanca":"MA","Europe/Monaco":"MC","Europe/Chisinau":"MD","Pacific/Majuro":"MH","Pacific/Kwajalein":"MH","Asia/Yangon":"MM","Asia/Ulaanbaatar":"MN","Asia/Hovd":"MN","Asia/Choibalsan":"MN","Asia/Macau":"MO","America/Martinique":"MQ","Europe/Malta":"MT","Indian/Mauritius":"MU","Indian/Maldives":"MV","America/Mexico_City":"MX","America/Cancun":"MX","America/Merida":"MX","America/Monterrey":"MX","America/Matamoros":"MX","America/Mazatlan":"MX","America/Chihuahua":"MX","America/Ojinaga":"MX","America/Hermosillo":"MX","America/Tijuana":"MX","America/Bahia_Banderas":"MX","Asia/Kuala_Lumpur":"MY","Asia/Kuching":"MY","Africa/Maputo":"MZ","Africa/Windhoek":"NA","Pacific/Noumea":"NC","Pacific/Norfolk":"NF","Africa/Lagos":"NG","America/Managua":"NI","Europe/Amsterdam":"NL","Europe/Oslo":"NO","Asia/Kathmandu":"NP","Pacific/Nauru":"NR","Pacific/Niue":"NU","Pacific/Auckland":"NZ","Pacific/Chatham":"NZ","America/Panama":"PA","America/Lima":"PE","Pacific/Tahiti":"PF","Pacific/Marquesas":"PF","Pacific/Gambier":"PF","Pacific/Port_Moresby":"PG","Pacific/Bougainville":"PG","Asia/Manila":"PH","Asia/Karachi":"PK","Europe/Warsaw":"PL","America/Miquelon":"PM","Pacific/Pitcairn":"PN","America/Puerto_Rico":"PR","Asia/Gaza":"PS","Asia/Hebron":"PS","Europe/Lisbon":"PT","Atlantic/Madeira":"PT","Atlantic/Azores":"PT","Pacific/Palau":"PW","America/Asuncion":"PY","Asia/Qatar":"QA","Indian/Reunion":"RE","Europe/Bucharest":"RO","Europe/Belgrade":"RS","Europe/Kaliningrad":"RU","Europe/Moscow":"RU","Europe/Simferopol":"RU","Europe/Kirov":"RU","Europe/Volgograd":"RU","Europe/Astrakhan":"RU","Europe/Saratov":"RU","Europe/Ulyanovsk":"RU","Europe/Samara":"RU","Asia/Yekaterinburg":"RU","Asia/Omsk":"RU","Asia/Novosibirsk":"RU","Asia/Barnaul":"RU","Asia/Tomsk":"RU","Asia/Novokuznetsk":"RU","Asia/Krasnoyarsk":"RU","Asia/Irkutsk":"RU","Asia/Chita":"RU","Asia/Yakutsk":"RU","Asia/Khandyga":"RU","Asia/Vladivostok":"RU","Asia/Ust-Nera":"RU","Asia/Magadan":"RU","Asia/Sakhalin":"RU","Asia/Srednekolymsk":"RU","Asia/Kamchatka":"RU","Asia/Anadyr":"RU","Asia/Riyadh":"SA","Pacific/Guadalcanal":"SB","Indian/Mahe":"SC","Africa/Khartoum":"SD","Europe/Stockholm":"SE","Asia/Singapore":"SG","America/Paramaribo":"SR","Africa/Juba":"SS","Africa/Sao_Tome":"ST","America/El_Salvador":"SV","Asia/Damascus":"SY","America/Grand_Turk":"TC","Africa/Ndjamena":"TD","Indian/Kerguelen":"TF","Asia/Bangkok":"TH","Asia/Dushanbe":"TJ","Pacific/Fakaofo":"TK","Asia/Dili":"TL","Asia/Ashgabat":"TM","Africa/Tunis":"TN","Pacific/Tongatapu":"TO","Europe/Istanbul":"TR","Pacific/Funafuti":"TV","Asia/Taipei":"TW","Europe/Kiev":"UA","Europe/Uzhgorod":"UA","Europe/Zaporozhye":"UA","Pacific/Wake":"UM","America/New_York":"US","America/Detroit":"US","America/Kentucky/Louisville":"US","America/Kentucky/Monticello":"US","America/Indiana/Indianapolis":"US","America/Indiana/Vincennes":"US","America/Indiana/Winamac":"US","America/Indiana/Marengo":"US","America/Indiana/Petersburg":"US","America/Indiana/Vevay":"US","America/Chicago":"US","America/Indiana/Tell_City":"US","America/Indiana/Knox":"US","America/Menominee":"US","America/North_Dakota/Center":"US","America/North_Dakota/New_Salem":"US","America/North_Dakota/Beulah":"US","America/Denver":"US","America/Boise":"US","America/Phoenix":"US","America/Los_Angeles":"US","America/Anchorage":"US","America/Juneau":"US","America/Sitka":"US","America/Metlakatla":"US","America/Yakutat":"US","America/Nome":"US","America/Adak":"US","Pacific/Honolulu":"US","America/Montevideo":"UY","Asia/Samarkand":"UZ","Asia/Tashkent":"UZ","America/Caracas":"VE","Asia/Ho_Chi_Minh":"VN","Pacific/Efate":"VU","Pacific/Wallis":"WF","Pacific/Apia":"WS","Africa/Johannesburg":"ZA","America/Antigua":"AG","America/Anguilla":"AI","Africa/Luanda":"AO","Antarctica/McMurdo":"AQ","Antarctica/DumontDUrville":"AQ","Antarctica/Syowa":"AQ","America/Aruba":"AW","Europe/Mariehamn":"AX","Europe/Sarajevo":"BA","Africa/Ouagadougou":"BF","Asia/Bahrain":"BH","Africa/Bujumbura":"BI","Africa/Porto-Novo":"BJ","America/St_Barthelemy":"BL","America/Kralendijk":"BQ","America/Nassau":"BS","Africa/Gaborone":"BW","America/Blanc-Sablon":"CA","America/Atikokan":"CA","America/Creston":"CA","Africa/Kinshasa":"CD","Africa/Lubumbashi":"CD","Africa/Bangui":"CF","Africa/Brazzaville":"CG","Africa/Douala":"CM","America/Curacao":"CW","Europe/Busingen":"DE","Africa/Djibouti":"DJ","America/Dominica":"DM","Africa/Asmara":"ER","Africa/Addis_Ababa":"ET","Africa/Libreville":"GA","America/Grenada":"GD","Europe/Guernsey":"GG","Africa/Accra":"GH","Africa/Banjul":"GM","Africa/Conakry":"GN","America/Guadeloupe":"GP","Africa/Malabo":"GQ","Europe/Zagreb":"HR","Europe/Isle_of_Man":"IM","Europe/Jersey":"JE","Asia/Phnom_Penh":"KH","Indian/Comoro":"KM","America/St_Kitts":"KN","Asia/Kuwait":"KW","America/Cayman":"KY","Asia/Vientiane":"LA","America/St_Lucia":"LC","Europe/Vaduz":"LI","Africa/Maseru":"LS","Europe/Podgorica":"ME","America/Marigot":"MF","Indian/Antananarivo":"MG","Europe/Skopje":"MK","Africa/Bamako":"ML","Pacific/Saipan":"MP","Africa/Nouakchott":"MR","America/Montserrat":"MS","Africa/Blantyre":"MW","Africa/Niamey":"NE","Asia/Muscat":"OM","Africa/Kigali":"RW","Atlantic/St_Helena":"SH","Europe/Ljubljana":"SI","Arctic/Longyearbyen":"SJ","Europe/Bratislava":"SK","Africa/Freetown":"SL","Europe/San_Marino":"SM","Africa/Dakar":"SN","Africa/Mogadishu":"SO","America/Lower_Princes":"SX","Africa/Mbabane":"SZ","Africa/Lome":"TG","America/Port_of_Spain":"TT","Africa/Dar_es_Salaam":"TZ","Africa/Kampala":"UG","Pacific/Midway":"UM","Europe/Vatican":"VA","America/St_Vincent":"VC","America/Tortola":"VG","America/St_Thomas":"VI","Asia/Aden":"YE","Indian/Mayotte":"YT","Africa/Lusaka":"ZM","Africa/Harare":"ZW"}},365:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(400),r=n(17),a=n(143),o="KGZ1bmN0aW9uKF8weDIwZTZiZixfMHg1ODg3ZDcpe3ZhciBfMHg4YjdlM2M9XzB4M2U2MixfMHg1MmEwOGY9XzB4MjBlNmJmKCk7d2hpbGUoISFbXSl7dHJ5e3ZhciBfMHgxN2M0YjI9LXBhcnNlSW50KF8weDhiN2UzYygweDFhMCkpLzB4MSoocGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTk0KSkvMHgyKSstcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTczKSkvMHgzKihwYXJzZUludChfMHg4YjdlM2MoMHgxOTMpKS8weDQpK3BhcnNlSW50KF8weDhiN2UzYygweDE4NSkpLzB4NSooLXBhcnNlSW50KF8weDhiN2UzYygweDE5ZCkpLzB4NikrcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTg0KSkvMHg3Ky1wYXJzZUludChfMHg4YjdlM2MoMHgxN2UpKS8weDgrLXBhcnNlSW50KF8weDhiN2UzYygweDE2NSkpLzB4OStwYXJzZUludChfMHg4YjdlM2MoMHgxOTIpKS8weGE7aWYoXzB4MTdjNGIyPT09XzB4NTg4N2Q3KWJyZWFrO2Vsc2UgXzB4NTJhMDhmWydwdXNoJ10oXzB4NTJhMDhmWydzaGlmdCddKCkpO31jYXRjaChfMHgzYjgwZTQpe18weDUyYTA4ZlsncHVzaCddKF8weDUyYTA4Zlsnc2hpZnQnXSgpKTt9fX0oXzB4MzYwMSwweDFlZDAyKSwoZnVuY3Rpb24oKXt2YXIgXzB4M2FkMGIxPWZ1bmN0aW9uKF8weGEwYzY4ZCl7dmFyIF8weDMwODdlMD1fMHgzZTYyO2lmKCFfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTcyKV0pe18weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNzIpXT0hMHgwO3RyeXt2YXIgXzB4MjVkZmNkPV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXShfMHgzMDg3ZTAoMHgxOGQpKTsoXzB4YTBjNjhkWydkb2N1bWVudCddWydoZWFkJ118fF8weGEwYzY4ZFsnZG9jdW1lbnQnXVtfMHgzMDg3ZTAoMHgxODIpXXx8XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldWydkb2N1bWVudEVsZW1lbnQnXSlbJ2FwcGVuZENoaWxkJ10oXzB4MjVkZmNkKSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTllKV1bJ3N0eWxlU2hlZXRzJ11bMHgwXVtfMHgzMDg3ZTAoMHgxOTUpXShfMHgzMDg3ZTAoMHgxOWIpLDB4MCk7fWNhdGNoKF8weDMxZmUxNyl7fV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxNmYpXT1kb2N1bWVudFtfMHgzMDg3ZTAoMHgxNzkpXSxfMHhhMGM2OGRbJ2RvY3VtZW50J11bJ2dldEVsZW1lbnRCeUlkJ109ZnVuY3Rpb24oXzB4MjNhY2NhKXt2YXIgXzB4MTc4MDY1PV8weDMwODdlMDt0cnl7aWYoJ2llY2N0ZXN0Jz09PV8weDIzYWNjYSlyZXR1cm4gXzB4YTBjNjhkWydkb2N1bWVudCddW18weDE3ODA2NSgweDE3YSldKCdiJyk7fWNhdGNoKF8weDM2ZmU5Yil7fXJldHVybiBfMHhhMGM2OGRbJ2RvY3VtZW50J11bXzB4MTc4MDY1KDB4MTZmKV1bXzB4MTc4MDY1KDB4MTZiKV0odGhpcyxfMHgyM2FjY2EpO30sXzB4YTBjNjhkWydkb2N1bWVudCddW18weDMwODdlMCgweDE5NyldPWRvY3VtZW50W18weDMwODdlMCgweDE3YSldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXT1mdW5jdGlvbihfMHgzMGJkOTQpe3ZhciBfMHg0NzE2YWQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NzE2YWQoMHgxOWMpPT09XzB4MzBiZDk0W18weDQ3MTZhZCgweDFhNCldKCkpe3ZhciBfMHg0YjU2ZjQ9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDQ3MTZhZCgweDE5NyldW18weDQ3MTZhZCgweDE2YildKHRoaXMsXzB4MzBiZDk0KTtyZXR1cm4gXzB4NGI1NmY0W18weDQ3MTZhZCgweDE3NCldKF8weDQ3MTZhZCgweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4MjI0MGI5PV8weDQ3MTZhZDt0cnl7dGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXT1fMHgzYWQwYjEsdGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXVtfMHgyMjQwYjkoMHgxNmIpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1snY29udGVudFdpbmRvdyddKTt9Y2F0Y2goXzB4MWZiMjEyKXt9fSksXzB4NGI1NmY0O319Y2F0Y2goXzB4NTUxY2EwKXt9cmV0dXJuIF8weGEwYzY4ZFtfMHg0NzE2YWQoMHgxOWUpXVtfMHg0NzE2YWQoMHgxOTcpXVtfMHg0NzE2YWQoMHgxNmIpXSh0aGlzLF8weDMwYmQ5NCk7fSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bXzB4MzA4N2UwKDB4MTcwKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldW18weDMwODdlMCgweDFhMyldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVtfMHgzMDg3ZTAoMHgxODgpXVtfMHgzMDg3ZTAoMHgxYTMpXT1mdW5jdGlvbihfMHgxNjk2ODUpe3ZhciBfMHgzZjRmNDk9XzB4MzA4N2UwLF8weDE1NDRhNT1fMHhhMGM2OGRbXzB4M2Y0ZjQ5KDB4MTZhKV1bJ3Byb3RvdHlwZSddW18weDNmNGY0OSgweDE3MCldWydjYWxsJ10odGhpcyxfMHgxNjk2ODUpO3RyeXtmb3IodmFyIF8weDI1ZTBjOT0weDA7XzB4MjVlMGM5PF8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgzZjRmNDkoMHgxNzEpXTtfMHgyNWUwYzkrKyknSUZSQU1FJz09PV8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgyNWUwYzldWyd0YWdOYW1lJ10mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTZkKV1bXzB4MjVlMGM5XVtfMHgzZjRmNDkoMHgxN2QpXXx8XzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTc0KV0oXzB4M2Y0ZjQ5KDB4MWEyKSxmdW5jdGlvbigpe3ZhciBfMHg3OWM5NjA9XzB4M2Y0ZjQ5O3RoaXNbXzB4NzljOTYwKDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHg3OWM5NjAoMHgxN2QpXVtfMHg3OWM5NjAoMHgxNzcpXVtfMHg3OWM5NjAoMHgxNmIpXSh0aGlzW18weDc5Yzk2MCgweDE3ZCldLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV09XzB4M2FkMGIxLF8weDE2OTY4NVsnY2hpbGRyZW4nXVtfMHgyNWUwYzldW18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldW18weDNmNGY0OSgweDE2YildKHRoaXMsXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bJ2NvbnRlbnRXaW5kb3cnXSkpO18weDNmNGY0OSgweDE3Yik9PT1fMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTc1KV0mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV18fF8weDE2OTY4NVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJyxmdW5jdGlvbigpe3ZhciBfMHgyNjY3NDY9XzB4M2Y0ZjQ5O3RoaXNbXzB4MjY2NzQ2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHgyNjY3NDYoMHgxN2QpXVsnd3JhcElmcmFtZSddW18weDI2Njc0NigweDE2YildKHRoaXNbXzB4MjY2NzQ2KDB4MTdkKV0sdGhpc1tfMHgyNjY3NDYoMHgxN2QpXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldPV8weDNhZDBiMSxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV1bXzB4M2Y0ZjQ5KDB4MTZiKV0odGhpcyxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV0pKTt9Y2F0Y2goXzB4NDJmMjFiKXt9cmV0dXJuIF8weDE1NDRhNTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVsncHJvdG90eXBlJ11bXzB4MzA4N2UwKDB4MWExKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldWydpbnNlcnRCZWZvcmUnXSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bJ2luc2VydEJlZm9yZSddPWZ1bmN0aW9uKF8weDU3NDEwNSxfMHg1MjhkNzgpe3ZhciBfMHgxZGJlMjY9XzB4MzA4N2UwLF8weDI5MDhiOT1fMHhhMGM2OGRbXzB4MWRiZTI2KDB4MTZhKV1bXzB4MWRiZTI2KDB4MTg4KV1bXzB4MWRiZTI2KDB4MWExKV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDUsXzB4NTI4ZDc4KTt0cnl7Zm9yKHZhciBfMHgzOTc3NjA9MHgwO18weDM5Nzc2MDxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTZkKV1bXzB4MWRiZTI2KDB4MTcxKV07XzB4Mzk3NzYwKyspXzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NSldJiYoXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV18fF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNmQpXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NCldKF8weDFkYmUyNigweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4NThmOTE4PV8weDFkYmUyNjt0aGlzWydjb250ZW50V2luZG93J11bXzB4NThmOTE4KDB4MTc3KV09XzB4M2FkMGIxLHRoaXNbXzB4NThmOTE4KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVsnY2FsbCddKHRoaXNbXzB4NThmOTE4KDB4MTdkKV0sdGhpc1tfMHg1OGY5MTgoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgxZGJlMjYoMHgxNzcpXT1fMHgzYWQwYjEsXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVtfMHgxZGJlMjYoMHgxNmIpXSh0aGlzLF8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3ZCldKSk7XzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNzUpXSYmKF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxN2QpXXx8XzB4NTc0MTA1WydhZGRFdmVudExpc3RlbmVyJ10oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJjMmJjMD1fMHgxZGJlMjY7dGhpc1snY29udGVudFdpbmRvdyddW18weDJjMmJjMCgweDE3NyldPV8weDNhZDBiMSx0aGlzW18weDJjMmJjMCgweDE3ZCldWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgyYzJiYzAoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE3ZCldW18weDFkYmUyNigweDE3NyldPV8weDNhZDBiMSxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV1bXzB4MWRiZTI2KDB4MTc3KV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV0pKTt9Y2F0Y2goXzB4MjhjOTAzKXt9cmV0dXJuIF8weDI5MDhiOTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVsnd3JpdGVPJ109XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldW18weDMwODdlMCgweDE5OCldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxOTgpXT1mdW5jdGlvbihfMHg0NjUyYjEpe3ZhciBfMHg1Y2JjMmQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NjUyYjEmJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS9bXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSl7dmFyIF8weDU0ZTVmMj1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTY2KV0oL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdLyksXzB4MTBkZjg1PV8weDU0ZTVmMlsweDBdW18weDVjYmMyZCgweDE3NildKF8weDVjYmMyZCgweDE5YyksXzB4NWNiYzJkKDB4MTgxKSk7XzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXShfMHg1NGU1ZjIsXzB4MTBkZjg1KTt9aWYoXzB4NDY1MmIxJiYve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9L1tfMHg1Y2JjMmQoMHgxOTEpXShfMHg0NjUyYjEpKXt2YXIgXzB4MTRhYThjPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNjYpXSgve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9LylbMHgwXSxfMHg0Nzg1NzU9LyhbLlxTXHNdK3ByaW1hcnlGaWxlczogKShcW1teXFtdK3JlbmRlckFzOiAnQkFDS1VQX0lNQUdFJ1teXF1dK1xdKShbLlxTXHNdKykvZztfMHg0NjUyYjE9XzB4NDY1MmIxW18weDVjYmMyZCgweDE3NildKF8weDQ3ODU3NSxfMHg1Y2JjMmQoMHgxOWEpK18weDE0YWE4YytfMHg1Y2JjMmQoMHgxNjgpKTt9XzB4NDY1MmIxJiZfMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTgzKV0oJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnKT4tMHgxJiYoXzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXSgndHlwZTpceDIwXHgyN0hUTUw1XHgyNycsXzB4NWNiYzJkKDB4MTZjKSkpO3ZhciBfMHgxYzBmMjQ9LyhbLlxTXHNdK2lmXCgiRVhQQU5EQUJMRSI9PSkoW2EtekEtWl0pKFx8XHwiQkFOTkVSIj09KShbYS16QS1aXSkoWy5cU1xzXSspL2c7XzB4NDY1MmIxJiZfMHgxYzBmMjRbXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSYmKF8weDQ2NTJiMT1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTc2KV0oXzB4MWMwZjI0LF8weDVjYmMyZCgweDE3YykpKTt9Y2F0Y2goXzB4MjgyODlmKXt9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDVjYmMyZCgweDE2NyldW18weDVjYmMyZCgweDE2YildKHRoaXMsXzB4NDY1MmIxKTt9LF8weGEwYzY4ZFsnZWJDZmcnXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThiKV09dm9pZCAweDAsXzB4YTBjNjhkW18weDMwODdlMCgweDE4YSldKF8weDMwODdlMCgweDE4NiksZnVuY3Rpb24oXzB4MzJiNTg2KXt2YXIgXzB4NDM3YmJiPV8weDMwODdlMDtyZXR1cm4gXzB4YTBjNjhkW18weDQzN2JiYigweDE4YildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxODYpLGZ1bmN0aW9uKF8weDViODAxZil7dmFyIF8weDUwOTE3Yz1fMHgzMDg3ZTA7cmV0dXJuIF8weDViODAxZltfMHg1MDkxN2MoMHgxOTYpXT0nJyxfMHhhMGM2OGRbXzB4NTA5MTdjKDB4MThiKV09XzB4NWI4MDFmO30pLE9iamVjdFtfMHgzMDg3ZTAoMHgxYTUpXShPYmplY3RbXzB4MzA4N2UwKDB4MTg4KV0sXzB4MzA4N2UwKDB4MTg5KSx7J3ZhbHVlJzpmdW5jdGlvbigpe3JldHVybiEweDE7fX0pLF8weDI1ZGZjZD1mdW5jdGlvbihfMHgzZTg4NjYsXzB4ODhmNTRlKXt2YXIgXzB4NDY2MTk4PV8weDMwODdlMDtfMHhhMGM2OGRbXzB4NDY2MTk4KDB4MTdmKV1bXzB4NDY2MTk4KDB4MWE1KV0oXzB4YTBjNjhkWydPYmplY3QnXVtfMHg0NjYxOTgoMHgxODgpXSxfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7dmFyIF8weDFjNzA2OD1fMHg0NjYxOTg7cmV0dXJuIHRoaXNbXzB4MWM3MDY4KDB4MTc4KStfMHgzZTg4NjZdO30sJ3NldCc6ZnVuY3Rpb24oXzB4NTBmMTAwKXt2YXIgXzB4M2U3Mzc5PV8weDQ2NjE5ODtfMHg1MGYxMDA9XzB4ODhmNTRlKHRoaXMsXzB4NTBmMTAwKSxfMHhhMGM2OGRbJ09iamVjdCddW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U4ODY2LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDNlODg2Nl07fSwnc2V0JzpmdW5jdGlvbihfMHhlYTkwYTQpe3ZhciBfMHg3NmU3Y2Q9XzB4M2U3Mzc5O18weGVhOTBhND1fMHg4OGY1NGUodGhpcyxfMHhlYTkwYTQpLHRoaXNbXzB4NzZlN2NkKDB4MTc4KStfMHgzZTg4NjZdPV8weGVhOTBhNDt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDU2ZjdkMz1fMHg1MGYxMDA7XzB4YTBjNjhkW18weDNlNzM3OSgweDE3ZildW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U3Mzc5KDB4MTc4KStfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDU2ZjdkMzt9LCdzZXQnOmZ1bmN0aW9uKF8weDJiNDIzMyl7XzB4NTZmN2QzPV8weDJiNDIzMz1fMHg4OGY1NGUodGhpcyxfMHgyYjQyMzMpO30sJ2VudW1lcmFibGUnOiEweDF9KTt9LCdlbnVtZXJhYmxlJzohMHgxLCdjb25maWd1cmFibGUnOiEweDF9KTt9LF8weDI1ZGZjZChfMHgzMDg3ZTAoMHgxOGMpLGZ1bmN0aW9uKF8weDIyMDA2MyxfMHgzNWZhMDUpe3ZhciBfMHg0MzdhOWQ9XzB4MzA4N2UwO3JldHVybiBfMHg0MzdhOWQoMHgxOTkpPT09dHlwZW9mIF8weDIyMDA2MyYmXzB4MjIwMDYzW18weDQzN2E5ZCgweDE5ZildKF8weDQzN2E5ZCgweDE4OSkpJiYoXzB4MjIwMDYzW18weDQzN2E5ZCgweDE4OSldPWZ1bmN0aW9uKCl7cmV0dXJuITB4MTt9KSxfMHgzNWZhMDU7fSksXzB4MjVkZmNkKCdpcycsZnVuY3Rpb24oXzB4MTg2MzFhLF8weDU0MWY3ZSl7dmFyIF8weDNlMzE2Nj1fMHgzMDg3ZTA7cmV0dXJuIF8weDNlMzE2NigweDE5OSk9PT10eXBlb2YgXzB4MTg2MzFhJiZfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTlmKV0oXzB4M2UzMTY2KDB4MTg5KSkmJihfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTg5KV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDU0MWY3ZTt9KTt2YXIgXzB4MmUwZDcwPXZvaWQgMHgwO18weDI1ZGZjZChfMHgzMDg3ZTAoMHgxNjkpLGZ1bmN0aW9uKF8weDg3NjMxZSxfMHgxMDFkOTIpe3JldHVybiBfMHgyZTBkNzA9XzB4MTAxZDkyO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmUpXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThhKV0oXzB4MzA4N2UwKDB4MTZlKSxmdW5jdGlvbigpe3ZhciBfMHg0MjZiYWM9XzB4MzA4N2UwO3JldHVybiB0aGlzW18weDQyNmJhYygweDE4ZildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxNmUpLGZ1bmN0aW9uKF8weDFhNzE4NSl7dmFyIF8weGY4MDAwYj1fMHgzMDg3ZTA7cmV0dXJuIHRoaXNbXzB4ZjgwMDBiKDB4MThmKV09ZnVuY3Rpb24oKXt2YXIgXzB4NTViMzQzPV8weGY4MDAwYixfMHg0MWUyY2M9YXJndW1lbnRzOy0weDE8XzB4NDFlMmNjWzB4M11bXzB4NTViMzQzKDB4MTgzKV0oXzB4NTViMzQzKDB4MTgwKSkmJl8weDU1YjM0MygweDE5MCk9PT10eXBlb2YgXzB4MmUwZDcwJiYoXzB4NDFlMmNjWzB4M109XzB4NTViMzQzKDB4MTg3KStfMHgyZTBkNzBbXzB4NTViMzQzKDB4MTc2KV0oLycvZywnaScpKydceDI3JyksXzB4MWE3MTg1WydhcHBseSddKHRoaXMsXzB4NDFlMmNjKTt9LF8weDFhNzE4NTt9KTt9fTtfMHgzYWQwYjEod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgzZTYyKF8weDVjNzYxNyxfMHgyN2ZlNzMpe3ZhciBfMHgzNjAxZWQ9XzB4MzYwMSgpO3JldHVybiBfMHgzZTYyPWZ1bmN0aW9uKF8weDNlNjJkOCxfMHgyN2ExYTEpe18weDNlNjJkOD1fMHgzZTYyZDgtMHgxNjU7dmFyIF8weDkyYWY0OD1fMHgzNjAxZWRbXzB4M2U2MmQ4XTtyZXR1cm4gXzB4OTJhZjQ4O30sXzB4M2U2MihfMHg1Yzc2MTcsXzB4MjdmZTczKTt9ZnVuY3Rpb24gXzB4MzYwMSgpe3ZhciBfMHhkNDU3ODI9Wyc5OTBCdXRiQlMnLCdlYkNmZycsJ2phdmFzY3JpcHQ6XHgyNycsJ3Byb3RvdHlwZScsJ3N1cHBvcnRlZEJyb3dzZXInLCdfX2RlZmluZUdldHRlcl9fJywnZWJDZmdfXycsJ3BhZ2VWaXNpYmxlJywnc3R5bGUnLCdfX2RlZmluZVNldHRlcl9fJywnYWRMb2FkZXJfXycsJ3N0cmluZycsJ3Rlc3QnLCc4OTg5ODMwSGNuRG92JywnMTcyMTJjRVlRSHUnLCcxNDE2ZlZ1eGVSJywnaW5zZXJ0UnVsZScsJ2FkSHRtbFBhdGgnLCdjcmVhdGVFbGVtZW50TycsJ3dyaXRlJywnb2JqZWN0JywnJDFbJywnaW1nW2NsYXNzXj1ceDI3cGwtbG9hZGVyLVx4Mjdde2Rpc3BsYXk6bm9uZVx4MjAhaW1wb3J0YW50fScsJ2lmcmFtZScsJzQyNDJtV3lXVEcnLCdkb2N1bWVudCcsJ2hhc093blByb3BlcnR5JywnMzMyaUhiYnNKJywnaW5zZXJ0QmVmb3JlTycsJ2xvYWQnLCdhcHBlbmRDaGlsZCcsJ3RvTG93ZXJDYXNlJywnZGVmaW5lUHJvcGVydHknLCcyMDQzNTc2QXZKY0lEJywnbWF0Y2gnLCd3cml0ZU8nLCddJDMnLCdiYW5uZXJBZEh0bWxUZXh0JywnSFRNTEVsZW1lbnQnLCdjYWxsJywndHlwZTpceDIwXHgyN0lNQUdFXHgyNycsJ2NoaWxkcmVuJywnYWRMb2FkZXInLCdnZXRFbGVtZW50QnlJZE8nLCdhcHBlbmRDaGlsZE8nLCdsZW5ndGgnLCdhbHJlYWR5SW5qZWN0ZWQnLCcxNjJEdHBEeGUnLCdhZGRFdmVudExpc3RlbmVyJywndGFnTmFtZScsJ3JlcGxhY2UnLCd3cmFwSWZyYW1lJywnX19fJywnZ2V0RWxlbWVudEJ5SWQnLCdjcmVhdGVFbGVtZW50JywnSUZSQU1FJywnJDEkMiQzJDR8fFx4MjJCQUNLVVBfSU1BR0VceDIyPT0kMiQ1JywnY29udGVudFdpbmRvdycsJzY4OTQzMmN1QVR1bycsJ09iamVjdCcsJy5odG1sJywnc2NyaXB0JywnYm9keScsJ2luZGV4T2YnLCcxMDM1MTE4cmtOZ2hsJ107XzB4MzYwMT1mdW5jdGlvbigpe3JldHVybiBfMHhkNDU3ODI7fTtyZXR1cm4gXzB4MzYwMSgpO30=";const s={SharedObject:i.h,consts:r.v,upoSettings:a.I,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined,backupCreativeScript:o,backupCreativeScriptForPostMessage:"try { eval(atob('KGZ1bmN0aW9uKF8weDIwZTZiZixfMHg1ODg3ZDcpe3ZhciBfMHg4YjdlM2M9XzB4M2U2MixfMHg1MmEwOGY9XzB4MjBlNmJmKCk7d2hpbGUoISFbXSl7dHJ5e3ZhciBfMHgxN2M0YjI9LXBhcnNlSW50KF8weDhiN2UzYygweDFhMCkpLzB4MSoocGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTk0KSkvMHgyKSstcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTczKSkvMHgzKihwYXJzZUludChfMHg4YjdlM2MoMHgxOTMpKS8weDQpK3BhcnNlSW50KF8weDhiN2UzYygweDE4NSkpLzB4NSooLXBhcnNlSW50KF8weDhiN2UzYygweDE5ZCkpLzB4NikrcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTg0KSkvMHg3Ky1wYXJzZUludChfMHg4YjdlM2MoMHgxN2UpKS8weDgrLXBhcnNlSW50KF8weDhiN2UzYygweDE2NSkpLzB4OStwYXJzZUludChfMHg4YjdlM2MoMHgxOTIpKS8weGE7aWYoXzB4MTdjNGIyPT09XzB4NTg4N2Q3KWJyZWFrO2Vsc2UgXzB4NTJhMDhmWydwdXNoJ10oXzB4NTJhMDhmWydzaGlmdCddKCkpO31jYXRjaChfMHgzYjgwZTQpe18weDUyYTA4ZlsncHVzaCddKF8weDUyYTA4Zlsnc2hpZnQnXSgpKTt9fX0oXzB4MzYwMSwweDFlZDAyKSwoZnVuY3Rpb24oKXt2YXIgXzB4M2FkMGIxPWZ1bmN0aW9uKF8weGEwYzY4ZCl7dmFyIF8weDMwODdlMD1fMHgzZTYyO2lmKCFfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTcyKV0pe18weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNzIpXT0hMHgwO3RyeXt2YXIgXzB4MjVkZmNkPV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXShfMHgzMDg3ZTAoMHgxOGQpKTsoXzB4YTBjNjhkWydkb2N1bWVudCddWydoZWFkJ118fF8weGEwYzY4ZFsnZG9jdW1lbnQnXVtfMHgzMDg3ZTAoMHgxODIpXXx8XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldWydkb2N1bWVudEVsZW1lbnQnXSlbJ2FwcGVuZENoaWxkJ10oXzB4MjVkZmNkKSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTllKV1bJ3N0eWxlU2hlZXRzJ11bMHgwXVtfMHgzMDg3ZTAoMHgxOTUpXShfMHgzMDg3ZTAoMHgxOWIpLDB4MCk7fWNhdGNoKF8weDMxZmUxNyl7fV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxNmYpXT1kb2N1bWVudFtfMHgzMDg3ZTAoMHgxNzkpXSxfMHhhMGM2OGRbJ2RvY3VtZW50J11bJ2dldEVsZW1lbnRCeUlkJ109ZnVuY3Rpb24oXzB4MjNhY2NhKXt2YXIgXzB4MTc4MDY1PV8weDMwODdlMDt0cnl7aWYoJ2llY2N0ZXN0Jz09PV8weDIzYWNjYSlyZXR1cm4gXzB4YTBjNjhkWydkb2N1bWVudCddW18weDE3ODA2NSgweDE3YSldKCdiJyk7fWNhdGNoKF8weDM2ZmU5Yil7fXJldHVybiBfMHhhMGM2OGRbJ2RvY3VtZW50J11bXzB4MTc4MDY1KDB4MTZmKV1bXzB4MTc4MDY1KDB4MTZiKV0odGhpcyxfMHgyM2FjY2EpO30sXzB4YTBjNjhkWydkb2N1bWVudCddW18weDMwODdlMCgweDE5NyldPWRvY3VtZW50W18weDMwODdlMCgweDE3YSldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXT1mdW5jdGlvbihfMHgzMGJkOTQpe3ZhciBfMHg0NzE2YWQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NzE2YWQoMHgxOWMpPT09XzB4MzBiZDk0W18weDQ3MTZhZCgweDFhNCldKCkpe3ZhciBfMHg0YjU2ZjQ9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDQ3MTZhZCgweDE5NyldW18weDQ3MTZhZCgweDE2YildKHRoaXMsXzB4MzBiZDk0KTtyZXR1cm4gXzB4NGI1NmY0W18weDQ3MTZhZCgweDE3NCldKF8weDQ3MTZhZCgweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4MjI0MGI5PV8weDQ3MTZhZDt0cnl7dGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXT1fMHgzYWQwYjEsdGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXVtfMHgyMjQwYjkoMHgxNmIpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1snY29udGVudFdpbmRvdyddKTt9Y2F0Y2goXzB4MWZiMjEyKXt9fSksXzB4NGI1NmY0O319Y2F0Y2goXzB4NTUxY2EwKXt9cmV0dXJuIF8weGEwYzY4ZFtfMHg0NzE2YWQoMHgxOWUpXVtfMHg0NzE2YWQoMHgxOTcpXVtfMHg0NzE2YWQoMHgxNmIpXSh0aGlzLF8weDMwYmQ5NCk7fSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bXzB4MzA4N2UwKDB4MTcwKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldW18weDMwODdlMCgweDFhMyldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVtfMHgzMDg3ZTAoMHgxODgpXVtfMHgzMDg3ZTAoMHgxYTMpXT1mdW5jdGlvbihfMHgxNjk2ODUpe3ZhciBfMHgzZjRmNDk9XzB4MzA4N2UwLF8weDE1NDRhNT1fMHhhMGM2OGRbXzB4M2Y0ZjQ5KDB4MTZhKV1bJ3Byb3RvdHlwZSddW18weDNmNGY0OSgweDE3MCldWydjYWxsJ10odGhpcyxfMHgxNjk2ODUpO3RyeXtmb3IodmFyIF8weDI1ZTBjOT0weDA7XzB4MjVlMGM5PF8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgzZjRmNDkoMHgxNzEpXTtfMHgyNWUwYzkrKyknSUZSQU1FJz09PV8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgyNWUwYzldWyd0YWdOYW1lJ10mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTZkKV1bXzB4MjVlMGM5XVtfMHgzZjRmNDkoMHgxN2QpXXx8XzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTc0KV0oXzB4M2Y0ZjQ5KDB4MWEyKSxmdW5jdGlvbigpe3ZhciBfMHg3OWM5NjA9XzB4M2Y0ZjQ5O3RoaXNbXzB4NzljOTYwKDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHg3OWM5NjAoMHgxN2QpXVtfMHg3OWM5NjAoMHgxNzcpXVtfMHg3OWM5NjAoMHgxNmIpXSh0aGlzW18weDc5Yzk2MCgweDE3ZCldLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV09XzB4M2FkMGIxLF8weDE2OTY4NVsnY2hpbGRyZW4nXVtfMHgyNWUwYzldW18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldW18weDNmNGY0OSgweDE2YildKHRoaXMsXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bJ2NvbnRlbnRXaW5kb3cnXSkpO18weDNmNGY0OSgweDE3Yik9PT1fMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTc1KV0mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV18fF8weDE2OTY4NVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJyxmdW5jdGlvbigpe3ZhciBfMHgyNjY3NDY9XzB4M2Y0ZjQ5O3RoaXNbXzB4MjY2NzQ2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHgyNjY3NDYoMHgxN2QpXVsnd3JhcElmcmFtZSddW18weDI2Njc0NigweDE2YildKHRoaXNbXzB4MjY2NzQ2KDB4MTdkKV0sdGhpc1tfMHgyNjY3NDYoMHgxN2QpXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldPV8weDNhZDBiMSxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV1bXzB4M2Y0ZjQ5KDB4MTZiKV0odGhpcyxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV0pKTt9Y2F0Y2goXzB4NDJmMjFiKXt9cmV0dXJuIF8weDE1NDRhNTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVsncHJvdG90eXBlJ11bXzB4MzA4N2UwKDB4MWExKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldWydpbnNlcnRCZWZvcmUnXSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bJ2luc2VydEJlZm9yZSddPWZ1bmN0aW9uKF8weDU3NDEwNSxfMHg1MjhkNzgpe3ZhciBfMHgxZGJlMjY9XzB4MzA4N2UwLF8weDI5MDhiOT1fMHhhMGM2OGRbXzB4MWRiZTI2KDB4MTZhKV1bXzB4MWRiZTI2KDB4MTg4KV1bXzB4MWRiZTI2KDB4MWExKV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDUsXzB4NTI4ZDc4KTt0cnl7Zm9yKHZhciBfMHgzOTc3NjA9MHgwO18weDM5Nzc2MDxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTZkKV1bXzB4MWRiZTI2KDB4MTcxKV07XzB4Mzk3NzYwKyspXzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NSldJiYoXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV18fF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNmQpXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NCldKF8weDFkYmUyNigweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4NThmOTE4PV8weDFkYmUyNjt0aGlzWydjb250ZW50V2luZG93J11bXzB4NThmOTE4KDB4MTc3KV09XzB4M2FkMGIxLHRoaXNbXzB4NThmOTE4KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVsnY2FsbCddKHRoaXNbXzB4NThmOTE4KDB4MTdkKV0sdGhpc1tfMHg1OGY5MTgoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgxZGJlMjYoMHgxNzcpXT1fMHgzYWQwYjEsXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVtfMHgxZGJlMjYoMHgxNmIpXSh0aGlzLF8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3ZCldKSk7XzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNzUpXSYmKF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxN2QpXXx8XzB4NTc0MTA1WydhZGRFdmVudExpc3RlbmVyJ10oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJjMmJjMD1fMHgxZGJlMjY7dGhpc1snY29udGVudFdpbmRvdyddW18weDJjMmJjMCgweDE3NyldPV8weDNhZDBiMSx0aGlzW18weDJjMmJjMCgweDE3ZCldWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgyYzJiYzAoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE3ZCldW18weDFkYmUyNigweDE3NyldPV8weDNhZDBiMSxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV1bXzB4MWRiZTI2KDB4MTc3KV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV0pKTt9Y2F0Y2goXzB4MjhjOTAzKXt9cmV0dXJuIF8weDI5MDhiOTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVsnd3JpdGVPJ109XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldW18weDMwODdlMCgweDE5OCldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxOTgpXT1mdW5jdGlvbihfMHg0NjUyYjEpe3ZhciBfMHg1Y2JjMmQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NjUyYjEmJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS9bXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSl7dmFyIF8weDU0ZTVmMj1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTY2KV0oL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdLyksXzB4MTBkZjg1PV8weDU0ZTVmMlsweDBdW18weDVjYmMyZCgweDE3NildKF8weDVjYmMyZCgweDE5YyksXzB4NWNiYzJkKDB4MTgxKSk7XzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXShfMHg1NGU1ZjIsXzB4MTBkZjg1KTt9aWYoXzB4NDY1MmIxJiYve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9L1tfMHg1Y2JjMmQoMHgxOTEpXShfMHg0NjUyYjEpKXt2YXIgXzB4MTRhYThjPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNjYpXSgve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9LylbMHgwXSxfMHg0Nzg1NzU9LyhbLlxTXHNdK3ByaW1hcnlGaWxlczogKShcW1teXFtdK3JlbmRlckFzOiAnQkFDS1VQX0lNQUdFJ1teXF1dK1xdKShbLlxTXHNdKykvZztfMHg0NjUyYjE9XzB4NDY1MmIxW18weDVjYmMyZCgweDE3NildKF8weDQ3ODU3NSxfMHg1Y2JjMmQoMHgxOWEpK18weDE0YWE4YytfMHg1Y2JjMmQoMHgxNjgpKTt9XzB4NDY1MmIxJiZfMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTgzKV0oJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnKT4tMHgxJiYoXzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXSgndHlwZTpceDIwXHgyN0hUTUw1XHgyNycsXzB4NWNiYzJkKDB4MTZjKSkpO3ZhciBfMHgxYzBmMjQ9LyhbLlxTXHNdK2lmXCgiRVhQQU5EQUJMRSI9PSkoW2EtekEtWl0pKFx8XHwiQkFOTkVSIj09KShbYS16QS1aXSkoWy5cU1xzXSspL2c7XzB4NDY1MmIxJiZfMHgxYzBmMjRbXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSYmKF8weDQ2NTJiMT1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTc2KV0oXzB4MWMwZjI0LF8weDVjYmMyZCgweDE3YykpKTt9Y2F0Y2goXzB4MjgyODlmKXt9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDVjYmMyZCgweDE2NyldW18weDVjYmMyZCgweDE2YildKHRoaXMsXzB4NDY1MmIxKTt9LF8weGEwYzY4ZFsnZWJDZmcnXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThiKV09dm9pZCAweDAsXzB4YTBjNjhkW18weDMwODdlMCgweDE4YSldKF8weDMwODdlMCgweDE4NiksZnVuY3Rpb24oXzB4MzJiNTg2KXt2YXIgXzB4NDM3YmJiPV8weDMwODdlMDtyZXR1cm4gXzB4YTBjNjhkW18weDQzN2JiYigweDE4YildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxODYpLGZ1bmN0aW9uKF8weDViODAxZil7dmFyIF8weDUwOTE3Yz1fMHgzMDg3ZTA7cmV0dXJuIF8weDViODAxZltfMHg1MDkxN2MoMHgxOTYpXT0nJyxfMHhhMGM2OGRbXzB4NTA5MTdjKDB4MThiKV09XzB4NWI4MDFmO30pLE9iamVjdFtfMHgzMDg3ZTAoMHgxYTUpXShPYmplY3RbXzB4MzA4N2UwKDB4MTg4KV0sXzB4MzA4N2UwKDB4MTg5KSx7J3ZhbHVlJzpmdW5jdGlvbigpe3JldHVybiEweDE7fX0pLF8weDI1ZGZjZD1mdW5jdGlvbihfMHgzZTg4NjYsXzB4ODhmNTRlKXt2YXIgXzB4NDY2MTk4PV8weDMwODdlMDtfMHhhMGM2OGRbXzB4NDY2MTk4KDB4MTdmKV1bXzB4NDY2MTk4KDB4MWE1KV0oXzB4YTBjNjhkWydPYmplY3QnXVtfMHg0NjYxOTgoMHgxODgpXSxfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7dmFyIF8weDFjNzA2OD1fMHg0NjYxOTg7cmV0dXJuIHRoaXNbXzB4MWM3MDY4KDB4MTc4KStfMHgzZTg4NjZdO30sJ3NldCc6ZnVuY3Rpb24oXzB4NTBmMTAwKXt2YXIgXzB4M2U3Mzc5PV8weDQ2NjE5ODtfMHg1MGYxMDA9XzB4ODhmNTRlKHRoaXMsXzB4NTBmMTAwKSxfMHhhMGM2OGRbJ09iamVjdCddW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U4ODY2LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDNlODg2Nl07fSwnc2V0JzpmdW5jdGlvbihfMHhlYTkwYTQpe3ZhciBfMHg3NmU3Y2Q9XzB4M2U3Mzc5O18weGVhOTBhND1fMHg4OGY1NGUodGhpcyxfMHhlYTkwYTQpLHRoaXNbXzB4NzZlN2NkKDB4MTc4KStfMHgzZTg4NjZdPV8weGVhOTBhNDt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDU2ZjdkMz1fMHg1MGYxMDA7XzB4YTBjNjhkW18weDNlNzM3OSgweDE3ZildW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U3Mzc5KDB4MTc4KStfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDU2ZjdkMzt9LCdzZXQnOmZ1bmN0aW9uKF8weDJiNDIzMyl7XzB4NTZmN2QzPV8weDJiNDIzMz1fMHg4OGY1NGUodGhpcyxfMHgyYjQyMzMpO30sJ2VudW1lcmFibGUnOiEweDF9KTt9LCdlbnVtZXJhYmxlJzohMHgxLCdjb25maWd1cmFibGUnOiEweDF9KTt9LF8weDI1ZGZjZChfMHgzMDg3ZTAoMHgxOGMpLGZ1bmN0aW9uKF8weDIyMDA2MyxfMHgzNWZhMDUpe3ZhciBfMHg0MzdhOWQ9XzB4MzA4N2UwO3JldHVybiBfMHg0MzdhOWQoMHgxOTkpPT09dHlwZW9mIF8weDIyMDA2MyYmXzB4MjIwMDYzW18weDQzN2E5ZCgweDE5ZildKF8weDQzN2E5ZCgweDE4OSkpJiYoXzB4MjIwMDYzW18weDQzN2E5ZCgweDE4OSldPWZ1bmN0aW9uKCl7cmV0dXJuITB4MTt9KSxfMHgzNWZhMDU7fSksXzB4MjVkZmNkKCdpcycsZnVuY3Rpb24oXzB4MTg2MzFhLF8weDU0MWY3ZSl7dmFyIF8weDNlMzE2Nj1fMHgzMDg3ZTA7cmV0dXJuIF8weDNlMzE2NigweDE5OSk9PT10eXBlb2YgXzB4MTg2MzFhJiZfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTlmKV0oXzB4M2UzMTY2KDB4MTg5KSkmJihfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTg5KV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDU0MWY3ZTt9KTt2YXIgXzB4MmUwZDcwPXZvaWQgMHgwO18weDI1ZGZjZChfMHgzMDg3ZTAoMHgxNjkpLGZ1bmN0aW9uKF8weDg3NjMxZSxfMHgxMDFkOTIpe3JldHVybiBfMHgyZTBkNzA9XzB4MTAxZDkyO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmUpXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThhKV0oXzB4MzA4N2UwKDB4MTZlKSxmdW5jdGlvbigpe3ZhciBfMHg0MjZiYWM9XzB4MzA4N2UwO3JldHVybiB0aGlzW18weDQyNmJhYygweDE4ZildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxNmUpLGZ1bmN0aW9uKF8weDFhNzE4NSl7dmFyIF8weGY4MDAwYj1fMHgzMDg3ZTA7cmV0dXJuIHRoaXNbXzB4ZjgwMDBiKDB4MThmKV09ZnVuY3Rpb24oKXt2YXIgXzB4NTViMzQzPV8weGY4MDAwYixfMHg0MWUyY2M9YXJndW1lbnRzOy0weDE8XzB4NDFlMmNjWzB4M11bXzB4NTViMzQzKDB4MTgzKV0oXzB4NTViMzQzKDB4MTgwKSkmJl8weDU1YjM0MygweDE5MCk9PT10eXBlb2YgXzB4MmUwZDcwJiYoXzB4NDFlMmNjWzB4M109XzB4NTViMzQzKDB4MTg3KStfMHgyZTBkNzBbXzB4NTViMzQzKDB4MTc2KV0oLycvZywnaScpKydceDI3JyksXzB4MWE3MTg1WydhcHBseSddKHRoaXMsXzB4NDFlMmNjKTt9LF8weDFhNzE4NTt9KTt9fTtfMHgzYWQwYjEod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgzZTYyKF8weDVjNzYxNyxfMHgyN2ZlNzMpe3ZhciBfMHgzNjAxZWQ9XzB4MzYwMSgpO3JldHVybiBfMHgzZTYyPWZ1bmN0aW9uKF8weDNlNjJkOCxfMHgyN2ExYTEpe18weDNlNjJkOD1fMHgzZTYyZDgtMHgxNjU7dmFyIF8weDkyYWY0OD1fMHgzNjAxZWRbXzB4M2U2MmQ4XTtyZXR1cm4gXzB4OTJhZjQ4O30sXzB4M2U2MihfMHg1Yzc2MTcsXzB4MjdmZTczKTt9ZnVuY3Rpb24gXzB4MzYwMSgpe3ZhciBfMHhkNDU3ODI9Wyc5OTBCdXRiQlMnLCdlYkNmZycsJ2phdmFzY3JpcHQ6XHgyNycsJ3Byb3RvdHlwZScsJ3N1cHBvcnRlZEJyb3dzZXInLCdfX2RlZmluZUdldHRlcl9fJywnZWJDZmdfXycsJ3BhZ2VWaXNpYmxlJywnc3R5bGUnLCdfX2RlZmluZVNldHRlcl9fJywnYWRMb2FkZXJfXycsJ3N0cmluZycsJ3Rlc3QnLCc4OTg5ODMwSGNuRG92JywnMTcyMTJjRVlRSHUnLCcxNDE2ZlZ1eGVSJywnaW5zZXJ0UnVsZScsJ2FkSHRtbFBhdGgnLCdjcmVhdGVFbGVtZW50TycsJ3dyaXRlJywnb2JqZWN0JywnJDFbJywnaW1nW2NsYXNzXj1ceDI3cGwtbG9hZGVyLVx4Mjdde2Rpc3BsYXk6bm9uZVx4MjAhaW1wb3J0YW50fScsJ2lmcmFtZScsJzQyNDJtV3lXVEcnLCdkb2N1bWVudCcsJ2hhc093blByb3BlcnR5JywnMzMyaUhiYnNKJywnaW5zZXJ0QmVmb3JlTycsJ2xvYWQnLCdhcHBlbmRDaGlsZCcsJ3RvTG93ZXJDYXNlJywnZGVmaW5lUHJvcGVydHknLCcyMDQzNTc2QXZKY0lEJywnbWF0Y2gnLCd3cml0ZU8nLCddJDMnLCdiYW5uZXJBZEh0bWxUZXh0JywnSFRNTEVsZW1lbnQnLCdjYWxsJywndHlwZTpceDIwXHgyN0lNQUdFXHgyNycsJ2NoaWxkcmVuJywnYWRMb2FkZXInLCdnZXRFbGVtZW50QnlJZE8nLCdhcHBlbmRDaGlsZE8nLCdsZW5ndGgnLCdhbHJlYWR5SW5qZWN0ZWQnLCcxNjJEdHBEeGUnLCdhZGRFdmVudExpc3RlbmVyJywndGFnTmFtZScsJ3JlcGxhY2UnLCd3cmFwSWZyYW1lJywnX19fJywnZ2V0RWxlbWVudEJ5SWQnLCdjcmVhdGVFbGVtZW50JywnSUZSQU1FJywnJDEkMiQzJDR8fFx4MjJCQUNLVVBfSU1BR0VceDIyPT0kMiQ1JywnY29udGVudFdpbmRvdycsJzY4OTQzMmN1QVR1bycsJ09iamVjdCcsJy5odG1sJywnc2NyaXB0JywnYm9keScsJ2luZGV4T2YnLCcxMDM1MTE4cmtOZ2hsJ107XzB4MzYwMT1mdW5jdGlvbigpe3JldHVybiBfMHhkNDU3ODI7fTtyZXR1cm4gXzB4MzYwMSgpO30=')) } catch (err) {}"}},143:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,I:()=>a});var i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true"),a={acceptableURLParam:"upapi=true",prebidTimeout:2e3,staticDomain:i,whitelistingIFrameSettings:{defaultWhitelistingIFrameURL:r,publisherDomainWhitelistingIFrameCandidates:[{src:"/robots.txt",acceptHTMLType:!1},{src:"/ads.txt",acceptHTMLType:!1}]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"2.9.273-3-gc8497a0"}},400:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(365),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function initPbjs(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjIwLjIKVXBkYXRlZCA6IDIwMjItMTAtMTkqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzgwOjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTk1MSl9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBSfSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ayx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPUwsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBFfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGplKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Ty5TMlMuU1JDJiZuJiZDLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsQy5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEMuZ2V0V2luZG93U2VsZigpIT09Qy5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPU9lLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPWplLHQuZm9ybWF0UVM9U2UsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpDLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoQy5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1FZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY4KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDQ3KSxmPW4oMTY5KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE3MCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIE89big1KSxqPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsUz1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxFPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUubG9nKSxBPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUuaW5mbyksVD1Cb29sZWFuKFMmJndpbmRvdy5jb25zb2xlLndhcm4pLEk9Qm9vbGVhbihTJiZ3aW5kb3cuY29uc29sZS5lcnJvciksdz1uKDEwKSxDPXtjaGVja0Nvb2tpZVN1cHBvcnQ6eWUsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6b2UsZ2V0V2luZG93U2VsZjpNLGdldFdpbmRvd1RvcDpxLGdldFdpbmRvd0xvY2F0aW9uOkcsaW5zZXJ0VXNlclN5bmNJZnJhbWU6aWUsaW5zZXJ0RWxlbWVudDpuZSxpc0ZuOkosdHJpZ2dlclBpeGVsOnJlLGxvZ0Vycm9yOnosbG9nV2FybjpGLGxvZ01lc3NhZ2U6TCxsb2dJbmZvOlcscGFyc2VRUzpqZSxmb3JtYXRRUzpTZSxkZWVwRXF1YWw6RWV9LFI9e307dmFyIF8sVT17fSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LmJpbmQobnVsbCwxLFUpKCk9PT1VP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9fSx4PShfPTAsZnVuY3Rpb24oKXtyZXR1cm4rK199KTtmdW5jdGlvbiBEKCl7cmV0dXJuIHgoKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZT8oZV4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGspfWZ1bmN0aW9uIE4oZSl7aWYoUChlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBQKGUpe3JldHVybiBRKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIHEoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBNKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIEcoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEwoKXtIKCkmJkUmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtIKCkmJkEmJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBGKCl7SCgpJiZUJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiV0FSTklORzoiKSksdy5lbWl0KE8uRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KCl7SCgpJiZJJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIkVSUk9SOiIpKSx3LmVtaXQoTy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBWKGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIEgoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBqLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEooZSl7cmV0dXJuIEsoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBZKGUpe3JldHVybiBLKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFEoZSl7cmV0dXJuIEsoZSwiQXJyYXkiKX1mdW5jdGlvbiAkKGUpe3JldHVybiBLKGUsIk51bWJlciIpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIEsoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWihlKXtpZighZSlyZXR1cm4hMDtpZihRKGUpfHxZKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGVlKGUsdCl7aWYoIVooZSkpe2lmKEooZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKHI+MClmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiBuZShlLHQsbixyKXt2YXIgaTtlJiZlLnNyYyYmKGUuc3JjPWQuYyhlLnNyYykpLHQ9dHx8ZG9jdW1lbnQsaT1uP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpO3RyeXtpZigoaT1pLmxlbmd0aD9pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKSkubGVuZ3RoKXtpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiByZShlLHQsbil7dmFyIHI9aygpLGk9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e2ZpcmVkOiEwLHVpZDpyLHN5bmNfdHlwZToiaW1hZ2UiLGRvbWFpbjp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsdXJsOmUsYmlkZGVyOm59fTtkLmUobnVsbCwidHJpZ2dlcmluZy1waXhlbC1maXJlZCIsW10saSksZC5hKCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIG89aS5mcmFtZTtpZihpLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PW8uY29udGVudFdpbmRvdyl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31yJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PXIudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZDLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBhPSJsZXQgaW1nID0gbmV3IEltYWdlKCk7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgaW1nLnNyYyA9IGF0b2IoJyIrYnRvYShlKSsiJyk7IjtvLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6YX0sIioiKTt2YXIgYz17ZXZlbnQ6InVzZXItc3luYyIsbWV0YTp7c3VjY2VzczohMCx1aWQ6cixzeW5jX3R5cGU6ImltYWdlIixkb21haW46d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLHVybDplLGJpZGRlcjpufX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtc3VjY2VzcyIsW10sYyl9ZWxzZXt2YXIgdT1uZXcgby5jb250ZW50V2luZG93LkltYWdlO3QmJkMuaXNGbih0KSYmKHUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksdS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLHUuc3JjPWV9fSkpfWZ1bmN0aW9uIGllKGUsdCxuKXt2YXIgcj1DLmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sKGUsITEsImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4iKSxpPWsoKSxvPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6aSxzeW5jX3R5cGU6ImlmcmFtZSIsdXJsOmUsYmlkZGVyOm59fTtkLmUobnVsbCwiaW5zZXJ0LXVzZXItc3luYy1pZnJhbWUtZmlyZWQiLFtdLG8pLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKG8pe3ZhciBhPW8uZnJhbWU7aWYoby5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1hLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmQy5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgYz0ibGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBkaXYuaW5uZXJIVE1MID0gYXRvYignIitidG9hKHIpKyInKTsgbGV0IGlmcmFtZSA9IGRpdi5maXJzdENoaWxkOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IHRyeSB7IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uaW5zZXJ0QmVmb3JlKGlmcmFtZSwgbnVsbCk7IH0gY2F0Y2ggKGVycikgeyB9IjthLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6Y30sIioiKTt2YXIgdT17ZXZlbnQ6InVzZXItc3luYyIsbWV0YTp7c3VjY2VzczohMCx1aWQ6aSxzeW5jX3R5cGU6ImlmcmFtZSIsdXJsOmUsYmlkZGVyOm59fTtkLmUobnVsbCwiaW5zZXJ0LXVzZXItc3luYy1pZnJhbWUtc3VjY2VzcyIsW10sdSl9ZWxzZXt2YXIgcz1hLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsZj1zLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2YuaW5uZXJIVE1MPXI7dmFyIGw9Zi5maXJzdENoaWxkO3QmJkMuaXNGbih0KSYmKGwuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksbC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLEMuaW5zZXJ0RWxlbWVudChsLHMsImh0bWwiLCEwKX19KSl9ZnVuY3Rpb24gb2UoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToiIjtyZXR1cm4gZT8odCYmKGU9ZW5jb2RlVVJJKGUpKSxuJiYobj0nc2FuZGJveD0iJy5jb25jYXQobiwnIicpKSwiPGlmcmFtZSAiLmNvbmNhdChuLCcgaWQ9IicpLmNvbmNhdChEKCksJyJcbiAgICAgIGZyYW1lYm9yZGVyPSIwIlxuICAgICAgYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiXG4gICAgICBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIlxuICAgICAgd2lkdGg9IjAiIGhzcGFjZT0iMCIgdnNwYWNlPSIwIiBoZWlnaHQ9IjAiXG4gICAgICBzdHlsZT0iaGVpZ2h0OjBweDt3aWR0aDowcHg7ZGlzcGxheTpub25lOyJcbiAgICAgIHNjcm9sbGluZz0ibm8iXG4gICAgICBzcmM9IicpLmNvbmNhdChlLCciPlxuICAgIDwvaWZyYW1lPicpKToiIn1mdW5jdGlvbiBhZShlLHQsbil7cmV0dXJuIG51bGw9PXQ/bjpZKHQpP3Q6JCh0KT90LnRvU3RyaW5nKCk6dm9pZCBDLmxvZ1dhcm4oIlVuc3Vwb3J0ZWQgdHlwZSBmb3IgcGFyYW06ICIrZSsiIHJlcXVpcmVkIHR5cGU6IFN0cmluZyIpfWZ1bmN0aW9uIGNlKGUsdCxuKXtyZXR1cm4gbi5pbmRleE9mKGUpPT09dH1mdW5jdGlvbiB1ZShlLHQpe3JldHVybiBlLmNvbmNhdCh0KX1mdW5jdGlvbiBzZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSl9ZnVuY3Rpb24gZGUoZSx0KXtyZXR1cm4gZVt0XX1mdW5jdGlvbiBmZSgpe2lmKHdpbmRvdy5nb29nbGV0YWcmJkood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMpJiZKKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMpKXJldHVybiEwfXZhciBsZT1iZSgidGltZVRvUmVzcG9uZCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxwZT1iZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPnR9KSksZ2U9YmUoInJlc3BvbnNlVGltZXN0YW1wIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTx0fSkpO2Z1bmN0aW9uIGJlKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIG4uY3BtPT09ci5jcG0/dChuW2VdLHJbZV0pP3I6bjpuLmNwbTxyLmNwbT9yOm59fWZ1bmN0aW9uIHZlKGUpe3JldHVybiBvKCkoZSl9ZnVuY3Rpb24geWUoKXtpZih3aW5kb3cubmF2aWdhdG9yLmNvb2tpZUVuYWJsZWR8fGRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuITB9dmFyIGhlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0QWRVbml0UGF0aCgpPT09dHx8ZS5nZXRTbG90RWxlbWVudElkKCk9PT10fTtmdW5jdGlvbiBtZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGhlKHQsZSl9fWZ1bmN0aW9uIE9lKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyP051bWJlci5pc0ludGVnZXIoZSk6Im51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9ZnVuY3Rpb24gamUoZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1wKHQuc3BsaXQoIj0iKSwyKSxyPW5bMF0saT1uWzFdO3JldHVybi9cW1xdJC8udGVzdChyKT8oZVtyPXIucmVwbGFjZSgiW10iLCIiKV09ZVtyXXx8W10sZVtyXS5wdXNoKGkpKTplW3JdPWl8fCIiLGV9KSx7fSk6e319ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZVt0XSk/ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdCh0LCJbXT0iKS5jb25jYXQoZSl9KSkuam9pbigiJiIpOiIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVbdF0pfSkpLmpvaW4oIiYiKX1mdW5jdGlvbiBFZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKCJvYmplY3QiPT09bShlKSYmbnVsbCE9PWUmJiJvYmplY3QiPT09bSh0KSYmbnVsbCE9PXQpe2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG4gaW4gZSl7aWYoIXQuaGFzT3duUHJvcGVydHkobikpcmV0dXJuITE7aWYoIUVlKGVbbl0sdFtuXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9fSwxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSx0LnJlZ2lzdGVyQmlkZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LmlzQXJyYXkoZS5zdXBwb3J0ZWRNZWRpYVR5cGVzKT97c3VwcG9ydGVkTWVkaWFUeXBlczplLnN1cHBvcnRlZE1lZGlhVHlwZXN9OnZvaWQgMDtmdW5jdGlvbiBuKGUpe3ZhciBuPXcoZSk7aS5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcihuLGUuY29kZSx0KX1uKGUpLEFycmF5LmlzQXJyYXkoZS5hbGlhc2VzKSYmZS5hbGlhc2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByLG8sYT10O09iamVjdCh5LmlzUGxhaW5PYmplY3QpKHQpJiYoYT10LmNvZGUscj10Lmd2bGlkLG89dC5za2lwUGJzQWxpYXNpbmcpLGkuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2FdPWUuY29kZSxuKEEoe30sZSx7Y29kZTphLGd2bGlkOnIsc2tpcFBic0FsaWFzaW5nOm99KSl9KSl9LHQubmV3QmlkZGVyPXcsbi5kKHQsInJlZ2lzdGVyU3luY0lubmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSx0LnByZWxvYWRCaWRkZXJNYXBwaW5nRmlsZT1SLHQuZ2V0SWFiU3ViQ2F0ZWdvcnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtpZihuLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciByPW4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLG89ci5sb2NhbFN0b3JhZ2VLZXk/ci5sb2NhbFN0b3JhZ2VLZXk6bi5nZXRCaWRkZXJDb2RlKCksYT1ULmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG8pO2lmKGEpe3RyeXthPUpTT04ucGFyc2UoYSl9Y2F0Y2godCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQoZSwiIG1hcHBpbmcgZGF0YSBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZSIpKX1yZXR1cm4gYS5tYXBwaW5nW3RdP2EubWFwcGluZ1t0XTpudWxsfX19LHQuaXNWYWxpZD1fO3ZhciByPW4oNjMpLGk9big4KSxvPW4oMyksYT1uKDM5KSxjPW4oNjEpLHU9bigzOCkscz1uKDIyKSxkPW4oNSksZj1uLm4oZCksbD1uKDEwKSxwPW4ubihsKSxnPW4oMTIpLGI9bi5uKGcpLHY9big0KSx5PW4oMCksaD1uKDIpLG09big5KSxPPW4oNyk7ZnVuY3Rpb24gaihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gUyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gUyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gUyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIEUoZSl7cmV0dXJuKEU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBBKCl7cmV0dXJuKEE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgVD1PYmplY3QoTy5hKSgiYmlkZGVyRmFjdG9yeSIpLEk9WyJyZXF1ZXN0SWQiLCJjcG0iLCJ0dGwiLCJjcmVhdGl2ZUlkIiwibmV0UmV2ZW51ZSIsImN1cnJlbmN5Il07ZnVuY3Rpb24gdyhlKXtyZXR1cm4gQShuZXcgci5hKGUuY29kZSkse2dldFNwZWM6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShlKX0scmVnaXN0ZXJTeW5jczp0LGNhbGxCaWRzOmZ1bmN0aW9uKHIsYyx1LHMsZCxsKXtpZihBcnJheS5pc0FycmF5KHIuYmlkcykpe3ZhciBnPXt9LGI9W10sdj1yLmJpZHMuZmlsdGVyKG4pO2lmKDAhPT12Lmxlbmd0aCl7dmFyIGg9e307di5mb3JFYWNoKChmdW5jdGlvbihlKXtoW2UuYmlkSWRdPWUsZS5hZFVuaXRDb2RlfHwoZS5hZFVuaXRDb2RlPWUucGxhY2VtZW50Q29kZSl9KSk7dmFyIG09ZS5idWlsZFJlcXVlc3RzKHYscik7aWYobSYmMCE9PW0ubGVuZ3RoKXtBcnJheS5pc0FycmF5KG0pfHwobT1bbV0pO3ZhciBPPU9iamVjdCh5LmRlbGF5RXhlY3V0aW9uKShsKGopLG0ubGVuZ3RoKTttLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBwLmEuZW1pdChmLmEuRVZFTlRTLkJFRk9SRV9CSURERVJfSFRUUCxyKX0pKSxtLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0Lm1ldGhvZCl7Y2FzZSJHRVQiOnMoIiIuY29uY2F0KHQudXJsKS5jb25jYXQoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4iPyIuY29uY2F0KCJvYmplY3QiPT09RShlKT9PYmplY3QoeS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoZSk6ZSk7cmV0dXJuIiJ9KHQuZGF0YSkpLHtzdWNjZXNzOmwobiksZXJyb3I6b30sdm9pZCAwLEEoe21ldGhvZDoiR0VUIix3aXRoQ3JlZGVudGlhbHM6ITB9LHQub3B0aW9ucykpO2JyZWFrO2Nhc2UiUE9TVCI6cyh0LnVybCx7c3VjY2VzczpsKG4pLGVycm9yOm99LCJzdHJpbmciPT10eXBlb2YgdC5kYXRhP3QuZGF0YTpKU09OLnN0cmluZ2lmeSh0LmRhdGEpLEEoe21ldGhvZDoiUE9TVCIsY29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7ZGVmYXVsdDpPYmplY3QoeS5sb2dXYXJuKSgiU2tpcHBpbmcgaW52YWxpZCByZXF1ZXN0IGZyb20gIi5jb25jYXQoZS5jb2RlLCIuIFJlcXVlc3QgdHlwZSAiKS5jb25jYXQodC50eXBlLCIgbXVzdCBiZSBHRVQgb3IgUE9TVCIpKSxPKCl9ZnVuY3Rpb24gbihuLGkpe2QoZS5jb2RlKTt0cnl7bj1KU09OLnBhcnNlKG4pfWNhdGNoKGUpe312YXIgbztuPXtib2R5Om4saGVhZGVyczp7Z2V0OmkuZ2V0UmVzcG9uc2VIZWFkZXIuYmluZChpKX19LGIucHVzaChuKTt0cnl7bz1lLmludGVycHJldFJlc3BvbnNlKG4sdCl9Y2F0Y2godCl7cmV0dXJuIE9iamVjdCh5LmxvZ0Vycm9yKSgiQmlkZGVyICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZCB0byBpbnRlcnByZXQgdGhlIHNlcnZlcidzIHJlc3BvbnNlLiBDb250aW51aW5nIHdpdGhvdXQgYmlkcyIpLG51bGwsdCksdm9pZCBPKCl9ZnVuY3Rpb24gdSh0KXt2YXIgbj1oW3QucmVxdWVzdElkXTtpZihuKXt0Lm9yaWdpbmFsQ3BtPXQuY3BtLHQub3JpZ2luYWxDdXJyZW5jeT10LmN1cnJlbmN5LHQubWV0YT10Lm1ldGF8fEEoe30sdFtuLmJpZGRlcl0pO3ZhciBpPUEoT2JqZWN0KGEuYSkoZi5hLlNUQVRVUy5HT09ELG4pLHQpOyFmdW5jdGlvbihlLHQpe2dbZV09ITAsXyhlLHQsW3JdKSYmYyhlLHQpfShuLmFkVW5pdENvZGUsaSl9ZWxzZSBPYmplY3QoeS5sb2dXYXJuKSgiQmlkZGVyICIuY29uY2F0KGUuY29kZSwiIG1hZGUgYmlkIGZvciB1bmtub3duIHJlcXVlc3QgSUQ6ICIpLmNvbmNhdCh0LnJlcXVlc3RJZCwiLiBJZ25vcmluZy4iKSl9byYmKE9iamVjdCh5LmlzQXJyYXkpKG8pP28uZm9yRWFjaCh1KTp1KG8pKSxPKG8pfWZ1bmN0aW9uIG8odCxuKXtkKGUuY29kZSksaS5kZWZhdWx0LmNhbGxCaWRkZXJFcnJvcihlLmNvZGUsbixyKSxwLmEuZW1pdChmLmEuRVZFTlRTLkJJRERFUl9FUlJPUix7ZXJyb3I6bixiaWRkZXJSZXF1ZXN0OnJ9KSxPYmplY3QoeS5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChlLmNvZGUsIiBmYWlsZWQ6ICIpLmNvbmNhdCh0LCIgIikuY29uY2F0KG4uc3RhdHVzLCIuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzLiIpKSxPKCl9fSkpfWVsc2UgaigpfWVsc2UgaigpfWZ1bmN0aW9uIGooKXt1KCksby5iLnJ1bldpdGhCaWRkZXIoZS5jb2RlLChmdW5jdGlvbigpe3AuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0RPTkUsciksdChiLHIuZ2RwckNvbnNlbnQsci51c3BDb25zZW50KX0pKX19fSk7ZnVuY3Rpb24gdCh0LG4scil7QyhlLHQsbixyKX1mdW5jdGlvbiBuKHQpe3JldHVybiEhZS5pc0JpZFJlcXVlc3RWYWxpZCh0KXx8KE9iamVjdCh5LmxvZ1dhcm4pKCJJbnZhbGlkIGJpZCBzZW50IHRvIGJpZGRlciAiLmNvbmNhdChlLmNvZGUsIjogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksITEpfX12YXIgQz1PYmplY3QobS5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXt2YXIgYT1vLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5hbGlhc1N5bmNFbmFibGVkIik7aWYoZS5nZXRVc2VyU3luY3MmJihhfHwhaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5jb2RlXSkpe3ZhciB1PW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmZpbHRlclNldHRpbmdzIikscz1lLmdldFVzZXJTeW5jcyh7aWZyYW1lRW5hYmxlZDohKCF1fHwhdS5pZnJhbWUmJiF1LmFsbCkscGl4ZWxFbmFibGVkOiEoIXV8fCF1LmltYWdlJiYhdS5hbGwpfSx0LG4scik7cyYmKEFycmF5LmlzQXJyYXkocyl8fChzPVtzXSkscy5mb3JFYWNoKChmdW5jdGlvbih0KXtjLmEucmVnaXN0ZXJTeW5jKHQudHlwZSxlLmNvZGUsdC51cmwpfSkpKX19KSwicmVnaXN0ZXJTeW5jcyIpO2Z1bmN0aW9uIFIoZSx0KXtpZighby5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpKXJldHVybiBlLmNhbGwodGhpcyx0KTt0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpPT09aC5hfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKX0pKS5yZWR1Y2UoeS5mbGF0dGVuLFtdKS5maWx0ZXIoeS51bmlxdWVzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtpZih0LmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciBuPXQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLHI9bi5yZWZyZXNoSW5EYXlzP24ucmVmcmVzaEluRGF5czoxLG89bi5sb2NhbFN0b3JhZ2VLZXk/bi5sb2NhbFN0b3JhZ2VLZXk6dC5nZXRTcGVjKCkuY29kZSxhPVQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7dHJ5eyghKGE9YT9KU09OLnBhcnNlKGEpOnZvaWQgMCl8fE9iamVjdCh5LnRpbWVzdGFtcCkoKT5hLmxhc3RVcGRhdGVkKzI0KnIqNjAqNjAqMWUzKSYmT2JqZWN0KHYuYSkobi51cmwse3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dHJ5e3Q9SlNPTi5wYXJzZSh0KTt2YXIgbj17bGFzdFVwZGF0ZWQ6T2JqZWN0KHkudGltZXN0YW1wKSgpLG1hcHBpbmc6dC5tYXBwaW5nfTtULnNldERhdGFJbkxvY2FsU3RvcmFnZShvLEpTT04uc3RyaW5naWZ5KG4pKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19LGVycm9yOmZ1bmN0aW9uKCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIGZpbGUiKSl9fSl9Y2F0Y2godCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQoZSwiIGJpZGRlciB0cmFuc2xhdGlvbiBtYXBwaW5nIGZpbGUiKSl9fX0pKSxlLmNhbGwodGhpcyx0KX1mdW5jdGlvbiBfKGUsdCxuKXtmdW5jdGlvbiByKGUpe3JldHVybiJJbnZhbGlkIGJpZCBmcm9tICIuY29uY2F0KHQuYmlkZGVyQ29kZSwiLiBJZ25vcmluZyBiaWQ6ICIpLmNvbmNhdChlKX1yZXR1cm4gZT90PyhpPU9iamVjdC5rZXlzKHQpLEkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBiKCkoaSxlKSYmIWIoKShbdm9pZCAwLG51bGxdLHRbZV0pfSkpPyJuYXRpdmUiIT09dC5tZWRpYVR5cGV8fE9iamVjdCh1LmcpKHQsbik/InZpZGVvIiE9PXQubWVkaWFUeXBlfHxPYmplY3Qocy5kKSh0LG4pPyEoImJhbm5lciI9PT10Lm1lZGlhVHlwZSYmIWZ1bmN0aW9uKGUsdCxuKXtpZigodC53aWR0aHx8MD09PXBhcnNlSW50KHQud2lkdGgsMTApKSYmKHQuaGVpZ2h0fHwwPT09cGFyc2VJbnQodC5oZWlnaHQsMTApKSlyZXR1cm4gdC53aWR0aD1wYXJzZUludCh0LndpZHRoLDEwKSx0LmhlaWdodD1wYXJzZUludCh0LmhlaWdodCwxMCksITA7dmFyIHI9T2JqZWN0KHkuZ2V0QmlkZGVyUmVxdWVzdCkobix0LmJpZGRlckNvZGUsZSksaT1yJiZyLmJpZHMmJnIuYmlkc1swXSYmci5iaWRzWzBdLnNpemVzLG89T2JqZWN0KHkucGFyc2VTaXplc0lucHV0KShpKTtpZigxPT09by5sZW5ndGgpe3ZhciBhPWoob1swXS5zcGxpdCgieCIpLDIpLGM9YVswXSx1PWFbMV07cmV0dXJuIHQud2lkdGg9cGFyc2VJbnQoYywxMCksdC5oZWlnaHQ9cGFyc2VJbnQodSwxMCksITB9cmV0dXJuITF9KGUsdCxuKSl8fChPYmplY3QoeS5sb2dFcnJvcikocigiQmFubmVyIGJpZHMgcmVxdWlyZSBhIHdpZHRoIGFuZCBoZWlnaHQiKSksITEpOihPYmplY3QoeS5sb2dFcnJvcikocigiVmlkZW8gYmlkIGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgdmFzdFVybCBvciByZW5kZXJlciBwcm9wZXJ0eSIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJOYXRpdmUgYmlkIG1pc3Npbmcgc29tZSByZXF1aXJlZCBwcm9wZXJ0aWVzLiIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCaWRkZXIgIi5jb25jYXQodC5iaWRkZXJDb2RlLCIgaXMgbWlzc2luZyByZXF1aXJlZCBwYXJhbXMuIENoZWNrIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL2JpZGRlci1hZGFwdGVyLTEuaHRtbCBmb3IgbGlzdCBvZiBwYXJhbXMuIikpKSwhMSkpOihPYmplY3QoeS5sb2dXYXJuKSgiU29tZSBhZGFwdGVyIHRyaWVkIHRvIGFkZCBhbiB1bmRlZmluZWQgYmlkIGZvciAiLmNvbmNhdChlLCIuIikpLCExKTooT2JqZWN0KHkubG9nV2FybikoIk5vIGFkVW5pdENvZGUgd2FzIHN1cHBsaWVkIHRvIGFkZEJpZFJlc3BvbnNlLiIpLCExKTt2YXIgaX1PYmplY3QobS5hKSgiY2hlY2tBZFVuaXRTZXR1cCIpLmJlZm9yZShSKX0sMTA6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm4ocj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBpPW4oMCksbz1uKDUpLGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9QXJyYXkucHJvdG90eXBlLnB1c2gsdT1pLl9tYXAoby5FVkVOVFMsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHM9by5FVkVOVF9JRF9QQVRIUyxkPVtdO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e307ZnVuY3Rpb24gbih0LG4pe2kubG9nTWVzc2FnZSgiRW1pdHRpbmcgZXZlbnQgZm9yOiAiK3QpO3ZhciByPW5bMF18fHt9LG89cltzW3RdXSxhPWVbdF18fHtxdWU6W119LHU9aS5fbWFwKGEsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSksZj1bXTtkLnB1c2goe2V2ZW50VHlwZTp0LGFyZ3M6cixpZDpvLGVsYXBzZWRUaW1lOmkuZ2V0UGVyZm9ybWFuY2VOb3coKX0pLG8mJmkuY29udGFpbnModSxvKSYmYy5hcHBseShmLGFbb10ucXVlKSxjLmFwcGx5KGYsYS5xdWUpLGkuX2VhY2goZiwoZnVuY3Rpb24oZSl7aWYoZSl0cnl7ZS5hcHBseShudWxsLG4pfWNhdGNoKGUpe2kubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBoYW5kbGVyOiIsImV2ZW50cy5qcyIsZSl9fSkpfXJldHVybiB0Lm9uPWZ1bmN0aW9uKHQsbixyKXtpZihmdW5jdGlvbihlKXtyZXR1cm4gaS5jb250YWlucyh1LGUpfSh0KSl7dmFyIG89ZVt0XXx8e3F1ZTpbXX07cj8ob1tyXT1vW3JdfHx7cXVlOltdfSxvW3JdLnF1ZS5wdXNoKG4pKTpvLnF1ZS5wdXNoKG4pLGVbdF09b31lbHNlIGkubG9nRXJyb3IoIldyb25nIGV2ZW50IG5hbWUgOiAiK3QrIiBWYWxpZCBldmVudCBuYW1lcyA6Iit1KX0sdC5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PWEuY2FsbChhcmd1bWVudHMsMSk7bihlLHQpfSx0Lm9mZj1mdW5jdGlvbih0LG4scil7dmFyIG89ZVt0XTtpLmlzRW1wdHkobyl8fGkuaXNFbXB0eShvLnF1ZSkmJmkuaXNFbXB0eShvW3JdKXx8ciYmKGkuaXNFbXB0eShvW3JdKXx8aS5pc0VtcHR5KG9bcl0ucXVlKSl8fChyP2kuX2VhY2gob1tyXS5xdWUsKGZ1bmN0aW9uKGUpe3ZhciB0PW9bcl0ucXVlO2U9PT1uJiZ0LnNwbGljZSh0LmluZGV4T2YoZSksMSl9KSk6aS5fZWFjaChvLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9by5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKSxlW3RdPW8pfSx0LmdldD1mdW5jdGlvbigpe3JldHVybiBlfSx0LmdldEV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBpLl9lYWNoKGQsKGZ1bmN0aW9uKHQpe3ZhciBuPXIoe30sdCk7ZS5wdXNoKG4pfSkpLGV9LHR9KCl9LDEwMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTApLGk9big1NSksbz1uKDQyKSxhPW4oNDYpLGM9big3NCksdT0iQXJyYXkgSXRlcmF0b3IiLHM9YS5zZXQsZD1hLmdldHRlckZvcih1KTtlLmV4cG9ydHM9YyhBcnJheSwiQXJyYXkiLChmdW5jdGlvbihlLHQpe3ModGhpcyx7dHlwZTp1LHRhcmdldDpyKGUpLGluZGV4OjAsa2luZDp0fSl9KSwoZnVuY3Rpb24oKXt2YXIgZT1kKHRoaXMpLHQ9ZS50YXJnZXQsbj1lLmtpbmQscj1lLmluZGV4Kys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyhlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6ImtleXMiPT1uP3t2YWx1ZTpyLGRvbmU6ITF9OiJ2YWx1ZXMiPT1uP3t2YWx1ZTp0W3JdLGRvbmU6ITF9Ont2YWx1ZTpbcix0W3JdXSxkb25lOiExfX0pLCJ2YWx1ZXMiKSxvLkFyZ3VtZW50cz1vLkFycmF5LGkoImtleXMiKSxpKCJ2YWx1ZXMiKSxpKCJlbnRyaWVzIil9LDEwMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe2lmKGUubGFiZWxBbGwpcmV0dXJue2xhYmVsQWxsOiEwLGxhYmVsczplLmxhYmVsQWxsLGFjdGl2ZUxhYmVsczp0fTtyZXR1cm57bGFiZWxBbGw6ITEsbGFiZWxzOmUubGFiZWxBbnksYWN0aXZlTGFiZWxzOnR9fSx0LmM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnUsbj1zKHQpO2lmKCFuLnNob3VsZEZpbHRlcilyZXR1cm4hMDtyZXR1cm4hIW4uc2l6ZXNTdXBwb3J0ZWRbZV19LHQuYj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUubGFiZWxzLG49dm9pZCAwPT09dD9bXTp0LHI9ZS5sYWJlbEFsbCxvPXZvaWQgMCE9PXImJnIsYz1lLmFjdGl2ZUxhYmVscyxkPXZvaWQgMD09PWM/W106YyxmPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLGw9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscD1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106dSxnPXMocCk7Zj1PYmplY3QoaS5pc1BsYWluT2JqZWN0KShmKT9PYmplY3QoaS5kZWVwQ2xvbmUpKGYpOmw/e2Jhbm5lcjp7c2l6ZXM6bH19Ont9O3ZhciBiPU9iamVjdChpLmRlZXBBY2Nlc3MpKGYsImJhbm5lci5zaXplcyIpO2cuc2hvdWxkRmlsdGVyJiZiJiYoZi5iYW5uZXIuc2l6ZXM9Yi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBnLnNpemVzU3VwcG9ydGVkW2VdfSkpKTt2YXIgdj1PYmplY3Qua2V5cyhmKSx5PXthY3RpdmU6di5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lfSkpfHx2LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09ZX0pKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzLmxlbmd0aCIpPjAmJigwPT09bi5sZW5ndGh8fCFvJiYobi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZy5sYWJlbHNbZV19KSl8fG4uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEoKShkLGUpfSkpKXx8byYmbi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/Zy5sYWJlbHNbdF18fGEoKShkLHQpOmV9KSwhMCkpLG1lZGlhVHlwZXM6Zn07YiYmYi5sZW5ndGghPT1mLmJhbm5lci5zaXplcy5sZW5ndGgmJih5LmZpbHRlclJlc3VsdHM9e2JlZm9yZTpiLGFmdGVyOmYuYmFubmVyLnNpemVzfSk7cmV0dXJuIHl9O3ZhciByPW4oMyksaT1uKDApLG89bigxMiksYT1uLm4obyk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB1PVtdO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiPT09Yyh0KSYmInN0cmluZyI9PXR5cGVvZiB0Lm1lZGlhUXVlcnkmJnQubWVkaWFRdWVyeS5sZW5ndGg+MCl7dmFyIG49ITE7dHJ5e249T2JqZWN0KGkuZ2V0V2luZG93VG9wKSgpLm1hdGNoTWVkaWEodC5tZWRpYVF1ZXJ5KS5tYXRjaGVzfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJVbmZyaWVuZGx5IGlGcmFtZSBibG9ja3Mgc2l6ZUNvbmZpZyBmcm9tIGJlaW5nIGNvcnJlY3RseSBldmFsdWF0ZWQiKSxuPW1hdGNoTWVkaWEodC5tZWRpYVF1ZXJ5KS5tYXRjaGVzfW4mJihBcnJheS5pc0FycmF5KHQuc2l6ZXNTdXBwb3J0ZWQpJiYoZS5zaG91bGRGaWx0ZXI9ITApLFsibGFiZWxzIiwic2l6ZXNTdXBwb3J0ZWQiXS5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4odFtuXXx8W10pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlW25dW3RdPSEwfSkpfSkpKX1lbHNlIE9iamVjdChpLmxvZ1dhcm4pKCdzaXplQ29uZmlnIHJ1bGUgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAibWVkaWFRdWVyeSInKTtyZXR1cm4gZX0pLHtsYWJlbHM6e30sc2l6ZXNTdXBwb3J0ZWQ6e30sc2hvdWxkRmlsdGVyOiExfSl9ci5iLmdldENvbmZpZygic2l6ZUNvbmZpZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt1PWV9KGUuc2l6ZUNvbmZpZyl9KSl9LDEwMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlLHQsbil7dmFyIG89e3B1dHM6ZS5tYXAoYSxuKX07T2JqZWN0KHIuYSkoaS5iLmdldENvbmZpZygiY2FjaGUudXJsIiksZnVuY3Rpb24oZSl7cmV0dXJue3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dmFyIG47dHJ5e249SlNPTi5wYXJzZSh0KS5yZXNwb25zZXN9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZSh0LFtdKX1uP2UobnVsbCxuKTplKG5ldyBFcnJvcigiVGhlIGNhY2hlIHNlcnZlciBkaWRuJ3QgcmVzcG9uZCB3aXRoIGEgcmVzcG9uc2VzIHByb3BlcnR5LiIpLFtdKX0sZXJyb3I6ZnVuY3Rpb24odCxuKXtlKG5ldyBFcnJvcigiRXJyb3Igc3RvcmluZyB2aWRlbyBhZCBpbiB0aGUgY2FjaGU6ICIuY29uY2F0KHQsIjogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSksW10pfX19KHQpLEpTT04uc3RyaW5naWZ5KG8pLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSl9LHQuYT1mdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoaS5iLmdldENvbmZpZygiY2FjaGUudXJsIiksIj91dWlkPSIpLmNvbmNhdChlKX07dmFyIHI9big0KSxpPW4oMyksbz1uKDApO2Z1bmN0aW9uIGEoZSl7dmFyIHQsbixyLGE9e3R5cGU6InhtbCIsdmFsdWU6ZS52YXN0WG1sP2UudmFzdFhtbDoodD1lLnZhc3RVcmwsbj1lLnZhc3RJbXBVcmwscj1uPyI8IVtDREFUQVsiLmNvbmNhdChuLCJdXT4iKToiIiwnPFZBU1QgdmVyc2lvbj0iMy4wIj5cbiAgICA8QWQ+XG4gICAgICA8V3JhcHBlcj5cbiAgICAgICAgPEFkU3lzdGVtPnByZWJpZC5vcmcgd3JhcHBlcjwvQWRTeXN0ZW0+XG4gICAgICAgIDxWQVNUQWRUYWdVUkk+PCFbQ0RBVEFbJy5jb25jYXQodCwiXV0+PC9WQVNUQWRUYWdVUkk+XG4gICAgICAgIDxJbXByZXNzaW9uPiIpLmNvbmNhdChyLCI8L0ltcHJlc3Npb24+XG4gICAgICAgIDxDcmVhdGl2ZXM+PC9DcmVhdGl2ZXM+XG4gICAgICA8L1dyYXBwZXI+XG4gICAgPC9BZD5cbiAgPC9WQVNUPiIpKSx0dGxzZWNvbmRzOk51bWJlcihlLnR0bCl9O3JldHVybiBpLmIuZ2V0Q29uZmlnKCJjYWNoZS52YXN0dHJhY2siKSYmKGEuYmlkZGVyPWUuYmlkZGVyLGEuYmlkaWQ9ZS5yZXF1ZXN0SWQsYS5haWQ9ZS5hdWN0aW9uSWQsT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkodGhpcykmJnRoaXMuaGFzT3duUHJvcGVydHkoImF1Y3Rpb25TdGFydCIpJiYoYS50aW1lc3RhbXA9dGhpcy5hdWN0aW9uU3RhcnQpKSwic3RyaW5nIj09dHlwZW9mIGUuY3VzdG9tQ2FjaGVLZXkmJiIiIT09ZS5jdXN0b21DYWNoZUtleSYmKGEua2V5PWUuY3VzdG9tQ2FjaGVLZXkpLGF9fSwxMDY6ZnVuY3Rpb24oZSx0LG4pe24oMTA3KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiQXJyYXkiLCJmaW5kIil9LDEwNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big2NSkuZmluZCxvPW4oNTUpLGE9ImZpbmQiLGM9ITA7YSBpbltdJiZBcnJheSgxKS5maW5kKChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhhKX0sMTA4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMTA5KSxvPW4oNDQpLGE9big1MCksYz1uKDY0KSx1PW4oMzEpLHM9big4NSksZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yP2Q6ZnVuY3Rpb24oZSx0KXtpZihlPWEoZSksdD1jKHQsITApLHMpdHJ5e3JldHVybiBkKGUsdCl9Y2F0Y2goZSl7fWlmKHUoZSx0KSlyZXR1cm4gbyghaS5mLmNhbGwoZSx0KSxlW3RdKX19LDEwOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixvPWkmJiFyLmNhbGwoezE6Mn0sMSk7dC5mPW8/ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzLGUpO3JldHVybiEhdCYmdC5lbnVtZXJhYmxlfTpyfSwxMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMDYpO2UuZXhwb3J0cz1yfSwxMTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9LyN8XC5wcm90b3R5cGVcLi8sbz1mdW5jdGlvbihlLHQpe3ZhciBuPWNbYShlKV07cmV0dXJuIG49PXN8fG4hPXUmJigiZnVuY3Rpb24iPT10eXBlb2YgdD9yKHQpOiEhdCl9LGE9by5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKGksIi4iKS50b0xvd2VyQ2FzZSgpfSxjPW8uZGF0YT17fSx1PW8uTkFUSVZFPSJOIixzPW8uUE9MWUZJTEw9IlAiO2UuZXhwb3J0cz1vfSwxMTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9bigxMTIpLG89bigyMSkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gaShlKSYmKCJmdW5jdGlvbiIhPXR5cGVvZihuPWUuY29uc3RydWN0b3IpfHxuIT09QXJyYXkmJiFpKG4ucHJvdG90eXBlKT9yKG4pJiZudWxsPT09KG49bltvXSkmJihuPXZvaWQgMCk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT10PzA6dCl9fSwxMTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTEpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1yKGUpfX0sMTEzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KSxpPW4oMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3RyeXtpKHIsZSx0KX1jYXRjaChuKXtyW2VdPXR9cmV0dXJuIHR9fSwxMTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1uKDI3KSxhPW4oMTE1KSxjPW8ucHJvY2Vzcyx1PWMmJmMudmVyc2lvbnMscz11JiZ1LnY4O3M/aT0ocj1zLnNwbGl0KCIuIikpWzBdPDQ/MTpyWzBdK3JbMV06YSYmKCEocj1hLm1hdGNoKC9FZGdlXC8oXGQrKS8pKXx8clsxXT49NzQpJiYocj1hLm1hdGNoKC9DaHJvbWVcLyhcZCspLykpJiYoaT1yWzFdKSxlLmV4cG9ydHM9aSYmK2l9LDExNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNik7ZS5leHBvcnRzPXIoIm5hdmlnYXRvciIsInVzZXJBZ2VudCIpfHwiIn0sMTE2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDg4KTtlLmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn0sMTE3OmZ1bmN0aW9uKGUsdCxuKXtuKDExOCk7dmFyIHI9big1Nik7ZS5leHBvcnRzPXIoIkFycmF5IiwiaW5jbHVkZXMiKX0sMTE4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDg5KS5pbmNsdWRlcyxvPW4oNTUpO3Ioe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKCJpbmNsdWRlcyIpfSwxMTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjYpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUpO3JldHVybiBuPDA/aShuK3QsMCk6byhuLHQpfX0sMTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTE3KTtlLmV4cG9ydHM9cn0sMTIwOmZ1bmN0aW9uKGUsdCxuKXtuKDEyMSksbigxMzYpLG4oOTkpLG4oMTM4KTt2YXIgcj1uKDQ1KTtlLmV4cG9ydHM9ci5TZXR9LDEyMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTIyKSxpPW4oMTI3KTtlLmV4cG9ydHM9cigiU2V0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLGkpfSwxMjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMjcpLG89big5MSksYT1uKDI5KSxjPW4oMzIpLHU9bigyMCkscz1uKDcwKSxkPW4oMzApLGY9big2MCksbD1uKDM0KS5mLHA9big2NSkuZm9yRWFjaCxnPW4oMzMpLGI9big0Niksdj1iLnNldCx5PWIuZ2V0dGVyRm9yO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGIsaD0tMSE9PWUuaW5kZXhPZigiTWFwIiksbT0tMSE9PWUuaW5kZXhPZigiV2VhayIpLE89aD8ic2V0IjoiYWRkIixqPWlbZV0sUz1qJiZqLnByb3RvdHlwZSxFPXt9O2lmKGcmJiJmdW5jdGlvbiI9PXR5cGVvZiBqJiYobXx8Uy5mb3JFYWNoJiYhYSgoZnVuY3Rpb24oKXsobmV3IGopLmVudHJpZXMoKS5uZXh0KCl9KSkpKXtiPXQoKGZ1bmN0aW9uKHQsbil7dihzKHQsYixlKSx7dHlwZTplLGNvbGxlY3Rpb246bmV3IGp9KSxudWxsIT1uJiZ1KG4sdFtPXSx7dGhhdDp0LEFTX0VOVFJJRVM6aH0pfSkpO3ZhciBBPXkoZSk7cChbImFkZCIsImNsZWFyIiwiZGVsZXRlIiwiZm9yRWFjaCIsImdldCIsImhhcyIsInNldCIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIl0sKGZ1bmN0aW9uKGUpe3ZhciB0PSJhZGQiPT1lfHwic2V0Ij09ZTshKGUgaW4gUyl8fG0mJiJjbGVhciI9PWV8fGMoYi5wcm90b3R5cGUsZSwoZnVuY3Rpb24obixyKXt2YXIgaT1BKHRoaXMpLmNvbGxlY3Rpb247aWYoIXQmJm0mJiFkKG4pKXJldHVybiJnZXQiPT1lJiZ2b2lkIDA7dmFyIG89aVtlXSgwPT09bj8wOm4scik7cmV0dXJuIHQ/dGhpczpvfSkpfSkpLG18fGwoYi5wcm90b3R5cGUsInNpemUiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEEodGhpcykuY29sbGVjdGlvbi5zaXplfX0pfWVsc2UgYj1uLmdldENvbnN0cnVjdG9yKHQsZSxoLE8pLG8uUkVRVUlSRUQ9ITA7cmV0dXJuIGYoYixlLCExLCEwKSxFW2VdPWIscih7Z2xvYmFsOiEwLGZvcmNlZDohMH0sRSksbXx8bi5zZXRTdHJvbmcoYixlLGgpLGJ9fSwxMjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pKX0sMTI0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2OSksaT1uKDU5KTtlLmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIraSh0aGlzKSsiXSJ9fSwxMjU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigxMjYpLG89ci5XZWFrTWFwO2UuZXhwb3J0cz0iZnVuY3Rpb24iPT10eXBlb2YgbyYmL25hdGl2ZSBjb2RlLy50ZXN0KGkobykpfSwxMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjcpLGk9RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKGUpfSksZS5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sMTI3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigzNCkuZixpPW4oNzIpLG89big5NSksYT1uKDI1KSxjPW4oNzApLHU9bigyMCkscz1uKDc0KSxkPW4oMTM1KSxmPW4oMzMpLGw9big5MSkuZmFzdEtleSxwPW4oNDYpLGc9cC5zZXQsYj1wLmdldHRlckZvcjtlLmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxuLHMpe3ZhciBkPWUoKGZ1bmN0aW9uKGUscil7YyhlLGQsdCksZyhlLHt0eXBlOnQsaW5kZXg6aShudWxsKSxmaXJzdDp2b2lkIDAsbGFzdDp2b2lkIDAsc2l6ZTowfSksZnx8KGUuc2l6ZT0wKSxudWxsIT1yJiZ1KHIsZVtzXSx7dGhhdDplLEFTX0VOVFJJRVM6bn0pfSkpLHA9Yih0KSx2PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89cChlKSxhPXkoZSx0KTtyZXR1cm4gYT9hLnZhbHVlPW46KG8ubGFzdD1hPXtpbmRleDppPWwodCwhMCksa2V5OnQsdmFsdWU6bixwcmV2aW91czpyPW8ubGFzdCxuZXh0OnZvaWQgMCxyZW1vdmVkOiExfSxvLmZpcnN0fHwoby5maXJzdD1hKSxyJiYoci5uZXh0PWEpLGY/by5zaXplKys6ZS5zaXplKyssIkYiIT09aSYmKG8uaW5kZXhbaV09YSkpLGV9LHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXAoZSksaT1sKHQpO2lmKCJGIiE9PWkpcmV0dXJuIHIuaW5kZXhbaV07Zm9yKG49ci5maXJzdDtuO249bi5uZXh0KWlmKG4ua2V5PT10KXJldHVybiBufTtyZXR1cm4gbyhkLnByb3RvdHlwZSx7Y2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9cCh0aGlzKSx0PWUuaW5kZXgsbj1lLmZpcnN0O247KW4ucmVtb3ZlZD0hMCxuLnByZXZpb3VzJiYobi5wcmV2aW91cz1uLnByZXZpb3VzLm5leHQ9dm9pZCAwKSxkZWxldGUgdFtuLmluZGV4XSxuPW4ubmV4dDtlLmZpcnN0PWUubGFzdD12b2lkIDAsZj9lLnNpemU9MDp0aGlzLnNpemU9MH0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1wKHQpLHI9eSh0LGUpO2lmKHIpe3ZhciBpPXIubmV4dCxvPXIucHJldmlvdXM7ZGVsZXRlIG4uaW5kZXhbci5pbmRleF0sci5yZW1vdmVkPSEwLG8mJihvLm5leHQ9aSksaSYmKGkucHJldmlvdXM9byksbi5maXJzdD09ciYmKG4uZmlyc3Q9aSksbi5sYXN0PT1yJiYobi5sYXN0PW8pLGY/bi5zaXplLS06dC5zaXplLS19cmV0dXJuISFyfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXAodGhpcykscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7dD10P3QubmV4dDpuLmZpcnN0Oylmb3Iocih0LnZhbHVlLHQua2V5LHRoaXMpO3QmJnQucmVtb3ZlZDspdD10LnByZXZpb3VzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF5KHRoaXMsZSl9fSksbyhkLnByb3RvdHlwZSxuP3tnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9eSh0aGlzLGUpO3JldHVybiB0JiZ0LnZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdih0aGlzLDA9PT1lPzA6ZSx0KX19OnthZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHYodGhpcyxlPTA9PT1lPzA6ZSxlKX19KSxmJiZyKGQucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpcykuc2l6ZX19KSxkfSxzZXRTdHJvbmc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQrIiBJdGVyYXRvciIsaT1iKHQpLG89YihyKTtzKGUsdCwoZnVuY3Rpb24oZSx0KXtnKHRoaXMse3R5cGU6cix0YXJnZXQ6ZSxzdGF0ZTppKGUpLGtpbmQ6dCxsYXN0OnZvaWQgMH0pfSksKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW8odGhpcyksdD1lLmtpbmQsbj1lLmxhc3Q7biYmbi5yZW1vdmVkOyluPW4ucHJldmlvdXM7cmV0dXJuIGUudGFyZ2V0JiYoZS5sYXN0PW49bj9uLm5leHQ6ZS5zdGF0ZS5maXJzdCk/ImtleXMiPT10P3t2YWx1ZTpuLmtleSxkb25lOiExfToidmFsdWVzIj09dD97dmFsdWU6bi52YWx1ZSxkb25lOiExfTp7dmFsdWU6W24ua2V5LG4udmFsdWVdLGRvbmU6ITF9OihlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSl9KSxuPyJlbnRyaWVzIjoidmFsdWVzIiwhbiwhMCksZCh0KX19fSwxMjg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigzNCksbz1uKDE2KSxhPW4oMTI5KTtlLmV4cG9ydHM9cj9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe28oZSk7Zm9yKHZhciBuLHI9YSh0KSxjPXIubGVuZ3RoLHU9MDtjPnU7KWkuZihlLG49clt1KytdLHRbbl0pO3JldHVybiBlfX0sMTI5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEzMCksaT1uKDk0KTtlLmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiByKGUsaSl9fSwxMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT11LHQuYz1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS51cmwpfSx0LmI9ZnVuY3Rpb24oZSx0KXtlLnJlbmRlcih0KX07dmFyIHI9bigzNSksaT1uKDApLG89bigxMSksYT1uLm4obyksYz0ib3V0c3RyZWFtIjtmdW5jdGlvbiB1KGUpe3ZhciB0PXRoaXMsbj1lLnVybCxvPWUuY29uZmlnLGE9ZS5pZCx1PWUuY2FsbGJhY2ssZD1lLmxvYWRlZCxmPWUuYWRVbml0Q29kZTt0aGlzLnVybD1uLHRoaXMuY29uZmlnPW8sdGhpcy5oYW5kbGVycz17fSx0aGlzLmlkPWEsdGhpcy5sb2FkZWQ9ZCx0aGlzLmNtZD1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGU/dC5sb2FkZWQ/ZS5jYWxsKCk6dC5jbWQucHVzaChlKTpPYmplY3QoaS5sb2dFcnJvcikoIkNvbW1hbmRzIGdpdmVuIHRvIFJlbmRlcmVyLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sdGhpcy5jYWxsYmFjaz11fHxmdW5jdGlvbigpe3QubG9hZGVkPSEwLHQucHJvY2VzcygpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMsbz1mdW5jdGlvbigpe2UuX3JlbmRlcj9lLl9yZW5kZXIuYXBwbHkoZSx0KTpPYmplY3QoaS5sb2dXYXJuKSgiTm8gcmVuZGVyIGZ1bmN0aW9uIHdhcyBwcm92aWRlZCwgcGxlYXNlIHVzZSAuc2V0UmVuZGVyIG9uIHRoZSByZW5kZXJlciIpfTtzKGYpPyhPYmplY3QoaS5sb2dXYXJuKSgiRXh0ZXJuYWwgSnMgbm90IGxvYWRlZCBieSBSZW5kZXJlciBzaW5jZSByZW5kZXJlciB1cmwgYW5kIGNhbGxiYWNrIGlzIGFscmVhZHkgZGVmaW5lZCBvbiBhZFVuaXQgIi5jb25jYXQoZikpLG8oKSk6KHRoaXMuY21kLnVuc2hpZnQobyksT2JqZWN0KHIuYSkobixjLHRoaXMuY2FsbGJhY2spKX0uYmluZCh0aGlzKX1mdW5jdGlvbiBzKGUpe3ZhciB0PXVwYmpzLmFkVW5pdHMsbj1hKCkodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29kZT09PWV9KSk7aWYoIW4pcmV0dXJuITE7dmFyIHI9T2JqZWN0KGkuZGVlcEFjY2VzcykobiwicmVuZGVyZXIiKSxvPSEhKHImJnIudXJsJiZyLnJlbmRlciksYz1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLnJlbmRlcmVyIiksdT0hIShjJiZjLnVybCYmYy5yZW5kZXIpO3JldHVybiEhKG8mJiEwIT09ci5iYWNrdXBPbmx5fHx1JiYhMCE9PWMuYmFja3VwT25seSl9dS5pbnN0YWxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdSh7dXJsOmUudXJsLGNvbmZpZzplLmNvbmZpZyxpZDplLmlkLGNhbGxiYWNrOmUuY2FsbGJhY2ssbG9hZGVkOmUubG9hZGVkLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSl9LHUucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZ30sdS5wcm90b3R5cGUuc2V0UmVuZGVyPWZ1bmN0aW9uKGUpe3RoaXMuX3JlbmRlcj1lfSx1LnByb3RvdHlwZS5zZXRFdmVudEhhbmRsZXJzPWZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlcnM9ZX0sdS5wcm90b3R5cGUuaGFuZGxlVmlkZW9FdmVudD1mdW5jdGlvbihlKXt2YXIgdD1lLmlkLG49ZS5ldmVudE5hbWU7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuaGFuZGxlcnNbbl0mJnRoaXMuaGFuZGxlcnNbbl0oKSxPYmplY3QoaS5sb2dNZXNzYWdlKSgiUHJlYmlkIFJlbmRlcmVyIGV2ZW50IGZvciBpZCAiLmNvbmNhdCh0LCIgdHlwZSAiKS5jb25jYXQobikpfSx1LnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNtZC5sZW5ndGg+MDspdHJ5e3RoaXMuY21kLnNoaWZ0KCkuY2FsbCgpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgcHJvY2Vzc2luZyBSZW5kZXJlciBjb21tYW5kOiAiLGUpfX19LDEzMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDUwKSxvPW4oODkpLmluZGV4T2YsYT1uKDU3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixjPWkoZSksdT0wLHM9W107Zm9yKG4gaW4gYykhcihhLG4pJiZyKGMsbikmJnMucHVzaChuKTtmb3IoO3QubGVuZ3RoPnU7KXIoYyxuPXRbdSsrXSkmJih+byhzLG4pfHxzLnB1c2gobikpO3JldHVybiBzfX0sMTMxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cigiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiKX0sMTMyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IGUpIT09ZS5wcm90b3R5cGV9KSl9LDEzMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDEzNCk7ZS5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciBlLHQ9ITEsbj17fTt0cnl7KGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQpLmNhbGwobixbXSksdD1uIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbihuLG8pe3JldHVybiByKG4pLGkobyksdD9lLmNhbGwobixvKTpuLl9fcHJvdG9fXz1vLG59fSgpOnZvaWQgMCl9LDEzNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFyKGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IHNldCAiK1N0cmluZyhlKSsiIGFzIGEgcHJvdG90eXBlIik7cmV0dXJuIGV9fSwxMzU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI2KSxpPW4oMzQpLG89bigyMSksYT1uKDMzKSxjPW8oInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9cihlKSxuPWkuZjthJiZ0JiYhdFtjXSYmbih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LDEzNjpmdW5jdGlvbihlLHQpe30sMTM3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY2KSxpPW4oNTIpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIG8sYSxjPVN0cmluZyhpKHQpKSx1PXIobikscz1jLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1zP2U/IiI6dm9pZCAwOihvPWMuY2hhckNvZGVBdCh1KSk8NTUyOTZ8fG8+NTYzMTl8fHUrMT09PXN8fChhPWMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8YT41NzM0Mz9lP2MuY2hhckF0KHUpOm86ZT9jLnNsaWNlKHUsdSsyKTphLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fTtlLmV4cG9ydHM9e2NvZGVBdDpvKCExKSxjaGFyQXQ6byghMCl9fSwxMzg6ZnVuY3Rpb24oZSx0LG4pe24oMTAwKTt2YXIgcj1uKDEzOSksaT1uKDI3KSxvPW4oNTkpLGE9bigzMiksYz1uKDQyKSx1PW4oMjEpKCJ0b1N0cmluZ1RhZyIpO2Zvcih2YXIgcyBpbiByKXt2YXIgZD1pW3NdLGY9ZCYmZC5wcm90b3R5cGU7ZiYmbyhmKSE9PXUmJmEoZix1LHMpLGNbc109Yy5BcnJheX19LDEzOTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH19LDE0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy51cGJqc30sd2luZG93LnVwYmpzPXdpbmRvdy51cGJqc3x8e30sd2luZG93LnVwYmpzLmNtZD13aW5kb3cudXBianMuY21kfHxbXSx3aW5kb3cudXBianMucXVlPXdpbmRvdy51cGJqcy5xdWV8fFtdLHdpbmRvdy5fcGJqc0dsb2JhbHM9d2luZG93Ll9wYmpzR2xvYmFsc3x8W10sd2luZG93Ll9wYmpzR2xvYmFscy5wdXNoKCJ1cGJqcyIpfSwxNDA6ZnVuY3Rpb24oZSx0LG4pe24oMTUpKHt0YXJnZXQ6IlNldCIsc3RhdDohMH0se2Zyb206bigxNDEpfSl9LDE0MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjQpLGk9bigyNSksbz1uKDIwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixhLGMsdT1hcmd1bWVudHMubGVuZ3RoLHM9dT4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIHIodGhpcyksKHQ9dm9pZCAwIT09cykmJnIocyksbnVsbD09ZT9uZXcgdGhpczoobj1bXSx0PyhhPTAsYz1pKHMsdT4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMiksbyhlLChmdW5jdGlvbihlKXtuLnB1c2goYyhlLGErKykpfSkpKTpvKGUsbi5wdXNoLHt0aGF0Om59KSxuZXcgdGhpcyhuKSl9fSwxNDI6ZnVuY3Rpb24oZSx0LG4pe24oMTUpKHt0YXJnZXQ6IlNldCIsc3RhdDohMH0se29mOm4oMTQzKX0pfSwxNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19LDE0NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE0NSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHthZGRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9LDE0NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTYpLGk9bigyNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXIodGhpcyksdD1pKGUuYWRkKSxuPTAsbz1hcmd1bWVudHMubGVuZ3RoO248bztuKyspdC5jYWxsKGUsYXJndW1lbnRzW25dKTtyZXR1cm4gZX19LDE0NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE0Nyk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkZWxldGVBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9LDE0NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTYpLGk9bigyNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9cih0aGlzKSxuPWkodC5kZWxldGUpLG89ITAsYT0wLGM9YXJndW1lbnRzLmxlbmd0aDthPGM7YSsrKWU9bi5jYWxsKHQsYXJndW1lbnRzW2FdKSxvPW8mJmU7cmV0dXJuISFvfX0sMTQ4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNSksYz1uKDM3KSx1PW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZXZlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIXUobiwoZnVuY3Rpb24oZSxuKXtpZighcihlLGUsdCkpcmV0dXJuIG4oKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE0OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDQzKSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZGlmZmVyZW5jZTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpLHI9YyhuLmRlbGV0ZSk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKG4sZSl9KSksbn19KX0sMTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI3KSxpPW4oMTA4KS5mLG89bigxMTApLGE9big0NSksYz1uKDI1KSx1PW4oMzIpLHM9bigzMSksZD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LG4scil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LG4pfXJldHVybiBuZXcgZSh0LG4scil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4sZixsLHAsZyxiLHYseSxoPWUudGFyZ2V0LG09ZS5nbG9iYWwsTz1lLnN0YXQsaj1lLnByb3RvLFM9bT9yOk8/cltoXToocltoXXx8e30pLnByb3RvdHlwZSxFPW0/YTphW2hdfHwoYVtoXT17fSksQT1FLnByb3RvdHlwZTtmb3IobCBpbiB0KW49IW8obT9sOmgrKE8/Ii4iOiIjIikrbCxlLmZvcmNlZCkmJlMmJnMoUyxsKSxnPUVbbF0sbiYmKGI9ZS5ub1RhcmdldEdldD8oeT1pKFMsbCkpJiZ5LnZhbHVlOlNbbF0pLHA9biYmYj9iOnRbbF0sbiYmdHlwZW9mIGc9PXR5cGVvZiBwfHwodj1lLmJpbmQmJm4/YyhwLHIpOmUud3JhcCYmbj9kKHApOmomJiJmdW5jdGlvbiI9PXR5cGVvZiBwP2MoRnVuY3Rpb24uY2FsbCxwKTpwLChlLnNoYW18fHAmJnAuc2hhbXx8ZyYmZy5zaGFtKSYmdSh2LCJzaGFtIiwhMCksRVtsXT12LGomJihzKGEsZj1oKyJQcm90b3R5cGUiKXx8dShhLGYse30pLGFbZl1bbF09cCxlLnJlYWwmJkEmJiFBW2xdJiZ1KEEsbCxwKSkpfX0sMTUwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oMjUpLHM9big0MyksZD1uKDM3KSxmPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7cihlLGUsdCkmJmwuY2FsbChpLGUpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTUxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNSksYz1uKDM3KSx1PW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZmluZDpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4gdShuLChmdW5jdGlvbihlLG4pe2lmKHIoZSxlLHQpKXJldHVybiBuKGUpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkucmVzdWx0fX0pfSwxNTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9big0Mykscz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ludGVyc2VjdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpLHI9Yyh0LmhhcyksaT1jKG4uYWRkKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwodCxlKSYmaS5jYWxsKG4sZSl9KSksbn19KX0sMTUzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNCksYz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzRGlzam9pbnRGcm9tOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCEwPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDc1KSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdWJzZXRPZjpmdW5jdGlvbihlKXt2YXIgdD11KHRoaXMpLG49YShlKSxyPW4uaGFzO3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiByJiYobj1uZXcobygiU2V0IikpKGUpLHI9YyhuLmhhcykpLCFzKHQsKGZ1bmN0aW9uKGUsdCl7aWYoITE9PT1yLmNhbGwobixlKSlyZXR1cm4gdCgpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNCksYz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzU3VwZXJzZXRPZjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0Lmhhcyk7cmV0dXJuIWMoZSwoZnVuY3Rpb24oZSxyKXtpZighMT09PW4uY2FsbCh0LGUpKXJldHVybiByKCl9KSx7SU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDM3KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7am9pbjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0KSxyPXZvaWQgMD09PWU/IiwiOlN0cmluZyhlKSxpPVtdO3JldHVybiBjKG4saS5wdXNoLHt0aGF0OmksSVNfSVRFUkFUT1I6ITB9KSxpLmpvaW4ocil9fSl9LDE1NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDI1KSxzPW4oNDMpLGQ9bigzNyksZj1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se21hcDpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49ZCh0KSxyPXUoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPW5ldyhzKHQsbygiU2V0IikpKSxsPWMoaS5hZGQpO3JldHVybiBmKG4sKGZ1bmN0aW9uKGUpe2wuY2FsbChpLHIoZSxlLHQpKX0pLHtJU19JVEVSQVRPUjohMH0pLGl9fSl9LDE1ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMjQpLGM9bigzNyksdT1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWFyZ3VtZW50cy5sZW5ndGg8MixpPXI/dm9pZCAwOmFyZ3VtZW50c1sxXTtpZihhKGUpLHUobiwoZnVuY3Rpb24obil7cj8ocj0hMSxpPW4pOmk9ZShpLG4sbix0KX0pLHtJU19JVEVSQVRPUjohMH0pLHIpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgc2V0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpO3JldHVybiBpfX0pfSwxNTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzb21lOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gZX19LDE2MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDQzKSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7c3ltbWV0cmljRGlmZmVyZW5jZTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpLHI9YyhuLmRlbGV0ZSksaT1jKG4uYWRkKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKXx8aS5jYWxsKG4sZSl9KSksbn19KX0sMTYxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDMpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHt1bmlvbjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpO3JldHVybiBzKGUsYyhuLmFkZCkse3RoYXQ6bn0pLG59fSl9LDE2MjpmdW5jdGlvbihlLHQsbil7big5OSksbigxNjMpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLkFycmF5LmZyb219LDE2MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNSksaT1uKDE2NCk7cih7dGFyZ2V0OiJBcnJheSIsc3RhdDohMCxmb3JjZWQ6IW4oMTY3KSgoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pKX0se2Zyb206aX0pfSwxNjQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI1KSxpPW4oNTMpLG89bigxNjUpLGE9big5MiksYz1uKDU0KSx1PW4oMTY2KSxzPW4oNTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGQsZixsLHAsZz1pKGUpLGI9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgseT12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxoPXZvaWQgMCE9PXksbT1zKGcpLE89MDtpZihoJiYoeT1yKHksdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLG51bGw9PW18fGI9PUFycmF5JiZhKG0pKWZvcihuPW5ldyBiKHQ9YyhnLmxlbmd0aCkpO3Q+TztPKyspcD1oP3koZ1tPXSxPKTpnW09dLHUobixPLHApO2Vsc2UgZm9yKGw9KGY9bS5jYWxsKGcpKS5uZXh0LG49bmV3IGI7IShkPWwuY2FsbChmKSkuZG9uZTtPKyspcD1oP28oZix5LFtkLnZhbHVlLE9dLCEwKTpkLnZhbHVlLHUobixPLHApO3JldHVybiBuLmxlbmd0aD1PLG59fSwxNjU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big5Myk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLG8pe3RyeXtyZXR1cm4gbz90KHIobilbMF0sblsxXSk6dChuKX1jYXRjaCh0KXt0aHJvdyBpKGUpLHR9fX0sMTY2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2NCksaT1uKDM0KSxvPW4oNDQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGE9cih0KTthIGluIGU/aS5mKGUsYSxvKDAsbikpOmVbYV09bn19LDE2NzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMSkoIml0ZXJhdG9yIiksaT0hMTt0cnl7dmFyIG89MCxhPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFvKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtpPSEwfX07YVtyXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGEsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFpKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgbz17fTtvW3JdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX19fSxlKG8pfWNhdGNoKGUpe31yZXR1cm4gbn19LDE2ODpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQpe3ZhciBuPUFycmF5LmlzQXJyYXkodCk/W106e307Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl07bltyXT1pJiYib2JqZWN0Ij09dHlwZW9mIGk/ZShpKTppfXJldHVybiBufX0sMTY5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHQ9dC5zcGxpdD90LnNwbGl0KCIuIik6dCxyPTA7cjx0Lmxlbmd0aDtyKyspZT1lP2VbdFtyXV06aTtyZXR1cm4gZT09PWk/bjplfX0sMTcwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuKXt0LnNwbGl0JiYodD10LnNwbGl0KCIuIikpO2Zvcih2YXIgcixpPTAsbz10Lmxlbmd0aCxhPWU7aTxvOysraSlyPWFbdFtpXV0sYT1hW3RbaV1dPWk9PT1vLTE/bjpudWxsIT1yP3I6IX50W2krMV0uaW5kZXhPZigiLiIpJiYrdFtpKzFdPi0xP1tdOnt9fX0sMTcxOmZ1bmN0aW9uKGUsdCl7Ci8qCiogQGxpY2Vuc2UgTUlUCiogRnVuIEhvb2tzIHYwLjkuMTAKKiAoYykgQHNuYXB3aWNoCiovCmMuU1lOQz0xLGMuQVNZTkM9MixjLlFVRVVFPTQ7dmFyIG49T2JqZWN0LmZyZWV6ZSh7dXNlUHJveHk6ITAscmVhZHk6MH0pLHI9bmV3IFdlYWtNYXAsaT0iMiwxLDAiPT09WzFdLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybltlLHQsbl19KSwyKS50b1N0cmluZygpP0FycmF5LnByb3RvdHlwZS5yZWR1Y2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPU9iamVjdCh0aGlzKSxpPXIubGVuZ3RoPj4+MCxvPTA7aWYodCluPXQ7ZWxzZXtmb3IoO288aSYmIShvIGluIHIpOylvKys7bj1yW28rK119Zm9yKDtvPGk7KW8gaW4gciYmKG49ZShuLHJbb10sbyxyKSksbysrO3JldHVybiBufTtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsdCl9dmFyIGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChvKGFyZ3VtZW50cywxKSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10W25dfSkpLGV9KSxlKX07ZnVuY3Rpb24gYyhlKXt2YXIgdCx1PXt9LHM9W107ZnVuY3Rpb24gZChlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2cuY2FsbChudWxsLCJzeW5jIixlLHQpOiJzdHJpbmciPT10eXBlb2YgZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQ/Zy5hcHBseShudWxsLGFyZ3VtZW50cyk6Im9iamVjdCI9PXR5cGVvZiBlP2YuYXBwbHkobnVsbCxhcmd1bWVudHMpOnZvaWQgMH1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgcj0hMDt2b2lkIDA9PT10JiYodD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxyPSExKTt2YXIgaT17fSxvPVsiY29uc3RydWN0b3IiXTtkb3sodD10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuISgiZnVuY3Rpb24iIT10eXBlb2YgZVt0XXx8LTEhPT1vLmluZGV4T2YodCl8fHQubWF0Y2goL15fLykpfSkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LnNwbGl0KCI6Iiksbz1yWzBdLGE9clsxXXx8InN5bmMiO2lmKCFpW29dKXt2YXIgYz1lW29dO2lbb109ZVtvXT1nKGEsYyxuP1tuLG9dOnZvaWQgMCl9fSkpLGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfXdoaWxlKHImJmUpO3JldHVybiBpfWZ1bmN0aW9uIGwoZSl7dmFyIG49QXJyYXkuaXNBcnJheShlKT9lOmUuc3BsaXQoIi4iKTtyZXR1cm4gaS5jYWxsKG4sKGZ1bmN0aW9uKHIsaSxvKXt2YXIgYT1yW2ldLGM9ITE7cmV0dXJuIGF8fChvPT09bi5sZW5ndGgtMT8odHx8cy5wdXNoKChmdW5jdGlvbigpe2N8fGNvbnNvbGUud2FybigiZnVuLWhvb2tzOiByZWZlcmVuY2VkICciK2UrIicgYnV0IGl0IHdhcyBuZXZlciBjcmVhdGVkIil9KSkscltpXT1wKChmdW5jdGlvbihlKXtyW2ldPWUsYz0hMH0pKSk6cltpXT17fSl9KSx1KX1mdW5jdGlvbiBwKGUpe3ZhciB0PVtdLG49W10saT1mdW5jdGlvbigpe30sbz17YmVmb3JlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHUuY2FsbCh0aGlzLHQsImJlZm9yZSIsZSxuKX0sYWZ0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdS5jYWxsKHRoaXMsbiwiYWZ0ZXIiLGUsdCl9LGdldEhvb2tzOmZ1bmN0aW9uKGUpe3ZhciByPXQuY29uY2F0KG4pOyJvYmplY3QiPT10eXBlb2YgZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyhlKS5ldmVyeSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lW25dfSkpfSkpKTt0cnl7YShyLHtyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSkpLHRoaXN9fSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiZXJyb3IgYWRkaW5nIGByZW1vdmVgIHRvIGFycmF5LCBkaWQgeW91IG1vZGlmeSBBcnJheS5wcm90b3R5cGU/Iil9cmV0dXJuIHJ9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEhvb2tzKCkucmVtb3ZlKCl9fSxjPXtpbnN0YWxsOmZ1bmN0aW9uKHIsbyxhKXt0aGlzLnR5cGU9cixpPWEsYSh0LG4pLGUmJmUobyl9fTtyZXR1cm4gci5zZXQoby5hZnRlcixjKSxvO2Z1bmN0aW9uIHUoZSxyLG8sYSl7dmFyIGM9e2hvb2s6byx0eXBlOnIscHJpb3JpdHk6YXx8MTAscmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5pbmRleE9mKGMpOy0xIT09ciYmKGUuc3BsaWNlKHIsMSksaSh0LG4pKX19O3JldHVybiBlLnB1c2goYyksZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSksaSh0LG4pLHRoaXN9fWZ1bmN0aW9uIGcobixpLHUpe3ZhciBkPWkuYWZ0ZXImJnIuZ2V0KGkuYWZ0ZXIpO2lmKGQpe2lmKGQudHlwZSE9PW4pdGhyb3ciZnVuLWhvb2tzOiByZWNyZWF0ZWQgaG9va2FibGUgd2l0aCBkaWZmZXJlbnQgdHlwZSI7cmV0dXJuIGl9dmFyIGYsZyxiPXU/bCh1KTpwKCksdj17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJbdF18fFJlZmxlY3QuZ2V0LmFwcGx5KFJlZmxlY3QsYXJndW1lbnRzKX19O3JldHVybiB0fHxzLnB1c2goeSksZS51c2VQcm94eSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5JiZQcm94eS5yZXZvY2FibGU/Zz1uZXcgUHJveHkoaSx2KTphKGc9ZnVuY3Rpb24oKXtyZXR1cm4gdi5hcHBseT92LmFwcGx5KGksdGhpcyxvKGFyZ3VtZW50cykpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiKSxyLmdldChnLmFmdGVyKS5pbnN0YWxsKG4sZywoZnVuY3Rpb24oZSx0KXt2YXIgcixpPVtdO2UubGVuZ3RofHx0Lmxlbmd0aD8oZS5mb3JFYWNoKGEpLHI9aS5wdXNoKHZvaWQgMCktMSx0LmZvckVhY2goYSksZj1mdW5jdGlvbihlLHQsYSl7dmFyIGMsdT0wLHM9ImFzeW5jIj09PW4mJiJmdW5jdGlvbiI9PXR5cGVvZiBhW2EubGVuZ3RoLTFdJiZhLnBvcCgpO2Z1bmN0aW9uIGQoZSl7InN5bmMiPT09bj9jPWU6cyYmcy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZihlKXtpZihpW3VdKXt2YXIgcj1vKGFyZ3VtZW50cyk7cmV0dXJuIGYuYmFpbD1kLHIudW5zaGlmdChmKSxpW3UrK10uYXBwbHkodCxyKX0ic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1yZXR1cm4gaVtyXT1mdW5jdGlvbigpe3ZhciByPW8oYXJndW1lbnRzLDEpOyJhc3luYyI9PT1uJiZzJiYoZGVsZXRlIGYuYmFpbCxyLnB1c2goZikpO3ZhciBpPWUuYXBwbHkodCxyKTsic3luYyI9PT1uJiZmKGkpfSxmLmFwcGx5KG51bGwsYSksY30pOmY9dm9pZCAwO2Z1bmN0aW9uIGEoZSl7aS5wdXNoKGUuaG9vayl9eSgpfSkpLGc7ZnVuY3Rpb24geSgpeyF0JiYoInN5bmMiIT09bnx8ZS5yZWFkeSZjLlNZTkMpJiYoImFzeW5jIiE9PW58fGUucmVhZHkmYy5BU1lOQyk/InN5bmMiIT09biYmZS5yZWFkeSZjLlFVRVVFP3YuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cy5wdXNoKChmdW5jdGlvbigpe2cuYXBwbHkoZVsxXSxlWzJdKX0pKX06di5hcHBseT1mdW5jdGlvbigpe3Rocm93ImZ1bi1ob29rczogaG9va2VkIGZ1bmN0aW9uIG5vdCByZWFkeSJ9OnYuYXBwbHk9Zn19cmV0dXJuKGU9YSh7fSxuLGUpKS5yZWFkeT9kLnJlYWR5PWZ1bmN0aW9uKCl7dD0hMCxmdW5jdGlvbihlKXtmb3IodmFyIHQ7dD1lLnNoaWZ0KCk7KXQoKX0ocyl9OnQ9ITAsZC5nZXQ9bCxkfWUuZXhwb3J0cz1jfSwxODpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sMTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigzKSxpPW4oMCk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1yLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIik7aWYodClyZXR1cm4gdDt0cnl7dmFyIG49ZS5xdWVyeVNlbGVjdG9yKCJsaW5rW3JlbD0nY2Fub25pY2FsJ10iKTtpZihudWxsIT09bilyZXR1cm4gbi5ocmVmfWNhdGNoKGUpe31yZXR1cm4gbnVsbH1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixvLGEsYz1bXSx1PWZ1bmN0aW9uKGUpe3RyeXtpZighZS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMpcmV0dXJuO3JldHVybiBlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc31jYXRjaChlKXt9fShlKSxzPXIuYi5nZXRDb25maWcoIm1heE5lc3RlZElmcmFtZXMiKSxkPSExLGY9MCxsPSExLHA9ITE7ZG97dmFyIGc9bixiPXAsdj12b2lkIDAseT0hMSxoPW51bGw7cD0hMSxuPW4/bi5wYXJlbnQ6ZTt0cnl7dj1uLmxvY2F0aW9uLmhyZWZ8fG51bGx9Y2F0Y2goZSl7eT0hMH1pZih5KWlmKGIpe3ZhciBtPWcuY29udGV4dDt0cnl7bz1oPW0uc291cmNlVXJsLGw9ITAsbj09PWUudG9wJiYoZD0hMCksbS5jYW5vbmljYWxVcmwmJihhPW0uY2Fub25pY2FsVXJsKX1jYXRjaChlKXt9fWVsc2V7T2JqZWN0KGkubG9nV2FybikoIlRyeWluZyB0byBhY2Nlc3MgY3Jvc3MgZG9tYWluIGlmcmFtZS4gQ29udGludWluZyB3aXRob3V0IHJlZmVycmVyIGFuZCBsb2NhdGlvbiIpO3RyeXt2YXIgTz1nLmRvY3VtZW50LnJlZmVycmVyO08mJihoPU8sbj09PWUudG9wJiYoZD0hMCkpfWNhdGNoKGUpe30haCYmdSYmdVtmLTFdJiYoaD11W2YtMV0pLGgmJiFsJiYobz1oKX1lbHNle2lmKHYmJihvPWg9dixsPSExLG49PT1lLnRvcCkpe2Q9ITA7dmFyIGo9dChuLmRvY3VtZW50KTtqJiYoYT1qKX1uLmNvbnRleHQmJm4uY29udGV4dC5zb3VyY2VVcmwmJihwPSEwKX1jLnB1c2goaCksZisrfXdoaWxlKG4hPT1lLnRvcCYmZjxzKTtyZXR1cm4gYy5yZXZlcnNlKCkse3JlZmVyZXI6b3x8bnVsbCxyZWFjaGVkVG9wOmQsaXNBbXA6bCxudW1JZnJhbWVzOmYtMSxzdGFjazpjLGNhbm9uaWNhbFVybDphfHxudWxsfX19KHdpbmRvdyl9LDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBpfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9Im5hdGl2ZSIsaT0idmlkZW8iLG89ImJhbm5lciIsYT0iYWRwb2QifSwyMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDkyKSxvPW4oNTQpLGE9bigyNSksYz1uKDU4KSx1PW4oOTMpLHM9ZnVuY3Rpb24oZSx0KXt0aGlzLnN0b3BwZWQ9ZSx0aGlzLnJlc3VsdD10fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBkLGYsbCxwLGcsYix2LHk9biYmbi50aGF0LGg9ISghbnx8IW4uQVNfRU5UUklFUyksbT0hKCFufHwhbi5JU19JVEVSQVRPUiksTz0hKCFufHwhbi5JTlRFUlJVUFRFRCksaj1hKHQseSwxK2grTyksUz1mdW5jdGlvbihlKXtyZXR1cm4gZCYmdShkKSxuZXcgcyghMCxlKX0sRT1mdW5jdGlvbihlKXtyZXR1cm4gaD8ocihlKSxPP2ooZVswXSxlWzFdLFMpOmooZVswXSxlWzFdKSk6Tz9qKGUsUyk6aihlKX07aWYobSlkPWU7ZWxzZXtpZigiZnVuY3Rpb24iIT10eXBlb2YoZj1jKGUpKSl0aHJvdyBUeXBlRXJyb3IoIlRhcmdldCBpcyBub3QgaXRlcmFibGUiKTtpZihpKGYpKXtmb3IobD0wLHA9byhlLmxlbmd0aCk7cD5sO2wrKylpZigoZz1FKGVbbF0pKSYmZyBpbnN0YW5jZW9mIHMpcmV0dXJuIGc7cmV0dXJuIG5ldyBzKCExKX1kPWYuY2FsbChlKX1mb3IoYj1kLm5leHQ7ISh2PWIuY2FsbChkKSkuZG9uZTspe3RyeXtnPUUodi52YWx1ZSl9Y2F0Y2goZSl7dGhyb3cgdShkKSxlfWlmKCJvYmplY3QiPT10eXBlb2YgZyYmZyYmZyBpbnN0YW5jZW9mIHMpcmV0dXJuIGd9cmV0dXJuIG5ldyBzKCExKX19LDIxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KSxpPW4oODcpLG89bigzMSksYT1uKDY4KSxjPW4oODgpLHU9bigxMTYpLHM9aSgid2tzIiksZD1yLlN5bWJvbCxmPXU/ZDpkJiZkLndpdGhvdXRTZXR0ZXJ8fGE7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvKHMsZSkmJihjfHwic3RyaW5nIj09dHlwZW9mIHNbZV0pfHwoYyYmbyhkLGUpP3NbZV09ZFtlXTpzW2VdPWYoIlN5bWJvbC4iK2UpKSxzW2VdfX0sMjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpLGk9biYmT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpLG89aSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiY29udGV4dCIpO3JldHVybiBzKGUsbixpLG8pfSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7big4KTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9KG4ubihvKSxuKDkpKSxjPSJvdXRzdHJlYW0iLHU9Imluc3RyZWFtIjt2YXIgcz1PYmplY3QoYS5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCxuLG8pe3JldHVybiF0fHxuJiZvIT09Yz9pLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKXx8IWUudmFzdFhtbHx8ZS52YXN0VXJsPyEoIWUudmFzdFVybCYmIWUudmFzdFhtbCk6KE9iamVjdChyLmxvZ0Vycm9yKSgnXG4gICAgICAgIFRoaXMgYmlkIGNvbnRhaW5zIG9ubHkgdmFzdFhtbCBhbmQgd2lsbCBub3Qgd29yayB3aGVuIGEgcHJlYmlkIGNhY2hlIHVybCBpcyBub3Qgc3BlY2lmaWVkLlxuICAgICAgICBUcnkgZW5hYmxpbmcgcHJlYmlkIGNhY2hlIHdpdGggdXBianMuc2V0Q29uZmlnKHsgY2FjaGU6IHt1cmw6ICIuLi4ifSB9KTtcbiAgICAgICcpLCExKTpvIT09Y3x8ISEoZS5yZW5kZXJlcnx8dC5yZW5kZXJlcnx8bi5yZW5kZXJlcil9KSwiY2hlY2tWaWRlb0JpZFNldHVwIil9LDIyMTpmdW5jdGlvbihlLHQsbil7bigyMjIpO3ZhciByPW4oNTYpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmRJbmRleCIpfSwyMjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNjUpLmZpbmRJbmRleCxvPW4oNTUpLGE9ImZpbmRJbmRleCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmRJbmRleCgoZnVuY3Rpb24oKXtjPSExfSkpLHIoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpjfSx7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhhKX0sMjI5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGgsITEpfTt2YXIgcj1uKDEwKSxpPW4ubihyKSxvPW4oMzgpLGE9big1KSxjPW4ubihhKSx1PW4oMCkscz1uKDIzKSxkPW4oMTEpLGY9bi5uKGQpLGw9bigxMykscD1uKDEyKSxnPW4ubihwKSxiPW4oMyksdj1jLmEuRVZFTlRTLkJJRF9XT04seT1jLmEuRVZFTlRTLlNUQUxFX1JFTkRFUjtmdW5jdGlvbiBoKGUpe3ZhciB0PWUubWVzc2FnZT8ibWVzc2FnZSI6ImRhdGEiLG49e307dHJ5e249SlNPTi5wYXJzZShlW3RdKX1jYXRjaChlKXtyZXR1cm59aWYobiYmbi5hZElkKXt2YXIgcj1mKCkocy5hLmdldEJpZHNSZWNlaXZlZCgpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09bi5hZElkfSkpO2lmKHImJiJQcmViaWQgUmVxdWVzdCI9PT1uLm1lc3NhZ2Upe2lmKHIuc3RhdHVzPT09Yy5hLkJJRF9TVEFUVVMuUkVOREVSRUQmJihPYmplY3QodS5sb2dXYXJuKSgiQWQgaWQgIi5jb25jYXQoci5hZElkLCIgaGFzIGJlZW4gcmVuZGVyZWQgYmVmb3JlIikpLGkuYS5lbWl0KHksciksT2JqZWN0KHUuZGVlcEFjY2VzcykoYi5iLmdldENvbmZpZygiYXVjdGlvbk9wdGlvbnMiKSwic3VwcHJlc3NTdGFsZVJlbmRlciIpKSlyZXR1cm47IWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5hZElkLHI9ZS5hZCxpPWUuYWRVcmwsbz1lLndpZHRoLGE9ZS5oZWlnaHQsYz1lLnJlbmRlcmVyLHM9ZS5jcG07T2JqZWN0KGwuYykoYyk/T2JqZWN0KGwuYikoYyxlKTpuJiYobShlKSx0LnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7bWVzc2FnZToiUmVuZGVyIFNlY3VyZSBDcmVhdGl2ZSIsYWQ6T2JqZWN0KHUucmVwbGFjZUF1Y3Rpb25QcmljZSkocixzKSxhZFVybDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShpLHMpLGFkSWQ6bix3aWR0aDpvLGhlaWdodDphfSksdC5vcmlnaW4pKX0ocixlKSxzLmEuYWRkV2lubmluZ0JpZChyKSxpLmEuZW1pdCh2LHIpfWlmKHImJiJQcmViaWQgTmF0aXZlIj09PW4ubWVzc2FnZSlpZigiYXNzZXRSZXF1ZXN0Ij09PW4uYWN0aW9uKXt2YXIgYT1PYmplY3Qoby5kKShuLHIpO2Uuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGEpLGUub3JpZ2luKX1lbHNlIGlmKCJhbGxBc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBkPU9iamVjdChvLmMpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZCksZS5vcmlnaW4pfWVsc2UgaWYoInJlc2l6ZU5hdGl2ZUhlaWdodCI9PT1uLmFjdGlvbilyLmhlaWdodD1uLmhlaWdodCxyLndpZHRoPW4ud2lkdGgsbShyKTtlbHNle2lmKCJjbGljayI9PT1PYmplY3Qoby5iKShuLHIpKXJldHVybjtzLmEuYWRkV2lubmluZ0JpZChyKSxpLmEuZW1pdCh2LHIpfX19ZnVuY3Rpb24gbShlKXt2YXIgdD1lLmFkSWQsbj1lLmFkVW5pdENvZGUscj1lLndpZHRoLGk9ZS5oZWlnaHQ7WyJkaXYiLCJpZnJhbWUiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1mdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuO09iamVjdCh1LmlzR3B0UHViYWRzRGVmaW5lZCkoKSYmKG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZigpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSwoZnVuY3Rpb24odCl7cmV0dXJuIGYoKSh0LmdldFRhcmdldGluZ0tleXMoKSwoZnVuY3Rpb24obil7cmV0dXJuIGcoKSh0LmdldFRhcmdldGluZyhuKSxlKX0pKX0pKTtyZXR1cm4gdCYmdC5nZXRTbG90RWxlbWVudElkKCl9KGUpKTshbiYmT2JqZWN0KHUuaXNBcG5HZXRUYWdEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtyZXR1cm4gdCYmdC50YXJnZXRJZH0odCkpO258fChuPXQpO3JldHVybiBufSh0LG4pLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocik7cmV0dXJuIGkmJmkucXVlcnlTZWxlY3RvcihlKX0oZSsnOm5vdChbc3R5bGUqPSJkaXNwbGF5OiBub25lIl0pJyk7aWYobyl7dmFyIGE9by5zdHlsZTthLndpZHRoPXIrInB4IixhLmhlaWdodD1pKyJweCJ9ZWxzZSBPYmplY3QodS5sb2dXYXJuKSgiVW5hYmxlIHRvIGxvY2F0ZSBtYXRjaGluZyBwYWdlIGVsZW1lbnQgZm9yIGFkVW5pdENvZGUgIi5jb25jYXQobiwiLiAgQ2FuJ3QgcmVzaXplIGl0IHRvIGFkJ3MgZGltZW5zaW9ucy4gIFBsZWFzZSByZXZpZXcgc2V0dXAuIikpfSkpfX0sMjM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigwKSxpPW4oMjgpLG89bigxMSksYT1uLm4obyksYz1uKDUpO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD17fTtyZXR1cm4gdC5hZGRXaW5uaW5nQmlkPWZ1bmN0aW9uKHQpe3ZhciBuPWEoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PXQuYXVjdGlvbklkfSkpO24/KHQuc3RhdHVzPWMuQklEX1NUQVRVUy5SRU5ERVJFRCxuLmFkZFdpbm5pbmdCaWQodCkpOk9iamVjdChyLmxvZ1dhcm4pKCJBdWN0aW9uIG5vdCBmb3VuZCB3aGVuIGFkZGluZyB3aW5uaW5nIGJpZCIpfSx0LmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRXaW5uaW5nQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZFJlcXVlc3RzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb0JpZHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRCaWRzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe2lmKGUuZ2V0QXVjdGlvblN0YXR1cygpPT09aS5hKXJldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9LHQuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmFkVW5pdENvZGU9PT10fSkpfSx0LmdldEFkVW5pdHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRBZFVuaXRDb2Rlcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0Q29kZXMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoci51bmlxdWVzKX0sdC5jcmVhdGVBdWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuPXQuYWRVbml0cyxyPXQuYWRVbml0Q29kZXMsbz10LmNhbGxiYWNrLGE9dC5jYlRpbWVvdXQsYz10LmxhYmVscyx1PXQuYXVjdGlvbklkLHM9T2JqZWN0KGkuaykoe2FkVW5pdHM6bixhZFVuaXRDb2RlczpyLGNhbGxiYWNrOm8sY2JUaW1lb3V0OmEsbGFiZWxzOmMsYXVjdGlvbklkOnV9KTtyZXR1cm4gZnVuY3Rpb24odCl7ZS5wdXNoKHQpfShzKSxzfSx0LmZpbmRCaWRCeUFkSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGEoKShlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10fSkpfSx0LmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkuaikoKVtjLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfSx0LnNldFN0YXR1c0ZvckJpZHM9ZnVuY3Rpb24obixyKXt2YXIgaT10LmZpbmRCaWRCeUFkSWQobik7aWYoaSYmKGkuc3RhdHVzPXIpLGkmJnI9PT1jLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpe3ZhciBvPWEoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PWkuYXVjdGlvbklkfSkpO28mJm8uc2V0QmlkVGFyZ2V0aW5nKGkpfX0sdC5nZXRMYXN0QXVjdGlvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubGVuZ3RoJiZlW2UubGVuZ3RoLTFdLmdldEF1Y3Rpb25JZCgpfSx0LmNsZWFyQWxsQXVjdGlvbnM9ZnVuY3Rpb24oKXtlLmxlbmd0aD0wfSx0fSgpfSwyMzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e2U9ZXx8d2luZG93LnNlc3Npb25TdG9yYWdlLHQ9SlNPTi5wYXJzZShlLmdldEl0ZW0odSkpfWNhdGNoKGUpe310JiZwKHQsITApfTt2YXIgcixpLG89bigzKSxhPW4oMCksYz1uKDI4KSx1PSJ1cGJqczpkZWJ1Z2dpbmciO2Z1bmN0aW9uIHMoZSl7T2JqZWN0KGEubG9nTWVzc2FnZSkoIkRFQlVHOiAiK2UpfWZ1bmN0aW9uIGQoZSl7T2JqZWN0KGEubG9nV2FybikoIkRFQlVHOiAiK2UpfWZ1bmN0aW9uIGYoZSl7cj15LmJpbmQoZSksYy5jLmJlZm9yZShyLDUpLGk9aC5iaW5kKGUpLGMuZS5iZWZvcmUoaSw1KX1mdW5jdGlvbiBsKCl7Yy5jLmdldEhvb2tzKHtob29rOnJ9KS5yZW1vdmUoKSxjLmUuZ2V0SG9va3Moe2hvb2s6aX0pLnJlbW92ZSgpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtvLmIuc2V0Q29uZmlnKHtkZWJ1ZzohMH0pLGwoKSxmKGUpLHMoImJpZGRlciBvdmVycmlkZXMgZW5hYmxlZCIuY29uY2F0KHQ/IiBmcm9tIHNlc3Npb24iOiIiKSl9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuISghZS5iaWRkZXJ8fGUuYmlkZGVyPT09dCl8fCEoIWUuYWRVbml0Q29kZXx8ZS5hZFVuaXRDb2RlPT09bil9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYtMT09PWUuaW5kZXhPZih0KX1mdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PVsiYWRVbml0Q29kZSIsImJpZGRlciJdLmluZGV4T2YoZSl9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiBzKCJiaWRkZXIgb3ZlcnJpZGVzIGNoYW5nZWQgJyIuY29uY2F0KHQuYWRVbml0Q29kZSwiLyIpLmNvbmNhdCh0LmJpZGRlckNvZGUsIicgIikuY29uY2F0KG4sIi4iKS5jb25jYXQociwiIGZyb20gJyIpLmNvbmNhdCh0W3JdLCIuanMnIHRvICciKS5jb25jYXQoZVtyXSwiJyIpKSx0W3JdPWVbcl0sdH0pLHQpfWZ1bmN0aW9uIHkoZSx0LG4pe3ZhciByPXRoaXM7YihyLmJpZGRlcnMsbi5iaWRkZXJDb2RlKT9kKCJiaWRkZXIgJyIuY29uY2F0KG4uYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKTooQXJyYXkuaXNBcnJheShyLmJpZHMpJiZyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZyhlLG4uYmlkZGVyQ29kZSx0KXx8dihlLG4sImJpZGRlciIpfSkpLGUodCxuKSl9ZnVuY3Rpb24gaChlLHQpe3ZhciBuPXRoaXMscj10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWIobi5iaWRkZXJzLGUuYmlkZGVyQ29kZSl8fChkKCJiaWRSZXF1ZXN0ICciLmNvbmNhdChlLmJpZGRlckNvZGUsIicgZXhjbHVkZWQgZnJvbSBhdWN0aW9uIGJ5IGJpZGRlciBvdmVycmlkZXMiKSksITEpfSkpO0FycmF5LmlzQXJyYXkobi5iaWRSZXF1ZXN0cykmJnIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5iaWRSZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7Zyh0LGUuYmlkZGVyQ29kZSxuLmFkVW5pdENvZGUpfHx2KHQsbiwiYmlkUmVxdWVzdCIpfSkpfSkpfSkpLGUocil9ZnVuY3Rpb24gbShlKXtpZihlLmVuYWJsZWQpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh1LEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt9cChlKX1lbHNle2woKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGRpc2FibGVkIik7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHUpfWNhdGNoKGUpe319fW8uYi5nZXRDb25maWcoImRlYnVnZ2luZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBtKGUuZGVidWdnaW5nKX0pKX0sMjQ6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7cmV0dXJuIGV9fSwyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZihyKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKG4pe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHQpfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmNhbGwodCxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBlLmNhbGwodCxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZS5jYWxsKHQsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDUpLGk9bigyNyksbz1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9lOnZvaWQgMH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9vKHJbZV0pfHxvKGlbZV0pOnJbZV0mJnJbZV1bdF18fGlbZV0mJmlbZV1bdF19fSwyNzpmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLk1hdGg9PU1hdGgmJmV9O2UuZXhwb3J0cz1uKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fG4oIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fG4oIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8bigib2JqZWN0Ij09dHlwZW9mIHQmJnQpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfSkuY2FsbCh0LG4oNDEpKX0sMjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLHQuaz1mdW5jdGlvbihlKXt2YXIgdCxuLG8sYSxzPWUuYWRVbml0cyxkPWUuYWRVbml0Q29kZXMsZj1lLmNhbGxiYWNrLHA9ZS5jYlRpbWVvdXQsdj1lLmxhYmVscyxVPWUuYXVjdGlvbklkLGs9cyxOPXYsUD1kLHE9W10sRz1bXSxMPVtdLFc9VXx8T2JqZWN0KHIuZ2VuZXJhdGVVVUlEKSgpLEY9Zix6PXAsVj1bXSxIPW5ldyBTZXQ7ZnVuY3Rpb24gSygpe3JldHVybnthdWN0aW9uSWQ6Vyx0aW1lc3RhbXA6dCxhdWN0aW9uRW5kOm4sYXVjdGlvblN0YXR1czpvLGFkVW5pdHM6ayxhZFVuaXRDb2RlczpQLGxhYmVsczpOLGJpZGRlclJlcXVlc3RzOnEsbm9CaWRzOkwsYmlkc1JlY2VpdmVkOkcsd2lubmluZ0JpZHM6Vix0aW1lb3V0Onp9fWZ1bmN0aW9uIEooZSx0KXtpZih0JiZjbGVhclRpbWVvdXQoYSksdm9pZCAwPT09bil7dmFyIGk9W107ZSYmKE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdWN0aW9uICIuY29uY2F0KFcsIiB0aW1lZE91dCIpKSxjPUgsKGk9cS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybihlLmJpZHN8fFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFjLmhhcyhlLmJpZGRlcil9KSl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57YmlkSWQ6ZS5iaWRJZCxiaWRkZXI6ZS5iaWRkZXIsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsYXVjdGlvbklkOmUuYXVjdGlvbklkfX0pKSkubGVuZ3RoJiZqLmVtaXQoUy5FVkVOVFMuQklEX1RJTUVPVVQsaSkpLG89QSxuPURhdGUubm93KCksai5lbWl0KFMuRVZFTlRTLkFVQ1RJT05fRU5ELEsoKSksXyhrLChmdW5jdGlvbigpe3RyeXtpZihudWxsIT1GKXt2YXIgdD1QLG49Ry5maWx0ZXIoci5iaW5kLmNhbGwoci5hZFVuaXRzRmlsdGVyLHRoaXMsdCkpLnJlZHVjZShNLHt9KTtGLmFwcGx5KHVwYmpzLFtuLGUsV10pLEY9bnVsbH19Y2F0Y2goZSl7T2JqZWN0KHIubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfWZpbmFsbHl7aS5sZW5ndGgmJk8uY2FsbFRpbWVkT3V0QmlkZGVycyhzLGkseik7dmFyIG89dS5iLmdldENvbmZpZygidXNlclN5bmMiKXx8e307by5lbmFibGVPdmVycmlkZXx8bShvLnN5bmNEZWxheSl9fSkpfXZhciBjfWZ1bmN0aW9uIFkoKXt1LmIucmVzZXRCaWRkZXIoKSxPYmplY3Qoci5sb2dJbmZvKSgiQmlkcyBSZWNlaXZlZCBmb3IgQXVjdGlvbiB3aXRoIGlkOiAiLmNvbmNhdChXKSxHKSxvPUEsSighMSwhMCl9ZnVuY3Rpb24gUShlKXtILmFkZChlKX1mdW5jdGlvbiAkKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDt0PWUscT1xLmNvbmNhdCh0KX0pKTt2YXIgbj17fSxzPXtiaWRSZXF1ZXN0czplLHJ1bjpmdW5jdGlvbigpe3ZhciBzLHA7cz1KLmJpbmQobnVsbCwhMCkscD1zZXRUaW1lb3V0KHMseiksYT1wLG89RSxqLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9JTklULEsoKSk7dmFyIHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLG89ITEsYT1uZXcgU2V0LHM9e307ZnVuY3Rpb24gZCgpe24tLSxvJiYwPT09biYmZSgpfWZ1bmN0aW9uIGYoZSxvKXt2YXIgYT10aGlzLGY9dC5nZXRCaWRSZXF1ZXN0cygpO2lmKG8uYWRkUmVxdWVzdE9ubHkmJmEuaXNEeW5hbWljJiYhZi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWQ9PT1hLmJpZGRlclJlcXVlc3RJZH0pKSlmLnB1c2goYSk7ZWxzZXtzW28ucmVxdWVzdElkXT0hMCxuKys7dmFyIHA9dC5nZXRBdWN0aW9uSWQoKSxnPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRVbml0Q29kZSxuPWUuYmlkLG89ZS5iaWRkZXJSZXF1ZXN0LGE9ZS5hdWN0aW9uSWQscz1vLnN0YXJ0LGQ9aCh7fSxuLHthdWN0aW9uSWQ6YSxyZXNwb25zZVRpbWVzdGFtcDpPYmplY3Qoci50aW1lc3RhbXApKCkscmVxdWVzdFRpbWVzdGFtcDpzLGNwbTpwYXJzZUZsb2F0KG4uY3BtKXx8MCxiaWRkZXI6bi5iaWRkZXJDb2RlLGFkVW5pdENvZGU6dH0pO2QudGltZVRvUmVzcG9uZD1kLnJlc3BvbnNlVGltZXN0YW1wLWQucmVxdWVzdFRpbWVzdGFtcCxqLmVtaXQoUy5FVkVOVFMuQklEX0FESlVTVE1FTlQsZCk7dmFyIGY9by5iaWRzJiZsKCkoby5iaWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT10JiZlLmJpZElkPT1kLnJlcXVlc3RJZH0pKSxwPWYmJmYucmVuZGVyZXIsZz1kLm1lZGlhVHlwZSxiPWYmJmYubWVkaWFUeXBlcyYmZi5tZWRpYVR5cGVzW2ddLHY9YiYmYi5yZW5kZXJlcixtPW51bGw7diYmdi51cmwmJnYucmVuZGVyJiYoITAhPT12LmJhY2t1cE9ubHl8fCFuLnJlbmRlcmVyKT9tPXY6cCYmcC51cmwmJnAucmVuZGVyJiYoITAhPT1wLmJhY2t1cE9ubHl8fCFuLnJlbmRlcmVyKSYmKG09cCk7bSYmKGQucmVuZGVyZXI9Yy5hLmluc3RhbGwoe3VybDptLnVybH0pLGQucmVuZGVyZXIuc2V0UmVuZGVyKG0ucmVuZGVyKSk7dmFyIE89RChuLm1lZGlhVHlwZSxmLHUuYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSksRT1PYmplY3QoaS5hKShkLmNwbSwib2JqZWN0Ij09PXkoTyk/Tzp1LmIuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpLHUuYi5nZXRDb25maWcoImN1cnJlbmN5LmdyYW51bGFyaXR5TXVsdGlwbGllciIpKTtyZXR1cm4gZC5wYkxnPUUubG93LGQucGJNZz1FLm1lZCxkLnBiSGc9RS5oaWdoLGQucGJBZz1FLmF1dG8sZC5wYkRnPUUuZGVuc2UsZC5wYkNnPUUuY3VzdG9tLGR9KHthZFVuaXRDb2RlOmUsYmlkOm8sYmlkZGVyUmVxdWVzdDphLGF1Y3Rpb25JZDpwfSk7InZpZGVvIj09PWcubWVkaWFUeXBlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZhciBvPSEwLGE9T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkodC5vcmlnaW5hbFJlcXVlc3RJZHx8dC5yZXF1ZXN0SWQsW25dKSxjPWEmJk9iamVjdChyLmRlZXBBY2Nlc3MpKGEsIm1lZGlhVHlwZXMudmlkZW8iKSxzPWMmJk9iamVjdChyLmRlZXBBY2Nlc3MpKGMsImNvbnRleHQiKTt1LmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSYmcyE9PWIuYiYmKCF0LnZpZGVvQ2FjaGVLZXl8fHUuYi5nZXRDb25maWcoImNhY2hlLmlnbm9yZUJpZGRlckNhY2hlS2V5Iik/KG89ITEseChlLHQsaSxhKSk6dC52YXN0VXJsfHwoT2JqZWN0KHIubG9nRXJyb3IpKCJ2aWRlb0NhY2hlS2V5IHNwZWNpZmllZCBidXQgbm90IHJlcXVpcmVkIHZhc3RVcmwgZm9yIHZpZGVvIGJpZCIpLG89ITEpKTtvJiYoQihlLHQpLGkoKSl9KHQsZyxhLGQpOihCKHQsZyksZCgpKX19ZnVuY3Rpb24gcCgpe3ZhciBpPXRoaXMsYz10LmdldEJpZFJlcXVlc3RzKCk7aWYoInMyc0JpZGRlclBsYWNlaG9sZGVyIiE9PWkuYmlkZGVyQ29kZSl7dmFyIGQ9dS5iLmdldENvbmZpZygiYXVjdGlvbk9wdGlvbnMiKTtpZihhLmFkZChpKSxkJiYhT2JqZWN0KHIuaXNFbXB0eSkoZCkpe3ZhciBmPWQuc2Vjb25kYXJ5QmlkZGVycztmJiYhYy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoKShmLGUuYmlkZGVyQ29kZSl9KSkmJihjPWMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZygpKGYsZS5iaWRkZXJDb2RlKX0pKSl9bz1jLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYS5oYXMoZSl9KSksaS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3NbZS5iaWRJZF18fCh0LmFkZE5vQmlkKGUpLGouZW1pdChTLkVWRU5UUy5OT19CSUQsZSkpfSkpLG8mJjA9PT1uJiZlKCl9ZWxzZXt2YXIgbD1jLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyUmVxdWVzdElkfSkpLmluZGV4T2YoaS5iaWRkZXJSZXF1ZXN0SWQpO2w+LTEmJmMuc3BsaWNlKGwsMSl9fXJldHVybnthZGRCaWRSZXNwb25zZTpmLGFkYXB0ZXJEb25lOnB9fShZLHQpO08uY2FsbEJpZHMoayxlLChmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO0MuYXBwbHkoe2Rpc3BhdGNoOnYuYWRkQmlkUmVzcG9uc2UsYmlkZGVyUmVxdWVzdDp0aGlzfSx0KX0pLHYuYWRhcHRlckRvbmUse3JlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtmKFQsdCksZihuLGUpLElbZV18fChJW2VdPXtTUkE6ITAsb3JpZ2luOnR9KSxuW2VdPjEmJihJW2VdLlNSQT0hMSl9LGRvbmU6ZnVuY3Rpb24oZSl7VFtlXS0tLHdbMF0mJmQod1swXSkmJncuc2hpZnQoKX19LHosUSl9fTtmdW5jdGlvbiBkKGUpe3ZhciB0PSEwLG49dS5iLmdldENvbmZpZygibWF4UmVxdWVzdHNQZXJPcmlnaW4iKXx8NDtyZXR1cm4gZS5iaWRSZXF1ZXN0cy5zb21lKChmdW5jdGlvbihlKXt2YXIgcj0xLGk9dm9pZCAwIT09ZS5zcmMmJmUuc3JjPT09Uy5TMlMuU1JDPyJzMnMiOmUuYmlkZGVyQ29kZTtyZXR1cm4gSVtpXSYmKCExPT09SVtpXS5TUkEmJihyPU1hdGgubWluKGUuYmlkcy5sZW5ndGgsbikpLFRbSVtpXS5vcmlnaW5dK3I+biYmKHQ9ITEpKSwhdH0pKSx0JiZlLnJ1bigpLHR9ZnVuY3Rpb24gZihlLHQpe3ZvaWQgMD09PWVbdF0/ZVt0XT0xOmVbdF0rK31kKHMpfHwoT2JqZWN0KHIubG9nV2FybikoInF1ZXVlaW5nIGF1Y3Rpb24gZHVlIHRvIGxpbWl0ZWQgZW5kcG9pbnQgY2FwYWNpdHkiKSx3LnB1c2gocykpfXJldHVybnthZGRCaWRSZWNlaXZlZDpmdW5jdGlvbihlKXtHPUcuY29uY2F0KGUpfSxhZGROb0JpZDpmdW5jdGlvbihlKXtMPUwuY29uY2F0KGUpfSxleGVjdXRlQ2FsbGJhY2s6SixjYWxsQmlkczpmdW5jdGlvbigpe289InN0YXJ0ZWQiLHQ9RGF0ZS5ub3coKTt2YXIgZT1PLm1ha2VCaWRSZXF1ZXN0cyhrLHQsVyx6LE4pO09iamVjdChyLmxvZ0luZm8pKCJCaWRzIFJlcXVlc3RlZCBmb3IgQXVjdGlvbiB3aXRoIGlkOiAiLmNvbmNhdChXKSxlKSxlLmxlbmd0aDwxPyhPYmplY3Qoci5sb2dXYXJuKSgiTm8gdmFsaWQgYmlkIHJlcXVlc3RzIHJldHVybmVkIGZvciBhdWN0aW9uIiksWSgpKTpSLmNhbGwoe2Rpc3BhdGNoOiQsY29udGV4dDp0aGlzfSxlKX0sYWRkV2lubmluZ0JpZDpmdW5jdGlvbihlKXtWPVYuY29uY2F0KGUpLE8uY2FsbEJpZFdvbkJpZGRlcihlLmJpZGRlcixlLHMpfSxzZXRCaWRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7Ty5jYWxsU2V0VGFyZ2V0aW5nQmlkZGVyKGUuYmlkZGVyLGUpfSxnZXRXaW5uaW5nQmlkczpmdW5jdGlvbigpe3JldHVybiBWfSxnZXRUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHp9LGdldEF1Y3Rpb25JZDpmdW5jdGlvbigpe3JldHVybiBXfSxnZXRBdWN0aW9uU3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldEFkVW5pdHM6ZnVuY3Rpb24oKXtyZXR1cm4ga30sZ2V0QWRVbml0Q29kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gUH0sZ2V0QmlkUmVxdWVzdHM6ZnVuY3Rpb24oKXtyZXR1cm4gcX0sZ2V0Qmlkc1JlY2VpdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIEd9LGdldE5vQmlkczpmdW5jdGlvbigpe3JldHVybiBMfX19LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksdC5nPVUsdC5kPUIsbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksdC5qPVA7dmFyIHI9bigwKSxpPW4oNDkpLG89bigzOCksYT1uKDEwMiksYz1uKDEzKSx1PW4oMykscz1uKDYxKSxkPW4oOSksZj1uKDExKSxsPW4ubihmKSxwPW4oMTIpLGc9bi5uKHApLGI9bigyMiksdj1uKDIpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuKHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbT1zLmEuc3luY1VzZXJzLE89big4KS5kZWZhdWx0LGo9bigxMCksUz1uKDUpLEU9ImluUHJvZ3Jlc3MiLEE9ImNvbXBsZXRlZCI7ai5vbihTLkVWRU5UUy5CSURfQURKVVNUTUVOVCwoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5iaWRkZXJDb2RlLGk9ZS5jcG07aWYodXBianMuYmlkZGVyU2V0dGluZ3MmJihuJiZ1cGJqcy5iaWRkZXJTZXR0aW5nc1tuXSYmImZ1bmN0aW9uIj09dHlwZW9mIHVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ/dD11cGJqcy5iaWRkZXJTZXR0aW5nc1tuXS5iaWRDcG1BZGp1c3RtZW50OnVwYmpzLmJpZGRlclNldHRpbmdzW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3NbUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCYmKHQ9dXBianMuYmlkZGVyU2V0dGluZ3NbUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCksdCkpdHJ5e2k9dChlLmNwbSxoKHt9LGUpKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGR1cmluZyBiaWQgYWRqdXN0bWVudCIsImJpZG1hbmFnZXIuanMiLGUpfWk+PTAmJihlLmNwbT1pKX0oZSl9KSk7dmFyIFQ9e30sST17fSx3PVtdO3ZhciBDPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuYmlkZGVyUmVxdWVzdCxlLHQpfSksImFkZEJpZFJlc3BvbnNlIiksUj1PYmplY3QoZC5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3RoaXMuZGlzcGF0Y2guY2FsbCh0aGlzLmNvbnRleHQsZSl9KSwiYWRkQmlkZGVyUmVxdWVzdHMiKSxfPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCl7dCYmdCgpfSksImJpZHNCYWNrQ2FsbGJhY2siKTtmdW5jdGlvbiBVKGUsdCl7dC50aW1lVG9SZXNwb25kPmUuZ2V0VGltZW91dCgpK3UuYi5nZXRDb25maWcoInRpbWVvdXRCdWZmZXIiKSYmZS5leGVjdXRlQ2FsbGJhY2soITApfWZ1bmN0aW9uIEIoZSx0KXt2YXIgbj1lLmdldEJpZFJlcXVlc3RzKCkscj1sKCkobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZT09PXQuYmlkZGVyQ29kZX0pKTshZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlLmJpZGRlckNvZGUmJihlLmNwbT4wfHxlLmRlYWxJZCkpe3ZhciByPWwoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmFkVW5pdENvZGV9KSk7bj1mdW5jdGlvbihlLHQsbil7aWYoIXQpcmV0dXJue307dmFyIHI9e30saT11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihpKXtxKHIsUCh0Lm1lZGlhVHlwZSxlKSx0LG4pLGUmJmlbZV0mJmlbZV1bUy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXSYmKHEocixpW2VdLHQsbiksdC5zZW5kU3RhbmRhcmRUYXJnZXRpbmc9aVtlXS5zZW5kU3RhbmRhcmRUYXJnZXRpbmcpfXQubmF0aXZlJiYocj1oKHt9LHIsT2JqZWN0KG8uZSkodCxuKSkpO3JldHVybiByfShlLmJpZGRlckNvZGUsZSxyKX1lLmFkc2VydmVyVGFyZ2V0aW5nPWgoZS5hZHNlcnZlclRhcmdldGluZ3x8e30sbil9KHQsciksai5lbWl0KFMuRVZFTlRTLkJJRF9SRVNQT05TRSx0KSxlLmFkZEJpZFJlY2VpdmVkKHQpLFUoZSx0KX12YXIgeD1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixpKXtPYmplY3QoYS5iKShbdF0sKGZ1bmN0aW9uKGksbyl7aT8oT2JqZWN0KHIubG9nV2FybikoIkZhaWxlZCB0byBzYXZlIHRvIHRoZSB2aWRlbyBjYWNoZTogIi5jb25jYXQoaSwiLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIikpLFUoZSx0KSk6IiI9PT1vWzBdLnV1aWQ/KE9iamVjdChyLmxvZ1dhcm4pKCJTdXBwbGllZCB2aWRlbyBjYWNoZSBrZXkgd2FzIGFscmVhZHkgaW4gdXNlIGJ5IFByZWJpZCBDYWNoZTsgY2FjaGluZyBhdHRlbXB0IHdhcyByZWplY3RlZC4gVmlkZW8gYmlkIG11c3QgYmUgZGlzY2FyZGVkLiIpLFUoZSx0KSk6KHQudmlkZW9DYWNoZUtleT1vWzBdLnV1aWQsdC52YXN0VXJsfHwodC52YXN0VXJsPU9iamVjdChhLmEpKHQudmlkZW9DYWNoZUtleSkpLEIoZSx0KSxuKCkpfSksaSl9KSwiY2FsbFByZWJpZENhY2hlIik7ZnVuY3Rpb24gRChlLHQsbil7aWYoZSYmbil7aWYoZT09PXYuZCl7dmFyIGk9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy4iLmNvbmNhdCh2LmQsIi5jb250ZXh0IiksImluc3RyZWFtIik7aWYoblsiIi5jb25jYXQodi5kLCItIikuY29uY2F0KGkpXSlyZXR1cm4gblsiIi5jb25jYXQodi5kLCItIikuY29uY2F0KGkpXX1yZXR1cm4gbltlXX19dmFyIGs9ZnVuY3Rpb24oZSx0KXt2YXIgbj1EKGUsdCx1LmIuZ2V0Q29uZmlnKCJtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5IikpO3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmbj8ic3RyaW5nIj09dHlwZW9mIG4/bjoiY3VzdG9tIjp1LmIuZ2V0Q29uZmlnKCJwcmljZUdyYW51bGFyaXR5Iil9LE49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuKGU9ZXx8ayh0Lm1lZGlhVHlwZSxuKSk9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuQVVUTz90LnBiQWc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5ERU5TRT90LnBiRGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5MT1c/dC5wYkxnOmU9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuTUVESVVNP3QucGJNZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkhJR0g/dC5wYkhnOmU9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuQ1VTVE9NP3QucGJDZzp2b2lkIDB9fTtmdW5jdGlvbiBQKGUsdCl7ZnVuY3Rpb24gbihlLHQpe3JldHVybntrZXk6ZSx2YWw6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG4pfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZ2V0VmFsdWUpKGUsdCl9fX12YXIgaT1TLlRBUkdFVElOR19LRVlTLG89dXBianMuYmlkZGVyU2V0dGluZ3M7aWYob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXXx8KG9bUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF09e30pLG9bUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bUy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXXx8KG9bUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bUy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXT1bbihpLkJJRERFUiwiYmlkZGVyQ29kZSIpLG4oaS5BRF9JRCwiYWRJZCIpLG4oaS5QUklDRV9CVUNLRVQsTigpKSxuKGkuU0laRSwic2l6ZSIpLG4oaS5ERUFMLCJkZWFsSWQiKSxuKGkuU09VUkNFLCJzb3VyY2UiKSxuKGkuRk9STUFULCJtZWRpYVR5cGUiKSxuKGkuQURPTUFJTiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWV0YSYmZS5tZXRhLmFkdmVydGlzZXJEb21haW5zJiZlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMubGVuZ3RoPjA/ZS5tZXRhLmFkdmVydGlzZXJEb21haW5zWzBdOiIifSkpXSksInZpZGVvIj09PWUpe3ZhciBhPW9bUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bUy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtpZihbaS5VVUlELGkuQ0FDSEVfSURdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWwoKShhLChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXk9PT1lfSkpJiZhLnB1c2gobihlLCJ2aWRlb0NhY2hlS2V5IikpfSkpLHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiYoIXR8fCExIT09T2JqZWN0KHIuZGVlcEFjY2VzcykobywiIi5jb25jYXQodCwiLnNlbmRTdGFuZGFyZFRhcmdldGluZyIpKSkpe3ZhciBjPU9iamVjdChyLnBhcnNlVXJsKSh1LmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSk7dm9pZCAwPT09bCgpKGEsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleT09PWkuQ0FDSEVfSE9TVH0pKSYmYS5wdXNoKG4oaS5DQUNIRV9IT1NULChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwiYWRzZXJ2ZXJUYXJnZXRpbmcuIi5jb25jYXQoaS5DQUNIRV9IT1NUKSk/ZS5hZHNlcnZlclRhcmdldGluZ1tpLkNBQ0hFX0hPU1RdOmMuaG9zdG5hbWV9KSkpfX1yZXR1cm4gb1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXX1mdW5jdGlvbiBxKGUsdCxuLGkpe3ZhciBvPXRbUy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtyZXR1cm4gbi5zaXplPW4uZ2V0U2l6ZSgpLE9iamVjdChyLl9lYWNoKShvLChmdW5jdGlvbihvKXt2YXIgYT1vLmtleSxjPW8udmFsO2lmKGVbYV0mJk9iamVjdChyLmxvZ1dhcm4pKCJUaGUga2V5OiAiK2ErIiBpcyBnZXR0aW5nIG92ZXdyaXR0ZW4iKSxPYmplY3Qoci5pc0ZuKShjKSl0cnl7Yz1jKG4saSl9Y2F0Y2goZSl7T2JqZWN0KHIubG9nRXJyb3IpKCJiaWRtYW5hZ2VyIiwiRVJST1IiLGUpfSh2b2lkIDA9PT10LnN1cHByZXNzRW1wdHlLZXlzfHwhMCE9PXQuc3VwcHJlc3NFbXB0eUtleXMpJiZhIT09Uy5UQVJHRVRJTkdfS0VZUy5ERUFMfHwhT2JqZWN0KHIuaXNFbXB0eVN0cikoYykmJm51bGwhPWM/ZVthXT1jOk9iamVjdChyLmxvZ0luZm8pKCJzdXBwcmVzc2luZyBlbXB0eSBrZXkgJyIrYSsiJyBmcm9tIGFkc2VydmVyIHRhcmdldGluZyIpfSkpLGV9ZnVuY3Rpb24gTShlLHQpe3JldHVybiBlW3QuYWRVbml0Q29kZV18fChlW3QuYWRVbml0Q29kZV09e2JpZHM6W119KSxlW3QuYWRVbml0Q29kZV0uYmlkcy5wdXNoKHQpLGV9fSwyOTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIHI9big0OSksaT1uKDExKSxvPW4ubihpKSxhPW4oMTIpLGM9bi5uKGEpLHU9big5MCkscz1uLm4odSksZD1uKDApLGY9WyJmcGQiXTtmdW5jdGlvbiBsKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixyLGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8KGlbbl09ZVtuXSk7cmV0dXJuIGl9KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKW49b1tyXSx0LmluZGV4T2Yobik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG4pJiYoaVtuXT1lW25dKX1yZXR1cm4gaX1mdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBnKGUpe3JldHVybihnPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYigpe3JldHVybihiPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHY9big3NikseT1uKDUpLGg9IlRSVUUiPT09T2JqZWN0KGQuZ2V0UGFyYW1ldGVyQnlOYW1lKSh5LkRFQlVHX01PREUpLnRvVXBwZXJDYXNlKCksbT13aW5kb3cubG9jYXRpb24ub3JpZ2luLE89InJhbmRvbSIsaj17fTtqW09dPSEwLGouZml4ZWQ9ITA7dmFyIFM9TyxFPXtMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifTt2YXIgQT1mdW5jdGlvbigpe3ZhciBlLHQsbixpPVtdLGE9bnVsbDtmdW5jdGlvbiB1KCl7ZT17fTt2YXIgaT17X2RlYnVnOmgsZ2V0IGRlYnVnKCl7cmV0dXJuIHRoaXMuX2RlYnVnfSxzZXQgZGVidWcoZSl7dGhpcy5fZGVidWc9ZX0sX2JpZGRlclRpbWVvdXQ6M2UzLGdldCBiaWRkZXJUaW1lb3V0KCl7cmV0dXJuIHRoaXMuX2JpZGRlclRpbWVvdXR9LHNldCBiaWRkZXJUaW1lb3V0KGUpe3RoaXMuX2JpZGRlclRpbWVvdXQ9ZX0sX3B1Ymxpc2hlckRvbWFpbjptLGdldCBwdWJsaXNoZXJEb21haW4oKXtyZXR1cm4gdGhpcy5fcHVibGlzaGVyRG9tYWlufSxzZXQgcHVibGlzaGVyRG9tYWluKGUpe3RoaXMuX3B1Ymxpc2hlckRvbWFpbj1lfSxfcHJpY2VHcmFudWxhcml0eTpFLk1FRElVTSxzZXQgcHJpY2VHcmFudWxhcml0eShlKXtjKGUpJiYoInN0cmluZyI9PXR5cGVvZiBlP3RoaXMuX3ByaWNlR3JhbnVsYXJpdHk9YShlKT9lOkUuTUVESVVNOk9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpJiYodGhpcy5fY3VzdG9tUHJpY2VCdWNrZXQ9ZSx0aGlzLl9wcmljZUdyYW51bGFyaXR5PUUuQ1VTVE9NLE9iamVjdChkLmxvZ01lc3NhZ2UpKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkiKSkpfSxnZXQgcHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9wcmljZUdyYW51bGFyaXR5fSxfY3VzdG9tUHJpY2VCdWNrZXQ6e30sZ2V0IGN1c3RvbVByaWNlQnVja2V0KCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByaWNlQnVja2V0fSxfbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eTp7fSxnZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5fSxzZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eShlKXt2YXIgdD10aGlzO3RoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk9T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiBjKGVbcl0pPyJzdHJpbmciPT10eXBlb2YgZT9uW3JdPWEoZVtyXSk/ZVtyXTp0Ll9wcmljZUdyYW51bGFyaXR5Ok9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpJiYobltyXT1lW3JdLE9iamVjdChkLmxvZ01lc3NhZ2UpKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkgZm9yICIuY29uY2F0KHIpKSk6T2JqZWN0KGQubG9nV2FybikoIkludmFsaWQgcHJpY2UgZ3JhbnVsYXJpdHkgZm9yIG1lZGlhIHR5cGU6ICIuY29uY2F0KHIpKSxufSkse30pfSxfc2VuZEFsbEJpZHM6dHJ1ZSxnZXQgZW5hYmxlU2VuZEFsbEJpZHMoKXtyZXR1cm4gdGhpcy5fc2VuZEFsbEJpZHN9LHNldCBlbmFibGVTZW5kQWxsQmlkcyhlKXt0aGlzLl9zZW5kQWxsQmlkcz1lfSxfdXNlQmlkQ2FjaGU6ZmFsc2UsZ2V0IHVzZUJpZENhY2hlKCl7cmV0dXJuIHRoaXMuX3VzZUJpZENhY2hlfSxzZXQgdXNlQmlkQ2FjaGUoZSl7dGhpcy5fdXNlQmlkQ2FjaGU9ZX0sX2RldmljZUFjY2Vzczp0cnVlLGdldCBkZXZpY2VBY2Nlc3MoKXtyZXR1cm4gdGhpcy5fZGV2aWNlQWNjZXNzfSxzZXQgZGV2aWNlQWNjZXNzKGUpe3RoaXMuX2RldmljZUFjY2Vzcz1lfSxfYmlkZGVyU2VxdWVuY2U6UyxnZXQgYmlkZGVyU2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fYmlkZGVyU2VxdWVuY2V9LHNldCBiaWRkZXJTZXF1ZW5jZShlKXtqW2VdP3RoaXMuX2JpZGRlclNlcXVlbmNlPWU6T2JqZWN0KGQubG9nV2FybikoIkludmFsaWQgb3JkZXI6ICIuY29uY2F0KGUsIi4gQmlkZGVyIFNlcXVlbmNlIHdhcyBub3Qgc2V0LiIpKX0sX3RpbWVvdXRCdWZmZXI6NDAwLGdldCB0aW1lb3V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX3RpbWVvdXRCdWZmZXJ9LHNldCB0aW1lb3V0QnVmZmVyKGUpe3RoaXMuX3RpbWVvdXRCdWZmZXI9ZX0sX2Rpc2FibGVBamF4VGltZW91dDpmYWxzZSxnZXQgZGlzYWJsZUFqYXhUaW1lb3V0KCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBamF4VGltZW91dH0sc2V0IGRpc2FibGVBamF4VGltZW91dChlKXt0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXQ9ZX0sX21heE5lc3RlZElmcmFtZXM6MTAsZ2V0IG1heE5lc3RlZElmcmFtZXMoKXtyZXR1cm4gdGhpcy5fbWF4TmVzdGVkSWZyYW1lc30sc2V0IG1heE5lc3RlZElmcmFtZXMoZSl7dGhpcy5fbWF4TmVzdGVkSWZyYW1lcz1lfSxfYXVjdGlvbk9wdGlvbnM6e30sZ2V0IGF1Y3Rpb25PcHRpb25zKCl7cmV0dXJuIHRoaXMuX2F1Y3Rpb25PcHRpb25zfSxzZXQgYXVjdGlvbk9wdGlvbnMoZSl7KGZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKSlyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpLCExO2Zvcih2YXIgdD0wLG49T2JqZWN0LmtleXMoZSk7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07aWYoInNlY29uZGFyeUJpZGRlcnMiIT09ciYmInN1cHByZXNzU3RhbGVSZW5kZXIiIT09cilyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyBnaXZlbiBhbiBpbmNvcnJlY3QgcGFyYW06ICIuY29uY2F0KHIpKSwhMTtpZigic2Vjb25kYXJ5QmlkZGVycyI9PT1yKXtpZighT2JqZWN0KGQuaXNBcnJheSkoZVtyXSkpcmV0dXJuIE9iamVjdChkLmxvZ1dhcm4pKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBBcnJheSIpKSwhMTtpZighZVtyXS5ldmVyeShkLmlzU3RyKSlyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvbmx5IHN0cmluZyIpKSwhMX1lbHNlIGlmKCJzdXBwcmVzc1N0YWxlUmVuZGVyIj09PXImJiFPYmplY3QoZC5pc0Jvb2xlYW4pKGVbcl0pKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbiIpKSwhMX1yZXR1cm4hMH0pKGUpJiYodGhpcy5fYXVjdGlvbk9wdGlvbnM9ZSl9fTtmdW5jdGlvbiBhKGUpe3JldHVybiBvKCkoT2JqZWN0LmtleXMoRSksKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09RVt0XX0pKX1mdW5jdGlvbiBjKGUpe2lmKCFlKXJldHVybiBPYmplY3QoZC5sb2dFcnJvcikoIlByZWJpZCBFcnJvcjogbm8gdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgIiksITE7aWYoInN0cmluZyI9PXR5cGVvZiBlKWEoZSl8fE9iamVjdChkLmxvZ1dhcm4pKCJQcmViaWQgV2FybmluZzogc2V0UHJpY2VHcmFudWxhcml0eSB3YXMgY2FsbGVkIHdpdGggaW52YWxpZCBzZXR0aW5nLCB1c2luZyBgbWVkaXVtYCBhcyBkZWZhdWx0LiIpO2Vsc2UgaWYoT2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJiFPYmplY3Qoci5iKShlKSlyZXR1cm4gT2JqZWN0KGQubG9nRXJyb3IpKCJJbnZhbGlkIGN1c3RvbSBwcmljZSB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtyZXR1cm4hMH10JiZJKE9iamVjdC5rZXlzKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtuXSE9PWlbbl0mJihlW25dPWlbbl18fHt9KSxlfSkse30pKSx0PWksbj17fX1mdW5jdGlvbiB5KCl7aWYoYSYmbiYmT2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoblthXSkpe3ZhciBlPW5bYV0scj1uZXcgcy5hKE9iamVjdC5rZXlzKHQpLmNvbmNhdChPYmplY3Qua2V5cyhlKSkpO3JldHVybiB2KHIpLnJlZHVjZSgoZnVuY3Rpb24obixyKXtyZXR1cm4gdm9pZCAwPT09ZVtyXT9uW3JdPXRbcl06dm9pZCAwPT09dFtyXT9uW3JdPWVbcl06T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZVtyXSk/bltyXT1PYmplY3QoZC5tZXJnZURlZXApKHt9LHRbcl0sZVtyXSk6bltyXT1lW3JdLG59KSx7fSl9cmV0dXJuIGIoe30sdCl9ZnVuY3Rpb24gTyhlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ImNvbnRleHQiPT09bj8ic2l0ZSI6bjt0W3JdPSJzaXRlIj09PXJ8fCJ1c2VyIj09PXI/T2JqZWN0LmtleXMoZVtuXSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJkYXRhIj09PXI/T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHtleHQ6e2RhdGE6ZVtuXVtyXX19KTpPYmplY3QoZC5tZXJnZURlZXApKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH1mdW5jdGlvbiBBKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJjb250ZXh0Ij09PWV9KSkuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0LmtleXMoZVtuXSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ImRhdGEiPT09cj9PYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOiJvYmplY3QiIT09ZyhlW25dW3JdKXx8QXJyYXkuaXNBcnJheShlW25dW3JdKT9PYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTpwKHt9LHIudG9Mb3dlckNhc2UoKSxlW25dW3JdKX19KTpPYmplY3Qua2V5cyhlW25dW3JdKS5mb3JFYWNoKChmdW5jdGlvbihpKXtPYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTpwKHt9LHIudG9Mb3dlckNhc2UoKSxwKHt9LGkudG9Mb3dlckNhc2UoKSxlW25dW3JdW2ldKSl9fSl9KSl9KSl9KSksdH1mdW5jdGlvbiBUKGUsdCl7dmFyIG49dDtpZigic3RyaW5nIiE9dHlwZW9mIGUmJihuPWUsZT0iKiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBuKXt2YXIgcj17dG9waWM6ZSxjYWxsYmFjazpufTtyZXR1cm4gaS5wdXNoKHIpLGZ1bmN0aW9uKCl7aS5zcGxpY2UoaS5pbmRleE9mKHIpLDEpfX1PYmplY3QoZC5sb2dFcnJvcikoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBjKCkodCxlLnRvcGljKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGxiYWNrKHAoe30sdC50b3BpYyxlW3QudG9waWNdKSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiIqIj09PWUudG9waWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FsbGJhY2soZSl9KSl9ZnVuY3Rpb24gdyhlLHQpe2E9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0MoKX19ZnVuY3Rpb24gQygpe2E9bnVsbH1yZXR1cm4gdSgpLHtnZXRDdXJyZW50QmlkZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHJlc2V0QmlkZGVyOkMsZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSYmImZ1bmN0aW9uIiE9dHlwZW9mKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZT9PYmplY3QoZC5kZWVwQWNjZXNzKSh5KCksZSk6eSgpfXJldHVybiBULmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSxyZWFkQ29uZmlnOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSYmImZ1bmN0aW9uIiE9dHlwZW9mKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSx0PU9iamVjdChkLmRlZXBDbG9uZSkoeSgpKTtyZXR1cm4gZT9PYmplY3QoZC5kZWVwQWNjZXNzKSh0LGUpOnR9cmV0dXJuIFQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LHNldENvbmZpZzpmdW5jdGlvbihuKXtpZihPYmplY3QoZC5pc1BsYWluT2JqZWN0KShuKSl7dmFyIHI9T2JqZWN0LmtleXMobiksaT17fTtyLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBvPSJmcGQiPT09cj8ib3J0YjIiOnIsYT0iZnBkIj09PXI/TyhuW3JdKTpuW3JdO09iamVjdChkLmlzUGxhaW5PYmplY3QpKGVbb10pJiZPYmplY3QoZC5pc1BsYWluT2JqZWN0KShhKSYmKGE9Yih7fSxlW29dLGEpKSxpW29dPXRbb109YX0pKSxJKGkpfWVsc2UgT2JqZWN0KGQubG9nRXJyb3IpKCJzZXRDb25maWcgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpfSxzZXREZWZhdWx0czpmdW5jdGlvbihuKXtPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKT8oYihlLG4pLGIodCxuKSk6T2JqZWN0KGQubG9nRXJyb3IpKCJkZWZhdWx0cyBtdXN0IGJlIGFuIG9iamVjdCIpfSxyZXNldENvbmZpZzp1LHJ1bldpdGhCaWRkZXI6dyxjYWxsYmFja1dpdGhCaWRkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTA7aTxuO2krKylyW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gdyhlLGQuYmluZC5jYWxsLmFwcGx5KGQuYmluZCxbdCx0aGlzXS5jb25jYXQocikpKX1PYmplY3QoZC5sb2dXYXJuKSgiY29uZmlnLmNhbGxiYWNrV2l0aEJpZGRlciBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbiIpfX19LHNldEJpZGRlckNvbmZpZzpmdW5jdGlvbihlKXt0cnl7IWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKSl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiO2lmKCFBcnJheS5pc0FycmF5KGUuYmlkZGVycyl8fCFlLmJpZGRlcnMubGVuZ3RoKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBiaWRkZXJzIGxpc3Qgd2l0aCBhdCBsZWFzdCAxIGJpZGRlciI7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUuY29uZmlnKSl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgY29uZmlnIG9iamVjdCJ9KGUpLGUuYmlkZGVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdfHwoblt0XT17fSksT2JqZWN0LmtleXMoZS5jb25maWcpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPSJmcGQiPT09cj8ib3J0YjIiOnIsbz0iZnBkIj09PXI/TyhlLmNvbmZpZ1tyXSk6ZS5jb25maWdbcl07T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkobyk/blt0XVtpXT1iKHt9LG5bdF1baV18fHt9LG8pOm5bdF1baV09b30pKX0pKX1jYXRjaChlKXtPYmplY3QoZC5sb2dFcnJvcikoZSl9fSxnZXRCaWRkZXJDb25maWc6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sY29udmVydEFkVW5pdEZwZDpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmZwZD8oZS5vcnRiMkltcD9PYmplY3QoZC5tZXJnZURlZXApKGUub3J0YjJJbXAsQShlLmZwZCkpOmUub3J0YjJJbXA9QShlLmZwZCksdC5wdXNoKGZ1bmN0aW9uKGUpe2UuZnBkO3JldHVybiBsKGUsZil9KGUpKSk6dC5wdXNoKGUpfSkpLHR9LGdldExlZ2FjeUZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0ic2l0ZSI9PT1uPyJjb250ZXh0IjpuO3Rbcl09ImNvbnRleHQiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJkYXRhIiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJleHQiPT09cj9PYmplY3QoZC5tZXJnZURlZXApKHQsZVtuXVtyXSk6T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHAoe30scixlW25dW3JdKSksdH0pLHt9KTplW25dfSkpLHR9fSxnZXRMZWdhY3lJbXBGcGQ6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PT1nKGUpKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0KGQuZGVlcEFjY2VzcykoZSwiZXh0LmRhdGEiKSYmT2JqZWN0LmtleXMoZS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24obil7InBiYWRzbG90Ij09PW4/T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHtjb250ZXh0OntwYkFkU2xvdDplLmV4dC5kYXRhW25dfX0pOiJhZHNlcnZlciI9PT1uP09iamVjdChkLm1lcmdlRGVlcCkodCx7Y29udGV4dDp7YWRTZXJ2ZXI6ZS5leHQuZGF0YVtuXX19KTpPYmplY3QoZC5tZXJnZURlZXApKHQse2NvbnRleHQ6e2RhdGE6cCh7fSxuLGUuZXh0LmRhdGFbbl0pfX0pfSkpLHR9fX19KCl9LDMwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LDMxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUzKSxpPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBpLmNhbGwocihlKSx0KX19LDMyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLmYoZSx0LG8oMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9fSwzMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LDM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oODUpLG89bigxNiksYT1uKDY0KSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cj9jOmZ1bmN0aW9uKGUsdCxuKXtpZihvKGUpLHQ9YSh0LCEwKSxvKG4pLGkpdHJ5e3JldHVybiBjKGUsdCxuKX1jYXRjaChlKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sMzU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0fHwhZSlyZXR1cm4gdm9pZCBPYmplY3Qoby5sb2dFcnJvcikoImNhbm5vdCBsb2FkIGV4dGVybmFsIHNjcmlwdCB3aXRob3V0IHVybCBhbmQgbW9kdWxlQ29kZSIpO2lmKGU9YS5jKGUpLCFpKCkodSx0KSlyZXR1cm4gdm9pZCBPYmplY3Qoby5sb2dFcnJvcikoIiIuY29uY2F0KHQsIiBub3Qgd2hpdGVsaXN0ZWQgZm9yIGxvYWRpbmcgZXh0ZXJuYWwgSmF2YVNjcmlwdCIpKTtpZihjW2VdKXJldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmKGNbZV0ubG9hZGVkP24oKTpjW2VdLmNhbGxiYWNrcy5wdXNoKG4pKSxjW2VdLnRhZztjW2VdPXtsb2FkZWQ6ITEsdGFnOm51bGwsY2FsbGJhY2tzOltdfSxuJiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmY1tlXS5jYWxsYmFja3MucHVzaChuKTtyZXR1cm4gT2JqZWN0KG8ubG9nV2FybikoIm1vZHVsZSAiLmNvbmNhdCh0LCIgaXMgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpLGZ1bmN0aW9uKHQsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHIuYXN5bmM9ITAsY1tlXS50YWc9cixyLnJlYWR5U3RhdGU/ci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsibG9hZGVkIiE9PXIucmVhZHlTdGF0ZSYmImNvbXBsZXRlIiE9PXIucmVhZHlTdGF0ZXx8KHIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbigpKX06ci5vbmxvYWQ9ZnVuY3Rpb24oKXtuKCl9O3JldHVybiByLnNyYz10LE9iamVjdChvLmluc2VydEVsZW1lbnQpKHIpLHJ9KGUsKGZ1bmN0aW9uKCl7Y1tlXS5sb2FkZWQ9ITA7dHJ5e2Zvcih2YXIgdD0wO3Q8Y1tlXS5jYWxsYmFja3MubGVuZ3RoO3QrKyljW2VdLmNhbGxiYWNrc1t0XSgpfWNhdGNoKGUpe09iamVjdChvLmxvZ0Vycm9yKSgiRXJyb3IgZXhlY3V0aW5nIGNhbGxiYWNrIiwiYWRsb2FkZXIuanM6bG9hZEV4dGVybmFsU2NyaXB0IixlKX19KSl9O3ZhciByPW4oMTIpLGk9bi5uKHIpLG89bigwKSxhPW4oNDcpLGM9e30sdT1bImFkbG9veCIsImNyaXRlbyIsIm91dHN0cmVhbSIsImFkYWdpbyIsImJyb3dzaSJdfSwzNzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxOCksaT1uKDc1KTtlLmV4cG9ydHM9cj9pOmZ1bmN0aW9uKGUpe3JldHVybiBTZXQucHJvdG90eXBlLnZhbHVlcy5jYWxsKGUpfX0sMzc4OmZ1bmN0aW9uKGUsdCxuKXtuKDM3OSk7dmFyIHI9big1Nik7ZS5leHBvcnRzPXIoIlN0cmluZyIsImluY2x1ZGVzIil9LDM3OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigzODApLG89big1Mik7cih7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDohbigzODIpKCJpbmNsdWRlcyIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+U3RyaW5nKG8odGhpcykpLmluZGV4T2YoaShlKSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LDM4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSx0Lmg9ZnVuY3Rpb24oZSl7aWYoZSYmZS50eXBlJiZmdW5jdGlvbihlKXtpZighZXx8IW8oKShPYmplY3Qua2V5cyhwKSxlKSlyZXR1cm4gT2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdChlLCIgbmF0aXZlUGFyYW0gaXMgbm90IHN1cHBvcnRlZCIpKSwhMTtyZXR1cm4hMH0oZS50eXBlKSlyZXR1cm4gcFtlLnR5cGVdO3JldHVybiBlfSx0Lmc9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KShlLnJlcXVlc3RJZCx0KTtpZighbilyZXR1cm4hMTtpZighT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlLmNsaWNrVXJsIikpcmV0dXJuITE7dmFyIGk9bi5uYXRpdmVQYXJhbXM7aWYoIWkpcmV0dXJuITA7dmFyIGE9T2JqZWN0LmtleXMoaSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaVtlXS5yZXF1aXJlZH0pKSxjPU9iamVjdC5rZXlzKGUubmF0aXZlKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlLm5hdGl2ZVt0XX0pKTtyZXR1cm4gYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIG8oKShjLGUpfSkpfSx0LmI9ZnVuY3Rpb24oZSx0KXt2YXIgbjsiY2xpY2siPT09ZS5hY3Rpb24/bj10Lm5hdGl2ZSYmdC5uYXRpdmUuY2xpY2tUcmFja2Vyczoobj10Lm5hdGl2ZSYmdC5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLHQubmF0aXZlJiZ0Lm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMmJk9iamVjdChyLmluc2VydEh0bWxJbnRvSWZyYW1lKSh0Lm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpKTtyZXR1cm4obnx8W10pLmZvckVhY2goci50cmlnZ2VyUGl4ZWwpLGUuYWN0aW9ufSx0LmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMucmVuZGVyZXJVcmwiKT9lLm5hdGl2ZS5yZW5kZXJlclVybD1nKHQubmF0aXZlUGFyYW1zLnJlbmRlcmVyVXJsKTpPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuYWRUZW1wbGF0ZSIpJiYoZS5uYXRpdmUuYWRUZW1wbGF0ZT1nKHQubmF0aXZlUGFyYW1zLmFkVGVtcGxhdGUpKTt2YXIgaT0hMSE9PU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5zZW5kVGFyZ2V0aW5nS2V5cyIpLG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlUGFyYW1zLmV4dCIpJiZPYmplY3Qua2V5cyhlLm5hdGl2ZVBhcmFtcy5leHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09ImhiX25hdGl2ZV8iLmNvbmNhdChlKX0pKTtyZXR1cm4gdSh1KHt9LGQuTkFUSVZFX0tFWVMpLHQpfSh0KSxhPXUodSh7fSxlLm5hdGl2ZSksZS5uYXRpdmUuZXh0KTtyZXR1cm4gZGVsZXRlIGEuZXh0LE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGZ1bmN0aW9uKGEpe3ZhciBjPW9bYV0sdT1nKGUubmF0aXZlW2FdKXx8ZyhPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmUuZXh0LiIuY29uY2F0KGEpKSk7aWYoImFkVGVtcGxhdGUiIT09YSYmYyYmdSl7dmFyIHM9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLiIuY29uY2F0KGEsIi5zZW5kSWQiKSk7aWYoImJvb2xlYW4iIT10eXBlb2YgcyYmKHM9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmV4dC4iLmNvbmNhdChhLCIuc2VuZElkIikpKSxzKXU9IiIuY29uY2F0KGMsIjoiKS5jb25jYXQoZS5hZElkKTt2YXIgZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuIi5jb25jYXQoYSwiLnNlbmRUYXJnZXRpbmdLZXlzIikpOyJib29sZWFuIiE9dHlwZW9mIGQmJihkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5leHQuIi5jb25jYXQoYSwiLnNlbmRUYXJnZXRpbmdLZXlzIikpKSwoImJvb2xlYW4iPT10eXBlb2YgZD9kOmkpJiYobltjXT11KX19KSksbn0sdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07dC5uYXRpdmUuaGFzT3duUHJvcGVydHkoImFkVGVtcGxhdGUiKSYmKG4uYWRUZW1wbGF0ZT1nKHQubmF0aXZlLmFkVGVtcGxhdGUpKTt0Lm5hdGl2ZS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXJVcmwiKSYmKG4ucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZS5yZW5kZXJlclVybCkpO3JldHVybiBlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1PYmplY3Qoci5nZXRLZXlCeVZhbHVlKShkLk5BVElWRV9LRVlTLGUpLG89Zyh0Lm5hdGl2ZVtpXSk7bi5hc3NldHMucHVzaCh7a2V5OmksdmFsdWU6b30pfSkpLG59LHQuYz1mdW5jdGlvbihlLHQpe3ZhciBuPXttZXNzYWdlOiJhc3NldFJlc3BvbnNlIixhZElkOmUuYWRJZCxhc3NldHM6W119O3JldHVybiBPYmplY3Qua2V5cyh0Lm5hdGl2ZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXtpZigiYWRUZW1wbGF0ZSI9PT1lJiZ0Lm5hdGl2ZVtlXSluLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZVtlXSk7ZWxzZSBpZigicmVuZGVyZXJVcmwiPT09ZSYmdC5uYXRpdmVbZV0pbi5yZW5kZXJlclVybD1nKHQubmF0aXZlW2VdKTtlbHNlIGlmKCJleHQiPT09ZSlPYmplY3Qua2V5cyh0Lm5hdGl2ZVtlXSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYodC5uYXRpdmVbZV1bcl0pe3ZhciBpPWcodC5uYXRpdmVbZV1bcl0pO24uYXNzZXRzLnB1c2goe2tleTpyLHZhbHVlOml9KX19KSk7ZWxzZSBpZih0Lm5hdGl2ZVtlXSYmZC5OQVRJVkVfS0VZUy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9Zyh0Lm5hdGl2ZVtlXSk7bi5hc3NldHMucHVzaCh7a2V5OmUsdmFsdWU6aX0pfX0pKSxufTt2YXIgcj1uKDApLGk9bigxMiksbz1uLm4oaSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9dmFyIGQ9big1KSxmPVtdLGw9T2JqZWN0LmtleXMoZC5OQVRJVkVfS0VZUykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZC5OQVRJVkVfS0VZU1tlXX0pKSxwPXtpbWFnZTp7aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4ib2JqZWN0Ij09PWEoZSkmJmUudXJsP2UudXJsOmV9fSwzODA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzgxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYocihlKSl0aHJvdyBUeXBlRXJyb3IoIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9ucyIpO3JldHVybiBlfX0sMzgxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oNTEpLG89bigyMSkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiByKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LDM4MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMSkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gobil7dHJ5e3JldHVybiB0W3JdPSExLCIvLi8iW2VdKHQpfWNhdGNoKGUpe319cmV0dXJuITF9fSwzOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShlLHQpfTt2YXIgcj1uKDApO2Z1bmN0aW9uIGkoZSx0KXt2YXIgbj10JiZ0LnNyY3x8ImNsaWVudCIsaT1lfHwwO3RoaXMuYmlkZGVyQ29kZT10JiZ0LmJpZGRlcnx8IiIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5zdGF0dXNNZXNzYWdlPWZ1bmN0aW9uKCl7c3dpdGNoKGkpe2Nhc2UgMDpyZXR1cm4iUGVuZGluZyI7Y2FzZSAxOnJldHVybiJCaWQgYXZhaWxhYmxlIjtjYXNlIDI6cmV0dXJuIkJpZCByZXR1cm5lZCBlbXB0eSBvciBlcnJvciByZXNwb25zZSI7Y2FzZSAzOnJldHVybiJCaWQgdGltZWQgb3V0In19KCksdGhpcy5hZElkPU9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksdGhpcy5yZXF1ZXN0SWQ9dCYmdC5iaWRJZCx0aGlzLm1lZGlhVHlwZT0iYmFubmVyIix0aGlzLnNvdXJjZT1uLHRoaXMuZ2V0U3RhdHVzQ29kZT1mdW5jdGlvbigpe3JldHVybiBpfSx0aGlzLmdldFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aCsieCIrdGhpcy5oZWlnaHR9fX0sNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LmI9czt2YXIgcj1uKDMpLGk9bigwKSxvPW4oNDcpO2Z1bmN0aW9uIGEoKXtyZXR1cm4oYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgdT1zKCk7ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozZTMsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnJlcXVlc3QsdT10LmRvbmU7cmV0dXJuIGZ1bmN0aW9uKHQscyxkKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5e3ZhciBsLHA9Zi5tZXRob2R8fChkPyJQT1NUIjoiR0VUIiksZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7dD1vLmModCksZy5ocmVmPXQ7dmFyIGI9Im9iamVjdCI9PT1jKHMpJiZudWxsIT09cz9zOntzdWNjZXNzOmZ1bmN0aW9uKCl7T2JqZWN0KGkubG9nTWVzc2FnZSkoInhociBzdWNjZXNzIil9LGVycm9yOmZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0Vycm9yKSgieGhyIGVycm9yIixudWxsLGUpfX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHMmJihiLnN1Y2Nlc3M9cyksKGw9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWwucmVhZHlTdGF0ZSl7ImZ1bmN0aW9uIj09dHlwZW9mIHUmJnUoZy5vcmlnaW4pO3ZhciBlPWwuc3RhdHVzO2U+PTIwMCYmZTwzMDB8fDMwND09PWU/Yi5zdWNjZXNzKGwucmVzcG9uc2VUZXh0LGwpOmIuZXJyb3IobC5zdGF0dXNUZXh0LGwpfX0sci5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChsLm9udGltZW91dD1mdW5jdGlvbigpe09iamVjdChpLmxvZ0Vycm9yKSgiICB4aHIgdGltZW91dCBhZnRlciAiLGwudGltZW91dCwibXMiKX0pLCJHRVQiPT09cCYmZCl7dmFyIHY9T2JqZWN0KGkucGFyc2VVcmwpKHQsZik7YSh2LnNlYXJjaCxkKSx0PU9iamVjdChpLmJ1aWxkVXJsKSh2KX1sLm9wZW4ocCx0LCEwKSxyLmIuZ2V0Q29uZmlnKCJkaXNhYmxlQWpheFRpbWVvdXQiKXx8KGwudGltZW91dD1lKSxmLndpdGhDcmVkZW50aWFscyYmKGwud2l0aENyZWRlbnRpYWxzPSEwKSxPYmplY3QoaS5fZWFjaCkoZi5jdXN0b21IZWFkZXJzLChmdW5jdGlvbihlLHQpe2wuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLGYucHJlZmxpZ2h0JiZsLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGwuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixmLmNvbnRlbnRUeXBlfHwidGV4dC9wbGFpbiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuKGcub3JpZ2luKSwiUE9TVCI9PT1wJiZkP2wuc2VuZChkKTpsLnNlbmQoKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoInhociBjb25zdHJ1Y3Rpb24iLGUpLCJvYmplY3QiPT09YyhzKSYmbnVsbCE9PXMmJnMuZXJyb3IoZSl9fX19LDQwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSx0LmM9RSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM4KSxhPW4oMjMpLGM9bigxMDEpLHU9bigyKSxzPW4oOSksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oNSksbT1bXSxPPU9iamVjdC5rZXlzKGguVEFSR0VUSU5HX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGguVEFSR0VUSU5HX0tFWVNbZV19KSksaj17aXNCaWROb3RFeHBpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3BvbnNlVGltZXN0YW1wKzFlMyplLnR0bC0xZTM+T2JqZWN0KHIudGltZXN0YW1wKSgpfSxpc1VudXNlZEJpZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuc3RhdHVzJiYhZigpKFtoLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX19LFM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZighbyl7dmFyIGE9W10sYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuZGVhbFByaW9yaXRpemF0aW9uIiksdT1PYmplY3Qoci5ncm91cEJ5KShlLCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPVtdLG89T2JqZWN0KHIuZ3JvdXBCeSkodVtlXSwiYmlkZGVyQ29kZSIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2gob1tlXS5yZWR1Y2UodCkpfSkpLG4+MD8oaT1jP2kuc29ydChFKCEwKSk6aS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LmNwbS1lLmNwbX0pKSxhLnB1c2guYXBwbHkoYSx2KGkuc2xpY2UoMCxuKSkpKTphLnB1c2guYXBwbHkoYSx2KGkpKX0pKSxhfXJldHVybiBlfSkpO2Z1bmN0aW9uIEUoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMD09PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8tMTp2b2lkIDA9PT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMCE9PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8xOmU/bi5jcG0tdC5jcG06bi5hZHNlcnZlclRhcmdldGluZy5oYl9wYi10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX3BifX12YXIgQT1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXt9O2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKE9iamVjdChyLmlzQXJyYXkpKHQpJiZmKCkodCxlLmFkVW5pdENvZGUpfHwic3RyaW5nIj09dHlwZW9mIHQmJmUuYWRVbml0Q29kZT09PXQpfWZ1bmN0aW9uIHMoZSx0KXtpZighMD09PWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsd2F5c0luY2x1ZGVEZWFscyIpKXt2YXIgbj1PLmNvbmNhdChvLmEpO3JldHVybiBTKHQsci5nZXRIaWdoZXN0Q3BtKS5tYXAoKGZ1bmN0aW9uKHQpe2lmKHQuZGVhbElkJiZhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfXJldHVybltdfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1nKHt9LGguVEFSR0VUSU5HX0tFWVMsaC5OQVRJVkVfS0VZUyksaT1PYmplY3Qua2V5cyhuKSxvPXt9O09iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSBhbGxvd2VkIGtleXMgWyAiLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19KSkuam9pbigiLCAiKSwiIF0iKSksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9ZVtyXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9MD09PWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PXIuaW5kZXhPZihuW2VdKX0pKS5sZW5ndGh8fHAoKSh0LChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3JldHVybiAwPT09ci5pbmRleE9mKHQpfSkpO3JldHVybiBvW3JdPSFhLGF9KSk7ZVtyXT1hfSkpO3ZhciBhPU9iamVjdC5rZXlzKG8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV19KSk7cmV0dXJuIE9iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSByZW1vdmVkIGtleXMgWyAiLmNvbmNhdChhLmpvaW4oIiwgIiksIiBdIikpLGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVtPYmplY3Qua2V5cyhlKVswXV0ubGVuZ3RoPjB9KSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2FkVW5pdENvZGU6ZSxhZHNlcnZlclRhcmdldGluZzpuW2VdfX0pKS5zb3J0KEUoKSkucmVkdWNlKChmdW5jdGlvbihlLGksbyxhKXt2YXIgYyx1PShjPWkuYWRzZXJ2ZXJUYXJnZXRpbmcsT2JqZWN0LmtleXMoYykucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyIiLmNvbmNhdCh0LCIlM2QiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGNbdF0pLCIlMjYiKX0pLCIiKSk7bysxPT09YS5sZW5ndGgmJih1PXUuc2xpY2UoMCwtMykpO3ZhciBzPWkuYWRVbml0Q29kZSxkPXUubGVuZ3RoO3JldHVybiBkPD10Pyh0LT1kLE9iamVjdChyLmxvZ0luZm8pKCJBZFVuaXQgJyIuY29uY2F0KHMsIicgYXVjdGlvbiBrZXlzIGNvbXByaXNlZCBvZiAiKS5jb25jYXQoZCwiIGNoYXJhY3RlcnMuICBEZWR1Y3RlZCBmcm9tIHJ1bm5pbmcgdGhyZXNob2xkOyBuZXcgbGltaXQgaXMgIikuY29uY2F0KHQpLG5bc10pLGVbc109bltzXSk6T2JqZWN0KHIubG9nV2FybikoIlRoZSBmb2xsb3dpbmcga2V5cyBmb3IgYWRVbml0Q29kZSAnIi5jb25jYXQocywiJyBleGNlZWRlZCB0aGUgY3VycmVudCBsaW1pdCBvZiB0aGUgJ2F1Y3Rpb25LZXlNYXhDaGFycycgc2V0dGluZy5cblRoZSBrZXktc2V0IHNpemUgd2FzICIpLmNvbmNhdChkLCIsIHRoZSBjdXJyZW50IGFsbG90dGVkIGFtb3VudCB3YXMgIikuY29uY2F0KHQsIi5cbiIpLG5bc10pLG8rMT09PWEubGVuZ3RoJiYwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qoci5sb2dFcnJvcikoIk5vIGF1Y3Rpb24gdGFyZ2V0aW5nIGtleXMgd2VyZSBwZXJtaXR0ZWQgZHVlIHRvIHRoZSBzZXR0aW5nIGluIHNldENvbmZpZyh0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMpLiAgUGxlYXNlIHJldmlldyBzZXR1cCBhbmQgY29uc2lkZXIgYWRqdXN0aW5nLiIpLGV9KSx7fSl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0uam9pbigiLCIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEEodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpPYmplY3Qoci5pc0FycmF5KSh0KT90OmUuZ2V0QWRVbml0Q29kZXMoKXx8W119ZnVuY3Rpb24gVCgpe3ZhciB0PWUuZ2V0Qmlkc1JlY2VpdmVkKCk7cmV0dXJuIGkuYi5nZXRDb25maWcoInVzZUJpZENhY2hlIil8fCh0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmFkVW5pdENvZGVdPT09ZS5hdWN0aW9uSWR9KSkpLHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ2aWRlby5jb250ZXh0IikhPT11LmF9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWUubWVkaWFUeXBlfHxPYmplY3QoYy5jKShbZS53aWR0aCxlLmhlaWdodF0pfSkpLmZpbHRlcihqLmlzVW51c2VkQmlkKS5maWx0ZXIoai5pc0JpZE5vdEV4cGlyZWQpLFModCxyLmdldE9sZGVzdEhpZ2hlc3RDcG1CaWQpfWZ1bmN0aW9uIEkoZSxuKXt2YXIgcj10LmdldFdpbm5pbmdCaWRzKGUsbiksaT13KCk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1lLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09aS5pbmRleE9mKHQpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXt2YXIgcj1bZS5hZHNlcnZlclRhcmdldGluZ1tuXV0saT1iKHt9LG4uc3Vic3RyaW5nKDAsMjApLHIpO2lmKG49PT1oLlRBUkdFVElOR19LRVlTLkRFQUwpe3ZhciBvPWIoe30sIiIuY29uY2F0KG4sIl8iKS5jb25jYXQoZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCkscik7cmV0dXJuW10uY29uY2F0KHYodCksW2ksb10pfXJldHVybltdLmNvbmNhdCh2KHQpLFtpXSl9KSxbXSkpfSkpfWZ1bmN0aW9uIHcoKXtyZXR1cm4gZS5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KSkuY29uY2F0KE8pLmZpbHRlcihyLnVuaXF1ZXMpfWZ1bmN0aW9uIEMoZSx0LG4saSl7cmV0dXJuIE9iamVjdC5rZXlzKHQuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UubGVuZ3RoJiZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZSYmbi5hZHNlcnZlclRhcmdldGluZ1tlXX19KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtPYmplY3Qoci5pc0FycmF5KShuLmFkc2VydmVyVGFyZ2V0aW5nW2VdKXx8KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09W24uYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKSxuLmFkc2VydmVyVGFyZ2V0aW5nW2VdPW4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0uY29uY2F0KHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pLmZpbHRlcihyLnVuaXF1ZXMpLGRlbGV0ZSB0LmFkc2VydmVyVGFyZ2V0aW5nW2VdfX0obikpfSkpLGUucHVzaCh0KSxlfWZ1bmN0aW9uIFIoKXt2YXIgZT13KCkuY29uY2F0KG8uYSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbmRleE9mKHQpfX1mdW5jdGlvbiBfKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LHQuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSkpfWZ1bmN0aW9uIFUoZSx0KXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBmKCkoZSx0LmFkVW5pdENvZGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoe30sZSl9KSkucmVkdWNlKEMsW10pLm1hcChfKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEIoZSx0KXt2YXIgbj1PLmNvbmNhdChvLmEpLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmJpZExpbWl0IiksdT1TKHQsci5nZXRIaWdoZXN0Q3BtLGMpLHM9aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWxsb3dTZW5kQWxsQmlkc1RhcmdldGluZ0tleXMiKSxkPXM/cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBoLlRBUkdFVElOR19LRVlTW2VdfSkpOm47cmV0dXJuIHUubWFwKChmdW5jdGlvbih0KXtpZihhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0mJi0xIT09ZC5pbmRleE9mKGUpfSkpKSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYih7fSwiIi5jb25jYXQodCwiXyIpLmNvbmNhdChlLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pfSkpfWZ1bmN0aW9uIEQodCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSxoLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkcpfXJldHVybiBlLmdldEFkVW5pdHMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkodCxlLmNvZGUpJiZuKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sZS5jb2RlLGZ1bmN0aW9uKGUpe3ZhciB0PW4oZSk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKSh0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSxPYmplY3Qoci5pc0FycmF5KSh0W2VdKXx8KHRbZV09W3RbZV1dKSxiKHt9LGUsdFtlXSl9KSl9KGUpKX0pKX1yZXR1cm4gdC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0PWZ1bmN0aW9uKGUsdCl7bltlXT10fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nPWZ1bmN0aW9uKHQsbil7aWYoT2JqZWN0KHIuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgaT1BKHQpLG89ZS5nZXRBZFVuaXRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKGksZS5jb2RlKX0pKSxhPW0ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPW51bGwsZX0pLHt9KTt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuaXNGbikobikmJm4oZSk7by5mb3JFYWNoKChmdW5jdGlvbihuKXsobi5jb2RlPT09ZS5nZXRBZFVuaXRQYXRoKCl8fG4uY29kZT09PWUuZ2V0U2xvdEVsZW1lbnRJZCgpfHxPYmplY3Qoci5pc0ZuKSh0KSYmdChuLmNvZGUpKSYmZS51cGRhdGVUYXJnZXRpbmdGcm9tTWFwKGEpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtBKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkobSxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCgpLG49QShlKSxvPUkobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT9CKG4sdCk6cyhuLHQpKS5jb25jYXQoRChuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09bS5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKG09T2JqZWN0LmtleXMoZSkuY29uY2F0KG0pKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LGguREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxoLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmtleXMoZVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVt0XVtuXTsic3RyaW5nIj09dHlwZW9mIHImJi0xIT09ci5pbmRleE9mKCIsIikmJihyPXIuc3BsaXQoIiwiKSksZVt0XVtuXT1yfSkpLE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmctbWFwIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIHdpdGggdGFyZ2V0aW5nLW1hcDoiKSxlW3RdKSxuLnVwZGF0ZVRhcmdldGluZ0Zyb21NYXAoZVt0XSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlQoKSxuPUEoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoInVuYWJsZSB0byByZXNldCB0YXJnZXRpbmcgZm9yIEFTVCIrZSl9T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmcgZm9yIHRhcmdldElkOiAiLmNvbmNhdChlLCIga2V5OiAiKS5jb25jYXQodCwiIHZhbHVlOiAiKS5jb25jYXQobltlXVt0XSkpLE9iamVjdChyLmlzU3RyKShuW2VdW3RdKXx8T2JqZWN0KHIuaXNBcnJheSkobltlXVt0XSkpe3ZhciBpPXt9O3Quc2VhcmNoKC9wdFswLTldLyk8MD9pW3QudG9VcHBlckNhc2UoKV09bltlXVt0XTppW3RdPW5bZV1bdF0sd2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcyhlLGkse292ZXJyaWRlS2V5VmFsdWU6ITB9KX19KSl9KSl9LHQuaXNBcG50YWdEZWZpbmVkPWZ1bmN0aW9uKCl7aWYod2luZG93LmFwbnRhZyYmT2JqZWN0KHIuaXNGbikod2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcykpcmV0dXJuITB9LHR9KGEuYSl9LDQxOmZ1bmN0aW9uKGUsdCl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl8fCgwLGV2YWwpKCJ0aGlzIil9Y2F0Y2goZSl7Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LDQyOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSw0MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDI0KSxvPW4oMjEpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1yKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT0obj1yKGEpW29dKT90Omkobil9fSw0NDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LDQ1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSw0NTE6ZnVuY3Rpb24oZSx0LG4pe24oNDUyKTt2YXIgcj1uKDQ1KTtlLmV4cG9ydHM9ci5VUkxTZWFyY2hQYXJhbXN9LDQ1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24oMTAwKTt2YXIgcj1uKDE1KSxpPW4oMjYpLG89big0NTMpLGE9big3MyksYz1uKDk1KSx1PW4oNjApLHM9big5NiksZD1uKDQ2KSxmPW4oNzApLGw9bigzMSkscD1uKDI1KSxnPW4oNTkpLGI9bigxNiksdj1uKDMwKSx5PW4oNzIpLGg9big0NCksbT1uKDc1KSxPPW4oNTgpLGo9bigyMSksUz1pKCJmZXRjaCIpLEU9aSgiSGVhZGVycyIpLEE9aigiaXRlcmF0b3IiKSxUPSJVUkxTZWFyY2hQYXJhbXMiLEk9IlVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yIix3PWQuc2V0LEM9ZC5nZXR0ZXJGb3IoVCksUj1kLmdldHRlckZvcihJKSxfPS9cKy9nLFU9QXJyYXkoNCksQj1mdW5jdGlvbihlKXtyZXR1cm4gVVtlLTFdfHwoVVtlLTFdPVJlZ0V4cCgiKCg/OiVbXFxkYS1mXXsyfSl7IitlKyJ9KSIsImdpIikpfSx4PWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUpfWNhdGNoKHQpe3JldHVybiBlfX0sRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoXywiICIpLG49NDt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0KX1jYXRjaChlKXtmb3IoO247KXQ9dC5yZXBsYWNlKEIobi0tKSx4KTtyZXR1cm4gdH19LGs9L1shJygpfl18JTIwL2csTj17IiEiOiIlMjEiLCInIjoiJTI3IiwiKCI6IiUyOCIsIikiOiIlMjkiLCJ+IjoiJTdFIiwiJTIwIjoiKyJ9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIE5bZV19LHE9ZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKGssUCl9LE09ZnVuY3Rpb24oZSx0KXtpZih0KWZvcih2YXIgbixyLGk9dC5zcGxpdCgiJiIpLG89MDtvPGkubGVuZ3RoOykobj1pW28rK10pLmxlbmd0aCYmKHI9bi5zcGxpdCgiPSIpLGUucHVzaCh7a2V5OkQoci5zaGlmdCgpKSx2YWx1ZTpEKHIuam9pbigiPSIpKX0pKX0sRz1mdW5jdGlvbihlKXt0aGlzLmVudHJpZXMubGVuZ3RoPTAsTSh0aGlzLmVudHJpZXMsZSl9LEw9ZnVuY3Rpb24oZSx0KXtpZihlPHQpdGhyb3cgVHlwZUVycm9yKCJOb3QgZW5vdWdoIGFyZ3VtZW50cyIpfSxXPXMoKGZ1bmN0aW9uKGUsdCl7dyh0aGlzLHt0eXBlOkksaXRlcmF0b3I6bShDKGUpLmVudHJpZXMpLGtpbmQ6dH0pfSksIkl0ZXJhdG9yIiwoZnVuY3Rpb24oKXt2YXIgZT1SKHRoaXMpLHQ9ZS5raW5kLG49ZS5pdGVyYXRvci5uZXh0KCkscj1uLnZhbHVlO3JldHVybiBuLmRvbmV8fChuLnZhbHVlPSJrZXlzIj09PXQ/ci5rZXk6InZhbHVlcyI9PT10P3IudmFsdWU6W3Iua2V5LHIudmFsdWVdKSxufSkpLEY9ZnVuY3Rpb24oKXtmKHRoaXMsRixUKTt2YXIgZSx0LG4scixpLG8sYSxjLHUscz1hcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCxkPXRoaXMscD1bXTtpZih3KGQse3R5cGU6VCxlbnRyaWVzOnAsdXBkYXRlVVJMOmZ1bmN0aW9uKCl7fSx1cGRhdGVTZWFyY2hQYXJhbXM6R30pLHZvaWQgMCE9PXMpaWYodihzKSlpZigiZnVuY3Rpb24iPT10eXBlb2YoZT1PKHMpKSlmb3Iobj0odD1lLmNhbGwocykpLm5leHQ7IShyPW4uY2FsbCh0KSkuZG9uZTspe2lmKChhPShvPShpPW0oYihyLnZhbHVlKSkpLm5leHQpLmNhbGwoaSkpLmRvbmV8fChjPW8uY2FsbChpKSkuZG9uZXx8IW8uY2FsbChpKS5kb25lKXRocm93IFR5cGVFcnJvcigiRXhwZWN0ZWQgc2VxdWVuY2Ugd2l0aCBsZW5ndGggMiIpO3AucHVzaCh7a2V5OmEudmFsdWUrIiIsdmFsdWU6Yy52YWx1ZSsiIn0pfWVsc2UgZm9yKHUgaW4gcylsKHMsdSkmJnAucHVzaCh7a2V5OnUsdmFsdWU6c1t1XSsiIn0pO2Vsc2UgTShwLCJzdHJpbmciPT10eXBlb2Ygcz8iPyI9PT1zLmNoYXJBdCgwKT9zLnNsaWNlKDEpOnM6cysiIil9LHo9Ri5wcm90b3R5cGU7Yyh6LHthcHBlbmQ6ZnVuY3Rpb24oZSx0KXtMKGFyZ3VtZW50cy5sZW5ndGgsMik7dmFyIG49Qyh0aGlzKTtuLmVudHJpZXMucHVzaCh7a2V5OmUrIiIsdmFsdWU6dCsiIn0pLG4udXBkYXRlVVJMKCl9LGRlbGV0ZTpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcyksbj10LmVudHJpZXMscj1lKyIiLGk9MDtpPG4ubGVuZ3RoOyluW2ldLmtleT09PXI/bi5zcGxpY2UoaSwxKTppKys7dC51cGRhdGVVUkwoKX0sZ2V0OmZ1bmN0aW9uKGUpe0woYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIHQ9Qyh0aGlzKS5lbnRyaWVzLG49ZSsiIixyPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXS5rZXk9PT1uKXJldHVybiB0W3JdLnZhbHVlO3JldHVybiBudWxsfSxnZXRBbGw6ZnVuY3Rpb24oZSl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1DKHRoaXMpLmVudHJpZXMsbj1lKyIiLHI9W10saT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0ua2V5PT09biYmci5wdXNoKHRbaV0udmFsdWUpO3JldHVybiByfSxoYXM6ZnVuY3Rpb24oZSl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1DKHRoaXMpLmVudHJpZXMsbj1lKyIiLHI9MDtyPHQubGVuZ3RoOylpZih0W3IrK10ua2V5PT09bilyZXR1cm4hMDtyZXR1cm4hMX0sc2V0OmZ1bmN0aW9uKGUsdCl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgbixyPUModGhpcyksaT1yLmVudHJpZXMsbz0hMSxhPWUrIiIsYz10KyIiLHU9MDt1PGkubGVuZ3RoO3UrKykobj1pW3VdKS5rZXk9PT1hJiYobz9pLnNwbGljZSh1LS0sMSk6KG89ITAsbi52YWx1ZT1jKSk7b3x8aS5wdXNoKHtrZXk6YSx2YWx1ZTpjfSksci51cGRhdGVVUkwoKX0sc29ydDpmdW5jdGlvbigpe3ZhciBlLHQsbixyPUModGhpcyksaT1yLmVudHJpZXMsbz1pLnNsaWNlKCk7Zm9yKGkubGVuZ3RoPTAsbj0wO248by5sZW5ndGg7bisrKXtmb3IoZT1vW25dLHQ9MDt0PG47dCsrKWlmKGlbdF0ua2V5PmUua2V5KXtpLnNwbGljZSh0LDAsZSk7YnJlYWt9dD09PW4mJmkucHVzaChlKX1yLnVwZGF0ZVVSTCgpfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPUModGhpcykuZW50cmllcyxyPXAoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPTA7aTxuLmxlbmd0aDspcigodD1uW2krK10pLnZhbHVlLHQua2V5LHRoaXMpfSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBXKHRoaXMsImtleXMiKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBXKHRoaXMsInZhbHVlcyIpfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBXKHRoaXMsImVudHJpZXMiKX19LHtlbnVtZXJhYmxlOiEwfSksYSh6LEEsei5lbnRyaWVzKSxhKHosInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1DKHRoaXMpLmVudHJpZXMsbj1bXSxyPTA7cjx0Lmxlbmd0aDspZT10W3IrK10sbi5wdXNoKHEoZS5rZXkpKyI9IitxKGUudmFsdWUpKTtyZXR1cm4gbi5qb2luKCImIil9KSx7ZW51bWVyYWJsZTohMH0pLHUoRixUKSxyKHtnbG9iYWw6ITAsZm9yY2VkOiFvfSx7VVJMU2VhcmNoUGFyYW1zOkZ9KSxvfHwiZnVuY3Rpb24iIT10eXBlb2YgU3x8ImZ1bmN0aW9uIiE9dHlwZW9mIEV8fHIoe2dsb2JhbDohMCxlbnVtZXJhYmxlOiEwLGZvcmNlZDohMH0se2ZldGNoOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPVtlXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiYodih0PWFyZ3VtZW50c1sxXSkmJihuPXQuYm9keSxnKG4pPT09VCYmKChyPXQuaGVhZGVycz9uZXcgRSh0LmhlYWRlcnMpOm5ldyBFKS5oYXMoImNvbnRlbnQtdHlwZSIpfHxyLnNldCgiY29udGVudC10eXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgiKSx0PXkodCx7Ym9keTpoKDAsU3RyaW5nKG4pKSxoZWFkZXJzOmgoMCxyKX0pKSksaS5wdXNoKHQpKSxTLmFwcGx5KHRoaXMsaSl9fSksZS5leHBvcnRzPXtVUkxTZWFyY2hQYXJhbXM6RixnZXRTdGF0ZTpDfX0sNDUzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPW4oMjEpLG89bigxOCksYT1pKCJpdGVyYXRvciIpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXt2YXIgZT1uZXcgVVJMKCJiP2E9MSZiPTImYz0zIiwiaHR0cDovL2EiKSx0PWUuc2VhcmNoUGFyYW1zLG49IiI7cmV0dXJuIGUucGF0aG5hbWU9ImMlMjBkIix0LmZvckVhY2goKGZ1bmN0aW9uKGUscil7dC5kZWxldGUoImIiKSxuKz1yK2V9KSksbyYmIWUudG9KU09OfHwhdC5zb3J0fHwiaHR0cDovL2EvYyUyMGQ/YT0xJmM9MyIhPT1lLmhyZWZ8fCIzIiE9PXQuZ2V0KCJjIil8fCJhPTEiIT09U3RyaW5nKG5ldyBVUkxTZWFyY2hQYXJhbXMoIj9hPTEiKSl8fCF0W2FdfHwiYSIhPT1uZXcgVVJMKCJodHRwczovL2FAYiIpLnVzZXJuYW1lfHwiYiIhPT1uZXcgVVJMU2VhcmNoUGFyYW1zKG5ldyBVUkxTZWFyY2hQYXJhbXMoImE9YiIpKS5nZXQoImEiKXx8InhuLS1lMWF5YmMiIT09bmV3IFVSTCgiaHR0cDovL9GC0LXRgdGCIikuaG9zdHx8IiMlRDAlQjEiIT09bmV3IFVSTCgiaHR0cDovL2Ej0LEiKS5oYXNofHwiYTFjMyIhPT1ufHwieCIhPT1uZXcgVVJMKCJodHRwOi8veCIsdm9pZCAwKS5ob3N0fSkpfSw0NjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9bigxMjUpLGM9bigyNyksdT1uKDMwKSxzPW4oMzIpLGQ9bigzMSksZj1uKDY3KSxsPW4oNzEpLHA9big1NyksZz0iT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQiLGI9Yy5XZWFrTWFwO2lmKGF8fGYuc3RhdGUpe3ZhciB2PWYuc3RhdGV8fChmLnN0YXRlPW5ldyBiKSx5PXYuZ2V0LGg9di5oYXMsbT12LnNldDtyPWZ1bmN0aW9uKGUsdCl7aWYoaC5jYWxsKHYsZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihnKTtyZXR1cm4gdC5mYWNhZGU9ZSxtLmNhbGwodixlLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHkuY2FsbCh2LGUpfHx7fX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gaC5jYWxsKHYsZSl9fWVsc2V7dmFyIE89bCgic3RhdGUiKTtwW09dPSEwLHI9ZnVuY3Rpb24oZSx0KXtpZihkKGUsTykpdGhyb3cgbmV3IFR5cGVFcnJvcihnKTtyZXR1cm4gdC5mYWNhZGU9ZSxzKGUsTyx0KSx0fSxpPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsTyk/ZVtPXTp7fX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZChlLE8pfX1lLmV4cG9ydHM9e3NldDpyLGdldDppLGhhczpvLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSk/aShlKTpyKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO2lmKCF1KHQpfHwobj1pKHQpKS50eXBlIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIitlKyIgcmVxdWlyZWQiKTtyZXR1cm4gbn19fX0sNDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpfSx0LmM9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWU7cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dD1lKHQpfSkpLHR9Y2F0Y2godCl7cmV0dXJuIGV9fSx0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gb30sdC5mPWZ1bmN0aW9uKGUpe3IoZSl9LHQuZD1mdW5jdGlvbihlKXthLnB1c2goZSl9LHQuZT1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwO2EuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aShlLHQsbixyKX0pKX07dmFyIHIsaT1bXTt2YXIgbz1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cj1lfSkpO3ZhciBhPVtdfSw0OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDApLGE9e2J1Y2tldHM6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XX0sYz17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XX0sdT17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV19LHM9e2J1Y2tldHM6W3ttYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWF4OjgsaW5jcmVtZW50Oi4wNX0se21heDoyMCxpbmNyZW1lbnQ6LjV9XX0sZD17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouMDV9LHttYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWF4OjIwLGluY3JlbWVudDouNX1dfTtmdW5jdGlvbiBmKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTihyKSYmKHI9IiIpLHtsb3c6IiI9PT1yPyIiOmwoZSxhLG4pLG1lZDoiIj09PXI/IiI6bChlLGMsbiksaGlnaDoiIj09PXI/IiI6bChlLHUsbiksYXV0bzoiIj09PXI/IiI6bChlLGQsbiksZGVuc2U6IiI9PT1yPyIiOmwoZSxzLG4pLGN1c3RvbToiIj09PXI/IiI6bChlLHQsbil9fWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPSIiO2lmKCFwKHQpKXJldHVybiByO3ZhciBvPXQuYnVja2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF4PnQubWF4P2U6dH0pLHttYXg6MH0pLGE9MCxjPWkoKSh0LmJ1Y2tldHMsKGZ1bmN0aW9uKHQpe2lmKGU+by5tYXgqbil7dmFyIGk9dC5wcmVjaXNpb247dm9pZCAwPT09aSYmKGk9Mikscj0odC5tYXgqbikudG9GaXhlZChpKX1lbHNle2lmKGU8PXQubWF4Km4mJmU+PWEqbilyZXR1cm4gdC5taW49YSx0O2E9dC5tYXh9fSkpO3JldHVybiBjJiYocj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dm9pZCAwIT09dC5wcmVjaXNpb24/dC5wcmVjaXNpb246MixpPXQuaW5jcmVtZW50Km4sbz10Lm1pbipuLGE9TWF0aC5wb3coMTAscisyKSxjPShlKmEtbyphKS8oaSphKSx1PU1hdGguZmxvb3IoYykqaStvO3JldHVybih1PU51bWJlcih1LnRvRml4ZWQoMTApKSkudG9GaXhlZChyKX0oZSxjLG4pKSxyfWZ1bmN0aW9uIHAoZSl7aWYoT2JqZWN0KG8uaXNFbXB0eSkoZSl8fCFlLmJ1Y2tldHN8fCFBcnJheS5pc0FycmF5KGUuYnVja2V0cykpcmV0dXJuITE7dmFyIHQ9ITA7cmV0dXJuIGUuYnVja2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pKSx0fX0sNTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17SlNPTl9NQVBQSU5HOntQTF9DT0RFOiJjb2RlIixQTF9TSVpFOiJzaXplcyIsUExfQklEUzoiYmlkcyIsQkRfQklEREVSOiJiaWRkZXIiLEJEX0lEOiJwYXJhbXNkIixCRF9QTF9JRDoicGxhY2VtZW50SWQiLEFEU0VSVkVSX1RBUkdFVElORzoiYWRzZXJ2ZXJUYXJnZXRpbmciLEJEX1NFVFRJTkdfU1RBTkRBUkQ6InN0YW5kYXJkIn0sREVCVUdfTU9ERToicGJqc19kZWJ1ZyIsU1RBVFVTOntHT09EOjEsTk9fQklEOjJ9LENCOntUWVBFOntBTExfQklEU19CQUNLOiJhbGxSZXF1ZXN0ZWRCaWRzQmFjayIsQURfVU5JVF9CSURTX0JBQ0s6ImFkVW5pdEJpZHNCYWNrIixCSURfV09OOiJiaWRXb24iLFJFUVVFU1RfQklEUzoicmVxdWVzdEJpZHMifX0sRVZFTlRTOntBVUNUSU9OX0lOSVQ6ImF1Y3Rpb25Jbml0IixBVUNUSU9OX0VORDoiYXVjdGlvbkVuZCIsQklEX0FESlVTVE1FTlQ6ImJpZEFkanVzdG1lbnQiLEJJRF9USU1FT1VUOiJiaWRUaW1lb3V0IixCSURfUkVRVUVTVEVEOiJiaWRSZXF1ZXN0ZWQiLEJJRF9SRVNQT05TRToiYmlkUmVzcG9uc2UiLE5PX0JJRDoibm9CaWQiLEJJRF9XT046ImJpZFdvbiIsQklEREVSX0RPTkU6ImJpZGRlckRvbmUiLEJJRERFUl9FUlJPUjoiYmlkZGVyRXJyb3IiLFNFVF9UQVJHRVRJTkc6InNldFRhcmdldGluZyIsQkVGT1JFX1JFUVVFU1RfQklEUzoiYmVmb3JlUmVxdWVzdEJpZHMiLEJFRk9SRV9CSURERVJfSFRUUDoiYmVmb3JlQmlkZGVySHR0cCIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyIsQUREX0FEX1VOSVRTOiJhZGRBZFVuaXRzIixBRF9SRU5ERVJfRkFJTEVEOiJhZFJlbmRlckZhaWxlZCIsQURfUkVOREVSX1NVQ0NFRURFRDoiYWRSZW5kZXJTdWNjZWVkZWQiLFRDRjJfRU5GT1JDRU1FTlQ6InRjZjJFbmZvcmNlbWVudCIsQVVDVElPTl9ERUJVRzoiYXVjdGlvbkRlYnVnIixCSURfVklFV0FCTEU6ImJpZFZpZXdhYmxlIixTVEFMRV9SRU5ERVI6InN0YWxlUmVuZGVyIn0sQURfUkVOREVSX0ZBSUxFRF9SRUFTT046e1BSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5UOiJwcmV2ZW50V3JpdGluZ09uTWFpbkRvY3VtZW50IixOT19BRDoibm9BZCIsRVhDRVBUSU9OOiJleGNlcHRpb24iLENBTk5PVF9GSU5EX0FEOiJjYW5ub3RGaW5kQWQiLE1JU1NJTkdfRE9DX09SX0FESUQ6Im1pc3NpbmdEb2NPckFkaWQifSxFVkVOVF9JRF9QQVRIUzp7YmlkV29uOiJhZFVuaXRDb2RlIn0sR1JBTlVMQVJJVFlfT1BUSU9OUzp7TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn0sVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsU09VUkNFOiJoYl9zb3VyY2UiLEZPUk1BVDoiaGJfZm9ybWF0IixVVUlEOiJoYl91dWlkIixDQUNIRV9JRDoiaGJfY2FjaGVfaWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QiLEFET01BSU46ImhiX2Fkb21haW4ifSxERUZBVUxUX1RBUkdFVElOR19LRVlTOntCSURERVI6ImhiX2JpZGRlciIsQURfSUQ6ImhiX2FkaWQiLFBSSUNFX0JVQ0tFVDoiaGJfcGIiLFNJWkU6ImhiX3NpemUiLERFQUw6ImhiX2RlYWwiLEZPUk1BVDoiaGJfZm9ybWF0IixVVUlEOiJoYl91dWlkIixDQUNIRV9IT1NUOiJoYl9jYWNoZV9ob3N0In0sTkFUSVZFX0tFWVM6e3RpdGxlOiJoYl9uYXRpdmVfdGl0bGUiLGJvZHk6ImhiX25hdGl2ZV9ib2R5Iixib2R5MjoiaGJfbmF0aXZlX2JvZHkyIixwcml2YWN5TGluazoiaGJfbmF0aXZlX3ByaXZhY3kiLHByaXZhY3lJY29uOiJoYl9uYXRpdmVfcHJpdmljb24iLHNwb25zb3JlZEJ5OiJoYl9uYXRpdmVfYnJhbmQiLGltYWdlOiJoYl9uYXRpdmVfaW1hZ2UiLGljb246ImhiX25hdGl2ZV9pY29uIixjbGlja1VybDoiaGJfbmF0aXZlX2xpbmt1cmwiLGRpc3BsYXlVcmw6ImhiX25hdGl2ZV9kaXNwbGF5dXJsIixjdGE6ImhiX25hdGl2ZV9jdGEiLHJhdGluZzoiaGJfbmF0aXZlX3JhdGluZyIsYWRkcmVzczoiaGJfbmF0aXZlX2FkZHJlc3MiLGRvd25sb2FkczoiaGJfbmF0aXZlX2Rvd25sb2FkcyIsbGlrZXM6ImhiX25hdGl2ZV9saWtlcyIscGhvbmU6ImhiX25hdGl2ZV9waG9uZSIscHJpY2U6ImhiX25hdGl2ZV9wcmljZSIsc2FsZVByaWNlOiJoYl9uYXRpdmVfc2FsZXByaWNlIixyZW5kZXJlclVybDoiaGJfcmVuZGVyZXJfdXJsIixhZFRlbXBsYXRlOiJoYl9hZFRlbXBsYXRlIn0sUzJTOntTUkM6InMycyIsREVGQVVMVF9FTkRQT0lOVDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixTWU5DRURfQklEREVSU19LRVk6InBianNTeW5jcyJ9LEJJRF9TVEFUVVM6e0JJRF9UQVJHRVRJTkdfU0VUOiJ0YXJnZXRpbmdTZXQiLFJFTkRFUkVEOiJyZW5kZXJlZCIsQklEX1JFSkVDVEVEOiJiaWRSZWplY3RlZCJ9fX0sNTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODQpLGk9big1Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGkoZSkpfX0sNTE6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LDUyOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK2UpO3JldHVybiBlfX0sNTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIoZSkpfX0sNTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjYpLGk9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/aShyKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSw1NTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe319LDU2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cn0sNTc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDU4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDU5KSxpPW4oNDIpLG89bigyMSkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpcmV0dXJuIGVbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtyKGUpXX19LDU5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY5KSxpPW4oNTEpLG89bigyMSkoInRvU3RyaW5nVGFnIiksYT0iQXJndW1lbnRzIj09aShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKG49ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2goZSl7fX0odD1PYmplY3QoZSksbykpP246YT9pKHQpOiJPYmplY3QiPT0ocj1pKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnJ9fSw2MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2OSksaT1uKDM0KS5mLG89bigzMiksYT1uKDMxKSxjPW4oMTI0KSx1PW4oMjEpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixzKXtpZihlKXt2YXIgZD1uP2U6ZS5wcm90b3R5cGU7YShkLHUpfHxpKGQsdSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KSxzJiYhciYmbyhkLCJ0b1N0cmluZyIsYyl9fX0sNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDEyKSxhPW4ubihvKSxjPW4oNyk7ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gcyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWkuYi5zZXREZWZhdWx0cyh7dXNlclN5bmM6T2JqZWN0KHIuZGVlcENsb25lKSh7c3luY0VuYWJsZWQ6ITAsZmlsdGVyU2V0dGluZ3M6e2ltYWdlOntiaWRkZXJzOiIqIixmaWx0ZXI6ImluY2x1ZGUifX0sc3luY3NQZXJCaWRkZXI6NSxzeW5jRGVsYXk6M2UzLGF1Y3Rpb25EZWxheTowfSl9KTt2YXIgZj1PYmplY3QoYy5hKSgidXNlcnN5bmMiKTt2YXIgbD0hT2JqZWN0KHIuaXNTYWZhcmlCcm93c2VyKSgpJiZmLmNvb2tpZXNBcmVFbmFibGVkKCkscD1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXtpbWFnZTpbXSxpZnJhbWU6W119LG89bmV3IFNldCxjPXt9LHM9e2ltYWdlOiEwLGlmcmFtZTohMX0sZj1lLmNvbmZpZztmdW5jdGlvbiBsKCl7aWYoZi5zeW5jRW5hYmxlZCYmZS5icm93c2VyU3VwcG9ydHNDb29raWVzKXt0cnl7IWZ1bmN0aW9uKCl7aWYoIXMuaWZyYW1lKXJldHVybjtwKG4uaWZyYW1lLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksaT10WzBdLG89dFsxXTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiSW52b2tpbmcgaWZyYW1lIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChpKSksT2JqZWN0KHIuaW5zZXJ0VXNlclN5bmNJZnJhbWUpKG8sbnVsbCxpKSxmdW5jdGlvbihlLHQpe2UuaW1hZ2U9ZS5pbWFnZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdIT09dH0pKX0obixpKX0pKX0oKSxmdW5jdGlvbigpe2lmKCFzLmltYWdlKXJldHVybjtwKG4uaW1hZ2UsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxuPXRbMF0saT10WzFdO09iamVjdChyLmxvZ01lc3NhZ2UpKCJJbnZva2luZyBpbWFnZSBwaXhlbCB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIi5jb25jYXQobikpLE9iamVjdChyLnRyaWdnZXJQaXhlbCkoaSxudWxsLG4pfSkpfSgpfWNhdGNoKGUpe3JldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1uPXtpbWFnZTpbXSxpZnJhbWU6W119fX1mdW5jdGlvbiBwKGUsdCl7T2JqZWN0KHIuc2h1ZmZsZSkoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiBPYmplY3Qoci5sb2dXYXJuKSgnRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxpPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIG89bi5maWx0ZXIsYT1uLmJpZGRlcnM7aWYobyYmImluY2x1ZGUiIT09byYmImV4Y2x1ZGUiIT09bylyZXR1cm4gT2JqZWN0KHIubG9nV2FybikoJ1VzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuZmlsdGVyXCIgc2V0dGluZyAnIikuY29uY2F0KG8sIicgaXMgbm90IGEgdmFsaWQgb3B0aW9uOyB1c2UgZWl0aGVyICdpbmNsdWRlJyBvciAnZXhjbHVkZScuIikpLCExO2lmKCIqIiE9PWEmJiEoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKShlKSYmIioiIT09ZX0pKSkpcmV0dXJuIE9iamVjdChyLmxvZ1dhcm4pKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMTtyZXR1cm4hMH0obixlKSl7c1tlXT0hMDt2YXIgaT1uLmFsbD9uLmFsbDpuW2VdLG89IioiPT09aS5iaWRkZXJzP1t0XTppLmJpZGRlcnM7cmV0dXJue2luY2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hYSgpKGUsdCl9LGV4Y2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpKGUsdCl9fVtpLmZpbHRlcnx8ImluY2x1ZGUiXShvLHQpfXJldHVybiFzW2VdfXJldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIsKGZ1bmN0aW9uKGUpe2lmKGUudXNlclN5bmMpe3ZhciB0PWUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3M7T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSl9Zj1kKGYsZS51c2VyU3luYyl9KSksdC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSxpLGEpe3JldHVybiBvLmhhcyhpKT9PYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJk9iamVjdChyLmlzQXJyYXkpKG5bZV0pP2k/MCE9PWYuc3luY3NQZXJCaWRkZXImJk51bWJlcihjW2ldKT49Zi5zeW5jc1BlckJpZGRlcj9PYmplY3Qoci5sb2dXYXJuKSgnTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdChpLCciJykpOnQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsaSk/KG5bZV0ucHVzaChbaSxhXSksdm9pZChjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XSs9MTplW3RdPTEsZX0oYyxpKSkpOk9iamVjdChyLmxvZ1dhcm4pKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpPYmplY3Qoci5sb2dXYXJuKSgiQmlkZGVyIGlzIHJlcXVpcmVkIGZvciByZWdpc3RlcmluZyBzeW5jIik6T2JqZWN0KHIubG9nV2FybikoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSl9LHQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChsLE51bWJlcihlKSk7bCgpfSx0LnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtmLmVuYWJsZU92ZXJyaWRlJiZ0LnN5bmNVc2VycygpfSx0LmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiFmLmZpbHRlclNldHRpbmdzfHwhZyhlLHQpfSx0fSh7Y29uZmlnOmkuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczpsfSl9LDYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7by5hZFNlcnZlcnM9by5hZFNlcnZlcnN8fHt9LG8uYWRTZXJ2ZXJzW2VdPW8uYWRTZXJ2ZXJzW2VdfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmFkU2VydmVyc1tlXVtuXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KG4sIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KGUsIi4iKSk6by5hZFNlcnZlcnNbZV1bbl09dFtuXX0pKX07dmFyIHI9bigxNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNjM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Y2FsbEJpZHM6ZnVuY3Rpb24oKXt9LHNldEJpZGRlckNvZGU6ZnVuY3Rpb24oZSl7dD1lfSxnZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fX19LDY0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighcihlKSlyZXR1cm4gZTt2YXIgbixpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49ZS52YWx1ZU9mKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSw2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDg0KSxvPW4oNTMpLGE9big1NCksYz1uKDExMSksdT1bXS5wdXNoLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9MT09ZSxuPTI9PWUscz0zPT1lLGQ9ND09ZSxmPTY9PWUsbD03PT1lLHA9NT09ZXx8ZjtyZXR1cm4gZnVuY3Rpb24oZyxiLHYseSl7Zm9yKHZhciBoLG0sTz1vKGcpLGo9aShPKSxTPXIoYix2LDMpLEU9YShqLmxlbmd0aCksQT0wLFQ9eXx8YyxJPXQ/VChnLEUpOm58fGw/VChnLDApOnZvaWQgMDtFPkE7QSsrKWlmKChwfHxBIGluIGopJiYobT1TKGg9altBXSxBLE8pLGUpKWlmKHQpSVtBXT1tO2Vsc2UgaWYobSlzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gaDtjYXNlIDY6cmV0dXJuIEE7Y2FzZSAyOnUuY2FsbChJLGgpfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgNDpyZXR1cm4hMTtjYXNlIDc6dS5jYWxsKEksaCl9cmV0dXJuIGY/LTE6c3x8ZD9kOkl9fTtlLmV4cG9ydHM9e2ZvckVhY2g6cygwKSxtYXA6cygxKSxmaWx0ZXI6cygyKSxzb21lOnMoMyksZXZlcnk6cyg0KSxmaW5kOnMoNSksZmluZEluZGV4OnMoNiksZmlsdGVyT3V0OnMoNyl9fSw2NjpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/cjpuKShlKX19LDY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KSxpPW4oMTEzKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGE9cltvXXx8aShvLHt9KTtlLmV4cG9ydHM9YX0sNjg6ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiK1N0cmluZyh2b2lkIDA9PT1lPyIiOmUpKyIpXyIrKCsrbityKS50b1N0cmluZygzNil9fSw2OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9e307cltuKDIxKSgidG9TdHJpbmdUYWciKV09InoiLGUuZXhwb3J0cz0iW29iamVjdCB6XSI9PT1TdHJpbmcocil9LDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHQuYT1mdW5jdGlvbihlKXtyZXR1cm4gcyh7bW9kdWxlTmFtZTplLG1vZHVsZVR5cGU6ImNvcmUifSl9LHQuYj1mdW5jdGlvbihlLHQpe3JldHVybiBzKHtndmxpZDplLG1vZHVsZU5hbWU6dH0pfTt2YXIgcj1uKDkpLGk9bigwKSxvPW4oMTIpLGE9bi5uKG8pLGM9WyJjb3JlIiwicHJlYmlkLW1vZHVsZSJdLHU9W107ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZ3ZsaWQsbj1lLm1vZHVsZU5hbWUscj1lLm1vZHVsZVR5cGU7ZnVuY3Rpb24gbyhlKXtpZihhKCkoYyxyKSl7cmV0dXJuIGUoe3ZhbGlkOiEwfSl9dmFyIG87cmV0dXJuIGQodCxuLHtoYXNFbmZvcmNlbWVudEhvb2s6ITF9LChmdW5jdGlvbih0KXtpZih0JiZ0Lmhhc0VuZm9yY2VtZW50SG9vaylvPWUodCk7ZWxzZXt2YXIgbj17aGFzRW5mb3JjZW1lbnRIb29rOiExLHZhbGlkOk9iamVjdChpLmhhc0RldmljZUFjY2VzcykoKX07bz1lKG4pfX0pKSxvfXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgYz1mdW5jdGlvbihvKXtpZihvJiZvLnZhbGlkKXt2YXIgYT1pJiYiIiE9PWk/IiA7ZG9tYWluPSIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpKSk6IiIsYz1uJiYiIiE9PW4/IiA7ZXhwaXJlcz0iLmNvbmNhdChuKToiIix1PW51bGwhPXImJiJub25lIj09ci50b0xvd2VyQ2FzZSgpPyI7IFNlY3VyZSI6IiI7ZG9jdW1lbnQuY29va2llPSIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkuY29uY2F0KGMsIjsgcGF0aD0vIikuY29uY2F0KGEpLmNvbmNhdChyPyI7IFNhbWVTaXRlPSIuY29uY2F0KHIpOiIiKS5jb25jYXQodSl9fTtpZighYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGEpcmV0dXJuIG8oYyk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8oYyk7YShlKX0pKX0sZj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPXdpbmRvdy5kb2N1bWVudC5jb29raWUubWF0Y2goIihefDspXFxzKiIrZSsiXFxzKj1cXHMqKFteO10qKVxccyooO3wkKSIpO3JldHVybiBuP2RlY29kZVVSSUNvbXBvbmVudChuWzJdKTpudWxsfXJldHVybiBudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sbD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe31maW5hbGx5e3RyeXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9fXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0scD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS52YWxpZCkmJighIU9iamVjdChpLmNoZWNrQ29va2llU3VwcG9ydCkoKXx8KHdpbmRvdy5kb2N1bWVudC5jb29raWU9InByZWJpZC5jb29raWVUZXN0IiwtMSE9PXdpbmRvdy5kb2N1bWVudC5jb29raWUuaW5kZXhPZigicHJlYmlkLmNvb2tpZVRlc3QiKSkpfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0sZz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24obil7biYmbi52YWxpZCYmeSgpJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx0KX07aWYoIW58fCJmdW5jdGlvbiIhPXR5cGVvZiBuKXJldHVybiBvKHIpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKHIpO24oZSl9KSl9LGI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC52YWxpZCYmeSgpP3dpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTpudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sdj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe3QmJnQudmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUpfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0seT1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4hIXdpbmRvdy5sb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJMb2NhbCBzdG9yYWdlIGFwaSBkaXNhYmxlZCIpfXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0saD1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPVtdO2lmKE9iamVjdChpLmhhc0RldmljZUFjY2VzcykoKSlmb3IodmFyIHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7ci5sZW5ndGg7KXt2YXIgbz1yLnBvcCgpLGE9by5pbmRleE9mKCI9Iik7YT1hPDA/by5sZW5ndGg6YSxkZWNvZGVVUklDb21wb25lbnQoby5zbGljZSgwLGEpLnJlcGxhY2UoL15ccysvLCIiKSkuaW5kZXhPZihlKT49MCYmbi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChvLnNsaWNlKGErMSkpKX1yZXR1cm4gbn19O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfTtyZXR1cm57c2V0Q29va2llOnMsZ2V0Q29va2llOmYsbG9jYWxTdG9yYWdlSXNFbmFibGVkOmwsY29va2llc0FyZUVuYWJsZWQ6cCxzZXREYXRhSW5Mb2NhbFN0b3JhZ2U6ZyxnZXREYXRhRnJvbUxvY2FsU3RvcmFnZTpiLHJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlOnYsaGFzTG9jYWxTdG9yYWdlOnksZmluZFNpbWlsYXJDb29raWVzOmh9fXZhciBkPU9iamVjdChyLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3Iobil9KSwidmFsaWRhdGVTdG9yYWdlRW5mb3JjZW1lbnQiKX0sNzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw3MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NyksaT1uKDY4KSxvPXIoImtleXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPWkoZSkpfX0sNzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9bigxNiksbz1uKDEyOCksYT1uKDk0KSxjPW4oNTcpLHU9bigxMzEpLHM9big4NiksZD1uKDcxKSxmPWQoIklFX1BST1RPIiksbD1mdW5jdGlvbigpe30scD1mdW5jdGlvbihlKXtyZXR1cm4iPHNjcmlwdD4iK2UrIjwvIisic2NyaXB0PiJ9LGc9ZnVuY3Rpb24oKXt0cnl7cj1kb2N1bWVudC5kb21haW4mJm5ldyBBY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpfWNhdGNoKGUpe312YXIgZSx0O2c9cj9mdW5jdGlvbihlKXtlLndyaXRlKHAoIiIpKSxlLmNsb3NlKCk7dmFyIHQ9ZS5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiBlPW51bGwsdH0ocik6KCh0PXMoImlmcmFtZSIpKS5zdHlsZS5kaXNwbGF5PSJub25lIix1LmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZygiamF2YXNjcmlwdDoiKSwoZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSxlLndyaXRlKHAoImRvY3VtZW50LkY9T2JqZWN0IikpLGUuY2xvc2UoKSxlLkYpO2Zvcih2YXIgbj1hLmxlbmd0aDtuLS07KWRlbGV0ZSBnLnByb3RvdHlwZVthW25dXTtyZXR1cm4gZygpfTtjW2ZdPSEwLGUuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsIT09ZT8obC5wcm90b3R5cGU9aShlKSxuPW5ldyBsLGwucHJvdG90eXBlPW51bGwsbltmXT1lKTpuPWcoKSx2b2lkIDA9PT10P246byhuLHQpfX0sNzM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXtpJiZpLmVudW1lcmFibGU/ZVt0XT1uOnIoZSx0LG4pfX0sNzQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oOTYpLG89big5OCksYT1uKDEzMyksYz1uKDYwKSx1PW4oMzIpLHM9big3MyksZD1uKDIxKSxmPW4oMTgpLGw9big0MikscD1uKDk3KSxnPXAuSXRlcmF0b3JQcm90b3R5cGUsYj1wLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsdj1kKCJpdGVyYXRvciIpLHk9ImtleXMiLGg9InZhbHVlcyIsbT0iZW50cmllcyIsTz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sZCxwLGosUyl7aShuLHQsZCk7dmFyIEUsQSxULEk9ZnVuY3Rpb24oZSl7aWYoZT09PXAmJlUpcmV0dXJuIFU7aWYoIWImJmUgaW4gUilyZXR1cm4gUltlXTtzd2l0Y2goZSl7Y2FzZSB5OmNhc2UgaDpjYXNlIG06cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LHc9dCsiIEl0ZXJhdG9yIixDPSExLFI9ZS5wcm90b3R5cGUsXz1SW3ZdfHxSWyJAQGl0ZXJhdG9yIl18fHAmJlJbcF0sVT0hYiYmX3x8SShwKSxCPSJBcnJheSI9PXQmJlIuZW50cmllc3x8XztpZihCJiYoRT1vKEIuY2FsbChuZXcgZSkpLGchPT1PYmplY3QucHJvdG90eXBlJiZFLm5leHQmJihmfHxvKEUpPT09Z3x8KGE/YShFLGcpOiJmdW5jdGlvbiIhPXR5cGVvZiBFW3ZdJiZ1KEUsdixPKSksYyhFLHcsITAsITApLGYmJihsW3ddPU8pKSkscD09aCYmXyYmXy5uYW1lIT09aCYmKEM9ITAsVT1mdW5jdGlvbigpe3JldHVybiBfLmNhbGwodGhpcyl9KSxmJiYhU3x8Ult2XT09PVV8fHUoUix2LFUpLGxbdF09VSxwKWlmKEE9e3ZhbHVlczpJKGgpLGtleXM6aj9VOkkoeSksZW50cmllczpJKG0pfSxTKWZvcihUIGluIEEpKGJ8fEN8fCEoVCBpbiBSKSkmJnMoUixULEFbVF0pO2Vsc2Ugcih7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOmJ8fEN9LEEpO3JldHVybiBBfX0sNzU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWkoZSk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBpdGVyYWJsZSIpO3JldHVybiByKHQuY2FsbChlKSl9fSw3NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNjIpO2UuZXhwb3J0cz1yfSw3NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDApLGk9e307ZnVuY3Rpb24gbyhlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pW2VdPWlbZV18fHtiaWRkZXJzOnt9fTtyZXR1cm4gdD9uLmJpZGRlcnNbdF09bi5iaWRkZXJzW3RdfHx7fTpufShlLG4pO3JldHVybiByW3RdPShyW3RdfHwwKSsxLHJbdF19dmFyIGE9e2luY3JlbWVudFJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gbyhlLCJyZXF1ZXN0c0NvdW50ZXIiKX0saW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSwicmVxdWVzdHNDb3VudGVyIix0KX0saW5jcmVtZW50QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLCJ3aW5zQ291bnRlciIsdCl9LGdldFJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLndpbnNDb3VudGVyIikpfHwwfX19LDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImdkcHJEYXRhSGFuZGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKHQsInVzcERhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQodCwiY29wcGFEYXRhSGFuZGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKHQsImNsaWVudFRlc3RBZGFwdGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImFsbFMyU0JpZGRlcnMiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLHQuZ2V0QWxsUzJTQmlkZGVycz1rLHQuc2V0UzJTVGVzdGluZ01vZHVsZT1mdW5jdGlvbihlKXtqPWV9O3ZhciByPW4oMCksaT1uKDEwMSksbz1uKDM4KSxhPW4oMSksYz1uKDQpLHU9bigzKSxzPW4oOSksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpLGc9big3NyksYj1uKDE5KTtmdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8aChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbShlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGgoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gaChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP20oZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIG0oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBPKCl7cmV0dXJuKE89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaixTPW4oNSksRT1uKDEwKSxBPXt9LFQ9QS5iaWRkZXJSZWdpc3RyeT17fSxJPUEuYWxpYXNSZWdpc3RyeT17fSx3PVtdO3UuYi5nZXRDb25maWcoInMyc0NvbmZpZyIsKGZ1bmN0aW9uKGUpe2UmJmUuczJzQ29uZmlnJiYodz1PYmplY3Qoci5pc0FycmF5KShlLnMyc0NvbmZpZyk/ZS5zMnNDb25maWc6W2UuczJzQ29uZmlnXSl9KSk7dmFyIEM9e307dmFyIFI9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZGRlckNvZGUsbj1lLmF1Y3Rpb25JZCxhPWUuYmlkZGVyUmVxdWVzdElkLGM9ZS5hZFVuaXRzLHU9ZS5sYWJlbHMscz1lLnNyYztyZXR1cm4gYy5yZWR1Y2UoKGZ1bmN0aW9uKGUsYyl7dmFyIGQ9T2JqZWN0KGkuYikoT2JqZWN0KGkuYSkoYyx1KSxjLm1lZGlhVHlwZXMsYy5zaXplcyksZj1kLmFjdGl2ZSxsPWQubWVkaWFUeXBlcyxwPWQuZmlsdGVyUmVzdWx0cztyZXR1cm4gZj9wJiZPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHAuYmVmb3JlLCJ0byAiLHAuYWZ0ZXIpOk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZGlzYWJsZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyInKSksZiYmZS5wdXNoKGMuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXR9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBkPWMubmF0aXZlUGFyYW1zfHxPYmplY3Qoci5kZWVwQWNjZXNzKShjLCJtZWRpYVR5cGVzLm5hdGl2ZSIpO2QmJih0PU8oe30sdCx7bmF0aXZlUGFyYW1zOk9iamVjdChvLmgpKGQpfSkpLHQ9Tyh7fSx0LE9iamVjdChyLmdldERlZmluZWRQYXJhbXMpKGMsWyJvcnRiMkltcCIsIm1lZGlhVHlwZSIsInJlbmRlcmVyIiwic3RvcmVkQXVjdGlvblJlc3BvbnNlIl0pKTt2YXIgZj1PYmplY3QoaS5iKShPYmplY3QoaS5hKSh0LHUpLGwpLHA9Zi5hY3RpdmUsYj1mLm1lZGlhVHlwZXMsdj1mLmZpbHRlclJlc3VsdHM7cmV0dXJuIHA/diYmT2JqZWN0KHIubG9nSW5mbykoJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiaWRkZXIgIicpLmNvbmNhdCh0LmJpZGRlciwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSx2LmJlZm9yZSwidG8gIix2LmFmdGVyKTpPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGRlYWN0aXZhdGVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciJykpLE9iamVjdChyLmlzVmFsaWRNZWRpYVR5cGVzKShiKT90PU8oe30sdCx7bWVkaWFUeXBlczpifSk6T2JqZWN0KHIubG9nRXJyb3IpKCJtZWRpYVR5cGVzIGlzIG5vdCBjb3JyZWN0bHkgY29uZmlndXJlZCBmb3IgYWR1bml0ICIuY29uY2F0KGMuY29kZSkpLHAmJmUucHVzaChPKHt9LHQse2FkVW5pdENvZGU6Yy5jb2RlLHRyYW5zYWN0aW9uSWQ6Yy50cmFuc2FjdGlvbklkLHNpemVzOk9iamVjdChyLmRlZXBBY2Nlc3MpKGIsImJhbm5lci5zaXplcyIpfHxPYmplY3Qoci5kZWVwQWNjZXNzKShiLCJ2aWRlby5wbGF5ZXJTaXplIil8fFtdLGJpZElkOnQuYmlkX2lkfHxPYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGJpZGRlclJlcXVlc3RJZDphLGF1Y3Rpb25JZDpuLHNyYzpzLGJpZFJlcXVlc3RzQ291bnQ6Zy5hLmdldFJlcXVlc3RzQ291bnRlcihjLmNvZGUpLGJpZGRlclJlcXVlc3RzQ291bnQ6Zy5hLmdldEJpZGRlclJlcXVlc3RzQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpLGJpZGRlcldpbnNDb3VudDpnLmEuZ2V0QmlkZGVyV2luc0NvdW50ZXIoYy5jb2RlLHQuYmlkZGVyKX0pKSxlfSksW10pKSxlfSksW10pLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lfSkpfSksImdldEJpZHMiKTt2YXIgXz17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXtfLmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIF8uY29uc2VudERhdGF9fSxVPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe1UuY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gVS5jb25zZW50RGF0YX19LEI9e2dldENvcHBhOmZ1bmN0aW9uKCl7cmV0dXJuISF1LmIuZ2V0Q29uZmlnKCJjb3BwYSIpfX0seD1bXSxEPVtdO2Z1bmN0aW9uIGsoKXtBLnMyU1Rlc3RpbmdFbmFibGVkPSExLHcuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmZS5lbmFibGVkJiZlLmJpZGRlcnMmJmUuYmlkZGVycy5sZW5ndGgmJkQucHVzaC5hcHBseShELHkoZS5iaWRkZXJzKSl9KSl9ZnVuY3Rpb24gTihlKXtyZXR1cm4gZSYmZS5lbmFibGVkJiZlLnRlc3RpbmcmJmp9ZnVuY3Rpb24gUChlLHQsbil7dHJ5e3ZhciBpPVRbZV0uZ2V0U3BlYygpO2kmJmlbdF0mJiJmdW5jdGlvbiI9PXR5cGVvZiBpW3RdJiYoT2JqZWN0KHIubG9nSW5mbykoIkludm9raW5nICIuY29uY2F0KGUsIi4iKS5jb25jYXQodCkpLHUuYi5ydW5XaXRoQmlkZGVyKGUsci5iaW5kLmNhbGwoaVt0XSxpLG4pKSl9Y2F0Y2gobil7T2JqZWN0KHIubG9nV2FybikoIkVycm9yIGNhbGxpbmcgIi5jb25jYXQodCwiIG9mICIpLmNvbmNhdChlKSl9fUEubWFrZUJpZFJlcXVlc3RzPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4saSxvKXtFLmVtaXQoUy5FVkVOVFMuQkVGT1JFX1JFUVVFU1RfQklEUyxlKTt2YXIgYT1PYmplY3Qoci5nZXRCaWRkZXJDb2RlcykoZSk7dS5iLmdldENvbmZpZygiYmlkZGVyU2VxdWVuY2UiKT09PXUuYSYmKGE9T2JqZWN0KHIuc2h1ZmZsZSkoYSkpO3ZhciBjPU9iamVjdChiLmEpKCkscz1hLGQ9W107MD09PUQubGVuZ3RoJiZrKCksdy5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZ0LmVuYWJsZWQmJihOKHQpJiYoai5jYWxjdWxhdGVCaWRTb3VyY2VzKHQpLGouZ2V0U291cmNlQmlkZGVyTWFwKGUsRClbai5DTElFTlRdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YoKSh4LGUpfHx4LnB1c2goZSl9KSkpKX0pKSxzPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZigpKEQsZSl8fGYoKSh4LGUpfSkpO3ZhciBsPUQ7dy5mb3JFYWNoKChmdW5jdGlvbihpKXtpZihpJiZpLmVuYWJsZWQpeyhmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihOKGUpJiZlLnRlc3RTZXJ2ZXJPbmx5KX0pKGkpJiZmdW5jdGlvbihlLHQpe3JldHVybiBCb29sZWFuKHAoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGUuYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkU291cmNlfHx0LmJpZGRlckNvbnRyb2wmJnQuYmlkZGVyQ29udHJvbFtlLmJpZGRlcl0pJiZlLmZpbmFsU291cmNlPT09ai5TRVJWRVJ9KSl9KSkpfShlLGkpJiYoT2JqZWN0KHIubG9nV2FybikoInRlc3RTZXJ2ZXJPbmx5OiBUcnVlLiAgQWxsIGNsaWVudCByZXF1ZXN0cyB3aWxsIGJlIHN1cHByZXNzZWQuIikscy5sZW5ndGg9MCk7dmFyIGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZGRlcnMsaT1PYmplY3Qoci5kZWVwQ2xvbmUpKGUpO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5iaWRkZXIpJiYoIU4odCl8fGUuZmluYWxTb3VyY2UhPT1qLkNMSUVOVCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRfaWQ9T2JqZWN0KHIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxlfSkpfSkpLGkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSl9KGUsaSksdT1PYmplY3Qoci5nZW5lcmF0ZVVVSUQpKCk7bC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcz1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGY9e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6cyx0aWQ6dSxiaWRzOlIoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6cyxhZFVuaXRzOk9iamVjdChyLmRlZXBDbG9uZSkoYSksbGFiZWxzOm8sc3JjOlMuUzJTLlNSQ30pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6aS50aW1lb3V0LHNyYzpTLlMyUy5TUkMscmVmZXJlckluZm86Y307MCE9PWYuYmlkcy5sZW5ndGgmJmQucHVzaChmKX0pKSxhLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZCwoZnVuY3Rpb24odCl7cmV0dXJuIHAoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZElkPT09ZS5iaWRfaWR9KSl9KSl9KSk7ZS5iaWRzPXR9KSksZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmFkVW5pdHNTMlNDb3B5JiYoZS5hZFVuaXRzUzJTQ29weT1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5sZW5ndGg+MH0pKSl9KSl9fSkpO3ZhciBnPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF4Lmxlbmd0aHx8ZS5maW5hbFNvdXJjZSE9PWouU0VSVkVSfSkpfSkpLHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSl9KGUpO3JldHVybiBzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBhPU9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksdT17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDphLGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDphLGFkVW5pdHM6T2JqZWN0KHIuZGVlcENsb25lKShnKSxsYWJlbHM6byxzcmM6ImNsaWVudCJ9KSxhdWN0aW9uU3RhcnQ6dCx0aW1lb3V0OmkscmVmZXJlckluZm86Y30scz1UW2VdO3N8fE9iamVjdChyLmxvZ0Vycm9yKSgiVHJ5aW5nIHRvIG1ha2UgYSByZXF1ZXN0IGZvciBiaWRkZXIgdGhhdCBkb2VzIG5vdCBleGlzdDogIi5jb25jYXQoZSkpLHMmJnUuYmlkcyYmMCE9PXUuYmlkcy5sZW5ndGgmJmQucHVzaCh1KX0pKSxfLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZHByQ29uc2VudD1fLmdldENvbnNlbnREYXRhKCl9KSksVS5nZXRDb25zZW50RGF0YSgpJiZkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudXNwQ29uc2VudD1VLmdldENvbnNlbnREYXRhKCl9KSksZH0pLCJtYWtlQmlkUmVxdWVzdHMiKSxBLmNhbGxCaWRzPWZ1bmN0aW9uKGUsdCxuLGksbyxhLHMpe2lmKHQubGVuZ3RoKXt2YXIgZD12KHQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW051bWJlcih2b2lkIDAhPT10LnNyYyYmdC5zcmM9PT1TLlMyUy5TUkMpXS5wdXNoKHQpLGV9KSxbW10sW11dKSwyKSxsPWRbMF0scD1kWzFdLGc9W107cC5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9LTEsbj0wO248Zy5sZW5ndGg7KytuKWlmKGUudGlkPT09Z1tuXS50aWQpe3Q9bjticmVha310PD0tMSYmZy5wdXNoKGUpfSkpO3ZhciBiPTA7dy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlJiZnW2JdJiZmKCkoZS5iaWRkZXJzLGdbYl0uYmlkZGVyQ29kZSkpe3ZhciB0PU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLCJzMnMiKSxkb25lOm8uZG9uZX06dm9pZCAwKSx1PWUuYmlkZGVycyxzPVRbZS5hZGFwdGVyXSxkPWdbYl0udGlkLGw9Z1tiXS5hZFVuaXRzUzJTQ29weSx2PXAuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50aWQ9PT1kfSkpO2lmKHMpe3ZhciB5PXt0aWQ6ZCxhZF91bml0czpsLHMyc0NvbmZpZzplfTtpZih5LmFkX3VuaXRzLmxlbmd0aCl7dmFyIGg9di5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0PU9iamVjdChyLnRpbWVzdGFtcCkoKSxpLmJpbmQoZSl9KSksbT15LmFkX3VuaXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoKHQuYmlkc3x8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5iaWRkZXIpfSksW10pKX0pLFtdKTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiQ0FMTElORyBTMlMgSEVBREVSIEJJRERFUlMgPT09PSAiLmNvbmNhdCh1LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShtLGUpfSkpLmpvaW4oIiwiKSkpLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7RS5lbWl0KFMuRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSkscy5jYWxsQmlkcyh5LHAsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9T2JqZWN0KHIuZ2V0QmlkZGVyUmVxdWVzdCkocCx0LmJpZGRlckNvZGUsZSk7aSYmbi5jYWxsKGksZSx0KX0pLChmdW5jdGlvbigpe3AuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKGkuYmluZChlKSl9KSksaC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpfSksdCl9fWVsc2UgT2JqZWN0KHIubG9nRXJyb3IpKCJtaXNzaW5nICIrZS5hZGFwdGVyKTtiKyt9fSkpLGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGFydD1PYmplY3Qoci50aW1lc3RhbXApKCk7dmFyIHQ9VFtlLmJpZGRlckNvZGVdO3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSwoZnVuY3Rpb24oKXtPYmplY3Qoci5sb2dNZXNzYWdlKSgiQ0FMTElORyBCSURERVIiKSxFLmVtaXQoUy5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKTt2YXIgZD1PYmplY3QoYy5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCxlLmJpZGRlckNvZGUpLGRvbmU6by5kb25lfTp2b2lkIDApLGY9aS5iaW5kKGUpO3RyeXt1LmIucnVuV2l0aEJpZGRlcihlLmJpZGRlckNvZGUsci5iaW5kLmNhbGwodC5jYWxsQmlkcyx0LGUsbi5iaW5kKGUpLGYsZCxzLHUuYi5jYWxsYmFja1dpdGhCaWRkZXIoZS5iaWRkZXJDb2RlKSkpfWNhdGNoKHQpe09iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQoZS5iaWRkZXJDb2RlLCIgQmlkIEFkYXB0ZXIgZW1pdHRlZCBhbiB1bmNhdWdodCBlcnJvciB3aGVuIHBhcnNpbmcgdGhlaXIgYmlkUmVxdWVzdCIpLHtlOnQsYmlkUmVxdWVzdDplfSksZigpfX0pKX1lbHNlIE9iamVjdChyLmxvZ1dhcm4pKCJjYWxsQmlkcyBleGVjdXRlZCB3aXRoIG5vIGJpZFJlcXVlc3RzLiAgV2VyZSB0aGV5IGZpbHRlcmVkIGJ5IGxhYmVscyBvciBzaXppbmc/Iil9LEEudmlkZW9BZGFwdGVycz1bXSxBLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPW4uc3VwcG9ydGVkTWVkaWFUeXBlcyxhPXZvaWQgMD09PWk/W106aTtlJiZ0PyJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxCaWRzPyhUW3RdPWUsZigpKGEsInZpZGVvIikmJkEudmlkZW9BZGFwdGVycy5wdXNoKHQpLGYoKShhLCJuYXRpdmUiKSYmby5mLnB1c2godCkpOk9iamVjdChyLmxvZ0Vycm9yKSgiQmlkZGVyIGFkYXB0b3IgZXJyb3IgZm9yIGJpZGRlciBjb2RlOiAiK3QrImJpZGRlciBtdXN0IGltcGxlbWVudCBhIGNhbGxCaWRzKCkgZnVuY3Rpb24iKTpPYmplY3Qoci5sb2dFcnJvcikoImJpZEFkYXB0ZXIgb3IgYmlkZGVyQ29kZSBub3Qgc3BlY2lmaWVkIil9LEEuYWxpYXNCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1UW3RdKXt2YXIgaT1UW2VdO2lmKHZvaWQgMD09PWkpe3ZhciBjPVtdO3cuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYobi5iaWRkZXJzJiZuLmJpZGRlcnMubGVuZ3RoKXt2YXIgcj1uJiZuLmJpZGRlcnM7biYmZigpKHIsdCk/SVt0XT1lOmMucHVzaChlKX19KSksYy5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qoci5sb2dFcnJvcikoJ2JpZGRlckNvZGUgIicrZSsnIiBpcyBub3QgYW4gZXhpc3RpbmcgYmlkZGVyLicsImFkYXB0ZXJNYW5hZ2VyLmFsaWFzQmlkQWRhcHRlciIpfSkpfWVsc2UgdHJ5e3ZhciB1LHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGYoKShBLnZpZGVvQWRhcHRlcnMsZSkmJnQucHVzaCgidmlkZW8iKSxmKCkoby5mLGUpJiZ0LnB1c2goIm5hdGl2ZSIpLHR9KGUpO2lmKGkuY29uc3RydWN0b3IucHJvdG90eXBlIT1PYmplY3QucHJvdG90eXBlKSh1PW5ldyBpLmNvbnN0cnVjdG9yKS5zZXRCaWRkZXJDb2RlKHQpO2Vsc2V7dmFyIGQ9aS5nZXRTcGVjKCksbD1uJiZuLmd2bGlkLHA9biYmbi5za2lwUGJzQWxpYXNpbmc7dT1PYmplY3QoYS5uZXdCaWRkZXIpKE8oe30sZCx7Y29kZTp0LGd2bGlkOmwsc2tpcFBic0FsaWFzaW5nOnB9KSksSVt0XT1lfUEucmVnaXN0ZXJCaWRBZGFwdGVyKHUsdCx7c3VwcG9ydGVkTWVkaWFUeXBlczpzfSl9Y2F0Y2godCl7T2JqZWN0KHIubG9nRXJyb3IpKGUrIiBiaWRkZXIgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgYWxpYXNpbmcuIiwiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9fWVsc2UgT2JqZWN0KHIubG9nTWVzc2FnZSkoJ2FsaWFzIG5hbWUgIicrdCsnIiBoYXMgYmVlbiBhbHJlYWR5IHNwZWNpZmllZC4nKX0sQS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZGFwdGVyLG49ZS5jb2RlLGk9ZS5ndmxpZDt0JiZuPyJmdW5jdGlvbiI9PXR5cGVvZiB0LmVuYWJsZUFuYWx5dGljcz8odC5jb2RlPW4sQ1tuXT17YWRhcHRlcjp0LGd2bGlkOml9KTpPYmplY3Qoci5sb2dFcnJvcikoJ1ByZWJpZCBFcnJvcjogQW5hbHl0aWNzIGFkYXB0b3IgZXJyb3IgZm9yIGFuYWx5dGljcyAiJy5jb25jYXQobiwnIlxuICAgICAgICBhbmFseXRpY3MgYWRhcHRlciBtdXN0IGltcGxlbWVudCBhbiBlbmFibGVBbmFseXRpY3MoKSBmdW5jdGlvbicpKTpPYmplY3Qoci5sb2dFcnJvcikoIlByZWJpZCBFcnJvcjogYW5hbHl0aWNzQWRhcHRlciBvciBhbmFseXRpY3NDb2RlIG5vdCBzcGVjaWZpZWQiKX0sQS5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7T2JqZWN0KHIuaXNBcnJheSkoZSl8fChlPVtlXSksT2JqZWN0KHIuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PUNbZS5wcm92aWRlcl0uYWRhcHRlcjt0P3QuZW5hYmxlQW5hbHl0aWNzKGUpOk9iamVjdChyLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBubyBhbmFseXRpY3MgYWRhcHRlciBmb3VuZCBpbiByZWdpc3RyeSBmb3JcbiAgICAgICAgIi5jb25jYXQoZS5wcm92aWRlciwiLiIpKX0pKX0sQS5nZXRCaWRBZGFwdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBUW2VdfSxBLmdldEFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIENbZV19LEEuY2FsbFRpbWVkT3V0QmlkZGVycz1mdW5jdGlvbihlLHQsbil7dD10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1zPU9iamVjdChyLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKShlLHQuYWRVbml0Q29kZSx0LmJpZGRlciksdC50aW1lb3V0PW4sdH0pKSx0PU9iamVjdChyLmdyb3VwQnkpKHQsImJpZGRlciIpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe1AoZSwib25UaW1lb3V0Iix0W2VdKX0pKX0sQS5jYWxsQmlkV29uQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXt0LnBhcmFtcz1PYmplY3Qoci5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcykobix0LmFkVW5pdENvZGUsdC5iaWRkZXIpLGcuYS5pbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcih0LmFkVW5pdENvZGUsdC5iaWRkZXIpLFAoZSwib25CaWRXb24iLHQpfSxBLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXI9ZnVuY3Rpb24oZSx0KXtQKGUsIm9uU2V0VGFyZ2V0aW5nIix0KX0sQS5jYWxsQmlkVmlld2FibGVCaWRkZXI9ZnVuY3Rpb24oZSx0KXtQKGUsIm9uQmlkVmlld2FibGUiLHQpfSxBLmNhbGxCaWRkZXJFcnJvcj1mdW5jdGlvbihlLHQsbil7UChlLCJvbkJpZGRlckVycm9yIix7ZXJyb3I6dCxiaWRkZXJSZXF1ZXN0Om59KX0sdC5kZWZhdWx0PUF9LDgxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIyMSk7ZS5leHBvcnRzPXJ9LDgyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJhZFVuaXRTZXR1cENoZWNrcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSksbi5kKHQsImNoZWNrQWRVbml0U2V0dXAiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHQuZXhlY3V0ZUNhbGxiYWNrcz1aO3ZhciByPW4oMTQpLGk9bigwKSxvPW4oMjI5KSxhPW4oNjEpLGM9bigzKSx1PW4oMjMpLHM9big0MCksZD1uKDkpLGY9bigyMzApLGw9bigxMikscD1uLm4obCksZz1uKDc3KSxiPW4oMTMpLHY9bigzOSkseT1uKDcpLGg9big0Nyk7ZnVuY3Rpb24gbShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gTyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gTyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gTyhlLHQpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBPKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gaigpe3JldHVybihqPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIFM9T2JqZWN0KHIuYSkoKSxFPW4oNSksQT1uKDgpLmRlZmF1bHQsVD1uKDEwKSxJPWEuYS50cmlnZ2VyVXNlclN5bmNzLHc9RS5FVkVOVFMsQz13LkFERF9BRF9VTklUUyxSPXcuQklEX1dPTixfPXcuUkVRVUVTVF9CSURTLFU9dy5TRVRfVEFSR0VUSU5HLEI9dy5BRF9SRU5ERVJfRkFJTEVELHg9dy5BRF9SRU5ERVJfU1VDQ0VFREVELEQ9dy5TVEFMRV9SRU5ERVIsaz1FLkFEX1JFTkRFUl9GQUlMRURfUkVBU09OLE49ay5QUkVWRU5UX1dSSVRJTkdfT05fTUFJTl9ET0NVTUVOVCxQPWsuTk9fQUQscT1rLkVYQ0VQVElPTixNPWsuQ0FOTk9UX0ZJTkRfQUQsRz1rLk1JU1NJTkdfRE9DX09SX0FESUQsTD17YmlkV29uOmZ1bmN0aW9uKGUpe3ZhciB0PXUuYS5nZXRCaWRzUmVxdWVzdGVkKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKX0pKS5yZWR1Y2UoaS5mbGF0dGVuKS5maWx0ZXIoaS51bmlxdWVzKTtpZighT2JqZWN0KGkuY29udGFpbnMpKHQsZSkpcmV0dXJuIHZvaWQgT2JqZWN0KGkubG9nRXJyb3IpKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyk7cmV0dXJuITB9fTtmdW5jdGlvbiBXKGUsdCxuKXtlLmRlZmF1bHRWaWV3JiZlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCYmKGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LndpZHRoPXQsZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQuaGVpZ2h0PW4pfWZ1bmN0aW9uIEYoZSx0KXt2YXIgbj1bXTtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSkmJih0P2UubGVuZ3RoPT09dDplLmxlbmd0aD4wKSYmKGUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc0FycmF5T2ZOdW1zKShlLDIpfSkpP249ZTpPYmplY3QoaS5pc0FycmF5T2ZOdW1zKShlLDIpJiZuLnB1c2goZSkpLG59ZnVuY3Rpb24geihlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLmJhbm5lcixyPUYobi5zaXplcyk7cmV0dXJuIHIubGVuZ3RoPjA/KG4uc2l6ZXM9cix0LnNpemVzPXIpOihPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IHdpdGhvdXQgYSBwcm9wZXIgc2l6ZXMgZmllbGQuICBQbGVhc2UgZW5zdXJlIHRoZSBzaXplcyBhcmUgbGlzdGVkIGxpa2U6IFtbMzAwLCAyNTBdLCAuLi5dLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMuYmFubmVyKSx0fWZ1bmN0aW9uIFYoZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcENsb25lKShlKSxuPXQubWVkaWFUeXBlcy52aWRlbztpZihuLnBsYXllclNpemUpe3ZhciByPSJudW1iZXIiPT10eXBlb2Ygbi5wbGF5ZXJTaXplWzBdPzI6MSxvPUYobi5wbGF5ZXJTaXplLHIpO28ubGVuZ3RoPjA/KDI9PT1yJiZPYmplY3QoaS5sb2dJbmZvKSgiVHJhbnNmb3JtaW5nIHZpZGVvLnBsYXllclNpemUgZnJvbSBbNjQwLDQ4MF0gdG8gW1s2NDAsNDgwXV0gc28gaXQncyBpbiB0aGUgcHJvcGVyIGZvcm1hdC4iKSxuLnBsYXllclNpemU9byx0LnNpemVzPW8pOihPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGluY29ycmVjdCBjb25maWd1cmF0aW9uIG9mIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS4gIFBsZWFzZSBzcGVjaWZ5IG9ubHkgb25lIHNldCBvZiBkaW1lbnNpb25zIGluIGEgZm9ybWF0IGxpa2U6IFtbNjQwLCA0ODBdXS4gUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9cmV0dXJuIHR9ZnVuY3Rpb24gSChlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLm5hdGl2ZTtyZXR1cm4gbi5pbWFnZSYmbi5pbWFnZS5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5zaXplcykmJihPYmplY3QoaS5sb2dFcnJvcikoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzKSxuLmltYWdlJiZuLmltYWdlLmFzcGVjdF9yYXRpb3MmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2UuYXNwZWN0X3JhdGlvcykmJihPYmplY3QoaS5sb2dFcnJvcikoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zKSxuLmljb24mJm4uaWNvbi5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pY29uLnNpemVzKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmljb24uc2l6ZXMgZmllbGQuICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMubmF0aXZlLmljb24uc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmljb24uc2l6ZXMpLHR9ZnVuY3Rpb24gSyhlLHQpe3ZhciBuPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQodCwiLnBvcyIpKTtpZighbnx8IU9iamVjdChpLmlzTnVtYmVyKShuKXx8IWlzRmluaXRlKG4pKXt2YXIgcj0iVmFsdWUgb2YgcHJvcGVydHkgJ3Bvcycgb24gYWQgdW5pdCAiLmNvbmNhdChlLmNvZGUsIiBzaG91bGQgYmUgb2YgdHlwZTogTnVtYmVyIik7T2JqZWN0KGkubG9nV2FybikociksVC5lbWl0KEUuRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czpyfSksZGVsZXRlIGUubWVkaWFUeXBlc1t0XS5wb3N9cmV0dXJuIGV9T2JqZWN0KGYuYSkoKSxTLmJpZGRlclNldHRpbmdzPVMuYmlkZGVyU2V0dGluZ3N8fHt9LFMubGliTG9hZGVkPSEwLFMudmVyc2lvbj0idjUuMjAuMiIsT2JqZWN0KGkubG9nSW5mbykoIlByZWJpZC5qcyB2NS4yMC4yIGxvYWRlZCIpLFMuaW5zdGFsbGVkTW9kdWxlcz1bImNvbnNlbnRNYW5hZ2VtZW50IiwiY29uc2VudE1hbmFnZW1lbnRVc3AiLCIzM2Fjcm9zc0JpZEFkYXB0ZXIiLCJhbWF6b25CaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwicHVibWF0aWNCaWRBZGFwdGVyIiwicHVsc2Vwb2ludEJpZEFkYXB0ZXIiLCJydWJpY29uQmlkQWRhcHRlciIsInNvbm9iaUJpZEFkYXB0ZXIiLCJzb3ZybkJpZEFkYXB0ZXIiLCJzaGFyZXRocm91Z2hCaWRBZGFwdGVyIiwicmh5dGhtb25lQmlkQWRhcHRlciIsImN1cnJlbmN5Iiwic2NoYWluIiwidXNlcklkIiwicHViUHJvdmlkZWRJZFN5c3RlbSIsInB1YnN0YWNrQW5hbHl0aWNzQWRhcHRlciIsIm5vYmlkQmlkQWRhcHRlciIsInNvcnRhYmxlQmlkQWRhcHRlciIsInByZWJpZFNlcnZlckJpZEFkYXB0ZXIiLCJicmlnaHRjb21CaWRBZGFwdGVyIiwidHJ1c3R4QmlkQWRhcHRlciIsImlkNUlkU3lzdGVtIiwib25ldGFnQmlkQWRhcHRlciIsInlhaG9vc3NwQmlkQWRhcHRlciIsInJlbGF5QmlkQWRhcHRlciIsImFkYWdpb0JpZEFkYXB0ZXIiLCJncmlkQmlkQWRhcHRlciIsImthcmdvQmlkQWRhcHRlciIsImVwbGFubmluZ0JpZEFkYXB0ZXIiLCJhbXhCaWRBZGFwdGVyIiwicHJpY2VGbG9vcnMiLCJ1bmlmaWVkSWRTeXN0ZW0iLCJuYXRpdm9CaWRBZGFwdGVyIiwiaWRlbnRpdHlMaW5rSWRTeXN0ZW0iLCJhdHNBbmFseXRpY3NBZGFwdGVyIiwieWllbGRtb0JpZEFkYXB0ZXIiXSxTLmFkVW5pdHM9Uy5hZFVuaXRzfHxbXSxTLnNldENvb2tpZUZyYW1lPWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5zZXRDb29raWVGcmFtZSIsYXJndW1lbnRzKSxoLmYoZSl9LFMub25CZWZvcmVSZXF1ZXN0PWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vbkJlZm9yZVJlcXVlc3QiLGFyZ3VtZW50cyksaC5iKGUpfSxTLm9uU2VuZExvZz1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub25TZW5kTG9nIixhcmd1bWVudHMpLGguZChlKX0sUy50cmlnZ2VyVXNlclN5bmNzPUk7dmFyIEo9e3ZhbGlkYXRlQmFubmVyTWVkaWFUeXBlOnosdmFsaWRhdGVWaWRlb01lZGlhVHlwZTpWLHZhbGlkYXRlTmF0aXZlTWVkaWFUeXBlOkgsdmFsaWRhdGVTaXplczpGfSxZPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG4scixvLGE9ZS5tZWRpYVR5cGVzLGM9ZS5iaWRzO2lmKGMmJk9iamVjdChpLmlzQXJyYXkpKGMpKWlmKGEmJjAhPT1PYmplY3Qua2V5cyhhKS5sZW5ndGgpe2EuYmFubmVyJiYobj16KGUpLGEuYmFubmVyLmhhc093blByb3BlcnR5KCJwb3MiKSYmKG49SyhuLCJiYW5uZXIiKSkpLGEudmlkZW8mJihyPVYobnx8ZSksYS52aWRlby5oYXNPd25Qcm9wZXJ0eSgicG9zIikmJihyPUsociwidmlkZW8iKSkpLGEubmF0aXZlJiYobz1IKHJ8fChufHxlKSkpO3ZhciB1PWooe30sbixyLG8pO3QucHVzaCh1KX1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgYSAnbWVkaWFUeXBlcycgb2JqZWN0IGRlZmluZWQuICBUaGlzIGlzIGEgcmVxdWlyZWQgZmllbGQgZm9yIHRoZSBhdWN0aW9uLCBzbyB0aGlzIGFkVW5pdCBoYXMgYmVlbiByZW1vdmVkLiIpKTtlbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgJ2FkVW5pdC5iaWRzJyBkZWZpbmVkIG9yICdhZFVuaXQuYmlkcycgaXMgbm90IGFuIGFycmF5LiBSZW1vdmluZyBhZFVuaXQgZnJvbSBhdWN0aW9uLiIpKX0pKSx0fSksImNoZWNrQWRVbml0U2V0dXAiKTtmdW5jdGlvbiBRKGUpe3ZhciB0PXUuYVtlXSgpLmZpbHRlcihpLmJpbmQuY2FsbChpLmFkVW5pdHNGaWx0ZXIsdGhpcyx1LmEuZ2V0QWRVbml0Q29kZXMoKSkpLG49dS5hLmdldExhc3RBdWN0aW9uSWQoKTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSkuZmlsdGVyKGkudW5pcXVlcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF1Y3Rpb25JZD09PW4mJnQuYWRVbml0Q29kZT09PWV9KSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXSYmZVswXS5hZFVuaXRDb2RlfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9e30sbj1lWzBdLmFkVW5pdENvZGUscj17YmlkczplfSxuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0O3ZhciB0LG4scn0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooZSx0KX0pLHt9KX1mdW5jdGlvbiAkKGUpe3ZhciB0PWUucmVhc29uLG49ZS5tZXNzYWdlLHI9ZS5iaWQsbz1lLmlkLGE9e3JlYXNvbjp0LG1lc3NhZ2U6bn07ciYmKGEuYmlkPXIpLG8mJihhLmFkSWQ9byksT2JqZWN0KGkubG9nRXJyb3IpKG4pLFQuZW1pdChCLGEpfWZ1bmN0aW9uIFgoZSl7dmFyIHQ9ZS5kb2Msbj1lLmJpZCxyPWUuaWQsaT17ZG9jOnR9O24mJihpLmJpZD1uKSxyJiYoaS5hZElkPXIpLFQuZW1pdCh4LGkpfWZ1bmN0aW9uIFooZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfW4oeS5jKSxuKGVlKSxlLmNhbGwodGhpcyx0KX1TLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0cj1mdW5jdGlvbihlKXtpZihPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIixhcmd1bWVudHMpLGUpe3ZhciB0PVMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlKGUpO3JldHVybiBPYmplY3QoaS50cmFuc2Zvcm1BZFNlcnZlclRhcmdldGluZ09iaikodCl9T2JqZWN0KGkubG9nTWVzc2FnZSkoIk5lZWQgdG8gY2FsbCBnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIgd2l0aCBhZHVuaXRDb2RlIil9LFMuZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD11LmEuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGUoZSkuZmlsdGVyKHMuYS5pc1VudXNlZEJpZCkuZmlsdGVyKHMuYS5pc0JpZE5vdEV4cGlyZWQpO3JldHVybiB0Lmxlbmd0aD90LnJlZHVjZShpLmdldEhpZ2hlc3RDcG0pOnt9fU9iamVjdChpLmxvZ01lc3NhZ2UpKCJOZWVkIHRvIGNhbGwgZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZSB3aXRoIGFkdW5pdENvZGUiKX0sUy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmcoZSlbZV19LFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nIixhcmd1bWVudHMpLHMuZC5nZXRBbGxUYXJnZXRpbmcoZSx0KX0sUy5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldE5vQmlkcyIsYXJndW1lbnRzKSxRKCJnZXROb0JpZHMiKX0sUy5nZXROb0JpZHNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXROb0JpZHMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sUy5nZXRCaWRSZXNwb25zZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEJpZFJlc3BvbnNlcyIsYXJndW1lbnRzKSxRKCJnZXRCaWRzUmVjZWl2ZWQiKX0sUy5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sUy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYz1mdW5jdGlvbihlLHQpe2lmKE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYyIsYXJndW1lbnRzKSxPYmplY3QoaS5pc0dwdFB1YmFkc0RlZmluZWQpKCkpe3ZhciBuPXMuZC5nZXRBbGxUYXJnZXRpbmcoZSk7cy5kLnJlc2V0UHJlc2V0VGFyZ2V0aW5nKGUsdCkscy5kLnNldFRhcmdldGluZ0ZvckdQVChuLHQpLE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJoYl9hZGlkIj09PXQmJnUuYS5zZXRTdGF0dXNGb3JCaWRzKG5bZV1bdF0sRS5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUKX0pKX0pKSxULmVtaXQoVSxuKX1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgid2luZG93Lmdvb2dsZXRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxTLnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yQW4iLGFyZ3VtZW50cykscy5kLmlzQXBudGFnRGVmaW5lZCgpPyhzLmQuc2V0VGFyZ2V0aW5nRm9yQXN0KGUpLFQuZW1pdChVLHMuZC5nZXRBbGxUYXJnZXRpbmcoKSkpOk9iamVjdChpLmxvZ0Vycm9yKSgid2luZG93LmFwbnRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxTLnJlbmRlckFkPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuKXtpZihPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVuZGVyQWQiLGFyZ3VtZW50cyksT2JqZWN0KGkubG9nTWVzc2FnZSkoIkNhbGxpbmcgcmVuZGVyQWQgd2l0aCBhZElkIDoiK3QpLGUmJnQpdHJ5e3ZhciByPXUuYS5maW5kQmlkQnlBZElkKHQpO2lmKHIpe3ZhciBvPSEwO2lmKHImJnIuc3RhdHVzPT09RS5CSURfU1RBVFVTLlJFTkRFUkVEJiYoT2JqZWN0KGkubG9nV2FybikoIkFkIGlkICIuY29uY2F0KHIuYWRJZCwiIGhhcyBiZWVuIHJlbmRlcmVkIGJlZm9yZSIpKSxULmVtaXQoRCxyKSxPYmplY3QoaS5kZWVwQWNjZXNzKShjLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikmJihvPSExKSksbyl7aWYoci5hZD1PYmplY3QoaS5yZXBsYWNlQXVjdGlvblByaWNlKShyLmFkLHIuY3BtKSxyLmFkVXJsPU9iamVjdChpLnJlcGxhY2VBdWN0aW9uUHJpY2UpKHIuYWRVcmwsci5jcG0pLG4mJm4uY2xpY2tUaHJvdWdoKXt2YXIgYT1uLmNsaWNrVGhyb3VnaDtyLmFkPU9iamVjdChpLnJlcGxhY2VDbGlja1Rocm91Z2gpKHIuYWQsYSksci5hZFVybD1PYmplY3QoaS5yZXBsYWNlQ2xpY2tUaHJvdWdoKShyLmFkVXJsLGEpfXUuYS5hZGRXaW5uaW5nQmlkKHIpLFQuZW1pdChSLHIpO3ZhciBzPXIuaGVpZ2h0LGQ9ci53aWR0aCxmPXIuYWQsbD1yLm1lZGlhVHlwZSxwPXIuYWRVcmwsZz1yLnJlbmRlcmVyLHY9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiQ3JlYXRpdmUgIi5jb25jYXQoci5jcmVhdGl2ZUlkLCIgc2VydmVkIGJ5ICIpLmNvbmNhdChyLmJpZGRlciwiIFByZWJpZC5qcyBIZWFkZXIgQmlkZGluZyIpKTtpZihPYmplY3QoYi5jKShnKSlPYmplY3QoYi5iKShnLHIpLE9iamVjdChpLmluc2VydEVsZW1lbnQpKHYsZSwiaHRtbCIpLFgoe2RvYzplLGJpZDpyLGlkOnR9KTtlbHNlIGlmKGU9PT1kb2N1bWVudCYmIU9iamVjdChpLmluSWZyYW1lKSgpfHwidmlkZW8iPT09bCl7dmFyIHk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQWQgcmVuZGVyIGNhbGwgYWQgaWQgIi5jb25jYXQodCwiIHdhcyBwcmV2ZW50ZWQgZnJvbSB3cml0aW5nIHRvIHRoZSBtYWluIGRvY3VtZW50LiIpOyQoe3JlYXNvbjpOLG1lc3NhZ2U6eSxiaWQ6cixpZDp0fSl9ZWxzZSBpZihmKXtpZihuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveC8iKT4tMSl7dmFyIGg9L2ZpcmVmb3hcLyhbXGRcLl0rKS8sbT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goaClbMV07bSYmcGFyc2VJbnQobSwxMCk8NjcmJmUub3BlbigidGV4dC9odG1sIiwicmVwbGFjZSIpfWUud3JpdGUoZiksZS5jbG9zZSgpLFcoZSxkLHMpLE9iamVjdChpLmluc2VydEVsZW1lbnQpKHYsZSwiaHRtbCIpLE9iamVjdChpLmNhbGxCdXJsKShyKSxYKHtkb2M6ZSxiaWQ6cixpZDp0fSl9ZWxzZSBpZihwKXt2YXIgTz1PYmplY3QoaS5jcmVhdGVJbnZpc2libGVJZnJhbWUpKCk7Ty5oZWlnaHQ9cyxPLndpZHRoPWQsTy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLE8uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsTy5zcmM9cCxPYmplY3QoaS5pbnNlcnRFbGVtZW50KShPLGUsImJvZHkiKSxXKGUsZCxzKSxPYmplY3QoaS5pbnNlcnRFbGVtZW50KSh2LGUsImh0bWwiKSxPYmplY3QoaS5jYWxsQnVybCkociksWCh7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2V7dmFyIGo9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gTm8gYWQgZm9yIGJpZCByZXNwb25zZSBpZDogIi5jb25jYXQodCk7JCh7cmVhc29uOlAsbWVzc2FnZTpqLGJpZDpyLGlkOnR9KX19fWVsc2V7dmFyIFM9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQ2Fubm90IGZpbmQgYWQgYnkgZ2l2ZW4gaWQgOiAiLmNvbmNhdCh0KTskKHtyZWFzb246TSxtZXNzYWdlOlMsaWQ6dH0pfX1jYXRjaChlKXt2YXIgQT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2U6IikuY29uY2F0KGUubWVzc2FnZSk7JCh7cmVhc29uOnEsbWVzc2FnZTpBLGlkOnR9KX1lbHNle3ZhciBJPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZS4gTWlzc2luZyBkb2N1bWVudCBvciBhZElkIik7JCh7cmVhc29uOkcsbWVzc2FnZTpJLGlkOnR9KX19KSksUy5yZW1vdmVBZFVuaXQ9ZnVuY3Rpb24oZSl7KE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZW1vdmVBZFVuaXQiLGFyZ3VtZW50cyksZSk/KE9iamVjdChpLmlzQXJyYXkpKGUpP2U6W2VdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9Uy5hZFVuaXRzLmxlbmd0aC0xO3Q+PTA7dC0tKVMuYWRVbml0c1t0XS5jb2RlPT09ZSYmUy5hZFVuaXRzLnNwbGljZSh0LDEpfSkpOlMuYWRVbml0cz1bXX0sUy5yZXF1ZXN0Qmlkcz1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuYmlkc0JhY2tIYW5kbGVyLG49ZS50aW1lb3V0LHI9ZS5hZFVuaXRzLG89ZS5hZFVuaXRDb2RlcyxhPWUubGFiZWxzLGQ9ZS5hdWN0aW9uSWQ7VC5lbWl0KF8pO3ZhciBmPW58fGMuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKTtyPXImJmMuYi5jb252ZXJ0QWRVbml0RnBkKE9iamVjdChpLmlzQXJyYXkpKHIpP3I6W3JdKXx8Uy5hZFVuaXRzLE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZXF1ZXN0QmlkcyIsYXJndW1lbnRzKTt2YXIgbD1yLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKX0pKSxiPVtdLHY9Yy5iLmdldENvbmZpZygiczJzQ29uZmlnIik7diYmKGI9QXJyYXkuaXNBcnJheSh2KT92Olt2XSk7dmFyIHk9W107aWYoYi5mb3JFYWNoKChmdW5jdGlvbihlKXtsJiZlLmJpZGRlcnMucHVzaCgiczJzQmlkZGVyUGxhY2Vob2xkZXIiKSx5LnB1c2guYXBwbHkoeSxtKGUuYmlkZGVycykpfSkpLHI9WShyKSxvJiZvLmxlbmd0aD9yPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKG8sZS5jb2RlKX0pKTpvPXImJnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlfSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzfHx7YmFubmVyOiJiYW5uZXIifSk7IWUuYmlkcy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJ9KSkmJnkuaW5jbHVkZXMoInMyc0JpZGRlclBsYWNlaG9sZGVyIikmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpJiZlLmJpZHMucHVzaCh7YmlkZGVyOiJzMnNCaWRkZXJQbGFjZWhvbGRlciJ9KTt2YXIgbj1lLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSkscj1BLmJpZGRlclJlZ2lzdHJ5LG89eT9uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXAoKSh5LGUpfSkpOm47ZS50cmFuc2FjdGlvbklkPU9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxvLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBvPXJbbl0sYT1vJiZvLmdldFNwZWMmJm8uZ2V0U3BlYygpLGM9YSYmYS5zdXBwb3J0ZWRNZWRpYVR5cGVzfHxbImJhbm5lciJdO3Quc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShjLGUpfSkpP2cuYS5pbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlLG4pOihPYmplY3QoaS5sb2dXYXJuKShPYmplY3QoaS51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2UpKGUsbikpLGUuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXIhPT1ufSkpKX0pKSxnLmEuaW5jcmVtZW50UmVxdWVzdHNDb3VudGVyKGUuY29kZSl9KSksciYmMCE9PXIubGVuZ3RoKXt2YXIgaD11LmEuY3JlYXRlQXVjdGlvbih7YWRVbml0czpyLGFkVW5pdENvZGVzOm8sY2FsbGJhY2s6dCxjYlRpbWVvdXQ6ZixsYWJlbHM6YSxhdWN0aW9uSWQ6ZH0pLE89ci5sZW5ndGg7Tz4xNSYmT2JqZWN0KGkubG9nSW5mbykoIkN1cnJlbnQgYXVjdGlvbiAiLmNvbmNhdChoLmdldEF1Y3Rpb25JZCgpLCIgY29udGFpbnMgIikuY29uY2F0KE8sIiBhZFVuaXRzLiIpLHIpLG8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0KGUsaC5nZXRBdWN0aW9uSWQoKSl9KSksaC5jYWxsQmlkcygpfWVsc2UgaWYoT2JqZWN0KGkubG9nTWVzc2FnZSkoIk5vIGFkVW5pdHMgY29uZmlndXJlZC4gTm8gYmlkcyByZXF1ZXN0ZWQuIiksImZ1bmN0aW9uIj09dHlwZW9mIHQpdHJ5e3QoKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9fSkpLFMucmVxdWVzdEJpZHMuYmVmb3JlKFosNDkpLFMuYWRkQWRVbml0cz1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuYWRkQWRVbml0cyIsYXJndW1lbnRzKSxTLmFkVW5pdHMucHVzaC5hcHBseShTLmFkVW5pdHMsYy5iLmNvbnZlcnRBZFVuaXRGcGQoT2JqZWN0KGkuaXNBcnJheSkoZSk/ZTpbZV0pKSxULmVtaXQoQyl9LFMub25FdmVudD1mdW5jdGlvbihlLHQsbil7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLm9uRXZlbnQiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNGbikodCk/IW58fExbZV0uY2FsbChudWxsLG4pP1Qub24oZSx0LG4pOk9iamVjdChpLmxvZ0Vycm9yKSgnVGhlIGlkIHByb3ZpZGVkIGlzIG5vdCB2YWxpZCBmb3IgZXZlbnQgIicrZSsnIiBhbmQgbm8gaGFuZGxlciB3YXMgc2V0LicpOk9iamVjdChpLmxvZ0Vycm9yKSgnVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50ICInK2UrJyIuJyl9LFMub2ZmRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vZmZFdmVudCIsYXJndW1lbnRzKSxuJiYhTFtlXS5jYWxsKG51bGwsbil8fFQub2ZmKGUsdCxuKX0sUy5nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEV2ZW50cyIpLFQuZ2V0RXZlbnRzKCl9LFMucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQmlkQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7QS5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgcmVnaXN0ZXJpbmcgYmlkZGVyIGFkYXB0ZXIgOiAiK2UubWVzc2FnZSl9fSxTLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyIixhcmd1bWVudHMpO3RyeXtBLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcihlKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sUy5jcmVhdGVCaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5jcmVhdGVCaWQiLGFyZ3VtZW50cyksT2JqZWN0KHYuYSkoZSl9O3ZhciBlZT1bXSx0ZT1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlKXtlJiYhT2JqZWN0KGkuaXNFbXB0eSkoZSk/KE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5lbmFibGVBbmFseXRpY3MgZm9yOiAiLGUpLEEuZW5hYmxlQW5hbHl0aWNzKGUpKTpPYmplY3QoaS5sb2dFcnJvcikoInVwYmpzLmVuYWJsZUFuYWx5dGljcyBzaG91bGQgYmUgY2FsbGVkIHdpdGggb3B0aW9uIHt9Iil9KSwiZW5hYmxlQW5hbHl0aWNzQ2IiKTtmdW5jdGlvbiBuZShlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUuY2FsbGVkKXRyeXtlLmNhbGwoKSxlLmNhbGxlZD0hMH1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IiwicHJlYmlkLmpzIixlKX19KSl9Uy5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7ZWUucHVzaCh0ZS5iaW5kKHRoaXMsZSkpfSxTLmFsaWFzQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuYWxpYXNCaWRkZXIiLGFyZ3VtZW50cyksZSYmdD9BLmFsaWFzQmlkQWRhcHRlcihlLHQsbik6T2JqZWN0KGkubG9nRXJyb3IpKCJiaWRkZXJDb2RlIGFuZCBhbGlhcyBtdXN0IGJlIHBhc3NlZCBhcyBhcmd1bWVudHMiLCJ1cGJqcy5hbGlhc0JpZGRlciIpfSxTLmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYS5nZXRBbGxXaW5uaW5nQmlkcygpfSxTLmdldEFsbFByZWJpZFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz09PUUuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVH0pKX0sUy5nZXRIaWdoZXN0Q3BtQmlkcz1mdW5jdGlvbihlKXtyZXR1cm4gcy5kLmdldFdpbm5pbmdCaWRzKGUpfSxTLm1hcmtXaW5uaW5nQmlkQXNVc2VkPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2UuYWRVbml0Q29kZSYmZS5hZElkP3Q9dS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRJZD09PWUuYWRJZCYmdC5hZFVuaXRDb2RlPT09ZS5hZFVuaXRDb2RlfSkpOmUuYWRVbml0Q29kZT90PXMuZC5nZXRXaW5uaW5nQmlkcyhlLmFkVW5pdENvZGUpOmUuYWRJZD90PXUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkSWQ9PT1lLmFkSWR9KSk6T2JqZWN0KGkubG9nV2FybikoIkltcHJvcGVyIHVzZSBvZiBtYXJrV2lubmluZ0JpZEFzVXNlZC4gSXQgbmVlZHMgYW4gYWRVbml0Q29kZSBvciBhbiBhZElkIHRvIGZ1bmN0aW9uLiIpLHQubGVuZ3RoPjAmJih0WzBdLnN0YXR1cz1FLkJJRF9TVEFUVVMuUkVOREVSRUQpfSxTLmdldENvbmZpZz1jLmIuZ2V0Q29uZmlnLFMucmVhZENvbmZpZz1jLmIucmVhZENvbmZpZyxTLnNldENvbmZpZz1jLmIuc2V0Q29uZmlnLFMuc2V0QmlkZGVyQ29uZmlnPWMuYi5zZXRCaWRkZXJDb25maWcsUy5xdWUucHVzaCgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KG8uYSkoKX0pKSxTLmNtZC5wdXNoPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXRyeXtlLmNhbGwoKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IixlLm1lc3NhZ2UsZS5zdGFjayl9ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIkNvbW1hbmRzIHdyaXR0ZW4gaW50byB1cGJqcy5jbWQucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSxTLnF1ZS5wdXNoPVMuY21kLnB1c2gsUy5wcm9jZXNzUXVldWU9ZnVuY3Rpb24oKXtkLmIucmVhZHkoKSxuZShTLnF1ZSksbmUoUy5jbWQpfSx0LmRlZmF1bHQ9U30sODM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzc4KTtlLmV4cG9ydHM9cn0sODQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9big1MSksbz0iIi5zcGxpdDtlLmV4cG9ydHM9cigoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PWkoZSk/by5jYWxsKGUsIiIpOk9iamVjdChlKX06T2JqZWN0fSw4NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDI5KSxvPW4oODYpO2UuZXhwb3J0cz0hciYmIWkoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LDg2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KSxpPW4oMzApLG89ci5kb2N1bWVudCxhPWkobykmJmkoby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGE/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sODc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTgpLGk9big2Nyk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBpW2VdfHwoaVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjoiMy4xNS4xIixtb2RlOnI/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sODg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTE0KSxpPW4oMjkpO2UuZXhwb3J0cz0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFpKChmdW5jdGlvbigpe3ZhciBlPVN5bWJvbCgpO3JldHVybiFTdHJpbmcoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJnImJnI8NDF9KSl9LDg5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUwKSxpPW4oNTQpLG89bigxMTkpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXt2YXIgYyx1PXIodCkscz1pKHUubGVuZ3RoKSxkPW8oYSxzKTtpZihlJiZuIT1uKXtmb3IoO3M+ZDspaWYoKGM9dVtkKytdKSE9YylyZXR1cm4hMH1lbHNlIGZvcig7cz5kO2QrKylpZigoZXx8ZCBpbiB1KSYmdVtkXT09PW4pcmV0dXJuIGV8fGR8fDA7cmV0dXJuIWUmJi0xfX07ZS5leHBvcnRzPXtpbmNsdWRlczphKCEwKSxpbmRleE9mOmEoITEpfX0sOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE1LHI9ZS5nZXRIb29rcyh7aG9vazp0fSk7MD09PXIubGVuZ3RoJiZlLmJlZm9yZSh0LG4pfSx0LmM9ZnVuY3Rpb24oZSx0KXthKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8oZSl9KG49ZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0obil8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byhlLHQpOnZvaWQgMH19KG4pfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpKTt2YXIgbn0pKX0pLGUpKFtdKX0sdC5lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtjKGUpLmJlZm9yZSgoZnVuY3Rpb24oZSx0KXt0LnB1c2gobiksZSh0KX0pKX07dmFyIHI9bigxNzEpLGk9bi5uKHIpO2Z1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgYT1pKCkoe3JlYWR5OmkuYS5TWU5DfGkuYS5BU1lOQ3xpLmEuUVVFVUV9KSxjPWEuZ2V0fSw5MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMjApO24oMTQwKSxuKDE0MiksbigxNDQpLG4oMTQ2KSxuKDE0OCksbigxNDkpLG4oMTUwKSxuKDE1MSksbigxNTIpLG4oMTUzKSxuKDE1NCksbigxNTUpLG4oMTU2KSxuKDE1NyksbigxNTgpLG4oMTU5KSxuKDE2MCksbigxNjEpLGUuZXhwb3J0cz1yfSw5MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1NyksaT1uKDMwKSxvPW4oMzEpLGE9bigzNCkuZixjPW4oNjgpLHU9bigxMjMpLHM9YygibWV0YSIpLGQ9MCxmPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGw9ZnVuY3Rpb24oZSl7YShlLHMse3ZhbHVlOntvYmplY3RJRDoiTyIrICsrZCx3ZWFrRGF0YTp7fX19KX0scD1lLmV4cG9ydHM9e1JFUVVJUkVEOiExLGZhc3RLZXk6ZnVuY3Rpb24oZSx0KXtpZighaShlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIW8oZSxzKSl7aWYoIWYoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW3NdLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbihlLHQpe2lmKCFvKGUscykpe2lmKCFmKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbc10ud2Vha0RhdGF9LG9uRnJlZXplOmZ1bmN0aW9uKGUpe3JldHVybiB1JiZwLlJFUVVJUkVEJiZmKGUpJiYhbyhlLHMpJiZsKGUpLGV9fTtyW3NdPSEwfSw5MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMSksaT1uKDQyKSxvPXIoIml0ZXJhdG9yIiksYT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoaS5BcnJheT09PWV8fGFbb109PT1lKX19LDkzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXR1cm47aWYodm9pZCAwIT09dClyZXR1cm4gcih0LmNhbGwoZSkpLnZhbHVlfX0sOTQ6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sOTU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpIGluIHQpbiYmbi51bnNhZmUmJmVbaV0/ZVtpXT10W2ldOnIoZSxpLHRbaV0sbik7cmV0dXJuIGV9fSw5NTE6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDgyKX0sOTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDk3KS5JdGVyYXRvclByb3RvdHlwZSxpPW4oNzIpLG89big0NCksYT1uKDYwKSxjPW4oNDIpLHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz10KyIgSXRlcmF0b3IiO3JldHVybiBlLnByb3RvdHlwZT1pKHIse25leHQ6bygxLG4pfSksYShlLHMsITEsITApLGNbc109dSxlfX0sOTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixpLG8sYT1uKDI5KSxjPW4oOTgpLHU9bigzMikscz1uKDMxKSxkPW4oMjEpLGY9bigxOCksbD1kKCJpdGVyYXRvciIpLHA9ITE7W10ua2V5cyYmKCJuZXh0ImluKG89W10ua2V5cygpKT8oaT1jKGMobykpKSE9PU9iamVjdC5wcm90b3R5cGUmJihyPWkpOnA9ITApO3ZhciBnPW51bGw9PXJ8fGEoKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHJbbF0uY2FsbChlKSE9PWV9KSk7ZyYmKHI9e30pLGYmJiFnfHxzKHIsbCl8fHUocixsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuZXhwb3J0cz17SXRlcmF0b3JQcm90b3R5cGU6cixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOnB9fSw5ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDUzKSxvPW4oNzEpLGE9bigxMzIpLGM9bygiSUVfUFJPVE8iKSx1PU9iamVjdC5wcm90b3R5cGU7ZS5leHBvcnRzPWE/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSkscihlLGMpP2VbY106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/dTpudWxsfX0sOTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzNykuY2hhckF0LGk9big0Niksbz1uKDc0KSxhPSJTdHJpbmcgSXRlcmF0b3IiLGM9aS5zZXQsdT1pLmdldHRlckZvcihhKTtvKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24oZSl7Yyh0aGlzLHt0eXBlOmEsc3RyaW5nOlN0cmluZyhlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PXUodGhpcyksbj10LnN0cmluZyxpPXQuaW5kZXg7cmV0dXJuIGk+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9cihuLGkpLHQuaW5kZXgrPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pKX19KTsKdXBianNDaHVuayhbMzc5XSx7MTA0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigxMDUpfSwxMDU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBUfSkpO3ZhciBuPXIoMSksaT1yKDMpLG89cigwKSxhPXIoMik7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gZChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6YyhPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB1KGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgcD0iMzNhY3Jvc3MiLGw9Imh0dHBzOi8vc3NjLjMzYWNyb3NzLmNvbS9hcGkvdjEvaGIiLGI9Imh0dHBzOi8vc3NjLWNtcy4zM2Fjcm9zcy5jb20vcHMvP209eGNoJnJ0PWh0bWwmcnU9ZGViIixmPS9eW2EtekEtWjAtOV8tXXsyMn0kLyxtPSJzaWFiIixnPSJpbnZpZXciLGg9Imluc3RyZWFtIix2PVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicGxhY2VtZW50IiwicHJvdG9jb2xzIiwic3RhcnRkZWxheSIsInNraXAiLCJza2lwYWZ0ZXIiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImRlbGl2ZXJ5IiwicGxheWJhY2ttZXRob2QiLCJhcGkiLCJsaW5lYXJpdHkiXSx5PXt1bmlxdWVTaXRlSWRzOltdfSxPPSJubSI7ZnVuY3Rpb24gaigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIHMoe30sZSx7ZXh0OnMoe30sZS5leHQsdSh7fSx0LHIpKX0pfWZ1bmN0aW9uIEEoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gdyhlKXt2YXIgdD1lLnBhcmFtcyxyPWUubWVkaWFUeXBlcyxuPXIuYmFubmVyLGk9ci52aWRlbztyZXR1cm4gaSYmIW4mJiJpbnN0cmVhbSI9PT1pLmNvbnRleHQ/aDp0LnByb2R1Y3RJZD09PWc/dC5wcm9kdWN0SWQ6bX1mdW5jdGlvbiB4KGUsdCxyKXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOlt0LncsdC5oXX0pO2lmKCFpc05hTihuLmZsb29yKSYmIlVTRCI9PT1uLmN1cnJlbmN5KXJldHVybiBuLmZsb29yfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC53LG49dC5oLGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWkud2lkdGgsYT1pLmhlaWdodCxzPWkubGVmdCxjPWkudG9wLGQ9aS5yaWdodCx1PWkuYm90dG9tO3JldHVybigwPT09b3x8MD09PWEpJiZyJiZuJiYobz1yLGE9bixkPXMrcix1PWMrbikse3dpZHRoOm8saGVpZ2h0OmEsbGVmdDpzLHRvcDpjLHJpZ2h0OmQsYm90dG9tOnV9fWZ1bmN0aW9uIFMoZSl7Zm9yKHZhciB0PXtsZWZ0OmVbMF0ubGVmdCxyaWdodDplWzBdLnJpZ2h0LHRvcDplWzBdLnRvcCxib3R0b206ZVswXS5ib3R0b219LHI9MTtyPGUubGVuZ3RoOysrcil7aWYodC5sZWZ0PU1hdGgubWF4KHQubGVmdCxlW3JdLmxlZnQpLHQucmlnaHQ9TWF0aC5taW4odC5yaWdodCxlW3JdLnJpZ2h0KSx0LmxlZnQ+PXQucmlnaHQpcmV0dXJuIG51bGw7aWYodC50b3A9TWF0aC5tYXgodC50b3AsZVtyXS50b3ApLHQuYm90dG9tPU1hdGgubWluKHQuYm90dG9tLGVbcl0uYm90dG9tKSx0LnRvcD49dC5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIHQud2lkdGg9dC5yaWdodC10LmxlZnQsdC5oZWlnaHQ9dC5ib3R0b20tdC50b3AsdH1mdW5jdGlvbiBDKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oLG89SShlLHt3Om4saDppfSksYT1TKFt7bGVmdDowLHRvcDowLHJpZ2h0OnQuaW5uZXJXaWR0aCxib3R0b206dC5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09YT9hLndpZHRoKmEuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH12YXIgVD17Tk9OX01FQVNVUkFCTEU6Tyxjb2RlOnAsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUuYmlkZGVyIT09cHx8dm9pZCAwPT09ZS5wYXJhbXMpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKGUpe2lmKG51bGw9PT0oT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpdGVJZCIsIiIpfHwiIikudHJpbSgpLm1hdGNoKGYpKXJldHVybiExO3JldHVybiEwfShlKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIik7aWYodm9pZCAwPT09dClyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0LnNpemVzKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxyPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIse30pO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplKSlyZXR1cm4hMTtpZighdC5jb250ZXh0KXJldHVybiExO3ZhciBuPWQoZCh7fSx0KSxyKTtpZighQXJyYXkuaXNBcnJheShuLm1pbWVzKXx8MD09PW4ubWltZXMubGVuZ3RoKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KG4ucHJvdG9jb2xzKXx8MD09PW4ucHJvdG9jb2xzLmxlbmd0aClyZXR1cm4hMTtpZih2b2lkIDAhPT1uLnBsYWNlbWVudCYmIm51bWJlciIhPXR5cGVvZiBuLnBsYWNlbWVudClyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09dC5jb250ZXh0JiZ2b2lkIDAhPT1uLnN0YXJ0ZGVsYXkmJiJudW1iZXIiIT10eXBlb2Ygbi5zdGFydGRlbGF5KXJldHVybiExO3JldHVybiEwfShlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPXMoe2NvbnNlbnRTdHJpbmc6dm9pZCAwLGdkcHJBcHBsaWVzOiExfSx0JiZ0LmdkcHJDb25zZW50KSxuPXQmJnQudXNwQ29uc2VudCxjPXQmJnQucmVmZXJlckluZm8/dC5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMDtyZXR1cm4geS51bmlxdWVTaXRlSWRzPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuc2l0ZUlkfSkpLmZpbHRlcihvLnVuaXF1ZXMpLGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRSZXF1ZXN0LHI9ZS5nZHByQ29uc2VudCxuPXZvaWQgMD09PXI/e306cixjPWUudXNwQ29uc2VudCx1PWUucGFnZVVybCxwPXt9LGI9dC5wYXJhbXM7cC5pbXA9W3t9XSxPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLmJhbm5lciIpJiYocC5pbXBbMF0uYmFubmVyPWQoe30sZnVuY3Rpb24oZSl7dmFyIHQscj1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIse30pLG49KGM9ZS5hZFVuaXRDb2RlLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGMpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmdW5jdGlvbihlKXtpZihPYmplY3Qoby5pc0dwdFB1YmFkc0RlZmluZWQpKCkpZm9yKHZhciB0PWdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLHI9T2JqZWN0KG8uaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlKShlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYocih0W25dKSl7dmFyIGk9dFtuXS5nZXRTbG90RWxlbWVudElkKCk7cmV0dXJuIE9iamVjdChvLmxvZ0luZm8pKCJbMzNBY3Jvc3MgQWRhcHRlcl0gTWFwIGFkIHVuaXQgcGF0aCB0byBIVE1MIGVsZW1lbnQgaWQ6ICciLmNvbmNhdChlLCInIC0+ICIpLmNvbmNhdChpKSksaX1yZXR1cm4gT2JqZWN0KG8ubG9nV2FybikoIlszM0Fjcm9zcyBBZGFwdGVyXSBVbmFibGUgdG8gbG9jYXRlIGVsZW1lbnQgZm9yIGFkIHVuaXQgY29kZTogJyIuY29uY2F0KGUsIiciKSksbnVsbH0oYykpKSxpPWZ1bmN0aW9uKGUpe2lmKE9iamVjdChvLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGgmJiFPYmplY3Qoby5pc0FycmF5KShlWzBdKSlyZXR1cm5bQShlKV07cmV0dXJuIGUubWFwKEEpfShyLnNpemVzKTt2YXIgYzt0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yP2kubWFwKChmdW5jdGlvbih0KXt2YXIgcixuPXgoZSx0LGEuYik7cmV0dXJuIG4mJihyPXtleHQ6e3R0eDp7YmlkZmxvb3JzOltuXX19fSkscyh7fSx0LHIpfSkpOmk7dmFyIGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfShpKSx1PWZ1bmN0aW9uKGUpe3JldHVybnt0dHg6e3ZpZXdhYmlsaXR5OnthbW91bnQ6aXNOYU4oZSk/ZTpNYXRoLnJvdW5kKGUpfX19fShmdW5jdGlvbihlKXtyZXR1cm4hZnVuY3Rpb24oKXt0cnl7cmV0dXJuIE9iamVjdChvLmdldFdpbmRvd1NlbGYpKCkhPT1PYmplY3Qoby5nZXRXaW5kb3dUb3ApKCl9Y2F0Y2goZSl7cmV0dXJuITB9fSgpJiZudWxsIT09ZX0obik/ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsaT1yLmg7cmV0dXJuInZpc2libGUiPT09dC5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/QyhlLHQse3c6bixoOml9KTowfShuLE9iamVjdChvLmdldFdpbmRvd1RvcCkoKSxkKTpPKTtyZXR1cm57Zm9ybWF0OnQsZXh0OnV9fSh0KSkpO09iamVjdChvLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8iKSYmKHAuaW1wWzBdLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iLHt9KSxyPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIse30pLG49ZChkKHt9LHQpLHIpLGk9e30sYz1BKG4ucGxheWVyU2l6ZVswXSksdT1jLncscD1jLmg7aS53PXUsaS5oPXAsdi5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmhhc093blByb3BlcnR5KGUpJiYoaVtlXT1uW2VdKX0pKTt2YXIgbD13KGUpO2kucGxhY2VtZW50PWkucGxhY2VtZW50fHwyLGw9PT1oJiYoaS5zdGFydGRlbGF5PWkuc3RhcnRkZWxheXx8MCxpLnBsYWNlbWVudD0xKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIGI9eChlLHt3OmkudyxoOmkuaH0sYS5kKTtiJiZzKGkse2V4dDp7dHR4OntiaWRmbG9vcnM6W2JdfX19KX1yZXR1cm4gaX0odCkpO3AuaW1wWzBdLmV4dD17dHR4Ontwcm9kOncodCl9fSxwLnNpdGU9e2lkOmIuc2l0ZUlkfSx1JiYocC5zaXRlLnBhZ2U9dSk7cC5pZD10LmJpZElkLG4uY29uc2VudFN0cmluZyYmKHAudXNlcj1qKHAudXNlciwiY29uc2VudCIsbi5jb25zZW50U3RyaW5nKSk7QXJyYXkuaXNBcnJheSh0LnVzZXJJZEFzRWlkcykmJnQudXNlcklkQXNFaWRzLmxlbmd0aD4wJiYocC51c2VyPWoocC51c2VyLCJlaWRzIix0LnVzZXJJZEFzRWlkcykpO3AucmVncz1qKHAucmVncywiZ2RwciIsTnVtYmVyKG4uZ2RwckFwcGxpZXMpKSxjJiYocC5yZWdzPWoocC5yZWdzLCJ1c19wcml2YWN5IixjKSk7cC5leHQ9e3R0eDp7cHJlYmlkU3RhcnRlZEF0OkRhdGUubm93KCksY2FsbGVyOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjUuMjAuMiJ9XX19LHQuc2NoYWluJiYocC5zb3VyY2U9aihwLnNvdXJjZSwic2NoYWluIix0LnNjaGFpbikpOzE9PT1iLnRlc3QmJihwLnRlc3Q9MSk7dmFyIGY9e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LG09aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bSYmbS51cmx8fCIiLmNvbmNhdChsLCI/Z3VpZD0iKS5jb25jYXQoYi5zaXRlSWQpLGRhdGE6SlNPTi5zdHJpbmdpZnkocCksb3B0aW9uczpmfX0oe2JpZFJlcXVlc3Q6ZSxnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixwYWdlVXJsOmN9KX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gZS5ib2R5LnNlYXRiaWQubGVuZ3RoPjAmJmUuYm9keS5zZWF0YmlkWzBdLmJpZC5sZW5ndGg+MCYmci5wdXNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbiYmZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWluLmxlbmd0aCxyPXtyZXF1ZXN0SWQ6ZS5pZCxiaWRkZXJDb2RlOnAsY3BtOmUuc2VhdGJpZFswXS5iaWRbMF0ucHJpY2Usd2lkdGg6ZS5zZWF0YmlkWzBdLmJpZFswXS53LGhlaWdodDplLnNlYXRiaWRbMF0uYmlkWzBdLmgsYWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG0sdHRsOmUuc2VhdGJpZFswXS5iaWRbMF0udHRsfHw2MCxjcmVhdGl2ZUlkOmUuc2VhdGJpZFswXS5iaWRbMF0uY3JpZCxtZWRpYVR5cGU6T2JqZWN0KG8uZGVlcEFjY2VzcykoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC5tZWRpYVR5cGUiLGEuYiksY3VycmVuY3k6ZS5jdXIsbmV0UmV2ZW51ZTohMH07dCYmKHIubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWlufSk7aWYoci5tZWRpYVR5cGU9PT1hLmQpeyJ4bWwiPT09T2JqZWN0KG8uZGVlcEFjY2VzcykoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC52YXN0VHlwZSIsInhtbCIpP3IudmFzdFhtbD1yLmFkOnIudmFzdFVybD1yLmFkfXJldHVybiByfShlLmJvZHkpKSxyfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZS5pZnJhbWVFbmFibGVkP3kudW5pcXVlU2l0ZUlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnNpdGVJZCxyPXZvaWQgMD09PXQ/Inp6ejAwMDAwMDAwMDAwM3p6eiI6dCxuPWUuZ2RwckNvbnNlbnQsbz12b2lkIDA9PT1uP3t9Om4sYT1lLnVzcENvbnNlbnQscz1pLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpLGM9cyYmcy5zeW5jVXJsfHxiLGQ9by5jb25zZW50U3RyaW5nLHU9by5nZHByQXBwbGllcyxwPXt0eXBlOiJpZnJhbWUiLHVybDoiIi5jb25jYXQoYywiJmlkPSIpLmNvbmNhdChyLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZCksIiZ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoYSkpfTsiYm9vbGVhbiI9PXR5cGVvZiB1JiYocC51cmwrPSImZ2Rwcj0iLmNvbmNhdChOdW1iZXIodSkpKTtyZXR1cm4gcH0oe2dkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHNpdGVJZDplfSl9KSk6W107cmV0dXJuIHkudW5pcXVlU2l0ZUlkcz1bXSxvfX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKFQpfX0sWzEwNF0pOwp1cGJqc0NodW5rKFsxXSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBuPWEoZVtyXSxyKTtuJiZ0LnB1c2gobil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChuLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChuLmRlZXBBY2Nlc3MpKGkscisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTppW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgbj1yKDApLGk9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qobi5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGEoZSx0KXt2YXIgcj1pW3RdO2lmKHImJmUpe3ZhciBhPXt9O2Euc291cmNlPXIuc291cmNlO3ZhciBvPU9iamVjdChuLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3Qobi5pc1N0cikobykpe3ZhciBzPXtpZDpvLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChuLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIGM9ci5nZXRVaWRFeHQoZSk7YyYmKHMuZXh0PWMpfWlmKGEudWlkcz1bc10sT2JqZWN0KG4uaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgdT1yLmdldEVpZEV4dChlKTt1JiYoYS5leHQ9dSl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sMTgyOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigxODMpfSwxODM6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsIkVORFBPSU5UIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxyLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksci5kKHQsIlJFTkRFUkVSX1VSTCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSksci5kKHQsIk9SVEJfVklERU9fUEFSQU1TIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxyLmQodCwiR2xvYmFsRXhjaGFuZ2UiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHQuYWRhZ2lvU2NyaXB0RnJvbUxvY2FsU3RvcmFnZUNiPVUsdC5nZXRBZGFnaW9TY3JpcHQ9QyxyLmQodCwiaW50ZXJuYWwiLChmdW5jdGlvbigpe3JldHVybiBOfSkpLHQuc2V0RXh0cmFQYXJhbT1HLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gSn0pKTt2YXIgbj1yKDExKSxpPXIubihuKSxhPXIoMCksbz1yKDMpLHM9cigxKSxjPXIoMzUpLHU9cig3OCksZD0oci5uKHUpLHIoNykpLHA9cigxOSksZj1yKDE3KSxtPXIoMiksbD1yKDEzKSxoPXIoMjIpO2Z1bmN0aW9uIGcoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZyhPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2IoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmcoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gYihlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHYsTyxBLEk9ImFkYWdpbyIsaj0iQWRhZ2lvOiIsVD0iaHR0cHM6Ly9tcC40ZGV4LmlvL3ByZWJpZCIsRD1bbS5iLG0uYyxtLmRdLHc9ImFkYWdpb1NjcmlwdCIseD1PYmplY3QoZC5iKSg2MTcsImFkYWdpbyIpLFM9Imh0dHBzOi8vc2NyaXB0LjRkZXguaW8vb3V0c3RyZWFtLXBsYXllci5qcyIsRT17bWltZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjAmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX0pKX0sbWluZHVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LG1heGR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxwcm90b2NvbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzLDQsNSw2LDcsOCw5LDEwXS5pbmRleE9mKGUpfSkpfSx3OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxoOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxzdGFydGRlbGF5OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxwbGFjZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzLDQsNV0uaW5kZXhPZihlKX0pKX0sbGluZWFyaXR5OmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMl0uaW5kZXhPZihlKX0sc2tpcDpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVswLDFdLmluZGV4T2YoZSl9LHNraXBtaW46ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LHNraXBhZnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sc2VxdWVuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LGJhdHRyOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PUFycmF5LmZyb20oe2xlbmd0aDoxN30sKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrMX0pKS5pbmRleE9mKGUpfSkpfSxtYXhleHRlbmRlZDpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sbWluYml0cmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sbWF4Yml0cmF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sYm94aW5nYWxsb3dlZDpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVswLDFdLmluZGV4T2YoZSl9LHBsYXliYWNrbWV0aG9kOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDUsNl0uaW5kZXhPZihlKX0pKX0scGxheWJhY2tlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDNdLmluZGV4T2YoZSl9LGRlbGl2ZXJ5OmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzXS5pbmRleE9mKGUpfSxwb3M6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMCwxLDIsMyw0LDUsNiw3XS5pbmRleE9mKGUpfSxhcGk6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzLDQsNSw2XS5pbmRleE9mKGUpfSkpfX0saz0oQT17fSx7Y2xlYXJGZWF0dXJlczpmdW5jdGlvbigpe089dm9pZCAwfSxjbGVhckV4Y2hhbmdlRGF0YTpmdW5jdGlvbigpe0E9e319LGdldE9yU2V0R2xvYmFsRmVhdHVyZXM6ZnVuY3Rpb24oKXtyZXR1cm4gT3x8KE89e3BhZ2VfZGltZW5zaW9uczpWKCkudG9TdHJpbmcoKSx2aWV3cG9ydF9kaW1lbnNpb25zOnooKS50b1N0cmluZygpLHVzZXJfdGltZXN0YW1wOihNYXRoLmZsb29yKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMyktNjAqKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpKS50b1N0cmluZygpLGRvbV9sb2FkaW5nOkwoKS50b1N0cmluZygpfSksT30scHJlcGFyZUV4Y2hhbmdlRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1KU09OLnBhcnNlKGUsKGZ1bmN0aW9uKGUsdCl7aWYoIl8iIT09ZS5jaGFyQXQoMCl8fCIiPT09ZSlyZXR1cm4gdH0pKSxyPU9iamVjdChhLmRlZXBBY2Nlc3MpKHQsInNlc3Npb24ucm5kIiksbj0hMTtOLmlzTmV3U2Vzc2lvbih0KSYmKG49ITAscj1NYXRoLnJhbmRvbSgpKTt2YXIgaT17c2Vzc2lvbjp7bmV3Om4scm5kOnJ9fTtPYmplY3QoYS5tZXJnZURlZXApKEEsdCxpKSxOLmVucXVldWUoe2FjdGlvbjoic2Vzc2lvbiIsdHM6RGF0ZS5ub3coKSxkYXRhOkF9KX0sZ2V0RXhjaGFuZ2VEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIEF9fSk7ZnVuY3Rpb24gVShlKXt0cnl7aWYoIWUpcmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiBzY3JpcHQgbm90IGZvdW5kLiIpKTt2YXIgdD0vXihcL1wvIGhhc2g6ICguKylcbikoLitcbikkLztpZih0LnRlc3QoZSkpe3ZhciByPWUubWF0Y2godCksbj1yWzJdLGk9clszXTtPYmplY3QodS52ZXJpZnkpKGksbiwiQUwxNlhUNDRTZnArOFNIVkYxVWRDN2h5ZFBTTVZMTWhzWWtuS0Rkd3FxKzBUb0RTSnJQMCtRaDBraTlKSkkydVltLzZWRVlvOFRKRUQ5V2ZNa2lKNHZmMDJDVzNSdlNXd2MzNWJpZjJTSzFMOE5uL0dmRllyLzIvR0cvUm0wdlVzdit2QkhreTZudXVZbHMyME9nMEhEaE1nYU9sWG9RL2N4TXVpeTVRU2t0cCIsNjU1MzcpPyhPYmplY3QoYS5sb2dJbmZvKSgiIi5jb25jYXQoaiwiIHN0YXJ0IHNjcmlwdC4iKSksRnVuY3Rpb24oZSkoKSk6KE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgaW52YWxpZCBzY3JpcHQgZm91bmQuIikpLHgucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UodykpfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiBubyBoYXNoIGZvdW5kLiIpKSx4LnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKHcpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKShqLGUpfX1mdW5jdGlvbiBDKCl7eC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSh3LChmdW5jdGlvbihlKXtOLmFkYWdpb1NjcmlwdEZyb21Mb2NhbFN0b3JhZ2VDYihlKX0pKSx4LmxvY2FsU3RvcmFnZUlzRW5hYmxlZCgoZnVuY3Rpb24oZSl7aWYoZSlPYmplY3QoYy5hKSgiaHR0cHM6Ly9zY3JpcHQuNGRleC5pby9sb2NhbHN0b3JlLmpzIixJKTtlbHNlIHRyeXt3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odyksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJhZGFnaW8iKX1jYXRjaChlKXtPYmplY3QoYS5sb2dJbmZvKSgiIi5jb25jYXQoaiwiIHVuYWJsZSB0byBjbGVhciBBZGFnaW8gc2NyaXB0cyBmcm9tIGxvY2Fsc3RvcmFnZS4iKSl9fSkpfWZ1bmN0aW9uIFIoKXt0cnl7aWYoT2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpLmxvY2F0aW9uLmhyZWYpcmV0dXJuITB9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIFAoKXtyZXR1cm4gdnx8T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKX1mdW5jdGlvbiBXKCl7dmFyIGU9T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKTtyZXR1cm4hKCFlLiRzZnx8IWUuJHNmLmV4dCl9ZnVuY3Rpb24gTShlKXt2YXIgdD1OLmlzUmVuZGVyZXJQcmVmZXJyZWRGcm9tUHVibGlzaGVyKGUpPyJvdGhlciI6ImFkYWdpbyI7cmV0dXJuIm90aGVyIj09PXQmJk9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgcmVuZGVyZXIuYmFja3VwT25seSBoYXMgbm90IGJlZW4gc2V0LiBBZGFnaW8gcmVjb21tZW5kcyB0byB1c2UgaXRzIG93biBwbGF5ZXIgdG8gZ2V0IGV4cGVjdGVkIGJlaGF2aW9yLiIpKSx0fXZhciBOPXtlbnF1ZXVlOmZ1bmN0aW9uKGUpe3ZhciB0PU4uZ2V0Q3VycmVudFdpbmRvdygpO3QuQURBR0lPPXQuQURBR0lPfHx7fSx0LkFEQUdJTy5xdWV1ZT10LkFEQUdJTy5xdWV1ZXx8W10sdC5BREFHSU8ucXVldWUucHVzaChlKX0sZ2V0UGFnZXZpZXdJZDpmdW5jdGlvbigpe3ZhciBlPU4uZ2V0Q3VycmVudFdpbmRvdygpO3JldHVybiBlLkFEQUdJTz1lLkFEQUdJT3x8e30sZS5BREFHSU8ucGFnZXZpZXdJZD1lLkFEQUdJTy5wYWdldmlld0lkfHxPYmplY3QoYS5nZW5lcmF0ZVVVSUQpKCksZS5BREFHSU8ucGFnZXZpZXdJZH0sZ2V0RGV2aWNlOmZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSI7cmV0dXJue3VzZXJBZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvcltlXSxkbnQ6T2JqZWN0KGEuZ2V0RE5UKSgpPzE6MCxnZW86e30sanM6MX19LGdldFNpdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9IiIscj0iIixuPSIiLGk9ZS5yZWZlcmVySW5mbztpZihSKCkpe3ZhciBvPU9iamVjdChhLmdldFdpbmRvd1RvcCkoKTt0PW8ubG9jYXRpb24uaG9zdG5hbWUscj1vLmxvY2F0aW9uLmhyZWYsbj1vLmRvY3VtZW50LnJlZmVycmVyfHwiIn1lbHNlIGlmKGkucmVhY2hlZFRvcCl7dD1PYmplY3QoYS5wYXJzZVVybCkoaS5yZWZlcmVyKS5ob3N0bmFtZSxyPWkucmVmZXJlcn1lbHNlIGlmKGkuc3RhY2smJmkuc3RhY2subGVuZ3RoJiZpLnN0YWNrWzBdKXt0PU9iamVjdChhLnBhcnNlVXJsKShpLnN0YWNrWzBdKS5ob3N0bmFtZX1yZXR1cm57ZG9tYWluOnQscGFnZTpyLHJlZmVycmVyOm59fSxnZXRFbGVtZW50RnJvbVRvcFdpbmRvdzpmdW5jdGlvbiBlKHQscil7dHJ5e2lmKE9iamVjdChhLmdldFdpbmRvd1RvcCkoKT09PXIpcmV0dXJuIHQuZ2V0QXR0cmlidXRlKCJpZCIpfHx0LnNldEF0dHJpYnV0ZSgiaWQiLCJhZGctIi5jb25jYXQoT2JqZWN0KGEuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSkpLHQ7dmFyIG49ci5mcmFtZUVsZW1lbnQsaT1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gaS53aWR0aD09PW8ud2lkdGgmJmkuaGVpZ2h0PT09by5oZWlnaHQmJmUobixyLnBhcmVudCl9Y2F0Y2goZSl7cmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqKSxlKSwhMX19LGdldFJlZmVyZXJJbmZvOnAuYSxhZGFnaW9TY3JpcHRGcm9tTG9jYWxTdG9yYWdlQ2I6VSxnZXRDdXJyZW50V2luZG93OlAsY2FuQWNjZXNzVG9wV2luZG93OlIsaXNSZW5kZXJlclByZWZlcnJlZEZyb21QdWJsaXNoZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicmVuZGVyZXIiKSxyPSEhKHQmJnQudXJsJiZ0LnJlbmRlciksbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnJlbmRlcmVyIiksaT0hIShuJiZuLnVybCYmbi5yZW5kZXIpO3JldHVybiEhKHImJiEwIT09dC5iYWNrdXBPbmx5fHxpJiYhMCE9PW4uYmFja3VwT25seSl9LGlzTmV3U2Vzc2lvbjpmdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpLHI9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwic2Vzc2lvbiIse30pLG49ci5sYXN0QWN0aXZpdHlUaW1lLGk9ci52d1NtcGxnO3JldHVybiFPYmplY3QoYS5pc051bWJlcikobil8fCFPYmplY3QoYS5pc051bWJlcikoaSl8fHQtbj4xOGU1fX07ZnVuY3Rpb24gcShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7ImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5BREFHSU8ub3V0c3RyZWFtUGxheWVyP3dpbmRvdy5BREFHSU8ub3V0c3RyZWFtUGxheWVyKGUpOk9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQoaiwiIEFkYWdpbyBvdXRzdHJlYW0gcGxheWVyIGlzIG5vdCBkZWZpbmVkIikpfSkpfWZ1bmN0aW9uIEIoZSl7aWYoZS5hZG1OYXRpdmUmJkFycmF5LmlzQXJyYXkoZS5hZG1OYXRpdmUuYXNzZXRzKSl7dmFyIHQ9e307ZS5hZG1OYXRpdmUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUudGl0bGUpdC50aXRsZT1lLnRpdGxlLnRleHQ7ZWxzZSBpZihlLmRhdGEpcj1lLmRhdGEsKG49ezE6InNwb25zb3JlZEJ5IiwyOiJib2R5IiwzOiJyYXRpbmciLDQ6Imxpa2VzIiw1OiJkb3dubG9hZHMiLDY6InByaWNlIiw3OiJzYWxlUHJpY2UiLDg6InBob25lIiw5OiJhZGRyZXNzIiwxMDoiYm9keTIiLDExOiJkaXNwbGF5VXJsIiwxMjoiY3RhIn0pLmhhc093blByb3BlcnR5KHIudHlwZSkmJiJzdHJpbmciPT10eXBlb2Ygci52YWx1ZSYmKHRbbltyLnR5cGVdXT1yLnZhbHVlKTtlbHNlIGlmKGUuaW1nKXN3aXRjaChlLmltZy50eXBlKXtjYXNlIDE6dC5pY29uPXt1cmw6ZS5pbWcudXJsLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9O2JyZWFrO2RlZmF1bHQ6dC5pbWFnZT17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofX12YXIgcixufSkpLGUuYWRtTmF0aXZlLmxpbmsmJihlLmFkbU5hdGl2ZS5saW5rLnVybCYmKHQuY2xpY2tVcmw9ZS5hZG1OYXRpdmUubGluay51cmwpLEFycmF5LmlzQXJyYXkoZS5hZG1OYXRpdmUubGluay5jbGlja3RyYWNrZXJzKSYmKHQuY2xpY2tUcmFja2Vycz1lLmFkbU5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnMpKSxBcnJheS5pc0FycmF5KGUuYWRtTmF0aXZlLmV2ZW50dHJhY2tlcnMpPyh0LmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmFkbU5hdGl2ZS5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKDE9PT1lLmV2ZW50KXN3aXRjaChlLm1ldGhvZCl7Y2FzZSAxOnQuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgMjp0LmphdmFzY3JpcHRUcmFja2Vycz0nPHNjcmlwdCBzcmM9IicuY29uY2F0KGUudXJsLCciPjxcL3NjcmlwdD4nKX19KSkpOih0LmltcHJlc3Npb25UcmFja2Vycz1BcnJheS5pc0FycmF5KGUuYWRtTmF0aXZlLmltcHRyYWNrZXJzKT9lLmFkbU5hdGl2ZS5pbXB0cmFja2VyczpbXSxlLmFkbU5hdGl2ZS5qc3RyYWNrZXImJih0LmphdmFzY3JpcHRUcmFja2Vycz1lLmFkbU5hdGl2ZS5qc3RyYWNrZXIpKSxlLmFkbU5hdGl2ZS5wcml2YWN5JiYodC5wcml2YWN5TGluaz1lLmFkbU5hdGl2ZS5wcml2YWN5KSxlLmFkbU5hdGl2ZS5leHQmJih0LmV4dD17fSxlLmFkbU5hdGl2ZS5leHQuYnZ3JiYodC5leHQuYWRhZ2lvX2J2dz1lLmFkbU5hdGl2ZS5leHQuYnZ3KSksZS5uYXRpdmU9dH1lbHNlIE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQoaiwiIEludmFsaWQgbmF0aXZlIHJlc3BvbnNlIikpfWZ1bmN0aW9uIEcoZSx0KXtpZihlLnBhcmFtcz1lLnBhcmFtc3x8e30sIWUucGFyYW1zW3RdKXt2YXIgcj1vLmIuZ2V0Q29uZmlnKCJhZGFnaW8iKXx8e30sbj1vLmIuZ2V0Q29uZmlnKCJvcnRiMiIpLGk9clt0XXx8T2JqZWN0KGEuZGVlcEFjY2Vzcykobiwic2l0ZS5leHQuZGF0YS4iLmNvbmNhdCh0KSxudWxsKTtpJiYoZS5wYXJhbXNbdF09aSl9fWZ1bmN0aW9uIEYoZSl7dmFyIHQ9by5iLmdldENvbmZpZygiYWRhZ2lvIil8fHt9O2UucGFyYW1zPWUucGFyYW1zfHx7fSx0LnNpdGVJZCYmKGUucGFyYW1zLm9yZ2FuaXphdGlvbklkPXQuc2l0ZUlkLnNwbGl0KCI6IilbMF0sZS5wYXJhbXMuc2l0ZT10LnNpdGVJZC5zcGxpdCgiOiIpWzFdKSwhMCE9PXQudXNlQWRVbml0Q29kZUFzUGxhY2VtZW50JiYhMCE9PWUucGFyYW1zLnVzZUFkVW5pdENvZGVBc1BsYWNlbWVudHx8KGUucGFyYW1zLnBsYWNlbWVudD1lLmFkVW5pdENvZGUpLGUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5lbGVtZW50SWQiLG51bGwpfHxlLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQsZS5wYXJhbXMuYWRVbml0RWxlbWVudElkfHwoITA9PT10LnVzZUFkVW5pdENvZGVBc0FkVW5pdEVsZW1lbnRJZHx8ITA9PT1lLnBhcmFtcy51c2VBZFVuaXRDb2RlQXNBZFVuaXRFbGVtZW50SWQ/ZS5wYXJhbXMuYWRVbml0RWxlbWVudElkPWUuYWRVbml0Q29kZTplLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlKTtpZih0JiZ0LmRpdklkKXJldHVybiB0LmRpdklkfShlLmFkVW5pdENvZGUpKSxHKGUsImVudmlyb25tZW50IiksRyhlLCJwYWdldHlwZSIpLEcoZSwiY2F0ZWdvcnkiKSxHKGUsInN1YmNhdGVnb3J5Iil9ZnVuY3Rpb24gVigpe2lmKFcoKXx8IVIoKSlyZXR1cm4iIjt2YXIgZT1PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCksdD1lLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKTtpZighdClyZXR1cm4iIjt2YXIgcj1lLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxuPU1hdGgubWF4KHQuc2Nyb2xsV2lkdGgsdC5vZmZzZXRXaWR0aCxyLmNsaWVudFdpZHRoLHIuc2Nyb2xsV2lkdGgsci5vZmZzZXRXaWR0aCksaT1NYXRoLm1heCh0LnNjcm9sbEhlaWdodCx0Lm9mZnNldEhlaWdodCxyLmNsaWVudEhlaWdodCxyLnNjcm9sbEhlaWdodCxyLm9mZnNldEhlaWdodCk7cmV0dXJuIiIuY29uY2F0KG4sIngiKS5jb25jYXQoaSl9ZnVuY3Rpb24geigpe2lmKCFXKCkmJiFSKCkpcmV0dXJuIiI7dmFyIGU9e3c6MCxoOjB9O2lmKFcoKSl7dmFyIHQ9T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdC4kc2YuZXh0Lmdlb20pcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKGosIlVuYWJsZSB0byBjb21wdXRlIGZyb20gc2FmZWZyYW1lIGFwaS4iKSwiIjt2YXIgcj10LiRzZi5leHQuZ2VvbSgpO2lmKCFyfHwhci53aW4pcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKGosIlVuYWJsZSB0byBjb21wdXRlIGZyb20gc2FmZWZyYW1lIGFwaS4gTWlzc2luZyBgZ2VvbSgpLndpbmAgcHJvcGVydHkiKSwiIjtlLnc9TWF0aC5yb3VuZChyLncpLGUuaD1NYXRoLnJvdW5kKHIuaCl9ZWxzZXt2YXIgbj1PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk7ZS53PW4uaW5uZXJXaWR0aCxlLmg9bi5pbm5lckhlaWdodH1yZXR1cm4iIi5jb25jYXQoZS53LCJ4IikuY29uY2F0KGUuaCl9ZnVuY3Rpb24gXyhlKXtpZighZSlyZXR1cm4iIjtpZighVygpJiYhUigpKXJldHVybiIiO3ZhciB0PXt4OjAseTowfTtpZihXKCkpe3ZhciByPU9iamVjdChhLmdldFdpbmRvd1NlbGYpKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHIuJHNmLmV4dC5nZW9tKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKShqLCJVbmFibGUgdG8gY29tcHV0ZSBmcm9tIHNhZmVmcmFtZSBhcGkuIiksIiI7dmFyIG49ci4kc2YuZXh0Lmdlb20oKTtpZighbnx8IW4uc2VsZilyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoaiwiVW5hYmxlIHRvIGNvbXB1dGUgZnJvbSBzYWZlZnJhbWUgYXBpLiBNaXNzaW5nIGBnZW9tKCkuc2VsZmAgcHJvcGVydHkiKSwiIjt0Lng9TWF0aC5yb3VuZChuLnQpLHQueT1NYXRoLnJvdW5kKG4ubCl9ZWxzZXtpZighUigpKXJldHVybiIiO3ZhciBpLG89T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpLHM9by5kb2N1bWVudDtpZighMD09PU9iamVjdChhLmluSWZyYW1lKSgpKXt2YXIgYz1PYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpLHU9Yy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtpPU4uZ2V0RWxlbWVudEZyb21Ub3BXaW5kb3codSxjKX1lbHNlIGk9by5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtpZighaSlyZXR1cm4iIjt2YXIgZD1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHA9cy5kb2N1bWVudEVsZW1lbnQsZj1zLmJvZHksbT1zLmNsaWVudFRvcHx8Zi5jbGllbnRUb3B8fDAsbD1zLmNsaWVudExlZnR8fGYuY2xpZW50TGVmdHx8MCxoPW8ucGFnZVlPZmZzZXR8fHAuc2Nyb2xsVG9wfHxmLnNjcm9sbFRvcCxnPW8ucGFnZVhPZmZzZXR8fHAuc2Nyb2xsTGVmdHx8Zi5zY3JvbGxMZWZ0LHk9by5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCkuZGlzcGxheXx8ImJsb2NrIjsibm9uZSI9PT15JiYoaS5zdHlsZT1pLnN0eWxlfHx7fSxpLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixkPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaS5zdHlsZS5kaXNwbGF5PXkpLHQueD1NYXRoLnJvdW5kKGQubGVmdCtnLWwpLHQueT1NYXRoLnJvdW5kKGQudG9wK2gtbSl9cmV0dXJuIiIuY29uY2F0KHQueCwieCIpLmNvbmNhdCh0LnkpfWZ1bmN0aW9uIEgoZSx0KXtyZXR1cm4gdC5iaWRzJiZ0LmJpZHMubGVuZ3RoJiZpKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKS5iaWRSZXF1ZXN0c0NvdW50fHwxfWZ1bmN0aW9uIEwoKXt2YXIgZSx0PS0xO2lmKChlPVIoKT9PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCkucGVyZm9ybWFuY2U6T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKS5wZXJmb3JtYW5jZSkmJmUudGltaW5nJiZlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ+MCl7dmFyIHI9ZS50aW1pbmcuZG9tTG9hZGluZy1lLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7cj4wJiYodD1yKX1yZXR1cm4gdH1mdW5jdGlvbiBaKGUpe3ZhciB0LHI9UCgpO3IuQURBR0lPPXIuQURBR0lPfHx7fSxyLkFEQUdJTy5wYmpzQWRVbml0cz1yLkFEQUdJTy5wYmpzQWRVbml0cy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvZGUhPT1lLmFkVW5pdENvZGV9KSksZS5mZWF0dXJlcyYmZS5mZWF0dXJlcy5wcmludF9udW1iZXI/dD1lLmZlYXR1cmVzLnByaW50X251bWJlcjplLnBhcmFtcy5mZWF0dXJlcyYmZS5wYXJhbXMuZmVhdHVyZXMucHJpbnRfbnVtYmVyJiYodD1lLnBhcmFtcy5mZWF0dXJlcy5wcmludF9udW1iZXIpLHIuQURBR0lPLnBianNBZFVuaXRzLnB1c2goe2NvZGU6ZS5hZFVuaXRDb2RlLG1lZGlhVHlwZXM6ZS5tZWRpYVR5cGVzfHx7fSxzaXplczplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJkFycmF5LmlzQXJyYXkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLGJpZHM6W3tiaWRkZXI6ZS5iaWRkZXIscGFyYW1zOmUucGFyYW1zfV0sYXVjdGlvbklkOmUuYXVjdGlvbklkLHBhZ2V2aWV3SWQ6Ti5nZXRQYWdldmlld0lkKCkscHJpbnROdW1iZXI6dH0pLHIuQURBR0lPLmFkVW5pdHNbZS5hZFVuaXRDb2RlXT17YXVjdGlvbklkOmUuYXVjdGlvbklkLHBhZ2V2aWV3SWQ6Ti5nZXRQYWdldmlld0lkKCkscHJpbnROdW1iZXI6dH19dmFyIEo9e2NvZGU6SSxndmxpZDo2MTcsc3VwcG9ydGVkTWVkaWFUeXBlczpELGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz1lLnBhcmFtc3x8e30sRihlKSxOLmdldFJlZmVyZXJJbmZvKCkucmVhY2hlZFRvcD8hIShlLnBhcmFtcy5vcmdhbml6YXRpb25JZCYmZS5wYXJhbXMuc2l0ZSYmZS5wYXJhbXMucGxhY2VtZW50KXx8KE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgYXQgbGVhc3Qgb25lIHJlcXVpcmVkIHBhcmFtIGlzIG1pc3NpbmcuIikpLCExKTooT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiB0aGUgbWFpbiBwYWdlIHVybCBpcyB1bnJlYWNoYWJsZWQuIikpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByLG49Imh0dHBzOiI9PT1sb2NhdGlvbi5wcm90b2NvbD8xOjAsaT1OLmdldERldmljZSgpLHM9Ti5nZXRTaXRlKHQpLGM9Ti5nZXRQYWdldmlld0lkKCksdT1mdW5jdGlvbihlKXtpZighT2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiZ2RwckNvbnNlbnQiKSlyZXR1cm4hMTt2YXIgdD1lLmdkcHJDb25zZW50LHI9dC5hcGlWZXJzaW9uLG49dC5nZHByQXBwbGllcyxpPXQuY29uc2VudFN0cmluZyxvPXQuYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQ7cmV0dXJuIE9iamVjdChhLmNsZWFuT2JqKSh7YXBpVmVyc2lvbjpyLGNvbnNlbnRTdHJpbmc6aSxjb25zZW50UmVxdWlyZWQ6bj8xOjAsYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQ6bz8xOjB9KX0odCl8fHt9LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJ1c3BDb25zZW50IikmJnt1c3BDb25zZW50OmUudXNwQ29uc2VudH19KHQpfHx7fSxwPXtyZXF1aXJlZDohMD09PW8uYi5nZXRDb25maWcoImNvcHBhIik/MTowfSxsPShyPWVbMF0sT2JqZWN0KGEuZGVlcEFjY2Vzcykociwic2NoYWluIikpLGc9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KGEuZGVlcEFjY2VzcykoZSwidXNlcklkIikpcmV0dXJuIE9iamVjdChmLmIpKGUudXNlcklkKX0oZVswXSl8fFtdLGI9T2JqZWN0KGEuX21hcCkoZSwoZnVuY3Rpb24oZSl7dmFyIHI9eSh5KHt9LGsuZ2V0T3JTZXRHbG9iYWxGZWF0dXJlcygpKSx7fSx7cHJpbnRfbnVtYmVyOkgoZS5hZFVuaXRDb2RlLHQpLnRvU3RyaW5nKCksYWR1bml0X3Bvc2l0aW9uOl8oZS5wYXJhbXMuYWRVbml0RWxlbWVudElkKX0pO3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiIj09PXJbZV0mJmRlbGV0ZSByW2VdfSkpLGUuZmVhdHVyZXM9cixOLmVucXVldWUoe2FjdGlvbjoiZmVhdHVyZXMiLHRzOkRhdGUubm93KCksZGF0YTp7ZmVhdHVyZXM6ZS5mZWF0dXJlcyxwYXJhbXM6ZS5wYXJhbXMsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9fSksZS5mbG9vcnM9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChhLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiExO3ZhciB0PVtdLHI9ZnVuY3Rpb24ocixuKXt2YXIgaT1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOltdfSk7dC5wdXNoKE9iamVjdChhLmNsZWFuT2JqKSh7bXQ6cixzOk9iamVjdChhLmlzQXJyYXkpKG4pPyIiLmNvbmNhdChuWzBdLCJ4IikuY29uY2F0KG5bMV0pOnZvaWQgMCxmOmlzTmFOKGkuZmxvb3IpfHwiVVNEIiE9PWkuY3VycmVuY3k/LjE6aS5mbG9vcn0pKX07cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoLTEhPT1ELmluZGV4T2YodCkpe3ZhciBuPXQ9PT1tLmQ/InBsYXllclNpemUiOiJzaXplcyI7ZS5tZWRpYVR5cGVzW3RdW25dJiZlLm1lZGlhVHlwZXNbdF1bbl0ubGVuZ3RoP09iamVjdChhLmlzQXJyYXkpKGUubWVkaWFUeXBlc1t0XVtuXVswXSk/ZS5tZWRpYVR5cGVzW3RdW25dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IodCxbZVswXSxlWzFdXSl9KSk6cih0LFtlLm1lZGlhVHlwZXNbdF1bbl1bMF0sZS5tZWRpYVR5cGVzW3RdW25dWzFdXSk6cih0LCIqIil9fSkpLHR9KGUpLE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSYmZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIse30pLHI9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIix7fSksbj17fTtpZihBcnJheS5pc0FycmF5KHQucGxheWVyU2l6ZSkpe3ZhciBpPUFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplWzBdKT90LnBsYXllclNpemVbMF06dC5wbGF5ZXJTaXplO24udz1pWzBdLG4uaD1pWzFdfXZhciBvPXkoeSh5KHt9LG4pLHQpLHIpO28uY29udGV4dCYmby5jb250ZXh0PT09aC5iJiYoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllck5hbWU9TShlKSksT2JqZWN0LmtleXMoRSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7by5oYXNPd25Qcm9wZXJ0eSh0KSYmKEVbdF0ob1t0XSk/ZS5tZWRpYVR5cGVzLnZpZGVvW3RdPW9bdF06KGRlbGV0ZSBlLm1lZGlhVHlwZXMudmlkZW9bdF0sT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiBUaGUgT3BlblJUQiB2aWRlbyBwYXJhbSAiKS5jb25jYXQodCwiIGhhcyBiZWVuIHNraXBwZWQgZHVlIHRvIG1pc2Zvcm1hdGluZy4gUGxlYXNlIHJlZmVyIHRvIE9wZW5SVEIgMi41IHNwZWMuIikpKSl9KSl9KGUpLFooZSksZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9T2JqZWN0KGEuZGVlcENsb25lKSh0KTtyZXR1cm4gci5wYXJhbXMub3JnYW5pemF0aW9uSWQ9ci5wYXJhbXMub3JnYW5pemF0aW9uSWQudG9TdHJpbmcoKSxkZWxldGUgci5mbG9vckRhdGEsZGVsZXRlIHIucGFyYW1zLnNpdGVJZCxlW3IucGFyYW1zLm9yZ2FuaXphdGlvbklkXT1lW3IucGFyYW1zLm9yZ2FuaXphdGlvbklkXXx8W10sZVtyLnBhcmFtcy5vcmdhbml6YXRpb25JZF0ucHVzaChyKSxlfSkse30pO3JldHVybiBPYmplY3QoYS5fbWFwKShPYmplY3Qua2V5cyhiKSwoZnVuY3Rpb24oZSl7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOlQsZGF0YTp7aWQ6T2JqZWN0KGEuZ2VuZXJhdGVVVUlEKSgpLG9yZ2FuaXphdGlvbklkOmUsc2VjdXJlOm4sZGV2aWNlOmksc2l0ZTpzLHBhZ2V2aWV3SWQ6YyxhZFVuaXRzOmJbZV0sZGF0YTprLmdldEV4Y2hhbmdlRGF0YSgpLHJlZ3M6e2dkcHI6dSxjb3BwYTpwLGNjcGE6ZH0sc2NoYWluOmwsdXNlcjp7ZWlkczpnfSxwcmViaWRWZXJzaW9uOiI1LjIwLjIiLGZlYXR1cmVzVmVyc2lvbjoiMSJ9LG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3RyeXt2YXIgbj1lLmJvZHk7biYmKG4uZGF0YSYmTi5lbnF1ZXVlKHthY3Rpb246InNzcC1kYXRhIix0czpEYXRlLm5vdygpLGRhdGE6bi5kYXRhfSksbi5iaWRzJiZuLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49aSgpKHQuZGF0YS5hZFVuaXRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRJZD09PWUucmVxdWVzdElkfSkpO2lmKG4pe2lmKGUubWV0YT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZXRhIix7fSksZS5tZXRhLm1lZGlhVHlwZT1lLm1lZGlhVHlwZSxlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9QXJyYXkuaXNBcnJheShlLmFEb21haW4pJiZlLmFEb21haW4ubGVuZ3RoP2UuYURvbWFpbjpbXSxlLm1lZGlhVHlwZT09PW0uZCl7dmFyIG89T2JqZWN0KGEuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7IWUudmFzdFVybCYmZS52YXN0WG1sJiYoZS52YXN0VXJsPSJkYXRhOnRleHQveG1sO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIrYnRvYShlLnZhc3RYbWwucmVwbGFjZSgvXFwiL2csJyInKSkpLG89PT1oLmImJihlLnJlbmRlcmVyPWwuYS5pbnN0YWxsKHtpZDplLnJlcXVlc3RJZCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSx1cmw6ZS51cmxSZW5kZXJlcnx8Uyxjb25maWc6eSh5KHt9LE9iamVjdChhLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8iKSksT2JqZWN0KGEuZGVlcEFjY2VzcykoZSwib3V0c3RyZWFtIix7fSkpfSksZS5yZW5kZXJlci5zZXRSZW5kZXIocSkpfWUubWVkaWFUeXBlPT09bS5jJiZCKGUpLGUuc2l0ZT1uLnBhcmFtcy5zaXRlLGUucGxhY2VtZW50PW4ucGFyYW1zLnBsYWNlbWVudCxlLnBhZ2V0eXBlPW4ucGFyYW1zLnBhZ2V0eXBlLGUuY2F0ZWdvcnk9bi5wYXJhbXMuY2F0ZWdvcnksZS5zdWJjYXRlZ29yeT1uLnBhcmFtcy5zdWJjYXRlZ29yeSxlLmVudmlyb25tZW50PW4ucGFyYW1zLmVudmlyb25tZW50fXIucHVzaChlKX0pKSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKGUpfXJldHVybiByfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCF0Lmxlbmd0aHx8IiI9PT10WzBdLmJvZHl8fCF0WzBdLmJvZHkudXNlclN5bmNzKSYmdFswXS5ib2R5LnVzZXJTeW5jcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJwIj09PWUudD8iaW1hZ2UiOiJpZnJhbWUiLHVybDplLnV9fSkpfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89aSgpKG4sKGZ1bmN0aW9uKGUpe3JldHVybiJhZGFnaW8iPT09ZS5iaWRkZXJDb2RlfSkpLHM9aSgpKG8uYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXIuY29kZX0pKTtpZih0KXtGKHMpLHMucGFyYW1zLmF1Y3Rpb25JZD1PYmplY3QoYS5kZWVwQWNjZXNzKShvLCJhdWN0aW9uSWQiKTt2YXIgYz1rLmdldE9yU2V0R2xvYmFsRmVhdHVyZXMoKTtzLnBhcmFtcy5mZWF0dXJlcz15KHkoe30sYykse30se3ByaW50X251bWJlcjpIKHMuYWRVbml0Q29kZSxvKS50b1N0cmluZygpLGFkdW5pdF9wb3NpdGlvbjpfKHMucGFyYW1zLmFkVW5pdEVsZW1lbnRJZCl9KSxzLnBhcmFtcy5wYWdldmlld0lkPU4uZ2V0UGFnZXZpZXdJZCgpLHMucGFyYW1zLnByZWJpZFZlcnNpb249IjUuMjAuMiIscy5wYXJhbXMuZGF0YT1rLmdldEV4Y2hhbmdlRGF0YSgpLE9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpPT09aC5iJiYocy5wYXJhbXMucGxheWVyTmFtZT1NKHMpKSxaKHMpfXJldHVybiBzLnBhcmFtc319OyFmdW5jdGlvbigpe1IoKSYmKHY9UigpP09iamVjdChhLmdldFdpbmRvd1RvcCkoKTpPYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpKTt2YXIgZT1OLmdldEN1cnJlbnRXaW5kb3coKTtlLkFEQUdJTz1lLkFEQUdJT3x8e30sZS5BREFHSU8uYWRVbml0cz1lLkFEQUdJTy5hZFVuaXRzfHx7fSxlLkFEQUdJTy5wYmpzQWRVbml0cz1lLkFEQUdJTy5wYmpzQWRVbml0c3x8W10sZS5BREFHSU8ucXVldWU9ZS5BREFHSU8ucXVldWV8fFtdLGUuQURBR0lPLnZlcnNpb25zPWUuQURBR0lPLnZlcnNpb25zfHx7fSxlLkFEQUdJTy52ZXJzaW9ucy5wYmpzPSI1LjIwLjIiLGUuQURBR0lPLmlzU2FmZUZyYW1lV2luZG93PVcoKSx4LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCJhZGFnaW8iLChmdW5jdGlvbihlKXt0cnl7ay5wcmVwYXJlRXhjaGFuZ2VEYXRhKGUpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKShqLGUpfX0pKSxDKCl9KCksT2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKEopfSw3ODpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1yKDc5KSxpPXIoODApO3QudmVyaWZ5PWZ1bmN0aW9uKGUsdCxyLGEpe3ZhciBvPW5ldyBuLkJpZ0ludGVnZXIobi5iNjR0b0hleCh0KSkscz1uZXcgbi5CaWdJbnRlZ2VyKG4uYjY0dG9IZXgocikpLGM9by5tb2RQb3dJbnQoYSxzKTtyZXR1cm4gbi5yZW1vdmVFeHRyYVN5bWJvbHMoYy50b0hleFN0cmluZygpKT09PWkuU2hhMjU2Lmhhc2goZSl9fSw3OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7bnVsbCE9PWUmJnRoaXMuZnJvbUhleFN0cmluZyhlKX1yZXR1cm4gZS5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b0hleFN0cmluZygpO3ZhciBlLHQ9ITEscj0iIixuPXRoaXMudCxpPXRoaXMuREItbip0aGlzLkRCJTQ7aWYobi0tID4wKWZvcihpPHRoaXMuREImJihlPXRoaXNbbl0+PmkpPjAmJih0PSEwLHI9cChlKSk7bj49MDspaTw0PyhlPSh0aGlzW25dJigxPDxpKS0xKTw8NC1pLGV8PXRoaXNbLS1uXT4+KGkrPXRoaXMuREItNCkpOihlPXRoaXNbbl0+PihpLT00KSYxNSxpPD0wJiYoaSs9dGhpcy5EQiwtLW4pKSxlPjAmJih0PSEwKSx0JiYocis9cChlKSk7cmV0dXJuIHQ/cjoiMCJ9LGUucHJvdG90eXBlLmZyb21IZXhTdHJpbmc9ZnVuY3Rpb24odCl7aWYobnVsbCE9PXQpe3RoaXMudD0wLHRoaXMucz0wO2Zvcih2YXIgcj10Lmxlbmd0aCxuPSExLGk9MDstLXI+PTA7KXt2YXIgYT1kKHQscik7YTwwPyItIj09dC5jaGFyQXQocikmJihuPSEwKToobj0hMSwwPT1pP3RoaXNbdGhpcy50KytdPWE6aSs0PnRoaXMuREI/KHRoaXNbdGhpcy50LTFdfD0oYSYoMTw8dGhpcy5EQi1pKS0xKTw8aSx0aGlzW3RoaXMudCsrXT1hPj50aGlzLkRCLWkpOnRoaXNbdGhpcy50LTFdfD1hPDxpLChpKz00KT49dGhpcy5EQiYmKGktPXRoaXMuREIpKX0wLHRoaXMuY2xhbXAoKSxuJiZlLlpFUk8uc3ViVG8odGhpcyx0aGlzKX19LGUucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3ZhciB0PWEoKTtyZXR1cm4gZS5aRVJPLnN1YlRvKHRoaXMsdCksdH0sZS5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sZS5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKHQpe3ZhciByPWEoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1Ubyh0LG51bGwsciksdGhpcy5zPDAmJnIuY29tcGFyZVRvKGUuWkVSTyk+MCYmdC5zdWJUbyhyLHIpLHJ9LGUucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50LTE7dD49MDstLXQpZVt0XT10aGlzW3RdO2UudD10aGlzLnQsZS5zPXRoaXMuc30sZS5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZSV0aGlzLkRCLG49dGhpcy5EQi1yLGk9KDE8PG4pLTEsYT1NYXRoLmZsb29yKGUvdGhpcy5EQiksbz10aGlzLnM8PHImdGhpcy5ETSxzPXRoaXMudC0xO3M+PTA7LS1zKXRbcythKzFdPXRoaXNbc10+Pm58byxvPSh0aGlzW3NdJmkpPDxyO2ZvcihzPWEtMTtzPj0wOy0tcyl0W3NdPTA7dFthXT1vLHQudD10aGlzLnQrYSsxLHQucz10aGlzLnMsdC5jbGFtcCgpfSxlLnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciBlPXRoaXNbMF07aWYoMD09KDEmZSkpcmV0dXJuIDA7dmFyIHQ9MyZlO3JldHVybih0PSh0PSh0PSh0PXQqKDItKDE1JmUpKnQpJjE1KSooMi0oMjU1JmUpKnQpJjI1NSkqKDItKCg2NTUzNSZlKSp0JjY1NTM1KSkmNjU1MzUpKigyLWUqdCV0aGlzLkRWKSV0aGlzLkRWKT4wP3RoaXMuRFYtdDotdH0sZS5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7dmFyIHI7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpdFtyK2VdPXRoaXNbcl07Zm9yKHI9ZS0xO3I+PTA7LS1yKXRbcl09MDt0LnQ9dGhpcy50K2UsdC5zPXRoaXMuc30sZS5wcm90b3R5cGUuc3F1YXJlVG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuYWJzKCkscj1lLnQ9Mip0LnQ7LS1yPj0wOyllW3JdPTA7Zm9yKHI9MDtyPHQudC0xOysrcil7dmFyIG49dC5hbShyLHRbcl0sZSwyKnIsMCwxKTsoZVtyK3QudF0rPXQuYW0ocisxLDIqdFtyXSxlLDIqcisxLG4sdC50LXItMSkpPj10LkRWJiYoZVtyK3QudF0tPXQuRFYsZVtyK3QudCsxXT0xKX1lLnQ+MCYmKGVbZS50LTFdKz10LmFtKHIsdFtyXSxlLDIqciwwLDEpKSxlLnM9MCxlLmNsYW1wKCl9LGUucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLmFicygpLGk9dC5hYnMoKSxhPW4udDtmb3Ioci50PWEraS50Oy0tYT49MDspclthXT0wO2ZvcihhPTA7YTxpLnQ7KythKXJbYStuLnRdPW4uYW0oMCxpW2FdLHIsYSwwLG4udCk7ci5zPTAsci5jbGFtcCgpLHRoaXMucyE9dC5zJiZlLlpFUk8uc3ViVG8ocixyKX0sZS5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24odCxyLG4pe3ZhciBpPXQuYWJzKCk7aWYoIShpLnQ8PTApKXt2YXIgcz10aGlzLmFicygpO2lmKHMudDxpLnQpcmV0dXJuIG51bGwhPXImJnIuZnJvbUhleFN0cmluZygiMCIpLHZvaWQobnVsbCE9biYmdGhpcy5jb3B5VG8obikpO251bGw9PW4mJihuPWEoKSk7dmFyIGM9YSgpLHU9dGhpcy5zLGQ9dC5zLHA9dGhpcy5EQi1vKGlbaS50LTFdKTtwPjA/KGkubFNoaWZ0VG8ocCxjKSxzLmxTaGlmdFRvKHAsbikpOihpLmNvcHlUbyhjKSxzLmNvcHlUbyhuKSk7dmFyIGY9Yy50LG09Y1tmLTFdO2lmKDAhPW0pe3ZhciBsPW0qKDE8PHRoaXMuRjEpKyhmPjE/Y1tmLTJdPj50aGlzLkYyOjApLGg9dGhpcy5GVi9sLGc9KDE8PHRoaXMuRjEpL2wseT0xPDx0aGlzLkYyLGI9bi50LHY9Yi1mLE89bnVsbD09cj9hKCk6cjtmb3IoYy5kbFNoaWZ0VG8odixPKSxuLmNvbXBhcmVUbyhPKT49MCYmKG5bbi50KytdPTEsbi5zdWJUbyhPLG4pKSxlLk9ORS5kbFNoaWZ0VG8oZixPKSxPLnN1YlRvKGMsYyk7Yy50PGY7KWNbYy50KytdPTA7Zm9yKDstLXY+PTA7KXt2YXIgQT1uWy0tYl09PW0/dGhpcy5ETTpNYXRoLmZsb29yKG5bYl0qaCsobltiLTFdK3kpKmcpO2lmKChuW2JdKz1jLmFtKDAsQSxuLHYsMCxmKSk8QSlmb3IoYy5kbFNoaWZ0VG8odixPKSxuLnN1YlRvKE8sbik7bltiXTwtLUE7KW4uc3ViVG8oTyxuKX1udWxsIT1yJiYobi5kclNoaWZ0VG8oZixyKSx1IT1kJiZlLlpFUk8uc3ViVG8ocixyKSksbi50PWYsbi5jbGFtcCgpLHA+MCYmbi5yU2hpZnRUbyhwLG4pLHU8MCYmZS5aRVJPLnN1YlRvKG4sbil9fX0sZS5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24oZSx0KXt0LnM9dGhpcy5zO3ZhciByPU1hdGguZmxvb3IoZS90aGlzLkRCKTtpZihyPj10aGlzLnQpdC50PTA7ZWxzZXt2YXIgbj1lJXRoaXMuREIsaT10aGlzLkRCLW4sYT0oMTw8biktMTt0WzBdPXRoaXNbcl0+Pm47Zm9yKHZhciBvPXIrMTtvPHRoaXMudDsrK28pdFtvLXItMV18PSh0aGlzW29dJmEpPDxpLHRbby1yXT10aGlzW29dPj5uO24+MCYmKHRbdGhpcy50LXItMV18PSh0aGlzLnMmYSk8PGkpLHQudD10aGlzLnQtcix0LmNsYW1wKCl9fSxlLnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZTtyPHRoaXMudDsrK3IpdFtyLWVdPXRoaXNbcl07dC50PU1hdGgubWF4KHRoaXMudC1lLDApLHQucz10aGlzLnN9LGUucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj0wLGk9TWF0aC5taW4oZS50LHRoaXMudCk7cjxpOyluKz10aGlzW3JdLWVbcl0sdFtyKytdPW4mdGhpcy5ETSxuPj49dGhpcy5EQjtpZihlLnQ8dGhpcy50KXtmb3Iobi09ZS5zO3I8dGhpcy50OyluKz10aGlzW3JdLHRbcisrXT1uJnRoaXMuRE0sbj4+PXRoaXMuREI7bis9dGhpcy5zfWVsc2V7Zm9yKG4rPXRoaXMucztyPGUudDspbi09ZVtyXSx0W3IrK109biZ0aGlzLkRNLG4+Pj10aGlzLkRCO24tPWUuc310LnM9bjwwPy0xOjAsbjwtMT90W3IrK109dGhpcy5EVituOm4+MCYmKHRbcisrXT1uKSx0LnQ9cix0LmNsYW1wKCl9LGUucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09ZTspLS10aGlzLnR9LGUucHJvdG90eXBlLm1vZFBvd0ludD1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiByPWU8MjU2fHx0LmlzRXZlbigpP25ldyBmKHQpOm5ldyBtKHQpLHRoaXMuZXhwKGUscil9LGUucHJvdG90eXBlLmV4cD1mdW5jdGlvbih0LHIpe2lmKHQ+NDI5NDk2NzI5NXx8dDwxKXJldHVybiBlLk9ORTt2YXIgbj1hKCksaT1hKCkscz1yLmNvbnZlcnQodGhpcyksYz1vKHQpLTE7Zm9yKHMuY29weVRvKG4pOy0tYz49MDspaWYoci5zcXJUbyhuLGkpLCh0JjE8PGMpPjApci5tdWxUbyhpLHMsbik7ZWxzZXt2YXIgdT1uO249aSxpPXV9cmV0dXJuIHIucmV2ZXJ0KG4pfSxlLnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSxlLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zLWUucztpZigwIT10KXJldHVybiB0O3ZhciByPXRoaXMudDtpZigwIT0odD1yLWUudCkpcmV0dXJuIHRoaXMuczwwPy10OnQ7Zm9yKDstLXI+PTA7KWlmKDAhPSh0PXRoaXNbcl0tZVtyXSkpcmV0dXJuIHQ7cmV0dXJuIDB9LGUucHJvdG90eXBlLmFtMT1mdW5jdGlvbihlLHQscixuLGksYSl7Zm9yKDstLWE+PTA7KXt2YXIgbz10KnRoaXNbZSsrXStyW25dK2k7aT1NYXRoLmZsb29yKG8vNjcxMDg4NjQpLHJbbisrXT02NzEwODg2MyZvfXJldHVybiBpfSxlLnByb3RvdHlwZS5hbTI9ZnVuY3Rpb24oZSx0LHIsbixpLGEpe2Zvcih2YXIgbz0zMjc2NyZ0LHM9dD4+MTU7LS1hPj0wOyl7dmFyIGM9MzI3NjcmdGhpc1tlXSx1PXRoaXNbZSsrXT4+MTUsZD1zKmMrdSpvO2k9KChjPW8qYysoKDMyNzY3JmQpPDwxNSkrcltuXSsoMTA3Mzc0MTgyMyZpKSk+Pj4zMCkrKGQ+Pj4xNSkrcyp1KyhpPj4+MzApLHJbbisrXT0xMDczNzQxODIzJmN9cmV0dXJuIGl9LGUucHJvdG90eXBlLmFtMz1mdW5jdGlvbihlLHQscixuLGksYSl7Zm9yKHZhciBvPTE2MzgzJnQscz10Pj4xNDstLWE+PTA7KXt2YXIgYz0xNjM4MyZ0aGlzW2VdLHU9dGhpc1tlKytdPj4xNCxkPXMqYyt1Km87aT0oKGM9bypjKygoMTYzODMmZCk8PDE0KStyW25dK2kpPj4yOCkrKGQ+PjE0KStzKnUscltuKytdPTI2ODQzNTQ1NSZjfXJldHVybiBpfSxlfSgpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IGkobnVsbCl9ZnVuY3Rpb24gbyhlKXt2YXIgdCxyPTE7cmV0dXJuIDAhPSh0PWU+Pj4xNikmJihlPXQscis9MTYpLDAhPSh0PWU+PjgpJiYoZT10LHIrPTgpLDAhPSh0PWU+PjQpJiYoZT10LHIrPTQpLDAhPSh0PWU+PjIpJiYoZT10LHIrPTIpLDAhPSh0PWU+PjEpJiYoZT10LHIrPTEpLHJ9dC5CaWdJbnRlZ2VyPWksdC5uYmk9YSx0Lm5iaXRzPW87dmFyIHMsYyx1PVtdO2ZvcihzPSIwIi5jaGFyQ29kZUF0KDApLGM9MDtjPD05OysrYyl1W3MrK109Yztmb3Iocz0iYSIuY2hhckNvZGVBdCgwKSxjPTEwO2M8MzY7KytjKXVbcysrXT1jO2ZvcihzPSJBIi5jaGFyQ29kZUF0KDApLGM9MTA7YzwzNjsrK2MpdVtzKytdPWM7ZnVuY3Rpb24gZChlLHQpe3ZhciByPXVbZS5jaGFyQ29kZUF0KHQpXTtyZXR1cm4gbnVsbD09cj8tMTpyfXQuaW50QXQ9ZDtmdW5jdGlvbiBwKGUpe3JldHVybiIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmNoYXJBdChlKX10LmludDJjaGFyPXA7dC5iNjR0b0hleD1mdW5jdGlvbihlKXt2YXIgdCxyPSIiLG49MCxpPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoJiYiPSIhPWUuY2hhckF0KHQpOysrdCl7dmFyIGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmluZGV4T2YoZS5jaGFyQXQodCkpO2E8MHx8KDA9PW4/KHIrPXAoYT4+MiksaT0zJmEsbj0xKToxPT1uPyhyKz1wKGk8PDJ8YT4+NCksaT0xNSZhLG49Mik6Mj09bj8ocis9cChpKSxyKz1wKGE+PjIpLGk9MyZhLG49Myk6KHIrPXAoaTw8MnxhPj40KSxyKz1wKDE1JmEpLG49MCkpfXJldHVybiAxPT1uJiYocis9cChpPDwyKSkscn0sdC5yZW1vdmVFeHRyYVN5bWJvbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXjFmKzAwLywiIikucmVwbGFjZSgiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLCIiKX07dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubT1lfXJldHVybiBlLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnM8MHx8ZS5jb21wYXJlVG8odGhpcy5tKT49MD9lLm1vZCh0aGlzLm0pOmV9LGUucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUpe2UuZGl2UmVtVG8odGhpcy5tLG51bGwsZSl9LGUucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKGUsdCxyKXtlLm11bHRpcGx5VG8odCxyKSx0aGlzLnJlZHVjZShyKX0sZS5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24oZSx0KXtlLnNxdWFyZVRvKHQpLHRoaXMucmVkdWNlKHQpfSxlfSgpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubT1lLHRoaXMubXA9ZS5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8ZS5EQi0xNSktMSx0aGlzLm10Mj0yKmUudH1yZXR1cm4gZS5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbihlKXt2YXIgdD1hKCk7cmV0dXJuIGUuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LHQpLHQuZGl2UmVtVG8odGhpcy5tLG51bGwsdCksZS5zPDAmJnQuY29tcGFyZVRvKGkuWkVSTyk+MCYmdGhpcy5tLnN1YlRvKHQsdCksdH0sZS5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKGUpe3ZhciB0PWEoKTtyZXR1cm4gZS5jb3B5VG8odCksdGhpcy5yZWR1Y2UodCksdH0sZS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUpe2Zvcig7ZS50PD10aGlzLm10MjspZVtlLnQrK109MDtmb3IodmFyIHQ9MDt0PHRoaXMubS50OysrdCl7dmFyIHI9MzI3NjcmZVt0XSxuPXIqdGhpcy5tcGwrKChyKnRoaXMubXBoKyhlW3RdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZlLkRNO2ZvcihlW3I9dCt0aGlzLm0udF0rPXRoaXMubS5hbSgwLG4sZSx0LDAsdGhpcy5tLnQpO2Vbcl0+PWUuRFY7KWVbcl0tPWUuRFYsZVsrK3JdKyt9ZS5jbGFtcCgpLGUuZHJTaGlmdFRvKHRoaXMubS50LGUpLGUuY29tcGFyZVRvKHRoaXMubSk+PTAmJmUuc3ViVG8odGhpcy5tLGUpfSxlLnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbihlLHQscil7ZS5tdWx0aXBseVRvKHQsciksdGhpcy5yZWR1Y2Uocil9LGUucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKGUsdCl7ZS5zcXVhcmVUbyh0KSx0aGlzLnJlZHVjZSh0KX0sZX0oKTtmdW5jdGlvbiBsKGUpe3ZhciB0PWEoKTtyZXR1cm4gdC5mcm9tSGV4U3RyaW5nKGUudG9TdHJpbmcoKSksdH10Lm5idj1sLGkuWkVSTz1sKDApLGkuT05FPWwoMSksIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhpLnByb3RvdHlwZS5hbT1pLnByb3RvdHlwZS5hbTIsbj0zMCk6Ik5ldHNjYXBlIiE9bmF2aWdhdG9yLmFwcE5hbWU/KGkucHJvdG90eXBlLmFtPWkucHJvdG90eXBlLmFtMSxuPTI2KTooaS5wcm90b3R5cGUuYW09aS5wcm90b3R5cGUuYW0zLG49MjgpLGkucHJvdG90eXBlLkRCPW4saS5wcm90b3R5cGUuRE09KDE8PG4pLTEsaS5wcm90b3R5cGUuRFY9MTw8bjtpLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxpLnByb3RvdHlwZS5GMT01Mi1uLGkucHJvdG90eXBlLkYyPTIqbi01Mn0sODA6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmhhc2g9ZnVuY3Rpb24odCl7dD1lLnV0ZjhFbmNvZGUodHx8IiIpO2Zvcih2YXIgcj1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxuPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0saT0odCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpKS5sZW5ndGgvNCsyLGE9TWF0aC5jZWlsKGkvMTYpLG89bmV3IEFycmF5KGEpLHM9MDtzPGE7cysrKXtvW3NdPW5ldyBBcnJheSgxNik7Zm9yKHZhciBjPTA7YzwxNjtjKyspb1tzXVtjXT10LmNoYXJDb2RlQXQoNjQqcys0KmMpPDwyNHx0LmNoYXJDb2RlQXQoNjQqcys0KmMrMSk8PDE2fHQuY2hhckNvZGVBdCg2NCpzKzQqYysyKTw8OHx0LmNoYXJDb2RlQXQoNjQqcys0KmMrMyk8PDB9dmFyIHU9OCoodC5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMiksZD04Kih0Lmxlbmd0aC0xKT4+PjA7b1thLTFdWzE0XT1NYXRoLmZsb29yKHUpLG9bYS0xXVsxNV09ZDtmb3Iocz0wO3M8YTtzKyspe2Zvcih2YXIgcD1uZXcgQXJyYXkoNjQpLGY9MDtmPDE2O2YrKylwW2ZdPW9bc11bZl07Zm9yKGY9MTY7Zjw2NDtmKyspcFtmXT1lLnExKHBbZi0yXSkrcFtmLTddK2UucTAocFtmLTE1XSkrcFtmLTE2XT4+PjA7dmFyIG09blswXSxsPW5bMV0saD1uWzJdLGc9blszXSx5PW5bNF0sYj1uWzVdLHY9bls2XSxPPW5bN107Zm9yKGY9MDtmPDY0O2YrKyl7dmFyIEE9TytlLnoxKHkpK2UuQ2goeSxiLHYpK3JbZl0rcFtmXSxJPWUuejAobSkrZS5NYWoobSxsLGgpO089dix2PWIsYj15LHk9ZytBPj4+MCxnPWgsaD1sLGw9bSxtPUErST4+PjB9blswXT1uWzBdK20+Pj4wLG5bMV09blsxXStsPj4+MCxuWzJdPW5bMl0raD4+PjAsblszXT1uWzNdK2c+Pj4wLG5bNF09bls0XSt5Pj4+MCxuWzVdPW5bNV0rYj4+PjAsbls2XT1uWzZdK3Y+Pj4wLG5bN109bls3XStPPj4+MH12YXIgaj1uZXcgQXJyYXkobi5sZW5ndGgpO2ZvcihPPTA7TzxuLmxlbmd0aDtPKyspaltPXT0oIjAwMDAwMDAwIituW09dLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpO3JldHVybiBqLmpvaW4oIiIpfSxlLnV0ZjhFbmNvZGU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrU3RyaW5nLmZyb21DaGFyQ29kZSh0KX0pLCIiKX1jYXRjaCh0KXtyZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKX19LGUuUk9UUj1mdW5jdGlvbihlLHQpe3JldHVybiB0Pj4+ZXx0PDwzMi1lfSxlLnowPWZ1bmN0aW9uKHQpe3JldHVybiBlLlJPVFIoMix0KV5lLlJPVFIoMTMsdCleZS5ST1RSKDIyLHQpfSxlLnoxPWZ1bmN0aW9uKHQpe3JldHVybiBlLlJPVFIoNix0KV5lLlJPVFIoMTEsdCleZS5ST1RSKDI1LHQpfSxlLnEwPWZ1bmN0aW9uKHQpe3JldHVybiBlLlJPVFIoNyx0KV5lLlJPVFIoMTgsdCledD4+PjN9LGUucTE9ZnVuY3Rpb24odCl7cmV0dXJuIGUuUk9UUigxNyx0KV5lLlJPVFIoMTksdCledD4+PjEwfSxlLkNoPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSZ0Xn5lJnJ9LGUuTWFqPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSZ0XmUmcl50JnJ9LGV9KCk7dC5TaGEyNTY9bn19LFsxODJdKTsKdXBianNDaHVuayhbMzQ2XSx7MjU5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyNjApfSwyNjA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGM9dCgyKTtmdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9IlVTRCIsZj17aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9LGN0YTp7cmVxdWlyZWQ6ITF9fSxsPXtjb2RlOiJhZHlvdWxpa2UiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmMsYy5kXSxhbGlhc2VzOlsiYXlsIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHI9Yih5KGUpKSx0PXIud2lkdGg+MCYmci5oZWlnaHQ+MDtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLnBsYWNlbWVudCYmKHR8fGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLm5hdGl2ZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD17VmVyc2lvbjoiMS4wIixCaWRzOmUucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4gYy5kO2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpcmV0dXJuIGMuYjtpZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKXJldHVybiBjLmN9KHIpLGk9eShyKSxhPWIoaSk7aWYoZVtyLmJpZElkXT17fSxlW3IuYmlkSWRdLlBsYWNlbWVudElEPXIucGFyYW1zLnBsYWNlbWVudCxlW3IuYmlkSWRdLlRyYW5zYWN0aW9uSUQ9ci50cmFuc2FjdGlvbklkLGVbci5iaWRJZF0uV2lkdGg9YS53aWR0aCxlW3IuYmlkSWRdLkhlaWdodD1hLmhlaWdodCxlW3IuYmlkSWRdLkF2YWlsYWJsZVNpemVzPWkuam9pbigiLCIpLCJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yJiYoZVtyLmJpZElkXS5QcmljaW5nPWZ1bmN0aW9uKGUscix0KXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeTp1LG1lZGlhVHlwZTp0LHNpemU6W3Iud2lkdGgsci5oZWlnaHRdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiZuLmN1cnJlbmN5PT09dSlyZXR1cm4gbi5mbG9vcn0ocixhLHQpKSx0PT09Yy5jKXt2YXIgbz1yLm1lZGlhVHlwZXMubmF0aXZlOyJpbWFnZSI9PT1vLnR5cGUmJihvPXAoe30sZixvKSksby5jbGlja1VybD17cmVxdWlyZWQ6ITB9LGVbci5iaWRJZF0uTmF0aXZlPW99aWYodD09PWMuZCl7ZVtyLmJpZElkXS5WaWRlbz1yLm1lZGlhVHlwZXMudmlkZW87dmFyIHM9ci5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7QXJyYXkuaXNBcnJheShzKSYmIUFycmF5LmlzQXJyYXkoc1swXSkmJihlW3IuYmlkSWRdLlZpZGVvLnBsYXllclNpemU9W3NdKX1yZXR1cm4gZX0pLHt9KSxQYWdlUmVmcmVzaGVkOm0oKX07ciYmci5nZHByQ29uc2VudCYmKHQuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP3IuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM6bnVsbH0pLHImJnIudXNwQ29uc2VudCYmKHQudXNwQ29uc2VudD1yLnVzcENvbnNlbnQpO3ZhciBpPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDp2KGUsciksZGF0YTppLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9e307dHJ5e2k9SlNPTi5wYXJzZShyLmRhdGEpLkJpZHN9Y2F0Y2goZSl7fXJldHVybiBlLmJvZHkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXtpZighZXx8IWUuQWQmJiFlLk5hdGl2ZSYmIWUuVmFzdClyZXR1cm47dmFyIHQ9ciYmcltlLkJpZElEXTt0JiYoZS5XaWR0aCYmIjAiIT09ZS5XaWR0aHx8KGUuV2lkdGg9dC5XaWR0aCksZS5IZWlnaHQmJiIwIiE9PWUuSGVpZ2h0fHwoZS5IZWlnaHQ9dC5IZWlnaHQpKTt2YXIgaT17cmVxdWVzdElkOmUuQmlkSUQsdHRsOjM2MDAsY3JlYXRpdmVJZDplLkNyZWF0aXZlSUQsY3BtOmUuUHJpY2UsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp1LG1ldGE6ZS5NZXRhfHx7YWR2ZXJ0aXNlckRvbWFpbnM6W119fTtpZih0JiZ0Lk5hdGl2ZSlpLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKCJvYmplY3QiPT09ZChlLk5hdGl2ZSkpcmV0dXJuIGUuTmF0aXZlO3ZhciB0PXt9LGk9e30sYT17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpe2k9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxhPWkuQ29udGVudC5QcmV2aWV3LlRleHQ7dmFyIG89aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU1QUkVTU0lPTiZhdHRlbXB0PSIraS5BdHRlbXB0LHM9aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU5TRVJUSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQ7aS5DYW1wYWlnbiYmKG8rPSImY2FtcGFpZ249IitpLkNhbXBhaWduLHMrPSImY2FtcGFpZ249IitpLkNhbXBhaWduKSx0LmNsaWNrVXJsPWkuVHJhY2tpbmdQcmVmaXgrIi9hcj9ldmVudF9raW5kPUNMSUNLJmF0dGVtcHQ9IitpLkF0dGVtcHQrIiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24rIiZ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoaS5Db250ZW50LkxhbmRpbmcuVXJsKSxpLk9uRXZlbnRzPyh0LmNsaWNrVHJhY2tlcnM9QyhpLk9uRXZlbnRzLkNMSUNLKSx0LmltcHJlc3Npb25UcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiksdC5qYXZhc2NyaXB0VHJhY2tlcnM9QyhpLk9uRXZlbnRzLklNUFJFU1NJT04sITApKTp0LmltcHJlc3Npb25UcmFja2Vycz1bXSx0LmltcHJlc3Npb25UcmFja2Vycy5wdXNoKG8scyl9cmV0dXJuIE9iamVjdC5rZXlzKHIpLm1hcCgoZnVuY3Rpb24obyxzKXtzd2l0Y2gobyl7Y2FzZSJ0aXRsZSI6dFtvXT1hLlRJVExFO2JyZWFrO2Nhc2UiYm9keSI6dFtvXT1hLkRFU0NSSVBUSU9OO2JyZWFrO2Nhc2UiY3RhIjp0W29dPWEuQ0FMTFRPQUNUSU9OO2JyZWFrO2Nhc2Uic3BvbnNvcmVkQnkiOnRbb109aS5Db250ZW50LlByZXZpZXcuU3BvbnNvci5OYW1lO2JyZWFrO2Nhc2UiaW1hZ2UiOnZhciBjPXIuaW1hZ2Uuc2l6ZXN8fFtdO2MubGVuZ3RofHwoY1swXT1lLldpZHRofHwzMDAsY1sxXT1lLkhlaWdodHx8MjUwKTt2YXIgZD1JKGksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LlRodW1ibmFpbC5JbWFnZSIpLGNbMF0sY1sxXSk7ZCYmKHRbb109e3VybDpkLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTticmVhaztjYXNlImljb24iOnZhciBwPXIuaWNvbi5zaXplc3x8W107cC5sZW5ndGh8fChwWzBdPTUwLHBbMV09NTApO3ZhciB1PUkoaSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJDb250ZW50LlByZXZpZXcuU3BvbnNvci5Mb2dvLlJlc291cmNlIikscFswXSxwWzFdKTtkJiYodFtvXT17dXJsOnUsd2lkdGg6cFswXSxoZWlnaHQ6cFsxXX0pO2JyZWFrO2Nhc2UicHJpdmFjeUljb24iOnRbb109SShpLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuTG9nby5SZXNvdXJjZSIpLDI1LDI1KTticmVhaztjYXNlInByaXZhY3lMaW5rIjp0W29dPU9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuVXJsIil9fSkpLHR9KGUsdC5OYXRpdmUpLGkubWVkaWFUeXBlPSJuYXRpdmUiO2Vsc2UgaWYodCYmdC5WaWRlbyl7dmFyIGE9ZS5WYXN0fHxmdW5jdGlvbihlKXt2YXIgcj17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpcmV0dXJuIHI9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJDb250ZW50Lk1haW5WaWRlby5WYXN0Iil9KGUpO2kudmFzdFhtbD1hP3dpbmRvdy5hdG9iKGEpOiIiLGkubWVkaWFUeXBlPSJ2aWRlbyJ9ZWxzZSBpLndpZHRoPWUuV2lkdGgsaS5oZWlnaHQ9ZS5IZWlnaHQsaS5hZD1lLkFkO3JldHVybiBpfShlLGkpO3ImJnQucHVzaChyKX0pKSx0fX07ZnVuY3Rpb24gbSgpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciByPXMoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuREN9KSk7cmV0dXJuIHI/Ii0iK3IucGFyYW1zLkRDOiIifShlKTtyZXR1cm4gT2JqZWN0KG4uYnVpbGRVcmwpKHtwcm90b2NvbDoiaHR0cHMiLGhvc3Q6IiIuY29uY2F0KCJoYi1hcGkiKS5jb25jYXQodCwiLm9tbml0YWdqcy5jb20iKSxwYXRobmFtZToiL2hiLWFwaS9wcmViaWQvdjEiLHNlYXJjaDpoKHIpfSl9ZnVuY3Rpb24gaChlKXt2YXIgcj17fTtpZihlKXt2YXIgdD1lLnJlZmVyZXJJbmZvO3QmJihyLlJlZmVyZXJVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQucmVmZXJlciksdC5udW1JZnJhbWVzPjAmJihyLlNhZmVGcmFtZT0hMCkpfXZhciBuPWZ1bmN0aW9uKCl7dmFyIGU7aWYod2luZG93LnNlbGYhPT13aW5kb3cudG9wKXRyeXtlPXdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKX1jYXRjaChlKXt9ZWxzZSBlPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyk7cmV0dXJuIGU/ZS5ocmVmOiIifSgpO24mJihyLkNhbm9uaWNhbFVybD1lbmNvZGVVUklDb21wb25lbnQobikpO3ZhciBpPWEuYi5nZXRDb25maWcoInB1Ymxpc2hlckRvbWFpbiIpO3JldHVybiBpJiYoci5QdWJsaXNoZXJEb21haW49ZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxyfWZ1bmN0aW9uIHkoZSl7dmFyIHI9ZS5zaXplc3x8W107cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8W10pLGUucGFyYW1zJiZBcnJheS5pc0FycmF5KGUucGFyYW1zLnNpemUpJiYocj1lLnBhcmFtcy5zaXplLEFycmF5LmlzQXJyYXkoclswXSl8fChyPVtyXSkpLE9iamVjdChuLnBhcnNlU2l6ZXNJbnB1dCkocil9ZnVuY3Rpb24gYihlKXt2YXIgcj17fSx0PWVbMF07aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiByO3ZhciBuPXQudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpLGk9cGFyc2VJbnQoblswXSwxMCk7aSYmKHIud2lkdGg9aSk7dmFyIGE9cGFyc2VJbnQoblsxXSwxMCk7cmV0dXJuIGEmJihyLmhlaWdodD1hKSxyfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGU/Imh0dHBzOi8vYmxvYnMub21uaXRhZ2pzLmNvbS9ibG9icy8iK2Uuc3Vic3RyKDE2LDIpKyIvIitlLnN1YnN0cigxNikrIi8iK2U6IiJ9ZnVuY3Rpb24gSShlLHIsdCxuKXt2YXIgaT0iIjtpZihyJiZyLktpbmQpc3dpdGNoKHIuS2luZCl7Y2FzZSJJTlRFUk5BTCI6aT1nKHIuRGF0YS5JbnRlcm5hbC5CbG9iUmVmZXJlbmNlLlVpZCk7YnJlYWs7Y2FzZSJFWFRFUk5BTCI6dmFyIGE9ZS5EeW5hbWljUHJlZml4LG89ci5EYXRhLkV4dGVybmFsLlVybDtpZigobz0obz1vLnJlcGxhY2UoL1xbaGVpZ2h0XF0vaSwiIituKSkucmVwbGFjZSgvXFt3aWR0aFxdL2ksIiIrdCkpLmluZGV4T2YoYSk+PTApe3ZhciBzPS8uKnVybD0oW14mXSopL2dtLmV4ZWMobyk7KGk9cz9zWzFdOiIiKXx8KGk9ZygvLiprZXk9KFteJl0qKS9nbS5leGVjKG8pWzFdKSl9ZWxzZSBpPW99cmV0dXJuIGl9ZnVuY3Rpb24gQyhlLHIpe3ZhciB0PVtdO3JldHVybiBlPyhlLm1hcCgoZnVuY3Rpb24oZSxuKXsociYmIkpBVkFTQ1JJUFRfVVJMIj09PWUuS2luZHx8IXImJiJQSVhFTF9VUkwiPT09ZS5LaW5kKSYmdC5wdXNoKGUuVXJsKX0pKSx0KTp0fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShsKX19LFsyNTldKTsKdXBianNDaHVuayhbMzQwXSx7MjcxOmZ1bmN0aW9uKG4sYSx0KXtuLmV4cG9ydHM9dCgyNzIpfSwyNzI6ZnVuY3Rpb24obixhLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5QcmViaWRBbWF6b249Zjt2YXIgcj10KDYzKSxlPXQoMzkpLG89dCgwKSxpPXQoMSksYz10KDgpLGQ9dCg1KSxtPXQubihkKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24obil7Zm9yKHZhciBhPTE7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyl7dmFyIHQ9YXJndW1lbnRzW2FdO2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYobltyXT10W3JdKX1yZXR1cm4gbn0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKG4sYSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIG59KG4pfHxmdW5jdGlvbihuLGEpe3ZhciB0PW51bGw9PW4/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbltTeW1ib2wuaXRlcmF0b3JdfHxuWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIHIsZSxvPVtdLGk9ITAsYz0hMTt0cnl7Zm9yKHQ9dC5jYWxsKG4pOyEoaT0ocj10Lm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIWF8fG8ubGVuZ3RoIT09YSk7aT0hMCk7fWNhdGNoKG4pe2M9ITAsZT1ufWZpbmFsbHl7dHJ5e2l8fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBlfX1yZXR1cm4gb30obixhKXx8ZnVuY3Rpb24obixhKXtpZighbilyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBuKXJldHVybiB1KG4sYSk7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmbi5jb25zdHJ1Y3RvciYmKHQ9bi5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShuKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiB1KG4sYSl9KG4sYSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KG4sYSl7KG51bGw9PWF8fGE+bi5sZW5ndGgpJiYoYT1uLmxlbmd0aCk7Zm9yKHZhciB0PTAscj1uZXcgQXJyYXkoYSk7dDxhO3QrKylyW3RdPW5bdF07cmV0dXJuIHJ9dmFyIHA9ImFtYXpvbiI7ZnVuY3Rpb24gZigpe3ZhciBuPW5ldyByLmEocCk7cmV0dXJuIG4uY2FsbEJpZHM9ZnVuY3Rpb24obixhLHQpe2lmKHdpbmRvdy5hcHN0YWcmJndpbmRvdy5hcHN0YWdMT0FERUQpe3ZhciByPW4uYmlkcy5tYXAoKGZ1bmN0aW9uKG4pe3ZhciBhPW4uYWRVbml0Q29kZSx0PW4ucGFyYW1zLHI9bi5zaXplcztyZXR1cm57c2xvdElEOmEsc2xvdE5hbWU6dC5hZFVuaXRHUFRQYXRoLHNpemVzOnJ9fSkpO3dpbmRvdy5hcHN0YWcuZmV0Y2hCaWRzKHtzbG90czpyLHRpbWVvdXQ6Mjk2NX0sKGZ1bmN0aW9uKHIpeyFmdW5jdGlvbihuLGEsdCxyKXt0cnl7dmFyIGM9W107YS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgdD1hLmFtem5paWQscj1hLmFtem5iaWQsbz1hLmFtem5wLGk9YS5hbXpuc3osZD1hLnNsb3RJRCx1PWEuc2l6ZSxmPWEudGFyZ2V0aW5nO2lmKCFyJiZmJiYodD1mLmFtem5paWQscj1mLmFtem5iaWQsbz1mLmFtem5wLGk9Zi5hbXpuc3opLHQpe3ZhciB3PWwodS5zcGxpdCgieCIpLDIpLHo9d1swXSxoPXdbMV0sYj1uLmJpZHMuZmluZCgoZnVuY3Rpb24obil7cmV0dXJuIG4uYWRVbml0Q29kZT09PWR9KSksZz1iLmJpZElkLHk9Yi5hdWN0aW9uSWQsdj1iLnBhcmFtcyxDPSIiK01hdGgucm91bmQoMWUxMipNYXRoLnJhbmRvbSgpKStEYXRlLm5vdygpLEk9ImJ0X2hvc3RfcGxhY2Vob2xkZXIvZS9kdGIvYWRtaT9iPSIuY29uY2F0KHQsIiZybmQ9IikuY29uY2F0KEMsIiZwcD0iKS5jb25jYXQociwiJnA9IikuY29uY2F0KG8sIiZidF9jcmlkX3BsYWNlaG9sZGVyIiksTz0wLGo9IlVTRCI7d2luZG93LnVwb19hbXpuJiYod2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0JiZ3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbcl0mJihPPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFtyXSksd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUN1cnJlbmN5JiYoaj13aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ3VycmVuY3kpKTt2YXIgXz17YmlkZGVyQ29kZTpwLGFkVW5pdENvZGU6ZCxhdWN0aW9uSWQ6eSxyZXF1ZXN0SWQ6ZyxjcG06TyxjdXJyZW5jeTpqLGhlaWdodDpoLHdpZHRoOnosYWRUYXJnZXRpbmc6J3siYW16bmlpZCI6IicuY29uY2F0KHQsJyIsImFtem5wIjoiJykuY29uY2F0KG8sJyIsImFtem5iaWQiOiInKS5jb25jYXQociwnIiwiYW16bnN6IjoiJykuY29uY2F0KGksJyJ9JyksYWQ6IiIsYWRIdG1sOic8Ym9keSBsZWZ0bWFyZ2luPSIwIiB0b3BtYXJnaW49IjAiIG1hcmdpbndpZHRoPSIwIiBtYXJnaW5oZWlnaHQ9IjAiPjxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiIHNjcm9sbGluZz0ibm8iIHdpZHRoPSInK3orJ3B4IiBoZWlnaHQ9IicraCsncHgiIGlkPSJhbXpuYWQ3MDM1MiIgc2FuZGJveD0iYWxsb3ctZm9ybXMgYWxsb3ctcG9pbnRlci1sb2NrIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb24iIHNyYz0iJytJKyciPjwvaWZyYW1lPjxzY3JpcHQ+dmFyIGFteiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Ftei5zcmMgPSAiLy9jLmFtYXpvbi1hZHN5c3RlbS5jb20vYmFvLWNzbS9kaXJlY3QvY3NtLmpzIjthbXouYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXt2YXIgY3NtRnVuYyA9IG51bGw7IGlmKHdpbmRvdy5hbXpuY3NtICYmIHdpbmRvdy5hbXpuY3NtLnJtRCl7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtLnJtRDt9IGVsc2UgaWYgKHdpbmRvdy5hbXpuY3NtKSB7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtW09iamVjdC5rZXlzKHdpbmRvdy5hbXpuY3NtKVswXV19OyB2YXIgYWRJZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwnaWZyYW1lW3NyYyo9ImFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYWRtaVwnKTtjc21GdW5jKGFkSWZyYW1lLCAiJyt0KyciLCB3aW5kb3csIGRvY3VtZW50LCAiJyt2LnB1YklEKyciKTt9KTsoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChhbXopOzxcL3NjcmlwdD48L2JvZHk+JyxhZFVybDpJLHR0bDo5MDAsY3JlYXRpdmVJZDoiIixuZXRSZXZlbnVlOiEwLG9yaWdpbmFsQ3BtOk8sb3JpZ2luYWxDdXJyZW5jeTpqfSxBPXMoT2JqZWN0KGUuYSkobS5hLlNUQVRVUy5HT09ELG4pLF8pO2MucHVzaChBKX19KSksYy5mb3JFYWNoKChmdW5jdGlvbihhKXtPYmplY3QoaS5pc1ZhbGlkKShhLmFkVW5pdENvZGUsYSxbbl0pJiZ0KGEuYWRVbml0Q29kZSxhKX0pKX1jYXRjaChuKXtPYmplY3Qoby5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChwLCIgZmFpbGVkOiBlcnJvciBwYXJzaW5nIHJlc3BvbnNlICIpLmNvbmNhdChuLnN0YXR1cywiLiIpKX1yKCl9KG4scixhLHQpfSkpfWVsc2UgT2JqZWN0KG8ubG9nRXJyb3IpKCJTZXJ2ZXIgY2FsbCBmb3IgIi5jb25jYXQocCwiIGZhaWxlZDogYXBzdGFnIEFQSSBpcyBub3QgcmVhZHkuIikpfSxzKHRoaXMse2NhbGxCaWRzOm4uY2FsbEJpZHMsc2V0QmlkZGVyQ29kZTpuLnNldEJpZGRlckNvZGUsZ2V0QmlkZGVyQ29kZTpuLmdldEJpZGRlckNvZGV9KX1jLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyBmLHApfX0sWzI3MV0pOwp1cGJqc0NodW5rKFszMzldLHsyNzM6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDI3NCl9LDI3NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIHI9bigxKSxjPW4oMiksaT1uKDApLG89bigzKSxhPW4oNyk7ZnVuY3Rpb24gdShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj91KE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZChlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6dShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBkKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBsKGUpe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHA9T2JqZWN0KGEuYikoNzM3LCJhbXgiKSxiPS9cLmNvbT9cLlx3ezIsNH0kLyxmPS9eXHMqPFw/Pyg/OnZhc3R8eG1sKS9pLG09Il9fYW11aWRwYiI7ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBudWxsPT1lP1tdOmUubWFwKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9dCYmZS5jb25jYXQodCl9KSxbXSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gbnVsbCE9KHQ9ZS5hZG0pJiZmLnRlc3QodCk/Yy5kOmMuYjt2YXIgdH12YXIgTz1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lfHxsKGUpPT09dH07ZnVuY3Rpb24geShlKXt2YXIgdD1lLmhvc3RuYW1lLnNwbGl0KCIuIiksbj10LnNsaWNlKHQubGVuZ3RoLShiLnRlc3QoZS5ob3N0bmFtZSk/MzoyKSkuam9pbigiLiIpO3JldHVybiBidG9hKG4pLnJlcGxhY2UoLz0rJC8sIiIpfXZhciBqPWVuY29kZVVSSUNvbXBvbmVudDtmdW5jdGlvbiB2KCl7dHJ5e3JldHVybiBwLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG0pfWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiB3KGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dFtlLmJpZElkXT1mdW5jdGlvbihlKXt2YXIgdD0obD1lLnNpemVzLHA9ZS5tZWRpYVR5cGVzLGwuY29uY2F0KE9iamVjdChpLmRlZXBBY2Nlc3MpKHAsIiIuY29uY2F0KGMuYiwiLnNpemVzIiksW10pfHxbXSkuY29uY2F0KE9iamVjdChpLmRlZXBBY2Nlc3MpKHAsIiIuY29uY2F0KGMuZCwiLnNpemVzIiksW10pfHxbXSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdFswXSp0WzFdLWVbMF0qZVsxXX0pKVswXXx8WzAsMF0pLG49ZS5tZWRpYVR5cGU9PT1jLmR8fGMuZCBpbiBlLm1lZGlhVHlwZXMscj1ufHx0WzFdPjEwMCxvPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50YWdJZCIpLGE9bnVsbCE9ZS5wYXJhbXMmJiJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMuYWRVbml0SWQ/ZS5wYXJhbXMuYWRVbml0SWQ6ZS5hZFVuaXRDb2RlLHU9W2Uuc2l6ZXMsT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmIsIi5zaXplcyIpLFtdKXx8W10sT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmQsIi5zaXplcyIpLFtdKXx8W11dLHM9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmQpLHt9KXx8e30sZD17YXU6YSxhdjpyLHZkOnMsdnI6bixtczp1LGF3OnRbMF0sYWg6dFsxXSx0ZjowLHNjOmUuc2NoYWlufHx7fSxmOkkoQyhlKSl9O3ZhciBsLHA7InN0cmluZyI9PXR5cGVvZiBvJiZvLmxlbmd0aD4wJiYoZC5pPW8pO3JldHVybiBkfShlKX0pKSx0fXZhciBBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChpLnRyaWdnZXJQaXhlbCkoIiIuY29uY2F0KCJodHRwczovLzF4MS5hLW1vLm5ldC9oYngvIiwiZ18iKS5jb25jYXQoZSwiPyIpLmNvbmNhdChPYmplY3QoaS5mb3JtYXRRUykocyhzKHt9LHQpLHt9LHt0czpEYXRlLm5vdygpLGVpZDpPYmplY3QoaS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpfSkpKSl9O2Z1bmN0aW9uIEkoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmZT4wP2U6MH1mdW5jdGlvbiBDKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLmZsb29yIiwwKTt0cnl7cmV0dXJuIGUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiIsYmlkUmVxdWVzdDplfSkuZmxvb3J9Y2F0Y2goZSl7cmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiY2FsbCB0byBnZXRGbG9vciBmYWlsZWQ6ICIsZSksMH19dmFyIFM9e2NvZGU6ImFteCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLmVuZHBvaW50IixudWxsKSwic3RyaW5nIikmJk8oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnRhZ0lkIixudWxsKSwic3RyaW5nIil9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWZlcmVySW5mbztpZihudWxsPT10KXJldHVybiBPYmplY3QoaS5wYXJzZVVybCkobG9jYXRpb24uaHJlZik7aWYodC5pc0FtcCYmbnVsbCE9dC5yZWZlcmVyKXJldHVybiBPYmplY3QoaS5wYXJzZVVybCkodC5yZWZlcmVyKTt2YXIgbj10Lm51bUlmcmFtZXM+MCYmbnVsbCE9dC5zdGFja1swXT90LnN0YWNrWzBdOmxvY2F0aW9uLmhyZWY7cmV0dXJuIE9iamVjdChpLnBhcnNlVXJsKShuKX0odCksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMudGFnSWQiLG51bGwpLHU9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLnRlc3RNb2RlIiwwKSxzPW51bGwhPWVbMF0/ZVswXTp7YmlkZGVyUmVxdWVzdHNDb3VudDowLGJpZGRlcldpbnNDb3VudDowLGJpZFJlcXVlc3RzQ291bnQ6MH07cmV0dXJue2RhdGE6e2E6dC5hdWN0aW9uSWQsQjowLGI6Yy5ob3N0LGJyYzpzLmJpZGRlclJlcXVlc3RzQ291bnR8fDAsYndjOnMuYmlkZGVyV2luc0NvdW50fHwwLHRyYzpzLmJpZFJlcXVlc3RzQ291bnR8fDAsdG06KHI9dSwhMD09PXJ8fDE9PT1yfHwidHJ1ZSI9PT1yKSxWOiI1LjIwLjIiLHZnOiJ1cGJqcyIsaTp1JiZudWxsIT1hP2E6eShjKSxsOnt9LGY6LjAxLGN2OiJwYmExLjMuMSIsc3Q6InByZWJpZCIsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGdzOk9iamVjdChpLmRlZXBBY2Nlc3MpKHQsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIiwiIiksZ2M6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyIsIiIpLHU6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwicmVmZXJlckluZm8uY2Fub25pY2FsVXJsIixjLmhyZWYpLGRvOmMuaG9zdG5hbWUscmU6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwicmVmZXJlckluZm8ucmVmZXJlciIpLGFtOnYoKSx1c3A6dC51c3BDb25zZW50fHwiMS0tLSIsc210OjEsZDoiIixtOncoZSksY3BwOm8uYi5nZXRDb25maWcoImNvcHBhIik/MTowLGZwZDI6by5iLmdldENvbmZpZygib3J0YjIiKSx0bWF4Om8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxlaWRzOihuPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT10fHxudWxsPT10LnVzZXJJZEFzRWlkc3x8T2JqZWN0KGkuX2VhY2gpKHQudXNlcklkQXNFaWRzLChmdW5jdGlvbih0KXtudWxsIT10JiYoZVt0LnNvdXJjZV09dCl9KSksZX0pLHt9KSxudWxsIT1PYmplY3QudmFsdWVzP09iamVjdC52YWx1ZXMobik6T2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKSl9LG1ldGhvZDoiUE9TVCIsdXJsOk9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5lbmRwb2ludCIsImh0dHBzOi8vcHJlYmlkLmEtbW8ubmV0L2EvYyIpLHdpdGhDcmVkZW50aWFsczohMH19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe2lmKG51bGw9PXR8fDA9PT10Lmxlbmd0aClyZXR1cm5bXTt2YXIgbj1bXTtyZXR1cm4gT2JqZWN0KGkuX2VhY2gpKHQsKGZ1bmN0aW9uKHQpe3ZhciByPXQuYm9keTtudWxsIT1yJiZudWxsIT1yLnAmJnIucC5ocmVxJiZPYmplY3QoaS5fZWFjaCkoci5wLmhyZXEsKGZ1bmN0aW9uKHQpe3ZhciByPS0xIT09dC5pbmRleE9mKCJfX3N0PWlmcmFtZSIpPyJpZnJhbWUiOiJpbWFnZSI7KGUuaWZyYW1lRW5hYmxlZHx8ImltYWdlIj09PXIpJiZuLnB1c2goe3VybDp0LHR5cGU6cn0pfSkpfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5ib2R5O3JldHVybiBudWxsPT1ufHwic3RyaW5nIj09dHlwZW9mIG4/W106KG4uYW0mJiJzdHJpbmciPT10eXBlb2Ygbi5hbSYmZnVuY3Rpb24oZSl7dHJ5e3Auc2V0RGF0YUluTG9jYWxTdG9yYWdlKG0sZSl9Y2F0Y2goZSl7fX0obi5hbSksZyhPYmplY3Qua2V5cyhuLnIpLChmdW5jdGlvbihlKXtyZXR1cm4gZyhuLnJbZV0sKGZ1bmN0aW9uKG4pe3JldHVybiBuLmIubWFwKChmdW5jdGlvbihuKXt2YXIgcixvPWgobiksYT1vPT09Yy5iP2Z1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5oaW1wIixbXSkuY29uY2F0KG51bGwhPWUubnVybD9bZS5udXJsXTpbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZS5sZW5ndGg+MH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybic8aW1nIHNyYz0iJy5jb25jYXQoZSwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIi8+Jyl9KSkuam9pbigiIik7cmV0dXJuIGUuYWRtK3R9KG4pOm4uYWRtO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGwhPWUudyYmZS53PjEmJm51bGwhPWUuaCYmZS5oPjEpcmV0dXJuW2UudyxlLmhdO3ZhciByPXQubVtuXTtyZXR1cm4gbnVsbD09cj9bMCwwXTpbci5hdyxyLmFoXX0obix0LmRhdGEsZSkscz1vPT09Yy5iPzI0MDozMDA7cmV0dXJuIGQocj17cmVxdWVzdElkOmUsY3BtOm4ucHJpY2Usd2lkdGg6dVswXSxoZWlnaHQ6dVsxXSxjcmVhdGl2ZUlkOm4uY3JpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwfSxvPT09Yy5kPyJ2YXN0WG1sIjoiYWQiLGEpLGQociwibWV0YSIse2FkdmVydGlzZXJEb21haW5zOm4uYWRvbWFpbixtZWRpYVR5cGU6b30pLGQociwibWVkaWFUeXBlIixvKSxkKHIsInR0bCIsIm51bWJlciI9PXR5cGVvZiBuLmV4cD9uLmV4cDpzKSxyfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWV9KSl9KSkpfSxvblNldFRhcmdldGluZzpmdW5jdGlvbihlKXt2YXIgdCxuO251bGwhPWUmJkEoInBic3QiLHtBOmUuYmlkZGVyLHc6ZS53aWR0aCxoOmUuaGVpZ2h0LGJpZDplLmFkSWQsYzE6ZS5tZWRpYVR5cGUsbnA6ZS5jcG0sYXVkOmUucmVxdWVzdElkLGE6ZS5hZFVuaXRDb2RlLGMyOih0PWUuYWRzZXJ2ZXJUYXJnZXRpbmcsbj1bXSxPYmplY3Qua2V5cyh0fHx7fSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wdXNoKGooZSkrIj0iK2ooU3RyaW5nKHRbZV0pKSl9KSksaihuLmpvaW4oIiYiKSkpfSl9LG9uVGltZW91dDpmdW5jdGlvbihlKXtudWxsIT1lJiZBKCJwYnRvIix7QTplLmJpZGRlcixiaWQ6ZS5iaWRJZCxhOmUuYWRVbml0Q29kZSxjbjplLnRpbWVvdXQsYXVkOmUuYXVjdGlvbklkfSl9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe251bGwhPWUmJkEoInBid2luIix7QTplLmJpZGRlcix3OmUud2lkdGgsaDplLmhlaWdodCxiaWQ6ZS5hZElkLEM6ZS5tZWRpYVR5cGU9PT1jLmI/MDoxLG5wOmUuY3BtLGE6ZS5hZFVuaXRDb2RlfSl9fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoUyl9fSxbMjczXSk7CnVwYmpzQ2h1bmsoWzMzNl0sezI3OTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMjgwKX0sMjgwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcX0pKTt2YXIgbixpLGEsbz1yKDApLHM9cigxKSxjPXIoMik7ZnVuY3Rpb24gdSgpe3JldHVybih1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gdHx8KHQ9ZS5zbGljZSgwKSksT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfXZhciBsPSJhb2wiLG09InZlcml6b24iLGY9Im9uZW1vYmlsZSIsYj0ib25lZGlzcGxheSIsaD17R0VUOiJkaXNwbGF5LWdldCJ9LHY9e0dFVDoibW9iaWxlLWdldCIsUE9TVDoibW9iaWxlLXBvc3QifSxnPXtUQUc6ImlmcmFtZSIsVFlQRToiaWZyYW1lIn0seT17VEFHOiJpbWciLFRZUEU6ImltYWdlIn0sTz1bImFkc2VydmVyLm9yZyIsImNyaXRlby5jb20iLCJpZDUtc3luYy5jb20iLCJpbnRlbnRpcS5jb20iLCJsaXZlaW50ZW50LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ2ZXJpem9ubWVkaWEuY29tIiwibGl2ZXJhbXAuY29tIiwieWFob28uY29tIl0sUD1DKG58fChuPXAoWyIiLCIvcHViYXBpLzMuMC8iLCIvIiwiLyIsIi8iLCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPSIsIjttaXNjPSIsIjsiLCIiXSkpLCJob3N0IiwibmV0d29yayIsInBsYWNlbWVudCIsInBhZ2VpZCIsInNpemVpZCIsImFsaWFzIiwibWlzYyIsImR5bmFtaWNQYXJhbXMiKSxqPUMoaXx8KGk9cChbIiIsIi9iaWRSZXF1ZXN0PyJdKSksImhvc3QiKSxFPUMoYXx8KGE9cChbImRjbj0iLCImcG9zPSIsIiZjbWQ9YmlkIiwiIl0pKSwiZGNuIiwicG9zIiwiZHluYW1pY1BhcmFtcyIpLFM9e3VzOiJhZHNlcnZlci11cy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixldToiYWRzZXJ2ZXItZXUuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsYXM6ImFkc2VydmVyLWFzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20ifSxUPSJodHRwcyIseD0xO2Z1bmN0aW9uIEMoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylyW24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09YXJndW1lbnRzW2ldO3ZhciBhPW5bbi5sZW5ndGgtMV18fHt9LHM9W2VbMF1dO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIGk9T2JqZWN0KG8uaXNJbnRlZ2VyKSh0KT9uW3RdOmFbdF07cy5wdXNoKGksZVtyKzFdKX0pKSxzLmpvaW4oIiIpfX1mdW5jdGlvbiBJKGUpe3JldHVybiBlPT09bHx8ZT09PW18fGU9PT1mfWZ1bmN0aW9uIFIoZSl7aWYoSShlLmJpZGRlcikmJmUucGFyYW1zLmlkJiZlLnBhcmFtcy5pbXAmJmUucGFyYW1zLmltcFswXSl7dmFyIHQ9ZS5wYXJhbXMuaW1wWzBdO3JldHVybiB0LmlkJiZ0LnRhZ2lkJiZ0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaH19ZnVuY3Rpb24gdyhlKXtyZXR1cm4gSShlLmJpZGRlcikmJmUucGFyYW1zLmRjbiYmZS5wYXJhbXMucG9zfWZ1bmN0aW9uIFUoZSl7cmV0dXJuKCh0PWUuYmlkZGVyKT09PWx8fHQ9PT1tfHx0PT09YikmJmUucGFyYW1zLnBsYWNlbWVudCYmZS5wYXJhbXMubmV0d29yazt2YXIgdH1mdW5jdGlvbiBrKGUpe3JldHVybiBlLnVzZXJJZEFzRWlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09Ty5pbmRleE9mKGUuc291cmNlKX0pKX12YXIgcT17Y29kZTpsLGd2bGlkOjI1LGFsaWFzZXM6W2YsYixtXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBVKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gdyhlKXx8UihlKX0oZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e307cmV0dXJuIHQmJihuLmdkcHI9dC5nZHByQ29uc2VudCxuLnVzcENvbnNlbnQ9dC51c3BDb25zZW50KSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk/di5HRVQ6UihlKT92LlBPU1Q6VShlKT9oLkdFVDp2b2lkIDB9KGUpO2lmKHQpcmV0dXJuIHIuZm9ybWF0QmlkUmVxdWVzdCh0LGUsbil9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5O2lmKHIpe3ZhciBuPXRoaXMuX3BhcnNlQmlkUmVzcG9uc2Uocix0KTtpZihuKXJldHVybiBufWVsc2UgT2JqZWN0KG8ubG9nRXJyb3IpKCJFbXB0eSBiaWQgcmVzcG9uc2UiLHQuYmlkZGVyQ29kZSxyKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IU9iamVjdChvLmlzRW1wdHkpKHQpJiZ0WzBdLmJvZHk7cmV0dXJuIHImJnIuZXh0JiZyLmV4dC5waXhlbHM/dGhpcy5wYXJzZVBpeGVsSXRlbXMoci5leHQucGl4ZWxzKTpbXX0sZm9ybWF0QmlkUmVxdWVzdDpmdW5jdGlvbihlLHQscil7dmFyIG47c3dpdGNoKGUpe2Nhc2UgaC5HRVQ6bj17dXJsOnRoaXMuYnVpbGRNYXJrZXRwbGFjZVVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6NjB9O2JyZWFrO2Nhc2Ugdi5HRVQ6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVHZXRVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjM2MDB9O2JyZWFrO2Nhc2Ugdi5QT1NUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybCh0KSxtZXRob2Q6IlBPU1QiLHR0bDozNjAwLGRhdGE6dGhpcy5idWlsZE9wZW5SdGJSZXF1ZXN0RGF0YSh0LHIpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjIifX19fXJldHVybiBuLmJpZGRlckNvZGU9dC5iaWRkZXIsbi5iaWRJZD10LmJpZElkLG4udXNlclN5bmNPbj10LnBhcmFtcy51c2VyU3luY09uLG59LGJ1aWxkTWFya2V0cGxhY2VVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPWUucGFyYW1zLGk9bi5zZXJ2ZXIsYT1uLnJlZ2lvbnx8InVzIjtyZXR1cm4gUy5oYXNPd25Qcm9wZXJ0eShhKXx8KE9iamVjdChvLmxvZ1dhcm4pKCJVbmtub3duIHJlZ2lvbiAnIi5jb25jYXQoYSwiJyBmb3IgQU9MIGJpZGRlci4iKSksYT0idXMiKSxyPWl8fFNbYV0sbi5yZWdpb249YSx0aGlzLmFwcGx5UHJvdG9jb2woUCh7aG9zdDpyLG5ldHdvcms6bi5uZXR3b3JrLHBsYWNlbWVudDpwYXJzZUludChuLnBsYWNlbWVudCkscGFnZWlkOm4ucGFnZUlkfHwwLHNpemVpZDpuLnNpemVJZHx8MCxhbGlhczpuLmFsaWFzfHxPYmplY3Qoby5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLG1pc2M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZHluYW1pY1BhcmFtczp0aGlzLmZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtcyhuLHQpfSkpfSxidWlsZE9uZU1vYmlsZUdldFVybDpmdW5jdGlvbihlLHQpe3ZhciByPWUucGFyYW1zLG49ci5kY24saT1yLnBvcyxhPXIuZXh0OyJvYmplY3QiPT09ZChlLnVzZXJJZCkmJihhPWF8fHt9LGsoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YVsiZWlkIitlLnNvdXJjZV09ZS51aWRzWzBdLmlkfSkpKTt2YXIgbz10aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybChlKTtpZihuJiZpKXt2YXIgcz10aGlzLmZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXMoYSx0KTtvKz1FKHtkY246bixwb3M6aSxkeW5hbWljUGFyYW1zOnN9KX1yZXR1cm4gb30sYnVpbGRPbmVNb2JpbGVCYXNlVXJsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5UHJvdG9jb2woaih7aG9zdDplLnBhcmFtcy5ob3N0fHwiYzJzaGIuc3NwLnlhaG9vLmNvbSJ9KSl9LGFwcGx5UHJvdG9jb2w6ZnVuY3Rpb24oZSl7cmV0dXJuL15odHRwcz86XC9cLy9pLnRlc3QoZSk/ZTowPT09ZS5pbmRleE9mKCIvLyIpPyIiLmNvbmNhdChULCI6IikuY29uY2F0KGUpOiIiLmNvbmNhdChULCI6Ly8iKS5jb25jYXQoZSl9LGZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXt9O3Uocix0aGlzLmZvcm1hdEtleVZhbHVlcyhlLmtleVZhbHVlcykpLHUocix0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgbj0iIjtyZXR1cm4gT2JqZWN0KG8uX2VhY2gpKHIsKGZ1bmN0aW9uKGUsdCl7bis9IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpLCI7Iil9KSksbn0sZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmlzU2VjdXJlUHJvdG9jb2woKSYmKGUuc2VjdXJlPXgpLHUoZSx0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgcj0iIjtyZXR1cm4gT2JqZWN0KG8uX2VhY2gpKGUsKGZ1bmN0aW9uKGUsdCl7cis9IiYiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSl9KSkscn0sYnVpbGRPcGVuUnRiUmVxdWVzdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e2lkOmUucGFyYW1zLmlkLGltcDplLnBhcmFtcy5pbXB9O2lmKHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZCh0KSYmKE9iamVjdChvLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQuZ2RwciIseCksdC5nZHByLmNvbnNlbnRTdHJpbmcmJk9iamVjdChvLmRlZXBTZXRWYWx1ZSkociwidXNlci5leHQuY29uc2VudCIsdC5nZHByLmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJk9iamVjdChvLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSwib2JqZWN0Ij09PWQoZS51c2VySWQpKXtyLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIuZXh0PXIudXNlci5leHR8fHt9O3ZhciBuPWsoZSk7bi5sZW5ndGg+MCYmKHIudXNlci5leHQuZWlkcz1uKX1yZXR1cm4gcn0saXNFVUNvbnNlbnRSZXF1aXJlZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmdkcHImJmUuZ2Rwci5nZHByQXBwbGllcyl9LGZvcm1hdEtleVZhbHVlczpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0KG8uX2VhY2gpKGUsKGZ1bmN0aW9uKGUscil7dFsia3YiLmNvbmNhdChyKV09ZX0pKSx0fSxmb3JtYXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5pc0VVQ29uc2VudFJlcXVpcmVkKGUpJiYodC5nZHByPXgsZS5nZHByLmNvbnNlbnRTdHJpbmcmJih0LmV1Y29uc2VudD1lLmdkcHIuY29uc2VudFN0cmluZykpLGUudXNwQ29uc2VudCYmKHQudXNfcHJpdmFjeT1lLnVzcENvbnNlbnQpLHR9LHBhcnNlUGl4ZWxJdGVtczpmdW5jdGlvbihlKXt2YXIgdD0vXHcqKD89XHMpLyxyPS9zcmM9KCJ8JykoLio/KVwxLyxuPVtdO2lmKGUpe3ZhciBpPWUubWF0Y2goLyhpbWd8aWZyYW1lKVtcc1xTXSo/c3JjXHMqPVxzKigifCcpKC4qPylcMi9naSk7aSYmaS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLm1hdGNoKHQpWzBdLGE9ZS5tYXRjaChyKVsyXTtpJiZhJiZuLnB1c2goe3R5cGU6aT09PXkuVEFHP3kuVFlQRTpnLlRZUEUsdXJsOmF9KX0pKX1yZXR1cm4gbn0sX3BhcnNlQmlkUmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixuO3RyeXtyPWUuc2VhdGJpZFswXS5iaWRbMF19Y2F0Y2goZSl7cmV0dXJufWlmKHIuZXh0JiZyLmV4dC5lbmNwKW49ci5leHQuZW5jcDtlbHNlIGlmKG51bGw9PT0obj1yLnByaWNlKXx8aXNOYU4obikpcmV0dXJuIHZvaWQgT2JqZWN0KG8ubG9nRXJyb3IpKCJJbnZhbGlkIHByaWNlIGluIGJpZCByZXNwb25zZSIsbCxyKTtyZXR1cm57YmlkZGVyQ29kZTp0LmJpZGRlckNvZGUscmVxdWVzdElkOnQuYmlkSWQsYWQ6ci5hZG0sY3BtOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsY3JlYXRpdmVJZDpyLmNyaWR8fDAscHViYXBpSWQ6ZS5pZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsZGVhbElkOnIuZGVhbGlkLG5ldFJldmVudWU6ITAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ciYmci5hZG9tYWluP3IuYWRvbWFpbjpbXX0sdHRsOnQudHRsfX0saXNPbmVNb2JpbGVCaWRkZXI6SSxpc1NlY3VyZVByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19O09iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShxKX19LFsyNzldKTsKdXBianNDaHVuayhbMzMzXSx7Mjg5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyOTApfSwyOTA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBFfSkpO3ZhciBhPXQoMCksbj10KDEzKSxpPXQoMykscz10KDEpLG89dCgyKSxkPXQoMjMpLGM9dCgxMSkscD10Lm4oYyksdT10KDEyKSxsPXQubih1KSxtPXQoMjIpLGY9dCg3KTtmdW5jdGlvbiBiKGUpe3JldHVybihiPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdigpe3JldHVybih2PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKGVbYV09dFthXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gZyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsYT1uZXcgQXJyYXkocik7dDxyO3QrKylhW3RdPWVbdF07cmV0dXJuIGF9dmFyIGg9ImFwcG5leHVzIixfPSJodHRwczovL2liLmFkbnhzLmNvbS91dC92My9wcmViaWQiLGs9Imh0dHBzOi8vaWIuYWRueHMtc2ltcGxlLmNvbS91dC92My9wcmViaWQiLE89WyJpZCIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwcGFibGUiLCJwbGF5YmFja19tZXRob2QiLCJmcmFtZXdvcmtzIiwiY29udGV4dCIsInNraXBvZmZzZXQiXSxqPVsibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInNraXAiLCJza2lwYWZ0ZXIiLCJwbGF5YmFja21ldGhvZCIsImFwaSJdLEk9WyJhZ2UiLCJleHRlcm5hbFVpZCIsInNlZ21lbnRzIiwiZ2VuZGVyIiwiZG50IiwibGFuZ3VhZ2UiXSxBPVsiZ2VvIiwiZGV2aWNlX2lkIl0sdz1bImVuYWJsZWQiLCJkb25nbGUiLCJtZW1iZXJfaWQiLCJkZWJ1Z190aW1lb3V0Il0seD17cGxheWJhY2tfbWV0aG9kOnt1bmtub3duOjAsYXV0b19wbGF5X3NvdW5kX29uOjEsYXV0b19wbGF5X3NvdW5kX29mZjoyLGNsaWNrX3RvX3BsYXk6Myxtb3VzZV9vdmVyOjQsYXV0b19wbGF5X3NvdW5kX3Vua25vd246NX0sY29udGV4dDp7dW5rbm93bjowLHByZV9yb2xsOjEsbWlkX3JvbGw6Mixwb3N0X3JvbGw6MyxvdXRzdHJlYW06NCwiaW4tYmFubmVyIjo1fX0sQz17Ym9keToiZGVzY3JpcHRpb24iLGJvZHkyOiJkZXNjMiIsY3RhOiJjdGF0ZXh0IixpbWFnZTp7c2VydmVyTmFtZToibWFpbl9pbWFnZSIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0saWNvbjp7c2VydmVyTmFtZToiaWNvbiIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0sc3BvbnNvcmVkQnk6InNwb25zb3JlZF9ieSIscHJpdmFjeUxpbms6InByaXZhY3lfbGluayIsc2FsZVByaWNlOiJzYWxlcHJpY2UiLGRpc3BsYXlVcmw6ImRpc3BsYXl1cmwifSxTPS9cL1wvY2RuXC5hZG54c1wuY29tXC92fFwvXC9jZG5cLmFkbnhzXC1zaW1wbGVcLmNvbVwvdi8sVD1PYmplY3QoZi5iKSgzMixoKSxFPXtjb2RlOmgsZ3ZsaWQ6MzIsYWxpYXNlczpbe2NvZGU6ImFwcG5leHVzQXN0IixndmxpZDozMn0se2NvZGU6ImJyZWFsdGltZSJ9LHtjb2RlOiJlbXhkaWdpdGFsIixndmxpZDoxODN9LHtjb2RlOiJwYWdlc2NpZW5jZSJ9LHtjb2RlOiJkZWZ5bWVkaWEifSx7Y29kZToiZ291cm1ldGFkcyJ9LHtjb2RlOiJtYXRvbXkifSx7Y29kZToiZmVhdHVyZWZvcndhcmQifSx7Y29kZToib2Z0bWVkaWEifSx7Y29kZToiZGlzdHJpY3RtIixndmxpZDoxNDR9LHtjb2RlOiJhZGFzdGEifSx7Y29kZToiYmVpbnRvbyIsZ3ZsaWQ6NjE4fSx7Y29kZToidGFyZ2V0VmlkZW8ifV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uZCxvLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5tZW1iZXImJmUucGFyYW1zLmludkNvZGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5tYXAocSksbj1wKCkoZSxNKSxzPXt9OyEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKSYmKHM9e2NvcHBhOiEwfSksbiYmT2JqZWN0LmtleXMobi5wYXJhbXMudXNlcikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKEksZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGEuY29udmVydENhbWVsVG9VbmRlcnNjb3JlKShlKTtpZigic2VnbWVudHMiPT09ZSYmT2JqZWN0KGEuaXNBcnJheSkobi5wYXJhbXMudXNlcltlXSkpe3ZhciB0PVtdO24ucGFyYW1zLnVzZXJbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KGEuaXNOdW1iZXIpKGUpP3QucHVzaCh7aWQ6ZX0pOk9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUpJiZ0LnB1c2goZSl9KSksc1tyXT10fWVsc2Uic2VnbWVudHMiIT09ZSYmKHNbcl09bi5wYXJhbXMudXNlcltlXSl9KSk7dmFyIG8sZD1wKCkoZSxCKTtkJiZkLnBhcmFtcyYmZC5wYXJhbXMuYXBwJiYobz17fSxPYmplY3Qua2V5cyhkLnBhcmFtcy5hcHApLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShBLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBvW2VdPWQucGFyYW1zLmFwcFtlXX0pKSk7dmFyIGMsdT1wKCkoZSxWKTt1JiZ1LnBhcmFtcyYmZC5wYXJhbXMuYXBwJiZkLnBhcmFtcy5hcHAuaWQmJihjPXthcHBpZDp1LnBhcmFtcy5hcHAuaWR9KTt2YXIgbT17fSxmPXt9LGI9VC5nZXRDb29raWUoImFwbl9wcmViaWRfZGVidWciKXx8bnVsbDtpZihiKXRyeXttPUpTT04ucGFyc2UoYil9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIENvb2tpZSBFcnJvcjpcblxuIitlKX1lbHNle3ZhciB2PXAoKShlLEYpO3YmJnYuZGVidWcmJihtPXYuZGVidWcpfW0mJm0uZW5hYmxlZCYmT2JqZWN0LmtleXMobSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKHcsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZltlXT1tW2VdfSkpO3ZhciBnPXAoKShlLEQpLGg9Zz9wYXJzZUludChnLnBhcmFtcy5tZW1iZXIsMTApOjAsTz1lWzBdLnNjaGFpbixqPXAoKShlLFcpLHg9e3RhZ3M6eSh0KSx1c2VyOnMsc2RrOntzb3VyY2U6InBianMiLHZlcnNpb246IjUuMjAuMiJ9LHNjaGFpbjpPfTtpZihqJiYoeC5pYWJfc3VwcG9ydD17b21pZHBuOiJBcHBuZXh1cyIsb21pZHB2OiI1LjIwLjIifSksaD4wJiYoeC5tZW1iZXJfaWQ9aCksZCYmKHguZGV2aWNlPW8pLHUmJih4LmFwcD1jKSxpLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikmJih4LmJyYW5kX2NhdGVnb3J5X3VuaXF1ZW5lc3M9ITApLGYuZW5hYmxlZCYmKHguZGVidWc9ZixPYmplY3QoYS5sb2dJbmZvKSgiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBTZXR0aW5nczpcblxuIitKU09OLnN0cmluZ2lmeShmLG51bGwsNCkpKSxyJiZyLmdkcHJDb25zZW50JiYoeC5nZHByX2NvbnNlbnQ9e2NvbnNlbnRfc3RyaW5nOnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50X3JlcXVpcmVkOnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9LHIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYtMSE9PXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LmluZGV4T2YoIn4iKSkpe3ZhciBDPXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LFM9Qy5zdWJzdHJpbmcoQy5pbmRleE9mKCJ+IikrMSk7eC5nZHByX2NvbnNlbnQuYWRkdGxfY29uc2VudD1TLnNwbGl0KCIuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KSl9aWYociYmci51c3BDb25zZW50JiYoeC51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyl7dmFyIEU9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpLmpvaW4oIiwiKX07eC5yZWZlcnJlcl9kZXRlY3Rpb249RX1pZihwKCkoZSxKKSYmZS5maWx0ZXIoSikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLm1lZGlhVHlwZXMudmlkZW8sbj10LmR1cmF0aW9uUmFuZ2VTZWMsaT10LnJlcXVpcmVFeGFjdER1cmF0aW9uLHM9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFBvZER1cmF0aW9uU2VjLHQ9ZS5kdXJhdGlvblJhbmdlU2VjLG49ZS5yZXF1aXJlRXhhY3REdXJhdGlvbixpPU9iamVjdChhLmdldE1pblZhbHVlRnJvbUFycmF5KSh0KSxzPU1hdGguZmxvb3Ioci9pKTtyZXR1cm4gbj9NYXRoLm1heChzLHQubGVuZ3RoKTpzfShyLm1lZGlhVHlwZXMudmlkZW8pLG89T2JqZWN0KGEuZ2V0TWF4VmFsdWVGcm9tQXJyYXkpKG4pLGQ9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQ9PT1yLmJpZElkfSkpLGM9YS5maWxsLmFwcGx5KHZvaWQgMCx5KGQpLmNvbmNhdChbc10pKTtpZihpKXt2YXIgcD1NYXRoLmNlaWwocy9uLmxlbmd0aCksdT1PYmplY3QoYS5jaHVuaykoYyxwKTtuLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dVtyXS5tYXAoKGZ1bmN0aW9uKHIpe0gociwibWluZHVyYXRpb24iLGUpLEgociwibWF4ZHVyYXRpb24iLGUpfSkpfSkpfWVsc2UgYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBIKGUsIm1heGR1cmF0aW9uIixvKX0pKTtyZXR1cm4gY30odCxlKSxuPXgudGFncy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnV1aWQhPT1lLmJpZElkfSkpO3gudGFncz1bXS5jb25jYXQoeShuKSx5KHIpKX0pKSxlWzBdLnVzZXJJZCl7dmFyIFI9W107SyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5mbG9jSWQuaWQiKSwiY2hyb21lLmNvbSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmlkbF9lbnYiKSwibGl2ZXJhbXAuY29tIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQudWlkMi5pZCIpLCJ1aWRhcGkuY29tIiwiVUlEMiIpLFIubGVuZ3RoJiYoeC5laWRzPVIpfXJldHVybiB0WzBdLnB1Ymxpc2hlcl9pZCYmKHgucHVibGlzaGVyX2lkPXRbMF0ucHVibGlzaGVyX2lkKSxmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e3dpdGhDcmVkZW50aWFsczohMH0scz1fO04ocil8fChzPWspOyJUUlVFIiE9PU9iamVjdChhLmdldFBhcmFtZXRlckJ5TmFtZSkoImFwbl90ZXN0IikudG9VcHBlckNhc2UoKSYmITAhPT1pLmIuZ2V0Q29uZmlnKCJhcG5fdGVzdCIpfHwobi5jdXN0b21IZWFkZXJzPXsiWC1Jcy1UZXN0IjoxfSk7aWYoZS50YWdzLmxlbmd0aD4xNSl7dmFyIG89T2JqZWN0KGEuZGVlcENsb25lKShlKTtPYmplY3QoYS5jaHVuaykoZS50YWdzLDE1KS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLnRhZ3M9ZTt2YXIgYT1KU09OLnN0cmluZ2lmeShvKTt0LnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOnMsZGF0YTphLGJpZGRlclJlcXVlc3Q6cixvcHRpb25zOm59KX0pKX1lbHNle3ZhciBkPUpTT04uc3RyaW5naWZ5KGUpO3Q9e21ldGhvZDoiUE9TVCIsdXJsOnMsZGF0YTpkLGJpZGRlclJlcXVlc3Q6cixvcHRpb25zOm59fXJldHVybiB0fSh4LHIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXRoaXMsaT1yLmJpZGRlclJlcXVlc3Q7ZT1lLmJvZHk7dmFyIGQ9W107aWYoIWV8fGUuZXJyb3Ipe3ZhciBjPSJpbiByZXNwb25zZSBmb3IgIi5jb25jYXQoaS5iaWRkZXJDb2RlLCIgYWRhcHRlciIpO3JldHVybiBlJiZlLmVycm9yJiYoYys9IjogIi5jb25jYXQoZS5lcnJvcikpLE9iamVjdChhLmxvZ0Vycm9yKShjKSxkfWlmKGUudGFncyYmZS50YWdzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByLGM9KHI9ZSkmJnIuYWRzJiZyLmFkcy5sZW5ndGgmJnAoKShyLmFkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRifSkpO2lmKGMmJjAhPT1jLmNwbSYmbCgpKHQuc3VwcG9ydGVkTWVkaWFUeXBlcyxjLmFkX3R5cGUpKXt2YXIgdT1mdW5jdGlvbihlLHIsdCl7dmFyIGk9T2JqZWN0KGEuZ2V0QmlkUmVxdWVzdCkoZS51dWlkLFt0XSksZD17cmVxdWVzdElkOmUudXVpZCxjcG06ci5jcG0sY3JlYXRpdmVJZDpyLmNyZWF0aXZlX2lkLGRlYWxJZDpyLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkVW5pdENvZGU6aS5hZFVuaXRDb2RlLGFwcG5leHVzOntidXllck1lbWJlcklkOnIuYnV5ZXJfbWVtYmVyX2lkLGRlYWxQcmlvcml0eTpyLmRlYWxfcHJpb3JpdHksZGVhbENvZGU6ci5kZWFsX2NvZGV9fTtyLmFkb21haW4mJihkLm1ldGE9dih7fSxkLm1ldGEse2FkdmVydGlzZXJEb21haW5zOltdfSkpO3IuYWR2ZXJ0aXNlcl9pZCYmKGQubWV0YT12KHt9LGQubWV0YSx7YWR2ZXJ0aXNlcklkOnIuYWR2ZXJ0aXNlcl9pZH0pKTtyLmJyYW5kX2lkJiYoZC5tZXRhPXYoe30sZC5tZXRhLHticmFuZElkOnIuYnJhbmRfaWR9KSk7aWYoci5ydGIudmlkZW8pe3N3aXRjaCh2KGQse3dpZHRoOnIucnRiLnZpZGVvLnBsYXllcl93aWR0aCxoZWlnaHQ6ci5ydGIudmlkZW8ucGxheWVyX2hlaWdodCx2YXN0SW1wVXJsOnIubm90aWZ5X3VybCx0dGw6MzYwMH0pLE9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXtjYXNlIG8uYTp2YXIgYz1PYmplY3Qocy5nZXRJYWJTdWJDYXRlZ29yeSkoaS5iaWRkZXIsci5icmFuZF9jYXRlZ29yeV9pZCk7ZC5tZXRhPXYoe30sZC5tZXRhLHtwcmltYXJ5Q2F0SWQ6Y30pO3ZhciB1PXIuZGVhbF9wcmlvcml0eTtkLnZpZGVvPXtjb250ZXh0Om8uYSxkdXJhdGlvblNlY29uZHM6TWF0aC5mbG9vcihyLnJ0Yi52aWRlby5kdXJhdGlvbl9tcy8xZTMpLGRlYWxUaWVyOnV9LGQudmFzdFVybD1yLnJ0Yi52aWRlby5hc3NldF91cmw7YnJlYWs7Y2FzZSBtLmI6aWYoZC5hZFJlc3BvbnNlPWUsZC5hZFJlc3BvbnNlLmFkPWQuYWRSZXNwb25zZS5hZHNbMF0sZC5hZFJlc3BvbnNlLmFkLnZpZGVvPWQuYWRSZXNwb25zZS5hZC5ydGIudmlkZW8sZC52YXN0WG1sPXIucnRiLnZpZGVvLmNvbnRlbnQsci5yZW5kZXJlcl91cmwpe3ZhciBsPXAoKSh0LmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZS51dWlkfSkpLGY9T2JqZWN0KGEuZGVlcEFjY2VzcykobCwicmVuZGVyZXIub3B0aW9ucyIpO2QucmVuZGVyZXI9ZnVuY3Rpb24oZSxyKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30saT1uLmEuaW5zdGFsbCh7aWQ6ci5yZW5kZXJlcl9pZCx1cmw6ci5yZW5kZXJlcl91cmwsY29uZmlnOnQsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXtpLnNldFJlbmRlcihMKX1jYXRjaChlKXtPYmplY3QoYS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaS5zZXRFdmVudEhhbmRsZXJzKHtpbXByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChhLmxvZ01lc3NhZ2UpKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGEubG9nTWVzc2FnZSkoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiQXBwTmV4dXMgb3V0c3RyZWFtIHJlbmRlcmVyIHZpZGVvIGV2ZW50IiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIuY29uY2F0KGUpKS5zdHlsZS5kaXNwbGF5PSJub25lIn19KSxpfShkLmFkVW5pdENvZGUscixmKX1icmVhaztjYXNlIG0uYTpkLnZhc3RVcmw9ci5ub3RpZnlfdXJsKyImcmVkaXI9IitlbmNvZGVVUklDb21wb25lbnQoci5ydGIudmlkZW8uYXNzZXRfdXJsKX19ZWxzZSBpZihyLnJ0YltvLmNdKXt2YXIgYj1yLnJ0YltvLmNdLHk9ci52aWV3YWJpbGl0eS5jb25maWcucmVwbGFjZSgic3JjPSIsImRhdGEtc3JjPSIpLGc9Yi5qYXZhc2NyaXB0X3RyYWNrZXJzO251bGw9PWc/Zz15Ok9iamVjdChhLmlzU3RyKShnKT9nPVtnLHldOmcucHVzaCh5KSxkW28uY109e3RpdGxlOmIudGl0bGUsYm9keTpiLmRlc2MsYm9keTI6Yi5kZXNjMixjdGE6Yi5jdGF0ZXh0LHJhdGluZzpiLnJhdGluZyxzcG9uc29yZWRCeTpiLnNwb25zb3JlZCxwcml2YWN5TGluazpiLnByaXZhY3lfbGluayxhZGRyZXNzOmIuYWRkcmVzcyxkb3dubG9hZHM6Yi5kb3dubG9hZHMsbGlrZXM6Yi5saWtlcyxwaG9uZTpiLnBob25lLHByaWNlOmIucHJpY2Usc2FsZVByaWNlOmIuc2FsZXByaWNlLGNsaWNrVXJsOmIubGluay51cmwsZGlzcGxheVVybDpiLmRpc3BsYXl1cmwsY2xpY2tUcmFja2VyczpiLmxpbmsuY2xpY2tfdHJhY2tlcnMsaW1wcmVzc2lvblRyYWNrZXJzOmIuaW1wcmVzc2lvbl90cmFja2VycyxqYXZhc2NyaXB0VHJhY2tlcnM6Z30sYi5tYWluX2ltZyYmKGQubmF0aXZlLmltYWdlPXt1cmw6Yi5tYWluX2ltZy51cmwsaGVpZ2h0OmIubWFpbl9pbWcuaGVpZ2h0LHdpZHRoOmIubWFpbl9pbWcud2lkdGh9KSxiLmljb24mJihkLm5hdGl2ZS5pY29uPXt1cmw6Yi5pY29uLnVybCxoZWlnaHQ6Yi5pY29uLmhlaWdodCx3aWR0aDpiLmljb24ud2lkdGh9KX1lbHNle3YoZCx7d2lkdGg6ci5ydGIuYmFubmVyLndpZHRoLGhlaWdodDpyLnJ0Yi5iYW5uZXIuaGVpZ2h0LGFkOnIucnRiLmJhbm5lci5jb250ZW50fSk7dHJ5e2lmKHIucnRiLnRyYWNrZXJzKWZvcih2YXIgaD0wO2g8ci5ydGIudHJhY2tlcnNbMF0uaW1wcmVzc2lvbl91cmxzLmxlbmd0aDtoKyspe3ZhciBfPXIucnRiLnRyYWNrZXJzWzBdLmltcHJlc3Npb25fdXJsc1toXSxrPU9iamVjdChhLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShfKTtkLmFkKz1rfX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIkVycm9yIGFwcGVuZGluZyB0cmFja2luZyBwaXhlbCIsZSl9fXJldHVybiBkfShlLGMsaSk7dS5tZWRpYVR5cGU9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZF90eXBlO3JldHVybiByPT09by5kP28uZDpyPT09by5jP28uYzpvLmJ9KGMpLGQucHVzaCh1KX19KSksZS5kZWJ1ZyYmZS5kZWJ1Zy5kZWJ1Z19pbmZvKXt2YXIgdT0iQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBmb3IgUHJlYmlkXG5cbiIrZS5kZWJ1Zy5kZWJ1Z19pbmZvO3U9dS5yZXBsYWNlKC8oPHRkPnw8dGg+KS9nbSwiXHQiKS5yZXBsYWNlKC8oPFwvdGQ+fDxcL3RoPikvZ20sIlxuIikucmVwbGFjZSgvXjxicj4vZ20sIiIpLnJlcGxhY2UoLyg8YnI+XG58PGJyPikvZ20sIlxuIikucmVwbGFjZSgvPGgxPiguKik8XC9oMT4vZ20sIlxuXG49PT09PSAkMSA9PT09PVxuXG4iKS5yZXBsYWNlKC88aFsyLTZdPiguKik8XC9oWzItNl0+L2dtLCJcblxuKioqICQxICoqKlxuXG4iKS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naW0sIiIpLE9iamVjdChhLmxvZ01lc3NhZ2UpKCJodHRwczovL2NvbnNvbGUuYXBwbmV4dXMuY29tL2RvY3MvdW5kZXJzdGFuZGluZy10aGUtZGVidWctYXVjdGlvbiIpLE9iamVjdChhLmxvZ01lc3NhZ2UpKHUpfXJldHVybiBkfSxnZXRNYXBwaW5nRmlsZUluZm86ZnVuY3Rpb24oKXtyZXR1cm57dXJsOiJodHRwczovL2FjZG4uYWRueHMtc2ltcGxlLmNvbS9wcmViaWQvYXBwbmV4dXMtbWFwcGluZy9tYXBwaW5ncy5qc29uIixyZWZyZXNoSW5EYXlzOjJ9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQpe2lmKGUuaWZyYW1lRW5hYmxlZCYmTih7Z2RwckNvbnNlbnQ6dH0pKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vZG1wL2FzeW5jX3VzZXJzeW5jLmh0bWwifV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBlPU9iamVjdChhLmNvbnZlcnRUeXBlcykoe21lbWJlcjoic3RyaW5nIixpbnZDb2RlOiJzdHJpbmciLHBsYWNlbWVudElkOiJudW1iZXIiLGtleXdvcmRzOmEudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyxwdWJsaXNoZXJJZDoibnVtYmVyIn0sZSksciYmKGUudXNlX3BtdF9ydWxlPSJib29sZWFuIj09dHlwZW9mIGUudXNlUGF5bWVudFJ1bGUmJmUudXNlUGF5bWVudFJ1bGUsZS51c2VQYXltZW50UnVsZSYmZGVsZXRlIGUudXNlUGF5bWVudFJ1bGUsUihlLmtleXdvcmRzKSYmZS5rZXl3b3Jkcy5mb3JFYWNoKFApLE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciB0PU9iamVjdChhLmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZSkocik7dCE9PXImJihlW3RdPWVbcl0sZGVsZXRlIGVbcl0pfSkpKSxlfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtlLm5hdGl2ZSYmZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI7aWYoT2JqZWN0KGEuaXNTdHIpKGUpJiZVKGUpKXI9ZTtlbHNlIGlmKE9iamVjdChhLmlzQXJyYXkpKGUpKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO1UobikmJihyPW4pfXJldHVybiByfShlLm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpO2lmKHIpZm9yKHZhciB0PSJwYmpzX2FkaWQ9IitlLmFkSWQrIjtwYmpzX2F1Yz0iK2UuYWRVbml0Q29kZSxuPWZ1bmN0aW9uKGUpe3ZhciByPWUuaW5kZXhPZignc3JjPSInKSs1LHQ9ZS5pbmRleE9mKCciJyxyKTtyZXR1cm4gZS5zdWJzdHJpbmcocix0KX0ociksaT1uLnJlcGxhY2UoImRvbV9pZD0lbmF0aXZlX2RvbV9pZCUiLHQpLHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLG89ITEsZD0wO2Q8cy5sZW5ndGgmJiFvO2QrKyl7dmFyIGM9c1tkXTt0cnl7dmFyIHA9Yy5jb250ZW50RG9jdW1lbnR8fGMuY29udGVudFdpbmRvdy5kb2N1bWVudDtpZihwKWZvcih2YXIgdT1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxsPTA7bDx1Lmxlbmd0aCYmIW87bCsrKXt2YXIgbT11W2xdO20uZ2V0QXR0cmlidXRlKCJkYXRhLXNyYyIpPT1uJiYobS5zZXRBdHRyaWJ1dGUoInNyYyIsaSksbS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwiIiksbS5yZW1vdmVBdHRyaWJ1dGUmJm0ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXNyYyIpLG89ITApfX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJiJTZWN1cml0eUVycm9yIj09PWUubmFtZSkpdGhyb3cgZX19fShlKX19O2Z1bmN0aW9uIFIoZSl7cmV0dXJuISEoT2JqZWN0KGEuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjApfWZ1bmN0aW9uIFAoZSl7UihlLnZhbHVlKSYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiBVKGUpe3ZhciByPWUubWF0Y2goUyksdD1udWxsIT1yJiZyLmxlbmd0aD49MSxhPWUubWF0Y2goInRyay5qcyIpLG49bnVsbCE9YSYmYS5sZW5ndGg+PTE7cmV0dXJuIGUuc3RhcnRzV2l0aCgiPHNjcmlwdCIpJiZuJiZ0fWZ1bmN0aW9uIE4oZSl7dmFyIHI9ITA7cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJjI9PT1lLmdkcHJDb25zZW50LmFwaVZlcnNpb24mJihyPSEoITAhPT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSkscn1mdW5jdGlvbiBxKGUpe3ZhciByPXt9O3Iuc2l6ZXM9eihlLnNpemVzKSxyLnByaW1hcnlfc2l6ZT1yLnNpemVzWzBdLHIuYWRfdHlwZXM9W10sci51dWlkPWUuYmlkSWQsZS5wYXJhbXMucGxhY2VtZW50SWQ/ci5pZD1wYXJzZUludChlLnBhcmFtcy5wbGFjZW1lbnRJZCwxMCk6ci5jb2RlPWUucGFyYW1zLmludkNvZGUsci5hbGxvd19zbWFsbGVyX3NpemVzPWUucGFyYW1zLmFsbG93U21hbGxlclNpemVzfHwhMSxyLnVzZV9wbXRfcnVsZT1lLnBhcmFtcy51c2VQYXltZW50UnVsZXx8ITEsci5wcmViaWQ9ITAsci5kaXNhYmxlX3BzYT0hMDt2YXIgdD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLnJlc2VydmU/ZS5wYXJhbXMucmVzZXJ2ZTpudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoYS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpO2lmKHQmJihyLnJlc2VydmU9dCksZS5wYXJhbXMucG9zaXRpb24mJihyLnBvc2l0aW9uPXthYm92ZToxLGJlbG93OjJ9W2UucGFyYW1zLnBvc2l0aW9uXXx8MCksZS5wYXJhbXMudHJhZmZpY1NvdXJjZUNvZGUmJihyLnRyYWZmaWNfc291cmNlX2NvZGU9ZS5wYXJhbXMudHJhZmZpY1NvdXJjZUNvZGUpLGUucGFyYW1zLnByaXZhdGVTaXplcyYmKHIucHJpdmF0ZV9zaXplcz16KGUucGFyYW1zLnByaXZhdGVTaXplcykpLGUucGFyYW1zLnN1cHBseVR5cGUmJihyLnN1cHBseV90eXBlPWUucGFyYW1zLnN1cHBseVR5cGUpLGUucGFyYW1zLnB1YkNsaWNrJiYoci5wdWJjbGljaz1lLnBhcmFtcy5wdWJDbGljayksZS5wYXJhbXMuZXh0SW52Q29kZSYmKHIuZXh0X2ludl9jb2RlPWUucGFyYW1zLmV4dEludkNvZGUpLGUucGFyYW1zLnB1Ymxpc2hlcklkJiYoci5wdWJsaXNoZXJfaWQ9cGFyc2VJbnQoZS5wYXJhbXMucHVibGlzaGVySWQsMTApKSxlLnBhcmFtcy5leHRlcm5hbEltcElkJiYoci5leHRlcm5hbF9pbXBfaWQ9ZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCksIU9iamVjdChhLmlzRW1wdHkpKGUucGFyYW1zLmtleXdvcmRzKSl7dmFyIG49T2JqZWN0KGEudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcykoZS5wYXJhbXMua2V5d29yZHMpO24ubGVuZ3RoPjAmJm4uZm9yRWFjaChQKSxyLmtleXdvcmRzPW59dmFyIGkscyxjPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7aWYoYyYmKHIuZ3BpZD1jKSwoZS5tZWRpYVR5cGU9PT1vLmN8fE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5jKSkpJiYoci5hZF90eXBlcy5wdXNoKG8uYyksMD09PXIuc2l6ZXMubGVuZ3RoJiYoci5zaXplcz16KFsxLDFdKSksZS5uYXRpdmVQYXJhbXMpKXt2YXIgdT0oaT1lLm5hdGl2ZVBhcmFtcyxzPXt9LE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPUNbZV0mJkNbZV0uc2VydmVyTmFtZXx8Q1tlXXx8ZSx0PUNbZV0mJkNbZV0ucmVxdWlyZWRQYXJhbXM7aWYoc1tyXT12KHt9LHQsaVtlXSksKHI9PT1DLmltYWdlLnNlcnZlck5hbWV8fHI9PT1DLmljb24uc2VydmVyTmFtZSkmJnNbcl0uc2l6ZXMpe3ZhciBuPXNbcl0uc2l6ZXM7KE9iamVjdChhLmlzQXJyYXlPZk51bXMpKG4pfHxPYmplY3QoYS5pc0FycmF5KShuKSYmbi5sZW5ndGg+MCYmbi5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzQXJyYXlPZk51bXMpKGUpfSkpKSYmKHNbcl0uc2l6ZXM9eihzW3JdLnNpemVzKSl9cj09PUMucHJpdmFjeUxpbmsmJihzLnByaXZhY3lfc3VwcG9ydGVkPSEwKX0pKSxzKTtyW28uY109e2xheW91dHM6W3VdfX12YXIgbT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uZCkpLGY9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7ci5oYl9zb3VyY2U9bSYmImFkcG9kIj09PWY/NzoxLChlLm1lZGlhVHlwZT09PW8uZHx8bSkmJnIuYWRfdHlwZXMucHVzaChvLmQpLChlLm1lZGlhVHlwZT09PW8uZHx8bSYmIm91dHN0cmVhbSIhPT1mKSYmKHIucmVxdWlyZV9hc3NldF91cmw9ITApLGUucGFyYW1zLnZpZGVvJiYoci52aWRlbz17fSxPYmplY3Qua2V5cyhlLnBhcmFtcy52aWRlbykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKE8sZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UiY29udGV4dCI6Y2FzZSJwbGF5YmFja19tZXRob2QiOnZhciBuPWUucGFyYW1zLnZpZGVvW3RdO249T2JqZWN0KGEuaXNBcnJheSkobik/blswXTpuLHIudmlkZW9bdF09eFt0XVtuXTticmVhaztjYXNlImZyYW1ld29ya3MiOmJyZWFrO2RlZmF1bHQ6ci52aWRlb1t0XT1lLnBhcmFtcy52aWRlb1t0XX19KSksZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykmJihyLnZpZGVvX2ZyYW1ld29ya3M9ZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykpLG0mJihyLnZpZGVvPXIudmlkZW98fHt9LE9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShqLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIm1pbmR1cmF0aW9uIjpjYXNlIm1heGR1cmF0aW9uIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW9bZV0mJihyLnZpZGVvW2VdPW1bZV0pO2JyZWFrO2Nhc2Uic2tpcCI6ImJvb2xlYW4iIT10eXBlb2Ygci52aWRlby5za2lwcGFibGUmJihyLnZpZGVvLnNraXBwYWJsZT0xPT09bVtlXSk7YnJlYWs7Y2FzZSJza2lwYWZ0ZXIiOiJudW1iZXIiIT10eXBlb2Ygci52aWRlby5za2lwb2Zmc2V0JiYoci52aWRlby5za2lwcG9mZnNldD1tW2VdKTticmVhaztjYXNlInBsYXliYWNrbWV0aG9kIjppZigibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8ucGxheWJhY2tfbWV0aG9kKXt2YXIgdD1tW2VdOyh0PU9iamVjdChhLmlzQXJyYXkpKHQpP3RbMF06dCk+PTEmJnQ8PTQmJihyLnZpZGVvLnBsYXliYWNrX21ldGhvZD10KX1icmVhaztjYXNlImFwaSI6aWYoIXIudmlkZW9fZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkobVtlXSkpe3ZhciBuPW1bZV0ubWFwKChmdW5jdGlvbihlKXt2YXIgcj00PT09ZT81OjU9PT1lPzQ6ZTtpZihyPj0xJiZyPD01KXJldHVybiByfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk7ci52aWRlb19mcmFtZXdvcmtzPW59fX0pKSksZS5yZW5kZXJlciYmKHIudmlkZW89dih7fSxyLnZpZGVvLHtjdXN0b21fcmVuZGVyZXJfcHJlc2VudDohMH0pKSxlLnBhcmFtcy5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KShlLnBhcmFtcy5mcmFtZXdvcmtzKSYmKHIuYmFubmVyX2ZyYW1ld29ya3M9ZS5wYXJhbXMuZnJhbWV3b3Jrcyk7dmFyIGI9cCgpKGQuYS5nZXRBZFVuaXRzKCksKGZ1bmN0aW9uKHIpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yLnRyYW5zYWN0aW9uSWR9KSk7cmV0dXJuIGImJmIubWVkaWFUeXBlcyYmYi5tZWRpYVR5cGVzLmJhbm5lciYmci5hZF90eXBlcy5wdXNoKG8uYiksMD09PXIuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgci5hZF90eXBlcyxyfWZ1bmN0aW9uIHooZSl7dmFyIHI9W10sdD17fTtpZihPYmplY3QoYS5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RoJiYhT2JqZWN0KGEuaXNBcnJheSkoZVswXSkpdC53aWR0aD1wYXJzZUludChlWzBdLDEwKSx0LmhlaWdodD1wYXJzZUludChlWzFdLDEwKSxyLnB1c2godCk7ZWxzZSBpZigib2JqZWN0Ij09PWIoZSkpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07KHQ9e30pLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLHQuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApLHIucHVzaCh0KX1yZXR1cm4gcn1mdW5jdGlvbiBNKGUpe3JldHVybiEhZS5wYXJhbXMudXNlcn1mdW5jdGlvbiBEKGUpe3JldHVybiEhcGFyc2VJbnQoZS5wYXJhbXMubWVtYmVyLDEwKX1mdW5jdGlvbiBCKGUpe2lmKGUucGFyYW1zKXJldHVybiEhZS5wYXJhbXMuYXBwfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGUucGFyYW1zJiZlLnBhcmFtcy5hcHA/ISFlLnBhcmFtcy5hcHAuaWQ6ISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gRihlKXtyZXR1cm4hIWUuZGVidWd9ZnVuY3Rpb24gSihlKXtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0PT09by5hfWZ1bmN0aW9uIFcoZSl7dmFyIHI9ITEsdD1lLnBhcmFtcyxuPWUucGFyYW1zLnZpZGVvO3JldHVybiB0LmZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKHQuZnJhbWV3b3JrcykmJihyPWwoKShlLnBhcmFtcy5mcmFtZXdvcmtzLDYpKSwhciYmbiYmbi5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KShuLmZyYW1ld29ya3MpJiYocj1sKCkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3Jrcyw2KSkscn1mdW5jdGlvbiBIKGUscix0KXtPYmplY3QoYS5pc0VtcHR5KShlLnZpZGVvKSYmKGUudmlkZW89e30pLGUudmlkZW9bcl09dH1mdW5jdGlvbiBMKGUpe3ZhciByLHQ7cj1lLmFkVW5pdENvZGUsKHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocikucXVlcnlTZWxlY3RvckFsbCgiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpWzBdJiZ0WzBdLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3RyeXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHRbaWRePSdzYXNfc2NyaXB0J10iKTtyWzBdLm5leHRTaWJsaW5nJiYiaWZyYW1lIj09PXJbMF0ubmV4dFNpYmxpbmcubG9jYWxOYW1lJiZyWzBdLm5leHRTaWJsaW5nLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpfWNhdGNoKGUpe319KGUuYWRVbml0Q29kZSksZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YWdJZDplLmFkUmVzcG9uc2UudGFnX2lkLHNpemVzOltlLmdldFNpemUoKS5zcGxpdCgieCIpXSx0YXJnZXRJZDplLmFkVW5pdENvZGUsdXVpZDplLmFkUmVzcG9uc2UudXVpZCxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0sJC5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uICQoZSxyLHQpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6dH0pfWZ1bmN0aW9uIEsoZSxyLHQsYSl7cmV0dXJuIHImJihhP2UucHVzaCh7c291cmNlOnQsaWQ6cixydGlfcGFydG5lcjphfSk6ZS5wdXNoKHtzb3VyY2U6dCxpZDpyfSkpLGV9T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKEUpfX0sWzI4OV0pOwp1cGJqc0NodW5rKFs2MF0sezI5NzpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMjk4KX0sMjk4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYW5hbHl0aWNzVXJsIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSx0LnBhcnNlQnJvd3Nlcj1iO3ZhciBpPW4oMCkscj1uKDYpLG89big1KSxhPW4ubihvKSxzPW4oOCksYz1uKDQpLHU9big3KTtmdW5jdGlvbiBsKCl7cmV0dXJuKGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgZj1PYmplY3QodS5iKSgpLHA9Imh0dHBzOi8vYW5hbHl0aWNzLnJsY2RuLmNvbSIsZD1bXSxnPVtdLG09W3t0ZXN0Oi9nb29nbGVib3QvaSxuYW1lOiJHb29nbGVib3QifSx7dGVzdDovb3BlcmEvaSxuYW1lOiJPcGVyYSJ9LHt0ZXN0Oi9vcHJcL3xvcGlvcy9pLG5hbWU6Ik9wZXJhIn0se3Rlc3Q6L1NhbXN1bmdCcm93c2VyL2ksbmFtZToiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZCJ9LHt0ZXN0Oi9XaGFsZS9pLG5hbWU6Ik5BVkVSIFdoYWxlIEJyb3dzZXIifSx7dGVzdDovTVpCcm93c2VyL2ksbmFtZToiTVogQnJvd3NlciJ9LHt0ZXN0Oi9mb2N1cy9pLG5hbWU6IkZvY3VzIn0se3Rlc3Q6L3N3aW5nL2ksbmFtZToiU3dpbmcifSx7dGVzdDovY29hc3QvaSxuYW1lOiJPcGVyYSBDb2FzdCJ9LHt0ZXN0Oi9vcHRcL1xkKyg/Oi4/Xz9cZCspKy9pLG5hbWU6Ik9wZXJhIFRvdWNoIn0se3Rlc3Q6L3lhYnJvd3Nlci9pLG5hbWU6IllhbmRleCBCcm93c2VyIn0se3Rlc3Q6L3VjYnJvd3Nlci9pLG5hbWU6IlVDIEJyb3dzZXIifSx7dGVzdDovTWF4dGhvbnxteGlvcy9pLG5hbWU6Ik1heHRob24ifSx7dGVzdDovZXBpcGhhbnkvaSxuYW1lOiJFcGlwaGFueSJ9LHt0ZXN0Oi9wdWZmaW4vaSxuYW1lOiJQdWZmaW4ifSx7dGVzdDovc2xlaXBuaXIvaSxuYW1lOiJTbGVpcG5pciJ9LHt0ZXN0Oi9rLW1lbGVvbi9pLG5hbWU6IkstTWVsZW9uIn0se3Rlc3Q6L21pY3JvbWVzc2VuZ2VyL2ksbmFtZToiV2VDaGF0In0se3Rlc3Q6L3FxYnJvd3Nlci9pLG5hbWU6L3FxYnJvd3NlcmxpdGUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KT8iUVEgQnJvd3NlciBMaXRlIjoiUVEgQnJvd3NlciJ9LHt0ZXN0Oi9tc2llfHRyaWRlbnQvaSxuYW1lOiJJbnRlcm5ldCBFeHBsb3JlciJ9LHt0ZXN0Oi9cc2VkZ1wvL2ksbmFtZToiTWljcm9zb2Z0IEVkZ2UifSx7dGVzdDovZWRnKFtlYV18aW9zKS9pLG5hbWU6Ik1pY3Jvc29mdCBFZGdlIn0se3Rlc3Q6L3ZpdmFsZGkvaSxuYW1lOiJWaXZhbGRpIn0se3Rlc3Q6L3NlYW1vbmtleS9pLG5hbWU6IlNlYU1vbmtleSJ9LHt0ZXN0Oi9zYWlsZmlzaC9pLG5hbWU6IlNhaWxmaXNoIn0se3Rlc3Q6L3NpbGsvaSxuYW1lOiJBbWF6b24gU2lsayJ9LHt0ZXN0Oi9waGFudG9tL2ksbmFtZToiUGhhbnRvbUpTIn0se3Rlc3Q6L3NsaW1lcmpzL2ksbmFtZToiU2xpbWVySlMifSx7dGVzdDovYmxhY2tiZXJyeXxcYmJiXGQrL2ksbmFtZToiQmxhY2tCZXJyeSJ9LHt0ZXN0Oi8od2VifGhwdylbbzBdcy9pLG5hbWU6IldlYk9TIEJyb3dzZXIifSx7dGVzdDovYmFkYS9pLG5hbWU6IkJhZGEifSx7dGVzdDovdGl6ZW4vaSxuYW1lOiJUaXplbiJ9LHt0ZXN0Oi9xdXB6aWxsYS9pLG5hbWU6IlF1cFppbGxhIn0se3Rlc3Q6L2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2ksbmFtZToiRmlyZWZveCJ9LHt0ZXN0Oi9lbGVjdHJvbi9pLG5hbWU6IkVsZWN0cm9uIn0se3Rlc3Q6L01pdWlCcm93c2VyL2ksbmFtZToiTWl1aSJ9LHt0ZXN0Oi9jaHJvbWl1bS9pLG5hbWU6IkNocm9taXVtIn0se3Rlc3Q6L2Nocm9tZXxjcmlvc3xjcm1vL2ksbmFtZToiQ2hyb21lIn0se3Rlc3Q6L0dTQS9pLG5hbWU6Ikdvb2dsZSBTZWFyY2gifSx7dGVzdDovYW5kcm9pZC9pLG5hbWU6IkFuZHJvaWQgQnJvd3NlciJ9LHt0ZXN0Oi9wbGF5c3RhdGlvbiA0L2ksbmFtZToiUGxheVN0YXRpb24gNCJ9LHt0ZXN0Oi9zYWZhcml8YXBwbGV3ZWJraXQvaSxuYW1lOiJTYWZhcmkifV0seT1bIlNhZmFyaSIsIkNocm9tZSIsIkZpcmVmb3giLCJNaWNyb3NvZnQgRWRnZSJdO2Z1bmN0aW9uIGIoKXt2YXIgZT1ULmdldFVzZXJBZ2VudCgpO3RyeXt2YXIgdD1tLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQudGVzdC50ZXN0KGUpfSkpLG49dCYmdC5sZW5ndGg/dFswXS5uYW1lOiIiO3JldHVybiB5LmluZGV4T2Yobik+PTA/bjoiVW5rbm93biJ9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJBVFMgQW5hbHl0aWNzIC0gRXJyb3Igd2hpbGUgY2hlY2tpbmcgdXNlciBicm93c2VyISIsZSl9fWZ1bmN0aW9uIHYoZSl7dHJ5e3ZhciB0PXtEYXRhOmV9LG49SlNPTi5zdHJpbmdpZnkodCk7T2JqZWN0KGkubG9nSW5mbykoIkFUUyBBbmFseXRpY3MgLSB0cmllZCB0byBzZW5kIGFuYWx5dGljcyBkYXRhISIpLE9iamVjdChjLmEpKHAsKGZ1bmN0aW9uKCl7T2JqZWN0KGkubG9nSW5mbykoIkFUUyBBbmFseXRpY3MgLSBldmVudHMgc2VudCBzdWNjZXNzZnVsbHkhIil9KSxuLHttZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIn0pfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiQVRTIEFuYWx5dGljcyAtIHJlcXVlc3QgZW5jb3VudGVyIGFuIGVycm9yOiAiLGUpfX12YXIgVD1sKE9iamVjdChyLmEpKHthbmFseXRpY3NUeXBlOiJlbmRwb2ludCJ9KSx7dHJhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ldmVudFR5cGUsbj1lLmFyZ3M7dm9pZCAwIT09biYmVC5jYWxsSGFuZGxlcih0LG4pfX0pO1Qub3JpZ2luRW5hYmxlQW5hbHl0aWNzPVQuZW5hYmxlQW5hbHl0aWNzLFQuc2hvdWxkRmlyZVJlcXVlc3Q9ZnVuY3Rpb24oZSl7aWYoMCE9PWUpe3ZhciB0PTEwMD09PU1hdGguZmxvb3IoMTAwKk1hdGgucmFuZG9tKCkrMSk7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJBVFMgQW5hbHl0aWNzIC0gU2hvdWxkIEZpcmUgUmVxdWVzdDogIix0KSx0fXJldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiQVRTIEFuYWx5dGljcyAtIFNob3VsZCBGaXJlIFJlcXVlc3Q6ICIsITEpLCExfSxULmdldFVzZXJBZ2VudD1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudH0sVC5zZXRTYW1wbGluZ0Nvb2tpZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZTt0LnNldFRpbWUodC5nZXRUaW1lKCkrODY0ZTUpLGYuc2V0Q29va2llKCJfbHJfc2FtcGxpbmdfcmF0ZSIsZSx0LnRvVVRDU3RyaW5nKCkpfSxULmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtpZihlLm9wdGlvbnMucGlkKXtULmNvbnRleHQ9e2V2ZW50czpbXSxwaWQ6ZS5vcHRpb25zLnBpZCxiaWRXb25UaW1lb3V0OmUub3B0aW9ucy5iaWRXb25UaW1lb3V0fTt2YXIgdD1lLm9wdGlvbnM7T2JqZWN0KGkubG9nSW5mbykoIkFUUyBBbmFseXRpY3MgLSBhZGFwdGVyIGVuYWJsZWQhICIpLFQub3JpZ2luRW5hYmxlQW5hbHl0aWNzKHQpfWVsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJBVFMgQW5hbHl0aWNzIC0gUHVibGlzaGVyIElEIChwaWQpIG9wdGlvbiBpcyBub3QgZGVmaW5lZC4gQW5hbHl0aWNzIHdvbid0IHdvcmsiKX0sVC5jYWxsSGFuZGxlcj1mdW5jdGlvbihlLHQpe2lmKGU9PT1hLmEuRVZFTlRTLkJJRF9SRVFVRVNURUQ/ZD1kLmNvbmNhdChmdW5jdGlvbihlKXt2YXIgdD0idHJ1ZSI9PT1mLmdldENvb2tpZSgiX2xyX2Vudl9zcmNfYXRzIik7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybntlbnZlbG9wZV9zb3VyY2U6dCxoYXNfZW52ZWxvcGU6ISFuLnVzZXJJZCYmISFuLnVzZXJJZC5pZGxfZW52LGJpZGRlcjpuLmJpZGRlcixiaWRfaWQ6bi5iaWRJZCxhdWN0aW9uX2lkOmUuYXVjdGlvbklkLHVzZXJfYnJvd3NlcjpiKCksdXNlcl9wbGF0Zm9ybTpuYXZpZ2F0b3IucGxhdGZvcm0sYXVjdGlvbl9zdGFydDpuZXcgRGF0ZShlLmF1Y3Rpb25TdGFydCkudG9KU09OKCksZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxwaWQ6VC5jb250ZXh0LnBpZCxhZGFwdGVyX3ZlcnNpb246MyxiaWRfd29uOiExfX0pKX0odCkpOmU9PT1hLmEuRVZFTlRTLkJJRF9SRVNQT05TRSYmZy5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRfaWQ6ZS5yZXF1ZXN0SWQscmVzcG9uc2VfdGltZV9zdGFtcDpuZXcgRGF0ZShlLnJlc3BvbnNlVGltZXN0YW1wKS50b0pTT04oKSxjdXJyZW5jeTplLmN1cnJlbmN5LGNwbTplLmNwbSxuZXRfcmV2ZW51ZTplLm5ldFJldmVudWV9fSh0KSksZT09PWEuYS5FVkVOVFMuQVVDVElPTl9FTkQpe3ZhciBuPVQuY29udGV4dC5iaWRXb25UaW1lb3V0P1QuY29udGV4dC5iaWRXb25UaW1lb3V0OjJlMyxyPVtdO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9dXBianMuZ2V0QWxsV2lubmluZ0JpZHMoKTtpZihPYmplY3QoaS5sb2dJbmZvKSgiQVRTIEFuYWx5dGljcyAtIHdpbm5pbmcgYmlkczogIixlKSxkLmxlbmd0aCl7dmFyIHQ9e307Zy5sZW5ndGg/KHI9ZC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmZpbHRlcigoZnVuY3Rpb24odCl7ZS5iaWRfaWQ9PT10LmJpZF9pZCYmbChlLHQpfSkpfSkpLGUubGVuZ3RoJiYocj1yLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXt0LmJpZF9pZD1lLnJlcXVlc3RJZCx0LmJpZF93b249ITAsbi5iaWRfaWQ9PT10LmJpZF9pZCYmbChuLHQpfSkpfSkpKSk6cj1kO3RyeXt2YXIgbj1mLmdldENvb2tpZSgiX2xyX2Vudl9zcmNfYXRzIiksbz1mLmdldENvb2tpZSgiX2xyX3NhbXBsaW5nX3JhdGUiKTtvP1Quc2hvdWxkRmlyZVJlcXVlc3QocGFyc2VJbnQobykpJiZudWxsIT1uJiYoT2JqZWN0KGkubG9nSW5mbykoIkFUUyBBbmFseXRpY3MgLSBldmVudHMgdG8gc2VuZDogIixyKSx2KHIpKTpmdW5jdGlvbihlLHQpe09iamVjdChpLmxvZ0luZm8pKCJBVFMgQW5hbHl0aWNzIC0gcHJlZmxpZ2h0IHJlcXVlc3QhIiksT2JqZWN0KGMuYSkoImh0dHBzOi8vY2hlY2suYW5hbHl0aWNzLnJsY2RuLmNvbS9jaGVjay8iK1QuY29udGV4dC5waWQse3N1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIHI9SlNPTi5wYXJzZShuKTtPYmplY3QoaS5sb2dJbmZvKSgiQVRTIEFuYWx5dGljcyAtIFNhbXBsaW5nIFJhdGU6ICIscik7dmFyIG89ci5zYW1wbGluZ1JhdGU7VC5zZXRTYW1wbGluZ0Nvb2tpZShvKTt2YXIgYT1OdW1iZXIobyk7biYmbyYmVC5zaG91bGRGaXJlUmVxdWVzdChhKSYmbnVsbCE9ZSYmKE9iamVjdChpLmxvZ0luZm8pKCJBVFMgQW5hbHl0aWNzIC0gZXZlbnRzIHRvIHNlbmQ6ICIsdCksdih0KSl9LGVycm9yOmZ1bmN0aW9uKCl7VC5zZXRTYW1wbGluZ0Nvb2tpZSgwKSxPYmplY3QoaS5sb2dJbmZvKSgiQVRTIEFuYWx5dGljcyAtIFNhbXBsaW5nIFJhdGUgUmVxdWVzdCBFcnJvciEiKX19LHZvaWQgMCx7bWV0aG9kOiJHRVQiLGNyb3NzT3JpZ2luOiEwfSl9KG4scikscj1bXX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkFUUyBBbmFseXRpY3MgLSBwcmVmbGlnaHQgcmVxdWVzdCBlbmNvdW50ZXIgYW4gZXJyb3I6ICIsZSl9fX0pLG4pfX0scy5kZWZhdWx0LnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcih7YWRhcHRlcjpULGNvZGU6ImF0c0FuYWx5dGljcyIsZ3ZsaWQ6OTd9KSx0LmRlZmF1bHQ9VH0sNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdCxuPWUudXJsLGk9ZS5hbmFseXRpY3NUeXBlLHI9ZS5nbG9iYWwsbD1lLmhhbmRsZXIsaj1bXSxEPTAscT0hMDsoZnVuY3Rpb24oKXtpZihxKXtmb3IodmFyIGU9MDtlPGoubGVuZ3RoO2UrKylqW2VdKCk7ai5wdXNoPWZ1bmN0aW9uKGUpe2UoKX0scT0hMX1PYmplY3QoYS5sb2dNZXNzYWdlKSgiZXZlbnQgY291bnQgc2VudCB0byAiLmNvbmNhdChyLCI6ICIpLmNvbmNhdChEKSl9KSgpO3JldHVybnt0cmFjazpmdW5jdGlvbihlKXt2YXIgdD1lLmV2ZW50VHlwZSxuPWUuYXJnczt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1JJiZ3aW5kb3dbcl0obCx0LG4pO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PXcmJk4uYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LGVucXVldWU6QixlbmFibGVBbmFseXRpY3M6ayxkaXNhYmxlQW5hbHl0aWNzOmZ1bmN0aW9uKCl7T2JqZWN0KGEuX2VhY2gpKHQsKGZ1bmN0aW9uKGUsdCl7dS5vZmYodCxlKX0pKSx0aGlzLmVuYWJsZUFuYWx5dGljcz10aGlzLl9vbGRFbmFibGU/dGhpcy5fb2xkRW5hYmxlOmt9LGdldEFkYXB0ZXJUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIGl9LGdldEdsb2JhbDpmdW5jdGlvbigpe3JldHVybiByfSxnZXRIYW5kbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LGdldFVybDpmdW5jdGlvbigpe3JldHVybiBufX07ZnVuY3Rpb24gTihlKXt2YXIgdD1lLmV2ZW50VHlwZSxpPWUuYXJncyxyPWUuY2FsbGJhY2s7T2JqZWN0KG8uYSkobixyLEpTT04uc3RyaW5naWZ5KHtldmVudFR5cGU6dCxhcmdzOml9KSl9ZnVuY3Rpb24gQihlKXt2YXIgdD1lLmV2ZW50VHlwZSxuPWUuYXJncyxpPXRoaXM7ciYmd2luZG93W3JdJiZ0JiZuP3RoaXMudHJhY2soe2V2ZW50VHlwZTp0LGFyZ3M6bn0pOmoucHVzaCgoZnVuY3Rpb24oKXtEKyssaS50cmFjayh7ZXZlbnRUeXBlOnQsYXJnczpufSl9KSl9ZnVuY3Rpb24gayhlKXt2YXIgbixpPXRoaXMsbz10aGlzOyJvYmplY3QiIT09YyhlKXx8Im9iamVjdCIhPT1jKGUub3B0aW9ucyl8fCh2b2lkIDA9PT1lLm9wdGlvbnMuc2FtcGxpbmd8fE1hdGgucmFuZG9tKCk8cGFyc2VGbG9hdChlLm9wdGlvbnMuc2FtcGxpbmcpKT8odS5nZXRFdmVudHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLmV2ZW50VHlwZSxuPWUuYXJnczt0IT09bSYmQi5jYWxsKG8se2V2ZW50VHlwZTp0LGFyZ3M6bn0pfX0pKSxzKG49e30sZCwoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZW5xdWV1ZSh7ZXZlbnRUeXBlOmQsYXJnczplfSl9KSkscyhuLGcsKGZ1bmN0aW9uKGUpe3JldHVybiBpLmVucXVldWUoe2V2ZW50VHlwZTpnLGFyZ3M6ZX0pfSkpLHMobix5LChmdW5jdGlvbihlKXtyZXR1cm4gaS5lbnF1ZXVlKHtldmVudFR5cGU6eSxhcmdzOmV9KX0pKSxzKG4sYiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZW5xdWV1ZSh7ZXZlbnRUeXBlOmIsYXJnczplfSl9KSkscyhuLG0sKGZ1bmN0aW9uKGUpe3JldHVybiBpLmVucXVldWUoe2V2ZW50VHlwZTptLGFyZ3M6ZX0pfSkpLHMobix2LChmdW5jdGlvbihlKXtyZXR1cm4gaS5lbnF1ZXVlKHtldmVudFR5cGU6dixhcmdzOmV9KX0pKSxzKG4sVCwoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZW5xdWV1ZSh7ZXZlbnRUeXBlOlQsYXJnczplfSl9KSkscyhuLGgsKGZ1bmN0aW9uKGUpe3JldHVybiBpLmVucXVldWUoe2V2ZW50VHlwZTpoLGFyZ3M6ZX0pfSkpLHMobixBLChmdW5jdGlvbihlKXtyZXR1cm4gaS5lbnF1ZXVlKHtldmVudFR5cGU6QSxhcmdzOmV9KX0pKSxzKG4scCwoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZW5xdWV1ZSh7ZXZlbnRUeXBlOnAsYXJnczplfSl9KSkscyhuLFMsKGZ1bmN0aW9uKGUpe3JldHVybiBpLmVucXVldWUoe2V2ZW50VHlwZTpTLGFyZ3M6ZX0pfSkpLHMobixfLChmdW5jdGlvbihlKXtyZXR1cm4gaS5lbnF1ZXVlKHtldmVudFR5cGU6XyxhcmdzOmV9KX0pKSxzKG4sRSwoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZW5xdWV1ZSh7ZXZlbnRUeXBlOkUsYXJnczplfSl9KSkscyhuLE8sKGZ1bmN0aW9uKGUpe3JldHVybiBpLmVucXVldWUoe2V2ZW50VHlwZTpPLGFyZ3M6ZX0pfSkpLHMobixmLChmdW5jdGlvbih0KXt0LmNvbmZpZz0ib2JqZWN0Ij09PWMoZSkmJmUub3B0aW9uc3x8e30saS5lbnF1ZXVlKHtldmVudFR5cGU6ZixhcmdzOnR9KX0pKSx0PW4sT2JqZWN0KGEuX2VhY2gpKHQsKGZ1bmN0aW9uKGUsdCl7dS5vbih0LGUpfSkpKTpPYmplY3QoYS5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdChyLCciIGRpc2FibGVkIGJ5IHNhbXBsaW5nJykpO3RoaXMuX29sZEVuYWJsZT10aGlzLmVuYWJsZUFuYWx5dGljcyx0aGlzLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoYS5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdChyLCciIGFscmVhZHkgZW5hYmxlZCwgdW5uZWNlc3NhcnkgY2FsbCB0byBgZW5hYmxlQW5hbHl0aWNzYC4nKSl9fX07dmFyIGk9big1KSxyPW4ubihpKSxvPW4oNCksYT1uKDApO2Z1bmN0aW9uIHMoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGMoZSl7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgdT1uKDEwKSxsPXIuYS5FVkVOVFMsZj1sLkFVQ1RJT05fSU5JVCxwPWwuQVVDVElPTl9FTkQsZD1sLlJFUVVFU1RfQklEUyxnPWwuQklEX1JFUVVFU1RFRCxtPWwuQklEX1RJTUVPVVQseT1sLkJJRF9SRVNQT05TRSxiPWwuTk9fQklELHY9bC5CSURfV09OLFQ9bC5CSURfQURKVVNUTUVOVCxoPWwuQklEREVSX0RPTkUsQT1sLlNFVF9UQVJHRVRJTkcsUz1sLkFEX1JFTkRFUl9GQUlMRUQsXz1sLkFEX1JFTkRFUl9TVUNDRUVERUQsRT1sLkFVQ1RJT05fREVCVUcsTz1sLkFERF9BRF9VTklUUyx3PSJlbmRwb2ludCIsST0iYnVuZGxlIn19LFsyOTddKTsKdXBianNDaHVuayhbMzEzXSx7MzMzOmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzMzQpfSwzMzQ6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGUsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBpPXIoMCksbj1yKDEpLG89cigyKSxkPXIoMyk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfXZhciB1PSJicmlnaHRjb20iLHM9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe2lmKHQuYmlkZGVyIT09dXx8dm9pZCAwPT09dC5wYXJhbXMpcmV0dXJuITE7aWYodm9pZCAwPT09dC5wYXJhbXMucHVibGlzaGVySWQpcmV0dXJuITE7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt0cnl7dmFyIHI9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgbj1bXSxvPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicHVibGlzaGVySWQiLHRbMF0ucGFyYW1zKTtPYmplY3QoaS5fZWFjaCkodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5tZWRpYVR5cGVzJiZ0Lm1lZGlhVHlwZXMuYmFubmVyJiZ0Lm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHx0LnNpemVzLHI9KGU9KGU9T2JqZWN0KGkuaXNBcnJheSkoZSkmJk9iamVjdChpLmlzQXJyYXkpKGVbMF0pP2U6W2VdKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KSh0KX0pKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX0pKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuYWRVbml0Q29kZSksZD1yLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5oKmUudzx0LmgqdC53P2U6dH0pKSxhPWZ1bmN0aW9uKHQpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0KGkuZ2V0V2luZG93U2VsZikoKSE9PU9iamVjdChpLmdldFdpbmRvd1RvcCkoKX1jYXRjaCh0KXtyZXR1cm4hMH19KCkmJm51bGwhPT10fShvKT9mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxvPXIuaDtyZXR1cm4idmlzaWJsZSI9PT1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2godCxlLHt3Om4saDpvfSk6MH0obyxPYmplY3QoaS5nZXRXaW5kb3dUb3ApKCksZCk6Im5hIix1PWlzTmFOKGEpP2E6TWF0aC5yb3VuZChhKSxzPXtpZDp0LmJpZElkLGJhbm5lcjp7Zm9ybWF0OnIsZXh0Ont2aWV3YWJpbGl0eTp1fX0sdGFnaWQ6U3RyaW5nKHQuYWRVbml0Q29kZSl9LGM9ZnVuY3Rpb24odCl7aWYoIU9iamVjdChpLmlzRm4pKHQuZ2V0Rmxvb3IpKXJldHVybiB0LnBhcmFtcy5iaWRGbG9vcj90LnBhcmFtcy5iaWRGbG9vcjpudWxsO3ZhciBlPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KShlKSYmIWlzTmFOKGUuZmxvb3IpJiYiVVNEIj09PWUuY3VycmVuY3kpcmV0dXJuIGUuZmxvb3I7cmV0dXJuIG51bGx9KHQpO2MmJihzLmJpZGZsb29yPWMpLG4ucHVzaChzKX0pKTt2YXIgYT17aWQ6T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxpbXA6bixzaXRlOntkb21haW46T2JqZWN0KGkucGFyc2VVcmwpKHIpLmhvc3QscGFnZTpyLHB1Ymxpc2hlcjp7aWQ6b319LGRldmljZTp7ZGV2aWNldHlwZTovKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8xOi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/MzoyLHc6c2NyZWVuLndpZHRoLGg6c2NyZWVuLmhlaWdodH0sdG1heDpkLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9O3JldHVybiBlJiZlLmdkcHJDb25zZW50JiYoT2JqZWN0KGkuZGVlcFNldFZhbHVlKShhLCJyZWdzLmV4dC5nZHByIiwrZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyksT2JqZWN0KGkuZGVlcFNldFZhbHVlKShhLCJ1c2VyLmV4dC5jb25zZW50IixlLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYnJpZ2h0Y29tYmlkLm1hcnBoZXppcy5jb20vaGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYSksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMX19fWNhdGNoKHIpe09iamVjdChpLmxvZ0Vycm9yKShyLHtiaWRSZXFzOnQsYmlkZGVyUmVxdWVzdDplfSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0KXtpZighdC5ib2R5fHwib2JqZWN0IiE9YSh0LmJvZHkpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiQnJpZ2h0Y29tIHNlcnZlciByZXR1cm5lZCBlbXB0eS9ub24tanNvbiByZXNwb25zZTogIitKU09OLnN0cmluZ2lmeSh0LmJvZHkpKSxbXTt2YXIgZT10LmJvZHkscj1lLmlkLG49ZS5zZWF0YmlkO3RyeXt2YXIgZD1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKHQpe2QucHVzaCh7cmVxdWVzdElkOnQuaW1waWQsY3BtOnBhcnNlRmxvYXQodC5wcmljZSksd2lkdGg6cGFyc2VJbnQodC53KSxoZWlnaHQ6cGFyc2VJbnQodC5oKSxjcmVhdGl2ZUlkOnQuY3JpZHx8dC5pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTpvLmIsYWQ6Yyh0KSx0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6dCYmdC5hZG9tYWluP3QuYWRvbWFpbjpbXX19KX0pKSxkfWNhdGNoKHQpe09iamVjdChpLmxvZ0Vycm9yKSh0LHtpZDpyLHNlYXRiaWQ6bn0pfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm5bXX19O2Z1bmN0aW9uIGModCl7dmFyIGU9dC5hZG07cmV0dXJuIm51cmwiaW4gdCYmKGUrPU9iamVjdChpLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKSh0Lm51cmwpKSxlfWZ1bmN0aW9uIGIodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9ZS53LGk9ZS5oLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPW4ud2lkdGgsZD1uLmhlaWdodCxhPW4ubGVmdCx1PW4udG9wLHM9bi5yaWdodCxjPW4uYm90dG9tO3JldHVybigwPT09b3x8MD09PWQpJiZyJiZpJiYobz1yLGQ9aSxzPWErcixjPXUraSkse3dpZHRoOm8saGVpZ2h0OmQsbGVmdDphLHRvcDp1LHJpZ2h0OnMsYm90dG9tOmN9fWZ1bmN0aW9uIHAodCl7Zm9yKHZhciBlPXtsZWZ0OnRbMF0ubGVmdCxyaWdodDp0WzBdLnJpZ2h0LHRvcDp0WzBdLnRvcCxib3R0b206dFswXS5ib3R0b219LHI9MTtyPHQubGVuZ3RoOysrcil7aWYoZS5sZWZ0PU1hdGgubWF4KGUubGVmdCx0W3JdLmxlZnQpLGUucmlnaHQ9TWF0aC5taW4oZS5yaWdodCx0W3JdLnJpZ2h0KSxlLmxlZnQ+PWUucmlnaHQpcmV0dXJuIG51bGw7aWYoZS50b3A9TWF0aC5tYXgoZS50b3AsdFtyXS50b3ApLGUuYm90dG9tPU1hdGgubWluKGUuYm90dG9tLHRbcl0uYm90dG9tKSxlLnRvcD49ZS5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIGUud2lkdGg9ZS5yaWdodC1lLmxlZnQsZS5oZWlnaHQ9ZS5ib3R0b20tZS50b3AsZX1mdW5jdGlvbiBoKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9ci53LG49ci5oLG89Yih0LHt3OmksaDpufSksZD1wKFt7bGVmdDowLHRvcDowLHJpZ2h0OmUuaW5uZXJXaWR0aCxib3R0b206ZS5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09ZD9kLndpZHRoKmQuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikocyl9fSxbMzMzXSk7CnVwYmpzQ2h1bmsoWzI5N10sezM3NjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzc3KX0sMzc3OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJhbGxvd0F1Y3Rpb24iLChmdW5jdGlvbigpe3JldHVybiBDfSkpLGUuZCh0LCJ1c2VyQ01QIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxlLmQodCwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLGUuZCh0LCJnZHByU2NvcGUiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksdC5yZXF1ZXN0Qmlkc0hvb2s9aix0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXttPXZvaWQgMCxmPXZvaWQgMCx2PTAsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1BO3ZhciBvPWUoMCksYT1lKDMpLGk9ZSg4KSxjPWUoMTIpLHI9ZS5uKGMpLHM9ZSg4MyksZD1lLm4ocyk7ZnVuY3Rpb24gbChuKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfWZ1bmN0aW9uIHUobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBmLHAsZyxiLG0sQz17dmFsdWU6dHJ1ZSxkZWZpbmVkSW5Db25maWc6ITF9LHY9MCx5PSExLHc9e2lhYjpmdW5jdGlvbihuLHQsZSl7ZnVuY3Rpb24gYShhLGkpe09iamVjdChvLmxvZ0luZm8pKCJSZWNlaXZlZCBhIHJlc3BvbnNlIGZyb20gQ01QIixhKSxpPyExIT09YS5nZHByQXBwbGllcyYmInRjbG9hZGVkIiE9PWEuZXZlbnRTdGF0dXMmJiJ1c2VyYWN0aW9uY29tcGxldGUiIT09YS5ldmVudFN0YXR1c3x8bihhLGUpOnQoIkNNUCB1bmFibGUgdG8gcmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24uICBQbGVhc2UgY2hlY2sgQ01QIHNldHVwLiIsZSl9dmFyIGk9ZnVuY3Rpb24oKXt2YXIgdD17fTtmdW5jdGlvbiBhKCl7dC5nZXRDb25zZW50RGF0YSYmdC5nZXRWZW5kb3JDb25zZW50cyYmKE9iamVjdChvLmxvZ0luZm8pKCJSZWNlaXZlZCBhbGwgcmVxdWVzdGVkIHJlc3BvbnNlcyBmcm9tIENNUCIsdCksbih0LGUpKX1yZXR1cm57Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldENvbnNlbnREYXRhPW4sYSgpfSx2ZW5kb3JDb25zZW50c0NhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0VmVuZG9yQ29uc2VudHM9bixhKCl9fX0oKSxjPXt9LHI9ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlPXdpbmRvdzshbjspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuX19jbXApeyJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpPyh2PTIsdD1lLl9fdGNmYXBpKToodj0xLHQ9ZS5fX2NtcCksbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fdGNmYXBpTG9jYXRvcil7dj0yLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX2NtcExvY2F0b3Ipe3Y9MSxuPWU7YnJlYWt9fWNhdGNoKG4pe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybntjbXBGcmFtZTpuLGNtcEZ1bmN0aW9uOnR9fSgpLHM9ci5jbXBGcmFtZSxsPXIuY21wRnVuY3Rpb247aWYoIXMpcmV0dXJuIHQoIkNNUCBub3QgZm91bmQuIixlKTtPYmplY3Qoby5pc0ZuKShsKT8oT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIENNUCBBUEkgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dj8obCgiZ2V0Q29uc2VudERhdGEiLG51bGwsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxsKCJnZXRWZW5kb3JDb25zZW50cyIsbnVsbCxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09diYmbCgiYWRkRXZlbnRMaXN0ZW5lciIsdixhKSk6MT09PXYmJndpbmRvdy4kc2YmJndpbmRvdy4kc2YuZXh0JiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LiRzZi5leHQuY21wPyhPYmplY3Qoby5sb2dJbmZvKSgiRGV0ZWN0ZWQgUHJlYmlkLmpzIGlzIGVuY2FzZWQgaW4gYSBTYWZlRnJhbWUgYW5kIENNUCBpcyByZWdpc3RlcmVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLGYoImdldENvbnNlbnREYXRhIixpLmNvbnNlbnREYXRhQ2FsbGJhY2spLGYoImdldFZlbmRvckNvbnNlbnRzIixpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKTooT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dj8ocCgiZ2V0Q29uc2VudERhdGEiLHMsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxwKCJnZXRWZW5kb3JDb25zZW50cyIscyxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09diYmcCgiYWRkRXZlbnRMaXN0ZW5lciIscyxhKSk7ZnVuY3Rpb24gZihuLHQpe3ZhciBhPWUuYWRVbml0cyxpPTEsYz0xO2lmKEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjApe3ZhciByPU9iamVjdChvLmdldEFkVW5pdFNpemVzKShhWzBdKTtpPXJbMF1bMF0sYz1yWzBdWzFdfXdpbmRvdy4kc2YuZXh0LnJlZ2lzdGVyKGksYywoZnVuY3Rpb24oZSxvKXtpZigiY21wUmV0dXJuIj09PWUpe3ZhciBhPSJnZXRDb25zZW50RGF0YSI9PT1uP28udmVuZG9yQ29uc2VudERhdGE6by52ZW5kb3JDb25zZW50czt0KGEpfX0pKSx3aW5kb3cuJHNmLmV4dC5jbXAobil9ZnVuY3Rpb24gcChuLHQsZSl7dmFyIG89Mj09PXY/Il9fdGNmYXBpIjoiX19jbXAiLGE9IiIuY29uY2F0KG8sIkNhbGwiKTtmdW5jdGlvbiBpKG4pe3ZhciB0PSIiLmNvbmNhdChvLCJSZXR1cm4iKSxlPSJzdHJpbmciPT10eXBlb2Ygbi5kYXRhJiZkKCkobi5kYXRhLHQpP0pTT04ucGFyc2Uobi5kYXRhKTpuLmRhdGE7aWYoZVt0XSYmZVt0XS5jYWxsSWQpe3ZhciBhPWVbdF07dm9pZCAwIT09Y1thLmNhbGxJZF0mJmNbYS5jYWxsSWRdKGEucmV0dXJuVmFsdWUsYS5zdWNjZXNzKX19Mj09PXY/KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyxpKXt2YXIgcj1NYXRoLnJhbmRvbSgpKyIiLHM9dSh7fSxhLHtjb21tYW5kOm4sdmVyc2lvbjplLHBhcmFtZXRlcjppLGNhbGxJZDpyfSk7Y1tyXT1vLHQucG9zdE1lc3NhZ2UocywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdixlKSk6KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyl7dmFyIGk9TWF0aC5yYW5kb20oKSsiIixyPXUoe30sYSx7Y29tbWFuZDpuLHBhcmFtZXRlcjplLGNhbGxJZDppfSk7Y1tpXT1vLHQucG9zdE1lc3NhZ2UociwiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdm9pZCAwLGUpKX19LHN0YXRpYzpmdW5jdGlvbihuLHQsZSl7bihiLGUpfX07ZnVuY3Rpb24gaihuLHQpe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbdF0sbmV4dEZuOm4sYWRVbml0czp0LmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOnQuYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07cmV0dXJuIG0/KE9iamVjdChvLmxvZ0luZm8pKCJVc2VyIGNvbnNlbnQgaW5mb3JtYXRpb24gYWxyZWFkeSBrbm93bi4gIFB1bGxpbmcgaW50ZXJuYWxseSBzdG9yZWQgaW5mb3JtYXRpb24uLi4iKSxoKG51bGwsZSkpOnIoKShPYmplY3Qua2V5cyh3KSxmKT8od1tmXS5jYWxsKHRoaXMsRCxrLGUpLHZvaWQoZS5oYXZlRXhpdGVkfHwoMD09PXA/RCh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KE8uYmluZChudWxsLGUpLHApKSkpOihPYmplY3Qoby5sb2dXYXJuKSgiQ01QIGZyYW1ld29yayAoIi5jb25jYXQoZiwiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiAgQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKSl9ZnVuY3Rpb24gRChuLHQpeyJzdGF0aWMiPT09ZiYmMj09PSh2PW4uZ2V0Q29uc2VudERhdGE/MTpuLmdldFRDRGF0YT8yOjApJiYobj1uLmdldFRDRGF0YSk7dmFyIGU9MT09PXY/ZnVuY3Rpb24obil7dmFyIHQ9biYmbi5nZXRDb25zZW50RGF0YSYmbi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllcztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fE9iamVjdChvLmlzU3RyKShuLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhKSYmT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5nZXRWZW5kb3JDb25zZW50cykmJk9iamVjdC5rZXlzKG4uZ2V0VmVuZG9yQ29uc2VudHMpLmxlbmd0aD4xKSl9OjI9PT12P2Z1bmN0aW9uKCl7dmFyIHQ9biYmImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQXBwbGllcz9uLmdkcHJBcHBsaWVzOmcsZT1uJiZuLnRjU3RyaW5nO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgdCYmKCEwIT09dHx8T2JqZWN0KG8uaXNTdHIpKGUpKSl9Om51bGw7Qy5kZWZpbmVkSW5Db25maWcmJjI9PT12P09iamVjdChvLmxvZ1dhcm4pKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIGlnbm9yZWQgZm9yIFRDRiAyIik6Qy5kZWZpbmVkSW5Db25maWd8fDEhPT12fHxPYmplY3Qoby5sb2dJbmZvKSgiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyB1c2luZyBzeXN0ZW0gZGVmYXVsdDogKCIuY29uY2F0KHRydWUsIikuIikpLE9iamVjdChvLmlzRm4pKGUpP2Uobik/aygiQ01QIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsdCxuKTooY2xlYXJUaW1lb3V0KHQudGltZXIpLE0obiksaChudWxsLHQpKTprKCJVbmFibGUgdG8gZGVyaXZlIENNUCB2ZXJzaW9uIHRvIHByb2Nlc3MgZGF0YS4gIENvbnNlbnQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gVENGIHYxIG9yIHYyIHNwZWNzLiIsdCxuKX1mdW5jdGlvbiBPKG4pe2soIkNNUCB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfWZ1bmN0aW9uIGsobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSxDLnZhbHVlJiYxPT09diYmTSh2b2lkIDApLGgobix0LGUpfWZ1bmN0aW9uIE0obil7MT09PXY/bT17Y29uc2VudFN0cmluZzpuP24uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGE6dm9pZCAwLHZlbmRvckRhdGE6bj9uLmdldFZlbmRvckNvbnNlbnRzOnZvaWQgMCxnZHByQXBwbGllczpuP24uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM6Z306KG09e2NvbnNlbnRTdHJpbmc6bj9uLnRjU3RyaW5nOnZvaWQgMCx2ZW5kb3JEYXRhOm58fHZvaWQgMCxnZHByQXBwbGllczpuJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6Z30sbiYmbi5hZGR0bENvbnNlbnQmJk9iamVjdChvLmlzU3RyKShuLmFkZHRsQ29uc2VudCkmJihtLmFkZHRsQ29uc2VudD1uLmFkZHRsQ29uc2VudCkpLG0uYXBpVmVyc2lvbj12LGkuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG0pfWZ1bmN0aW9uIGgobix0LGUpe2lmKCExPT09dC5oYXZlRXhpdGVkKXt0LmhhdmVFeGl0ZWQ9ITA7dmFyIGE9dC5jb250ZXh0LGk9dC5hcmdzLGM9dC5uZXh0Rm47bj9DLnZhbHVlJiYxPT09dj8oT2JqZWN0KG8ubG9nV2FybikobisiICdhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgYWN0aXZhdGVkLiIsZSksYy5hcHBseShhLGkpKTooT2JqZWN0KG8ubG9nRXJyb3IpKG4rIiBDYW5jZWxpbmcgYXVjdGlvbiBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksImZ1bmN0aW9uIj09dHlwZW9mIHQuYmlkc0JhY2tIYW5kbGVyP3QuYmlkc0JhY2tIYW5kbGVyKCk6T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIikpOmMuYXBwbHkoYSxpKX19ZnVuY3Rpb24gQShuKXsobj1uJiYobi5nZHByfHxuLnVzcD9uLmdkcHI6bikpJiYib2JqZWN0Ij09PWwobik/KE9iamVjdChvLmlzU3RyKShuLmNtcEFwaSk/Zj1uLmNtcEFwaTooZj0iaWFiIixPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXAuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLE9iamVjdChvLmlzTnVtYmVyKShuLnRpbWVvdXQpP3A9bi50aW1lb3V0OihwPTFlNCxPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoMWU0LCIpLiIpKSksImJvb2xlYW4iPT10eXBlb2Ygbi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCYmKEMudmFsdWU9bi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCxDLmRlZmluZWRJbkNvbmZpZz0hMCksZz0hMD09PW4uZGVmYXVsdEdkcHJTY29wZSxPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZiYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uY29uc2VudERhdGEpPyhiPW4uY29uc2VudERhdGEscD0wKTpPYmplY3Qoby5sb2dFcnJvcikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSkseXx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGosNTApLHk9ITApOk9iamVjdChvLmxvZ1dhcm4pKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gQShuLmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszNzZdKTsKdXBianNDaHVuayhbMjk2XSx7MzgzOmZ1bmN0aW9uKHQsbixlKXt0LmV4cG9ydHM9ZSgzODQpfSwzODQ6ZnVuY3Rpb24odCxuLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKG4sImNvbnNlbnRBUEkiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGUuZChuLCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZS5kKG4sInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLnJlcXVlc3RCaWRzSG9vaz1mLG4ucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe2w9dm9pZCAwLHM9dm9pZCAwLGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LG4uc2V0Q29uc2VudENvbmZpZz1QO3ZhciBhPWUoMCksbz1lKDMpLGk9ZSg4KTtmdW5jdGlvbiBjKHQpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHMscix1LGwsZD0hMSxwPXtpYWI6ZnVuY3Rpb24odCxuLGUpe3ZhciBvPSh1PXt9LHtjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKGEsbyl7byYmYS51c3BTdHJpbmcmJih1LnVzUHJpdmFjeT1hLnVzcFN0cmluZyksdS51c1ByaXZhY3k/dCh1LGUpOm4oIlVuYWJsZSB0byBnZXQgVVNQIGNvbnNlbnQgc3RyaW5nLiIsZSl9fSksaT17fSxjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LG4sZT13aW5kb3c7IXQ7KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX191c3BhcGkpe249ZS5fX3VzcGFwaSx0PWU7YnJlYWt9fWNhdGNoKHQpe310cnl7aWYoZS5mcmFtZXMuX191c3BhcGlMb2NhdG9yKXt0PWU7YnJlYWt9fWNhdGNoKHQpe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybnt1c3BhcGlGcmFtZTp0LHVzcGFwaUZ1bmN0aW9uOm59fSgpLHM9Yy51c3BhcGlGcmFtZSxyPWMudXNwYXBpRnVuY3Rpb247dmFyIHU7aWYoIXMpcmV0dXJuIG4oIlVTUCBDTVAgbm90IGZvdW5kLiIsZSk7T2JqZWN0KGEuaXNGbikocik/KE9iamVjdChhLmxvZ0luZm8pKCJEZXRlY3RlZCBVU1AgQ01QIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIikscigiZ2V0VVNQRGF0YSIsMSxvLmNvbnNlbnREYXRhQ2FsbGJhY2spKTooT2JqZWN0KGEubG9nSW5mbykoIkRldGVjdGVkIFVTUCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZnVuY3Rpb24odCxuLGUpe2Z1bmN0aW9uIGEodCl7dmFyIG49dCYmdC5kYXRhJiZ0LmRhdGEuX191c3BhcGlSZXR1cm47biYmbi5jYWxsSWQmJnZvaWQgMCE9PWlbbi5jYWxsSWRdJiYoaVtuLmNhbGxJZF0obi5yZXR1cm5WYWx1ZSxuLnN1Y2Nlc3MpLGRlbGV0ZSBpW24uY2FsbElkXSl9d2luZG93Ll9fdXNwYXBpPWZ1bmN0aW9uKHQsZSxhKXt2YXIgbz1NYXRoLnJhbmRvbSgpKyIiLGM9e19fdXNwYXBpQ2FsbDp7Y29tbWFuZDp0LHZlcnNpb246ZSxjYWxsSWQ6b319O2lbb109YSxuLnBvc3RNZXNzYWdlKGMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLHdpbmRvdy5fX3VzcGFwaSh0LDEsZSl9KCJnZXRVU1BEYXRhIixzLG8uY29uc2VudERhdGFDYWxsYmFjaykpfSxzdGF0aWM6ZnVuY3Rpb24odCxuLGUpe3QodSxlKX19O2Z1bmN0aW9uIGYodCxuKXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W25dLG5leHRGbjp0LGFkVW5pdHM6bi5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjpuLmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O2lmKCFwW3NdKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiVVNQIGZyYW1ld29yayAoIi5jb25jYXQocywiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpO3Bbc10uY2FsbCh0aGlzLGcsbSxlKSxlLmhhdmVFeGl0ZWR8fCgwPT09cj9nKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQoYi5iaW5kKG51bGwsZSkscikpfWZ1bmN0aW9uIGcodCxuKXshdHx8IXQudXNQcml2YWN5P20oIlVTUEFQSSByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLG4sdCk6KGNsZWFyVGltZW91dChuLnRpbWVyKSxmdW5jdGlvbih0KXt0JiZ0LnVzUHJpdmFjeSYmKGw9dC51c1ByaXZhY3ksaS51c3BEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShsKSl9KHQpLHkobnVsbCxuKSl9ZnVuY3Rpb24gYih0KXttKCJVU1BBUEkgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIix0KX1mdW5jdGlvbiBtKHQsbixlKXtjbGVhclRpbWVvdXQobi50aW1lcikseSh0LG4sZSl9ZnVuY3Rpb24geSh0LG4sZSl7aWYoITE9PT1uLmhhdmVFeGl0ZWQpe24uaGF2ZUV4aXRlZD0hMDt2YXIgbz1uLmNvbnRleHQsaT1uLmFyZ3MsYz1uLm5leHRGbjt0JiZPYmplY3QoYS5sb2dXYXJuKSh0KyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksYy5hcHBseShvLGkpfX1mdW5jdGlvbiBQKHQpeyh0PXQmJnQudXNwKSYmIm9iamVjdCI9PT1jKHQpPyhPYmplY3QoYS5pc1N0cikodC5jbXBBcGkpP3M9dC5jbXBBcGk6KHM9ImlhYiIsT2JqZWN0KGEubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcEFwaS4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoImlhYiIsIikuIikpKSxPYmplY3QoYS5pc051bWJlcikodC50aW1lb3V0KT9yPXQudGltZW91dDoocj01MCxPYmplY3QoYS5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoNTAsIikuIikpKSxPYmplY3QoYS5sb2dJbmZvKSgiVVNQQVBJIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBoYXMgYmVlbiBhY3RpdmF0ZWQuLi4iKSwic3RhdGljIj09PXMmJihPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0LmNvbnNlbnREYXRhKSYmT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkodC5jb25zZW50RGF0YS5nZXRVU1BEYXRhKT8odC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZyYmKHU9e3VzUHJpdmFjeTp0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nfSkscj0wKTpPYmplY3QoYS5sb2dFcnJvcikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSksZHx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGYsNTApLGQ9ITApOk9iamVjdChhLmxvZ1dhcm4pKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIHVzcCBjb25zZW50IG1hbmFnZXIiKX1vLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBQKHQuY29uc2VudE1hbmFnZW1lbnQpfSkpfX0sWzM4M10pOwp1cGJqc0NodW5rKFsyOTVdLHszODU6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDM4Nil9LDM4NjpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHQ9bigwKSxpPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKGVbdF09blt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGE9MCxkPSJjb25zdW1hYmxlIix1PXtjb2RlOiJjb25zdW1hYmxlIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5uZXR3b3JrSWQmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMudW5pdElkJiZlLnBhcmFtcy51bml0TmFtZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgbj17bWV0aG9kOiJQT1NUIix1cmw6IiIsZGF0YToiIixiaWRSZXF1ZXN0OltdfTtpZihlLmxlbmd0aDwxKXJldHVybiBuO2E9ZVswXS5wYXJhbXMuc2l0ZUlkLGQ9ZVswXS5iaWRkZXI7dmFyIHQ9cyh7cGxhY2VtZW50czpbXSx0aW1lOkRhdGUubm93KCksdXJsOnIucmVmZXJlckluZm8ucmVmZXJlcixyZWZlcnJlcjpkb2N1bWVudC5yZWZlcnJlcixzb3VyY2U6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4yMC4yIn1dfSxlWzBdLnBhcmFtcyk7cmV0dXJuIHImJnIuZ2RwckNvbnNlbnQmJih0LmdkcHI9e2NvbnNlbnQ6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGFwcGxpZXM6ImJvb2xlYW4iIT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLHImJnIudXNwQ29uc2VudCYmKHQuY2NwYT1yLnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXN8fFtdLG49cyh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHxwKHIpfSxlLnBhcmFtcyk7bi5uZXR3b3JrSWQmJm4uc2l0ZUlkJiZuLnVuaXRJZCYmbi51bml0TmFtZSYmdC5wbGFjZW1lbnRzLnB1c2gobil9KSksbi5kYXRhPUpTT04uc3RyaW5naWZ5KHQpLG4uYmlkUmVxdWVzdD1lLG4uYmlkZGVyUmVxdWVzdD1yLG4udXJsPSJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIiLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIG4sdCxpLHMsYT1bXTt0PXIuYmlkUmVxdWVzdCxlPShlfHx7fSkuYm9keTtmb3IodmFyIGQ9MDtkPHQubGVuZ3RoO2QrKylpZihuPXt9LGk9KHM9dFtkXSkuYmlkSWQsZSl7dmFyIHU9ZS5kZWNpc2lvbnMmJmUuZGVjaXNpb25zW2ldLG89dSYmdS5wcmljaW5nJiZ1LnByaWNpbmcuY2xlYXJQcmljZTt1JiZvJiYobi5yZXF1ZXN0SWQ9aSxuLmNwbT1vLG4ud2lkdGg9dS53aWR0aCxuLmhlaWdodD11LmhlaWdodCxuLnVuaXRJZD1zLnBhcmFtcy51bml0SWQsbi51bml0TmFtZT1zLnBhcmFtcy51bml0TmFtZSxuLmFkPWModSxuLnVuaXRJZCxuLnVuaXROYW1lKSxuLmN1cnJlbmN5PSJVU0QiLG4uY3JlYXRpdmVJZD11LmFkSWQsbi50dGw9MzAsbi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczp1LmFkb21haW4/dS5hZG9tYWluOltdfSxuLm5ldFJldmVudWU9ITAsbi5yZWZlcnJlcj1yLmJpZGRlclJlcXVlc3QucmVmZXJlckluZm8ucmVmZXJlcixhLnB1c2gobikpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vc3luYy5zZXJ2ZXJiaWQuY29tL3NzLyIrYSsiLmh0bWwifV06ZS5waXhlbEVuYWJsZWQmJnIubGVuZ3RoPjA/clswXS5ib2R5LnBpeGVsczp2b2lkIE9iamVjdCh0LmxvZ1dhcm4pKGQrIjogUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jaW5nLiIpfX0sbz1bbnVsbCwiMTIweDkwIiwiMTIweDkwIiwiNDY4eDYwIiwiNzI4eDkwIiwiMzAweDI1MCIsIjE2MHg2MDAiLCIxMjB4NjAwIiwiMzAweDEwMCIsIjE4MHgxNTAiLCIzMzZ4MjgwIiwiMjQweDQwMCIsIjIzNHg2MCIsIjg4eDMxIiwiMTIweDYwIiwiMTIweDI0MCIsIjEyNXgxMjUiLCIyMjB4MjUwIiwiMjUweDI1MCIsIjI1MHg5MCIsIjB4MCIsIjIwMHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsIjMyMHg0ODAiLCIxODV4MTg1IiwiNjIweDQ1IiwiMzAweDEyNSIsIjgwMHgyNTAiXTtmdW5jdGlvbiBwKGUpe3ZhciByPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW8uaW5kZXhPZihlWzBdKyJ4IitlWzFdKTtuPj0wJiZyLnB1c2gobil9KSkscn1mdW5jdGlvbiBjKGUscixuKXtyZXR1cm4gZS5jb250ZW50cyYmZS5jb250ZW50c1swXSYmZS5jb250ZW50c1swXS5ib2R5K09iamVjdCh0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShlLmltcHJlc3Npb25VcmwpfW9bNzddPSI5NzB4OTAiLG9bMTIzXT0iOTcweDI1MCIsb1s0M109IjMwMHg2MDAiLG9bMjg2XT0iOTcweDY2IixvWzMyMzBdPSI5NzB4MjgwIixvWzQyOV09IjQ4Nng2MCIsb1szNzRdPSI3MDB4NTAwIixvWzkzNF09IjMwMHgxMDUwIixvWzE1NzhdPSIzMjB4MTAwIixvWzMzMV09IjMyMHgyNTAiLG9bMzMwMV09IjMyMHgyNjciLG9bMjczMF09IjcyOHgyNTAiLE9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFszODVdKTsKdXBianNDaHVuayhbMjkzXSx7Mzg5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgzOTApfSwzOTA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj10KDApLGE9dCgxKSxpPXQoMiksbz10KDcpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGMoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGMoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufXZhciBkPU9iamVjdChvLmIpKDI0KSx1PSJjb252ZXJzYW50IixwPXtjb2RlOnUsZ3ZsaWQ6MjQsYWxpYXNlczpbImNudnIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpLCExO2lmKCFPYmplY3Qobi5pc1N0cikoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIE9iamVjdChuLmxvZ1dhcm4pKCJjb252ZXJzYW50OiBzaXRlX2lkIG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgc3RyaW5nIiksITE7aWYobChlKSl7dmFyIHI9ZS5wYXJhbXMubWltZXN8fE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKTtpZihyKXtpZighT2JqZWN0KG4uaXNBcnJheSkocil8fCFyLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKGUpfSkpKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogbWltZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIiksITF9ZWxzZSBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIil9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxhPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLGk9IiIsbz0iIixzPW51bGwsYz0iX3B1YmNpZCIsdT0iaHR0cHM6Ly93ZWIuaGIuYWQuY3BlLmRvdG9taS5jb20vY3Z4L2NsaWVudC9oYi9vcnRiLzI1IixwPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoImJpZGZsb29yIixlLnBhcmFtcyk7aWYoIXImJk9iamVjdChuLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7T2JqZWN0KG4uaXNQbGFpbk9iamVjdCkodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5JiYocj10LmZsb29yKX1yZXR1cm4gcn0oZSk7aT1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoInNpdGVfaWQiLGUucGFyYW1zKXx8aSxjPU9iamVjdChuLmdldEJpZElkUGFyYW1ldGVyKSgicHViY2lkX25hbWUiLGUucGFyYW1zKXx8YyxvPWUuYXVjdGlvbklkO3ZhciB0PXtpZDplLmJpZElkLHNlY3VyZToxLGJpZGZsb29yOnJ8fDAsZGlzcGxheW1hbmFnZXI6IlByZWJpZC5qcyIsZGlzcGxheW1hbmFnZXJ2ZXI6IjUuMjAuMiJ9O2lmKGIoZS5wYXJhbXMudGFnX2lkLHQsInRhZ2lkIiksbChlKSl7dmFyIGE9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPW0oYS5wbGF5ZXJTaXplfHxlLnNpemVzKSxwPXt9O2QmJmRbMF0mJihiKGRbMF0udyxwLCJ3IiksYihkWzBdLmgscCwiaCIpKSxiKGUucGFyYW1zLnBvc2l0aW9uLHAsInBvcyIpLGIoZS5wYXJhbXMubWltZXN8fGEubWltZXMscCwibWltZXMiKSxiKGUucGFyYW1zLm1heGR1cmF0aW9ufHxhLm1heGR1cmF0aW9uLHAsIm1heGR1cmF0aW9uIiksYihlLnBhcmFtcy5wcm90b2NvbHN8fGEucHJvdG9jb2xzLHAsInByb3RvY29scyIpLGIoZS5wYXJhbXMuYXBpfHxhLmFwaSxwLCJhcGkiKSx0LnZpZGVvPXB9ZWxzZXt2YXIgZj17Zm9ybWF0Om0oKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fHt9KS5zaXplc3x8ZS5zaXplcyl9O2IoZS5wYXJhbXMucG9zaXRpb24sZiwicG9zIiksdC5iYW5uZXI9Zn1yZXR1cm4gZS51c2VySWQmJmUudXNlcklkLnB1YmNpZD9zPWUudXNlcklkLnB1YmNpZDplLmNydW1icyYmZS5jcnVtYnMucHViY2lkJiYocz1lLmNydW1icy5wdWJjaWQpLGUucGFyYW1zLndoaXRlX2xhYmVsX3VybCYmKHU9ZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsKSx0fSkpLGY9e2lkOm8saW1wOnAsc2l0ZTp7aWQ6aSxtb2JpbGU6bnVsbCE9PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0idmlld3BvcnQiXVtjb250ZW50Kj0id2lkdGg9ZGV2aWNlLXdpZHRoIl0nKT8xOjAscGFnZTphfSxkZXZpY2U6KHQ9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSIse2g6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vVHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGxhbmd1YWdlOm5hdmlnYXRvclt0XS5zcGxpdCgiLSIpWzBdLG1ha2U6bmF2aWdhdG9yLnZlbmRvcj9uYXZpZ2F0b3IudmVuZG9yOiIiLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9KSxhdDoxfSxnPXt9O3ImJihyLmdkcHJDb25zZW50JiYoZy5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGYsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksci51c3BDb25zZW50JiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGYsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLHN8fChzPWZ1bmN0aW9uKGUpe3ZhciByO3RyeXtpZighKHI9ZC5nZXRDb29raWUoZSkpKXt2YXIgdD1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIikpOygiIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjApJiYocj0ocj1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpKT9kZWNvZGVVUklDb21wb25lbnQocik6cil9T2JqZWN0KG4uaXNTdHIpKHIpJiYieyI9PT1yLmNoYXJBdCgwKSYmKHI9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nRXJyb3IpKGUpfXJldHVybiByfShjKSkscyYmKGcuZnBjPXMpO3ZhciB2PWZ1bmN0aW9uKGUpe3ZhciByPWVbMF0sdD1bXTtpZihPYmplY3Qobi5pc0FycmF5KShyLnVzZXJJZEFzRWlkcykmJnIudXNlcklkQXNFaWRzLmxlbmd0aD4wKXt2YXIgYT17ImVwc2lsb24uY29tIjoxLCJhZHNlcnZlci5vcmciOjEsImxpdmVyYW1wLmNvbSI6MSwiY3JpdGVvLmNvbSI6MSwiaWQ1LXN5bmMuY29tIjoxLCJwYXJyYWJsZS5jb20iOjEsImxpdmVpbnRlbnQuY29tIjoxfTtyLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXthLmhhc093blByb3BlcnR5KGUuc291cmNlKSYmdC5wdXNoKGUpfSkpfXJldHVybiB0fShlKTtyZXR1cm4gdi5sZW5ndGg+MCYmKGcuZWlkcz12KSxPYmplY3Qobi5pc0VtcHR5KShnKXx8KGYudXNlcj17ZXh0Omd9KSx7bWV0aG9kOiJQT1NUIix1cmw6dSxkYXRhOmZ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGE9e307cmV0dXJuIGU9ZS5ib2R5LHImJnIuZGF0YSYmci5kYXRhLmltcCYmT2JqZWN0KG4uX2VhY2gpKHIuZGF0YS5pbXAsKGZ1bmN0aW9uKGUpe3JldHVybiBhW2UuaWRdPWV9KSksZSYmT2JqZWN0KG4uaXNBcnJheSkoZS5zZWF0YmlkKSYmT2JqZWN0KG4uX2VhY2gpKGUuc2VhdGJpZCwoZnVuY3Rpb24ocil7T2JqZWN0KG4uX2VhY2gpKHIuYmlkLChmdW5jdGlvbihyKXt2YXIgbj1wYXJzZUZsb2F0KHIucHJpY2UpO2lmKG4+MCYmci5pbXBpZCl7dmFyIGk9ci5hZG18fCIiLG89ci5udXJsfHwiIixzPWFbci5pbXBpZF0sYz17cmVxdWVzdElkOnIuaW1waWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNwbTpuLGNyZWF0aXZlSWQ6ci5jcmlkfHwiIix0dGw6MzAwLG5ldFJldmVudWU6ITAsbWV0YTp7fX07ci5hZG9tYWluJiZyLmFkb21haW4ubGVuZ3RoPjAmJihjLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ci5hZG9tYWluKSxzLnZpZGVvPygiPCI9PT1pLmNoYXJBdCgwKT9jLnZhc3RYbWw9aTpjLnZhc3RVcmw9aSxjLm1lZGlhVHlwZT0idmlkZW8iLGMud2lkdGg9cy52aWRlby53LGMuaGVpZ2h0PXMudmlkZW8uaCk6KGMuYWQ9aSsnPGltZyBzcmM9IicrbysnIiAvPicsYy53aWR0aD1yLncsYy5oZWlnaHQ9ci5oKSx0LnB1c2goYyl9fSkpfSkpLHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBPYmplY3Qobi5jb252ZXJ0VHlwZXMpKHtzaXRlX2lkOiJzdHJpbmciLHNlY3VyZToibnVtYmVyIixtb2JpbGU6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGk9e30sbz1bXTtpZih0JiYoaS5nZHByPXQuZ2RwckFwcGxpZXM/MTowLGkuZ2Rwcl9jb25zZW50PWVuY29kZVVSSUNvbXBvbmVudCh0LmNvbnNlbnRTdHJpbmd8fCIiKSksYSYmKGkudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQoYSkpLHImJnIuZXh0KXt2YXIgYz1be3VybHM6ci5leHQuZnN5bmNzLHR5cGU6ImlmcmFtZSJ9LHt1cmxzOnIuZXh0LnBzeW5jcyx0eXBlOiJpbWFnZSJ9XS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnVybHMmJigiaWZyYW1lIj09PXIudHlwZSYmZS5pZnJhbWVFbmFibGVkfHwiaW1hZ2UiPT09ci50eXBlJiZlLnBpeGVsRW5hYmxlZCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmxzLm1hcCgoZnVuY3Rpb24ocil7dmFyIHQ9T2JqZWN0KG4ucGFyc2VVcmwpKHIpO3JldHVybiBPYmplY3Qobi5tZXJnZURlZXApKHQuc2VhcmNoLGkpLDA9PT1PYmplY3Qua2V5cyh0LnNlYXJjaCkubGVuZ3RoJiZkZWxldGUgdC5zZWFyY2gse3R5cGU6ZS50eXBlLHVybDpPYmplY3Qobi5idWlsZFVybCkodCl9fSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQocil9KSxbXSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKTtvLnB1c2guYXBwbHkobyxzKGMpKX1yZXR1cm4gb319O2Z1bmN0aW9uIG0oZSl7dmFyIHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihyPTI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0/W3t3OmVbMF0saDplWzFdfV06T2JqZWN0KG4uX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpKSxyfWZ1bmN0aW9uIGwoZSl7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwhIU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBiKGUscix0KXtlJiYoclt0XT1lKX1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikocCl9fSxbMzg5XSk7CnVwYmpzQ2h1bmsoWzJdLHszOTU6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDM5Nil9LDM5NjpmdW5jdGlvbihtb2R1bGUsX193ZWJwYWNrX2V4cG9ydHNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJBREFQVEVSX1ZFUlNJT04iLChmdW5jdGlvbigpe3JldHVybiBBREFQVEVSX1ZFUlNJT059KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlBST0ZJTEVfSURfUFVCTElTSEVSVEFHIiwoZnVuY3Rpb24oKXtyZXR1cm4gUFJPRklMRV9JRF9QVUJMSVNIRVJUQUd9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVH0pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KSksX193ZWJwYWNrX2V4cG9ydHNfXy5jYW5GYXN0QmlkPWNhbkZhc3RCaWQsX193ZWJwYWNrX2V4cG9ydHNfXy5nZXRGYXN0QmlkVXJsPWdldEZhc3RCaWRVcmwsX193ZWJwYWNrX2V4cG9ydHNfXy50cnlHZXRDcml0ZW9GYXN0QmlkPXRyeUdldENyaXRlb0Zhc3RCaWQ7dmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGxvYWRlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMzUpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oNyk7ZnVuY3Rpb24gX2V4dGVuZHMoKXtyZXR1cm4oX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiYodFtpXT1yW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgR1ZMSUQ9OTEsQURBUFRFUl9WRVJTSU9OPTM0LEJJRERFUl9DT0RFPSJjcml0ZW8iLENEQl9FTkRQT0lOVD0iaHR0cHM6Ly9iaWRkZXIuY3JpdGVvLmNvbS9jZGIiLFBST0ZJTEVfSURfSU5MSU5FPTIwNyxQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRz0xODUsc3RvcmFnZT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXy5iKShHVkxJRCksTE9HX1BSRUZJWD0iQ3JpdGVvOiAiLEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVI9IiVGQVNUX0JJRF9WRVJTSU9OJSIsRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UPTExMyxGQVNUX0JJRF9WRVJTSU9OX0xBVEVTVD0ibGF0ZXN0IixGQVNUX0JJRF9WRVJTSU9OX05PTkU9Im5vbmUiLFBVQkxJU0hFUl9UQUdfVVJMX1RFTVBMQVRFPSJodHRwczovL3N0YXRpYy5jcml0ZW8ubmV0L2pzL2xkL3B1Ymxpc2hlcnRhZy5wcmViaWQiK0ZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIrIi5qcyIsRkFTVF9CSURfUFVCS0VZX0U9NjU1MzcsRkFTVF9CSURfUFVCS0VZX049Inp0UVl3Q0U1QlU3VDlDRE01aGU2cktvYWJzdFhSbWt6eDU0ekZQWmtXYks1MzBkd3RMQkRlYVdCTXhIQlVUNTVDWXlib1IvRVo0ZWZnaFBpM0NvTkdmR1dlenBqa285UDZwMkV3R0FydEhFZVM0c2xodS9TcFNJRk1qRzZmZHJwUm9OdUlBTWhxMVorUHIvK0hPZDFwVGhGS2VHRnIyL05odEFnK1RYQXphVT0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsZ3ZsaWQ6R1ZMSUQsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmQsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciByLGkscz1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldExlZ2FjeUZwZChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9O19leHRlbmRzKGUse3B1Ymxpc2hlckV4dDpzLmNvbnRleHQsdXNlckV4dDpzLnVzZXIsY2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KTt2YXIgYT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmZhc3RCaWRWZXJzaW9uIiksXz1jYW5GYXN0QmlkKGEpO2lmKCFwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmXyl7d2luZG93LkNyaXRlbz13aW5kb3cuQ3JpdGVvfHx7fSx3aW5kb3cuQ3JpdGVvLnVzZVByZWJpZEV2ZW50cz0hMSx0cnlHZXRDcml0ZW9GYXN0QmlkKCk7dmFyIG89Z2V0RmFzdEJpZFVybChhKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGxvYWRlcl9qc19fLmEpKG8sQklEREVSX0NPREUpfSksZS50aW1lb3V0KX1pZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIG49bmV3IENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkKFBST0ZJTEVfSURfUFVCTElTSEVSVEFHLEFEQVBURVJfVkVSU0lPTix0LGUsIjUuMjAuMiIpO3I9bi5idWlsZENkYlVybCgpLGk9bi5idWlsZENkYlJlcXVlc3QoKX1lbHNle3ZhciBjPWJ1aWxkQ29udGV4dCh0LGUpO3I9YnVpbGRDZGJVcmwoYyksaT1idWlsZENkYlJlcXVlc3QoYyx0LGUpfWlmKGkpcmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnIsZGF0YTppLGJpZFJlcXVlc3RzOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LGUpe3ZhciByPXQuYm9keXx8dDtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIGk9Q3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcihlKTtpZihpKXJldHVybiBpLmludGVycHJldFJlc3BvbnNlKHIsZSl9dmFyIHM9W107cmV0dXJuIHImJnIuc2xvdHMmJk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmlzQXJyYXkpKHIuc2xvdHMpJiZyLnNsb3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQoKShlLmJpZFJlcXVlc3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5pbXBpZCYmKCFlLnBhcmFtcy56b25lSWR8fHBhcnNlSW50KGUucGFyYW1zLnpvbmVJZCk9PT10LnpvbmVpZCl9KSksaT1yLmJpZElkLGE9e3JlcXVlc3RJZDppLGFkSWQ6dC5iaWRJZHx8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxjcG06dC5jcG0sY3VycmVuY3k6dC5jdXJyZW5jeSxuZXRSZXZlbnVlOiEwLHR0bDp0LnR0bHx8NjAsY3JlYXRpdmVJZDp0LmNyZWF0aXZlY29kZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxkZWFsSWQ6dC5kZWFsQ29kZX07dC5hZG9tYWluJiYoYS5tZXRhPV9leHRlbmRzKHt9LGEubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6dC5hZG9tYWlufSkpLHQubmF0aXZlP3IucGFyYW1zLm5hdGl2ZUNhbGxiYWNrP2EuYWQ9Y3JlYXRlTmF0aXZlQWQoaSx0Lm5hdGl2ZSxyLnBhcmFtcy5uYXRpdmVDYWxsYmFjayk6KGEubmF0aXZlPWNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQubmF0aXZlKSxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYyk6dC52aWRlbz8oYS52YXN0VXJsPXQuZGlzcGxheXVybCxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uZCk6YS5hZD10LmNyZWF0aXZlLHMucHVzaChhKX0pKSxzfSxvblRpbWVvdXQ6ZnVuY3Rpb24odCl7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkFycmF5LmlzQXJyYXkodCkpe3ZhciBlPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodC5hdWN0aW9uSWQpJiYoZS5wdXNoKHQuYXVjdGlvbklkKSxDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCkpfSkpfX0sb25CaWRXb246ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJnQmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFdvbih0KX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZVNldFRhcmdldGluZyh0KX19O2Z1bmN0aW9uIHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQ3JpdGVvJiZDcml0ZW8uUHViVGFnJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZH1mdW5jdGlvbiBidWlsZENvbnRleHQodCxlKXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBpPU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLnBhcnNlVXJsKShyKS5zZWFyY2gscz17dXJsOnIsZGVidWc6IjEiPT09aS5wYnRfZGVidWcsbm9Mb2c6IjEiPT09aS5wYnRfbm9sb2csYW1wOiExfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXsiYW1wIj09PXQucGFyYW1zLmludGVncmF0aW9uTW9kZSYmKHMuYW1wPSEwKX0pKSxzfWZ1bmN0aW9uIGJ1aWxkQ2RiVXJsKHQpe3ZhciBlPUNEQl9FTkRQT0lOVDtyZXR1cm4gZSs9Ij9wcm9maWxlSWQ9IitQUk9GSUxFX0lEX0lOTElORSxlKz0iJmF2PSIrU3RyaW5nKEFEQVBURVJfVkVSU0lPTiksZSs9IiZ3dj0iK2VuY29kZVVSSUNvbXBvbmVudCgiNS4yMC4yIiksZSs9IiZjYj0iK1N0cmluZyhNYXRoLmZsb29yKDk5OTk5OTk5OTk5Kk1hdGgucmFuZG9tKCkpKSx0LmFtcCYmKGUrPSImaW09MSIpLHQuZGVidWcmJihlKz0iJmRlYnVnPTEiKSx0Lm5vTG9nJiYoZSs9IiZub2xvZz0xIiksZX1mdW5jdGlvbiBjaGVja05hdGl2ZVNlbmRJZCh0KXtyZXR1cm4hKHQubmF0aXZlUGFyYW1zJiYodC5uYXRpdmVQYXJhbXMuaW1hZ2UmJighMCE9PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5jbGlja1VybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbiYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRUYXJnZXRpbmdLZXlzKSkpfWZ1bmN0aW9uIGJ1aWxkQ2RiUmVxdWVzdCh0LGUscil7dmFyIGkscz17cHVibGlzaGVyOnt1cmw6dC51cmwsZXh0OnIucHVibGlzaGVyRXh0fSxzbG90czplLm1hcCgoZnVuY3Rpb24odCl7aT10LnBhcmFtcy5uZXR3b3JrSWR8fGk7dmFyIGU9e2ltcGlkOnQuYWRVbml0Q29kZSx0cmFuc2FjdGlvbmlkOnQudHJhbnNhY3Rpb25JZCxhdWN0aW9uSWQ6dC5hdWN0aW9uSWR9O2lmKHQucGFyYW1zLnpvbmVJZCYmKGUuem9uZWlkPXQucGFyYW1zLnpvbmVJZCksT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwib3J0YjJJbXAuZXh0IikmJihlLmV4dD10Lm9ydGIySW1wLmV4dCksdC5wYXJhbXMuZXh0JiYoZS5leHQ9X2V4dGVuZHMoe30sZS5leHQsdC5wYXJhbXMuZXh0KSksdC5wYXJhbXMucHVibGlzaGVyU3ViSWQmJihlLnB1Ymxpc2hlcnN1YmlkPXQucGFyYW1zLnB1Ymxpc2hlclN1YklkKSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFja3x8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy4iLmNvbmNhdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYykpPyhlLm5hdGl2ZT0hMCxjaGVja05hdGl2ZVNlbmRJZCh0KXx8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoTE9HX1BSRUZJWCsiYWxsIG5hdGl2ZSBhc3NldHMgY29udGFpbmluZyBVUkwgc2hvdWxkIGJlIHNlbnQgYXMgcGxhY2Vob2xkZXJzIHdpdGggc2VuZElkKGljb24sIGltYWdlLCBjbGlja1VybCwgZGlzcGxheVVybCwgcHJpdmFjeUxpbmssIHByaXZhY3lJY29uKSIpLGUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlTmF0aXZlU2l6ZSkpOmUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlU2l6ZSksaGFzVmlkZW9NZWRpYVR5cGUodCkpe3ZhciByPXtwbGF5ZXJzaXplczpwYXJzZVNpemVzKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLHBhcnNlU2l6ZSksbWltZXM6dC5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzLHByb3RvY29sczp0Lm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzLG1heGR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbixhcGk6dC5tZWRpYVR5cGVzLnZpZGVvLmFwaSxza2lwOnQubWVkaWFUeXBlcy52aWRlby5za2lwLHBsYWNlbWVudDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50LG1pbmR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5taW5kdXJhdGlvbixwbGF5YmFja21ldGhvZDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2Qsc3RhcnRkZWxheTp0Lm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheX0scz10LnBhcmFtcy52aWRlbzt2b2lkIDAhPT1zJiYoci5za2lwPXIuc2tpcHx8cy5za2lwfHwwLHIucGxhY2VtZW50PXIucGxhY2VtZW50fHxzLnBsYWNlbWVudCxyLm1pbmR1cmF0aW9uPXIubWluZHVyYXRpb258fHMubWluZHVyYXRpb24sci5wbGF5YmFja21ldGhvZD1yLnBsYXliYWNrbWV0aG9kfHxzLnBsYXliYWNrbWV0aG9kLHIuc3RhcnRkZWxheT1yLnN0YXJ0ZGVsYXl8fHMuc3RhcnRkZWxheXx8MCksZS52aWRlbz1yfXJldHVybiBlfSkpfTtyZXR1cm4gaSYmKHMucHVibGlzaGVyLm5ldHdvcmtpZD1pKSxzLnVzZXI9e2V4dDpyLnVzZXJFeHR9LHImJnIuY2VoJiYocy51c2VyLmNlaD1yLmNlaCksciYmci5nZHByQ29uc2VudCYmKHMuZ2RwckNvbnNlbnQ9e30sdm9pZCAwIT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM9ISFyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxzLmdkcHJDb25zZW50LnZlcnNpb249ci5nZHByQ29uc2VudC5hcGlWZXJzaW9uLHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuZ2RwckNvbnNlbnQuY29uc2VudERhdGE9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksciYmci51c3BDb25zZW50JiYocy51c2VyLnVzcElhYj1yLnVzcENvbnNlbnQpLHN9ZnVuY3Rpb24gcmV0cmlldmVCYW5uZXJTaXplcyh0KXtyZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5zaXplc31mdW5jdGlvbiBwYXJzZVNpemVzKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpOltlKHQpXX1mdW5jdGlvbiBwYXJzZVNpemUodCl7cmV0dXJuIHRbMF0rIngiK3RbMV19ZnVuY3Rpb24gcGFyc2VOYXRpdmVTaXplKHQpe3JldHVybiB2b2lkIDA9PT10WzBdJiZ2b2lkIDA9PT10WzFdPyIyeDIiOnRbMF0rIngiK3RbMV19ZnVuY3Rpb24gaGFzVmlkZW9NZWRpYVR5cGUodCl7cmV0dXJuIHZvaWQgMCE9PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpe3ZhciBlPSEwO2lmKFsibWltZXMiLCJwbGF5ZXJTaXplIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJhcGkiLCJza2lwIiwicGxhY2VtZW50IiwicGxheWJhY2ttZXRob2QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2b2lkIDA9PT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvLiIrcikmJnZvaWQgMD09PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy52aWRlby4iK3IpJiYoZT0hMSxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dFcnJvcikoIkNyaXRlbyBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlby4iK3IrIiBpcyByZXF1aXJlZCIpKX0pKSxlKXt2YXIgcj10Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx0LnBhcmFtcy52aWRlby5wbGFjZW1lbnQ7aWYoImluc3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjE9PT1yKXJldHVybiEwO2lmKCJvdXRzdHJlYW0iPT10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMSE9PXIpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlUHJlYmlkTmF0aXZlQWQodCl7cmV0dXJue3NlbmRUYXJnZXRpbmdLZXlzOiExLHRpdGxlOnQucHJvZHVjdHNbMF0udGl0bGUsYm9keTp0LnByb2R1Y3RzWzBdLmRlc2NyaXB0aW9uLHNwb25zb3JlZEJ5OnQuYWR2ZXJ0aXNlci5kZXNjcmlwdGlvbixpY29uOnQuYWR2ZXJ0aXNlci5sb2dvLGltYWdlOnQucHJvZHVjdHNbMF0uaW1hZ2UsY2xpY2tVcmw6dC5wcm9kdWN0c1swXS5jbGlja191cmwscHJpdmFjeUxpbms6dC5wcml2YWN5Lm9wdG91dF9jbGlja191cmwscHJpdmFjeUljb246dC5wcml2YWN5Lm9wdG91dF9pbWFnZV91cmwsY3RhOnQucHJvZHVjdHNbMF0uY2FsbF90b19hY3Rpb24scHJpY2U6dC5wcm9kdWN0c1swXS5wcmljZSxpbXByZXNzaW9uVHJhY2tlcnM6dC5pbXByZXNzaW9uX3BpeGVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVybH0pKX19ZnVuY3Rpb24gY3JlYXRlTmF0aXZlQWQodCxlLHIpe3ZhciBpPSJjcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cyI7cmV0dXJuIHdpbmRvd1tpXT13aW5kb3dbaV18fHt9LHdpbmRvd1tpXVt0XT17Y2FsbGJhY2s6cixwYXlsb2FkOmV9LCdcbjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5cbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7ICsraSkge1xuIHZhciBzbG90cyA9IHdpbmRvdy5wYXJlbnQuJy5jb25jYXQoaSwnO1xuICBpZighc2xvdHMpe2NvbnRpbnVlO31cbiAgdmFyIHJlc3BvbnNlU2xvdCA9IHNsb3RzWyInKS5jb25jYXQodCwnIl07XG4gIHJlc3BvbnNlU2xvdC5jYWxsYmFjayhyZXNwb25zZVNsb3QucGF5bG9hZCk7XG4gIGJyZWFrO1xufVxuPFwvc2NyaXB0PicpfWZ1bmN0aW9uIGNhbkZhc3RCaWQodCl7cmV0dXJuIHQhPT1GQVNUX0JJRF9WRVJTSU9OX05PTkV9ZnVuY3Rpb24gZ2V0RmFzdEJpZFVybCh0KXt2YXIgZTtpZih0PT09RkFTVF9CSURfVkVSU0lPTl9MQVRFU1QpZT0iIjtlbHNlIGlmKHQpe1N0cmluZyh0KS5zcGxpdCgiLiIpWzBdPDEwMiYmT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIlNwZWNpZnlpbmcgYSBGYXN0YmlkIHZlcnNpb24gd2hpY2ggaXMgbm90IHN1cHBvcnRpbmcgdmVyc2lvbiBzZWxlY3Rpb24uIiksZT0iLiIrdH1lbHNlIGU9Ii4iK0ZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVDtyZXR1cm4gUFVCTElTSEVSX1RBR19VUkxfVEVNUExBVEUucmVwbGFjZShGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSLGUpfWZ1bmN0aW9uIHRyeUdldENyaXRlb0Zhc3RCaWQoKXt0cnl7dmFyIGZhc3RCaWRTdG9yYWdlS2V5PSJjcml0ZW9fZmFzdF9iaWQiLGhhc2hQcmVmaXg9Ii8vIEhhc2g6ICIsZmFzdEJpZEZyb21TdG9yYWdlPXN0b3JhZ2UuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2lmKG51bGwhPT1mYXN0QmlkRnJvbVN0b3JhZ2Upe3ZhciBmaXJzdExpbmVFbmRQb3NpdGlvbj1mYXN0QmlkRnJvbVN0b3JhZ2UuaW5kZXhPZigiXG4iKSxmaXJzdExpbmU9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cigwLGZpcnN0TGluZUVuZFBvc2l0aW9uKS50cmltKCk7aWYoZmlyc3RMaW5lLnN1YnN0cigwLGhhc2hQcmVmaXgubGVuZ3RoKSE9PWhhc2hQcmVmaXgpT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2Vsc2V7dmFyIHB1Ymxpc2hlclRhZ0hhc2g9Zmlyc3RMaW5lLnN1YnN0cihoYXNoUHJlZml4Lmxlbmd0aCkscHVibGlzaGVyVGFnPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoZmlyc3RMaW5lRW5kUG9zaXRpb24rMSk7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXy52ZXJpZnkpKHB1Ymxpc2hlclRhZyxwdWJsaXNoZXJUYWdIYXNoLEZBU1RfQklEX1BVQktFWV9OLEZBU1RfQklEX1BVQktFWV9FKT8oT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nSW5mbykoIlVzaW5nIENyaXRlbyBGYXN0QmlkIiksZXZhbChwdWJsaXNoZXJUYWcpKTooT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIkludmFsaWQgQ3JpdGVvIEZhc3RCaWQgZm91bmQiKSxzdG9yYWdlLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KSl9fX1jYXRjaCh0KXt9fU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X2pzX18ucmVnaXN0ZXJCaWRkZXIpKHNwZWMpfSw3ODpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1yKDc5KSxzPXIoODApO2UudmVyaWZ5PWZ1bmN0aW9uKHQsZSxyLGEpe3ZhciBfPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChlKSksbz1uZXcgaS5CaWdJbnRlZ2VyKGkuYjY0dG9IZXgocikpLG49Xy5tb2RQb3dJbnQoYSxvKTtyZXR1cm4gaS5yZW1vdmVFeHRyYVN5bWJvbHMobi50b0hleFN0cmluZygpKT09PXMuU2hhMjU2Lmhhc2godCl9fSw3OTpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7bnVsbCE9PXQmJnRoaXMuZnJvbUhleFN0cmluZyh0KX1yZXR1cm4gdC5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b0hleFN0cmluZygpO3ZhciB0LGU9ITEscj0iIixpPXRoaXMudCxzPXRoaXMuREItaSp0aGlzLkRCJTQ7aWYoaS0tID4wKWZvcihzPHRoaXMuREImJih0PXRoaXNbaV0+PnMpPjAmJihlPSEwLHI9ZCh0KSk7aT49MDspczw0Pyh0PSh0aGlzW2ldJigxPDxzKS0xKTw8NC1zLHR8PXRoaXNbLS1pXT4+KHMrPXRoaXMuREItNCkpOih0PXRoaXNbaV0+PihzLT00KSYxNSxzPD0wJiYocys9dGhpcy5EQiwtLWkpKSx0PjAmJihlPSEwKSxlJiYocis9ZCh0KSk7cmV0dXJuIGU/cjoiMCJ9LHQucHJvdG90eXBlLmZyb21IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7aWYobnVsbCE9PWUpe3RoaXMudD0wLHRoaXMucz0wO2Zvcih2YXIgcj1lLmxlbmd0aCxpPSExLHM9MDstLXI+PTA7KXt2YXIgYT1wKGUscik7YTwwPyItIj09ZS5jaGFyQXQocikmJihpPSEwKTooaT0hMSwwPT1zP3RoaXNbdGhpcy50KytdPWE6cys0PnRoaXMuREI/KHRoaXNbdGhpcy50LTFdfD0oYSYoMTw8dGhpcy5EQi1zKS0xKTw8cyx0aGlzW3RoaXMudCsrXT1hPj50aGlzLkRCLXMpOnRoaXNbdGhpcy50LTFdfD1hPDxzLChzKz00KT49dGhpcy5EQiYmKHMtPXRoaXMuREIpKX0wLHRoaXMuY2xhbXAoKSxpJiZ0LlpFUk8uc3ViVG8odGhpcyx0aGlzKX19LHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3ZhciBlPWEoKTtyZXR1cm4gdC5aRVJPLnN1YlRvKHRoaXMsZSksZX0sdC5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sdC5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKGUpe3ZhciByPWEoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1UbyhlLG51bGwsciksdGhpcy5zPDAmJnIuY29tcGFyZVRvKHQuWkVSTyk+MCYmZS5zdWJUbyhyLHIpLHJ9LHQucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50LTE7ZT49MDstLWUpdFtlXT10aGlzW2VdO3QudD10aGlzLnQsdC5zPXRoaXMuc30sdC5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dCV0aGlzLkRCLGk9dGhpcy5EQi1yLHM9KDE8PGkpLTEsYT1NYXRoLmZsb29yKHQvdGhpcy5EQiksXz10aGlzLnM8PHImdGhpcy5ETSxvPXRoaXMudC0xO28+PTA7LS1vKWVbbythKzFdPXRoaXNbb10+Pml8XyxfPSh0aGlzW29dJnMpPDxyO2ZvcihvPWEtMTtvPj0wOy0tbyllW29dPTA7ZVthXT1fLGUudD10aGlzLnQrYSsxLGUucz10aGlzLnMsZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB0PXRoaXNbMF07aWYoMD09KDEmdCkpcmV0dXJuIDA7dmFyIGU9MyZ0O3JldHVybihlPShlPShlPShlPWUqKDItKDE1JnQpKmUpJjE1KSooMi0oMjU1JnQpKmUpJjI1NSkqKDItKCg2NTUzNSZ0KSplJjY1NTM1KSkmNjU1MzUpKigyLXQqZSV0aGlzLkRWKSV0aGlzLkRWKT4wP3RoaXMuRFYtZTotZX0sdC5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpZVtyK3RdPXRoaXNbcl07Zm9yKHI9dC0xO3I+PTA7LS1yKWVbcl09MDtlLnQ9dGhpcy50K3QsZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3F1YXJlVG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYWJzKCkscj10LnQ9MiplLnQ7LS1yPj0wOyl0W3JdPTA7Zm9yKHI9MDtyPGUudC0xOysrcil7dmFyIGk9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKTsodFtyK2UudF0rPWUuYW0ocisxLDIqZVtyXSx0LDIqcisxLGksZS50LXItMSkpPj1lLkRWJiYodFtyK2UudF0tPWUuRFYsdFtyK2UudCsxXT0xKX10LnQ+MCYmKHRbdC50LTFdKz1lLmFtKHIsZVtyXSx0LDIqciwwLDEpKSx0LnM9MCx0LmNsYW1wKCl9LHQucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzLmFicygpLHM9ZS5hYnMoKSxhPWkudDtmb3Ioci50PWErcy50Oy0tYT49MDspclthXT0wO2ZvcihhPTA7YTxzLnQ7KythKXJbYStpLnRdPWkuYW0oMCxzW2FdLHIsYSwwLGkudCk7ci5zPTAsci5jbGFtcCgpLHRoaXMucyE9ZS5zJiZ0LlpFUk8uc3ViVG8ocixyKX0sdC5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24oZSxyLGkpe3ZhciBzPWUuYWJzKCk7aWYoIShzLnQ8PTApKXt2YXIgbz10aGlzLmFicygpO2lmKG8udDxzLnQpcmV0dXJuIG51bGwhPXImJnIuZnJvbUhleFN0cmluZygiMCIpLHZvaWQobnVsbCE9aSYmdGhpcy5jb3B5VG8oaSkpO251bGw9PWkmJihpPWEoKSk7dmFyIG49YSgpLGM9dGhpcy5zLHA9ZS5zLGQ9dGhpcy5EQi1fKHNbcy50LTFdKTtkPjA/KHMubFNoaWZ0VG8oZCxuKSxvLmxTaGlmdFRvKGQsaSkpOihzLmNvcHlUbyhuKSxvLmNvcHlUbyhpKSk7dmFyIHU9bi50LGw9blt1LTFdO2lmKDAhPWwpe3ZhciBoPWwqKDE8PHRoaXMuRjEpKyh1PjE/blt1LTJdPj50aGlzLkYyOjApLGY9dGhpcy5GVi9oLEU9KDE8PHRoaXMuRjEpL2gsdj0xPDx0aGlzLkYyLG09aS50LFQ9bS11LGI9bnVsbD09cj9hKCk6cjtmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLmNvbXBhcmVUbyhiKT49MCYmKGlbaS50KytdPTEsaS5zdWJUbyhiLGkpKSx0Lk9ORS5kbFNoaWZ0VG8odSxiKSxiLnN1YlRvKG4sbik7bi50PHU7KW5bbi50KytdPTA7Zm9yKDstLVQ+PTA7KXt2YXIgRD1pWy0tbV09PWw/dGhpcy5ETTpNYXRoLmZsb29yKGlbbV0qZisoaVttLTFdK3YpKkUpO2lmKChpW21dKz1uLmFtKDAsRCxpLFQsMCx1KSk8RClmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLnN1YlRvKGIsaSk7aVttXTwtLUQ7KWkuc3ViVG8oYixpKX1udWxsIT1yJiYoaS5kclNoaWZ0VG8odSxyKSxjIT1wJiZ0LlpFUk8uc3ViVG8ocixyKSksaS50PXUsaS5jbGFtcCgpLGQ+MCYmaS5yU2hpZnRUbyhkLGkpLGM8MCYmdC5aRVJPLnN1YlRvKGksaSl9fX0sdC5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtlLnM9dGhpcy5zO3ZhciByPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihyPj10aGlzLnQpZS50PTA7ZWxzZXt2YXIgaT10JXRoaXMuREIscz10aGlzLkRCLWksYT0oMTw8aSktMTtlWzBdPXRoaXNbcl0+Pmk7Zm9yKHZhciBfPXIrMTtfPHRoaXMudDsrK18pZVtfLXItMV18PSh0aGlzW19dJmEpPDxzLGVbXy1yXT10aGlzW19dPj5pO2k+MCYmKGVbdGhpcy50LXItMV18PSh0aGlzLnMmYSk8PHMpLGUudD10aGlzLnQtcixlLmNsYW1wKCl9fSx0LnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dDtyPHRoaXMudDsrK3IpZVtyLXRdPXRoaXNbcl07ZS50PU1hdGgubWF4KHRoaXMudC10LDApLGUucz10aGlzLnN9LHQucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsaT0wLHM9TWF0aC5taW4odC50LHRoaXMudCk7cjxzOylpKz10aGlzW3JdLXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3IoaS09dC5zO3I8dGhpcy50OylpKz10aGlzW3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aSs9dGhpcy5zfWVsc2V7Zm9yKGkrPXRoaXMucztyPHQudDspaS09dFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2ktPXQuc31lLnM9aTwwPy0xOjAsaTwtMT9lW3IrK109dGhpcy5EVitpOmk+MCYmKGVbcisrXT1pKSxlLnQ9cixlLmNsYW1wKCl9LHQucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9LHQucHJvdG90eXBlLm1vZFBvd0ludD1mdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiByPXQ8MjU2fHxlLmlzRXZlbigpP25ldyB1KGUpOm5ldyBsKGUpLHRoaXMuZXhwKHQscil9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbihlLHIpe2lmKGU+NDI5NDk2NzI5NXx8ZTwxKXJldHVybiB0Lk9ORTt2YXIgaT1hKCkscz1hKCksbz1yLmNvbnZlcnQodGhpcyksbj1fKGUpLTE7Zm9yKG8uY29weVRvKGkpOy0tbj49MDspaWYoci5zcXJUbyhpLHMpLChlJjE8PG4pPjApci5tdWxUbyhzLG8saSk7ZWxzZXt2YXIgYz1pO2k9cyxzPWN9cmV0dXJuIHIucmV2ZXJ0KGkpfSx0LnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciByPXRoaXMudDtpZigwIT0oZT1yLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDstLXI+PTA7KWlmKDAhPShlPXRoaXNbcl0tdFtyXSkpcmV0dXJuIGU7cmV0dXJuIDB9LHQucHJvdG90eXBlLmFtMT1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKDstLWE+PTA7KXt2YXIgXz1lKnRoaXNbdCsrXStyW2ldK3M7cz1NYXRoLmZsb29yKF8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZffXJldHVybiBzfSx0LnByb3RvdHlwZS5hbTI9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcih2YXIgXz0zMjc2NyZlLG89ZT4+MTU7LS1hPj0wOyl7dmFyIG49MzI3NjcmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTUscD1vKm4rYypfO3M9KChuPV8qbisoKDMyNzY3JnApPDwxNSkrcltpXSsoMTA3Mzc0MTgyMyZzKSk+Pj4zMCkrKHA+Pj4xNSkrbypjKyhzPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJm59cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMz1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTE2MzgzJmUsbz1lPj4xNDstLWE+PTA7KXt2YXIgbj0xNjM4MyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNCxwPW8qbitjKl87cz0oKG49XypuKygoMTYzODMmcCk8PDE0KStyW2ldK3MpPj4yOCkrKHA+PjE0KStvKmMscltpKytdPTI2ODQzNTQ1NSZufXJldHVybiBzfSx0fSgpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IHMobnVsbCl9ZnVuY3Rpb24gXyh0KXt2YXIgZSxyPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUscis9MTYpLDAhPShlPXQ+PjgpJiYodD1lLHIrPTgpLDAhPShlPXQ+PjQpJiYodD1lLHIrPTQpLDAhPShlPXQ+PjIpJiYodD1lLHIrPTIpLDAhPShlPXQ+PjEpJiYodD1lLHIrPTEpLHJ9ZS5CaWdJbnRlZ2VyPXMsZS5uYmk9YSxlLm5iaXRzPV87dmFyIG8sbixjPVtdO2ZvcihvPSIwIi5jaGFyQ29kZUF0KDApLG49MDtuPD05OysrbiljW28rK109bjtmb3Iobz0iYSIuY2hhckNvZGVBdCgwKSxuPTEwO248MzY7KytuKWNbbysrXT1uO2ZvcihvPSJBIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47ZnVuY3Rpb24gcCh0LGUpe3ZhciByPWNbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWUuaW50QXQ9cDtmdW5jdGlvbiBkKHQpe3JldHVybiIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmNoYXJBdCh0KX1lLmludDJjaGFyPWQ7ZS5iNjR0b0hleD1mdW5jdGlvbih0KXt2YXIgZSxyPSIiLGk9MCxzPTA7Zm9yKGU9MDtlPHQubGVuZ3RoJiYiPSIhPXQuY2hhckF0KGUpOysrZSl7dmFyIGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmluZGV4T2YodC5jaGFyQXQoZSkpO2E8MHx8KDA9PWk/KHIrPWQoYT4+Mikscz0zJmEsaT0xKToxPT1pPyhyKz1kKHM8PDJ8YT4+NCkscz0xNSZhLGk9Mik6Mj09aT8ocis9ZChzKSxyKz1kKGE+PjIpLHM9MyZhLGk9Myk6KHIrPWQoczw8MnxhPj40KSxyKz1kKDE1JmEpLGk9MCkpfXJldHVybiAxPT1pJiYocis9ZChzPDwyKSkscn0sZS5yZW1vdmVFeHRyYVN5bWJvbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXjFmKzAwLywiIikucmVwbGFjZSgiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLCIiKX07dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnM8MHx8dC5jb21wYXJlVG8odGhpcy5tKT49MD90Lm1vZCh0aGlzLm0pOnR9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10LHRoaXMubXA9dC5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8dC5EQi0xNSktMSx0aGlzLm10Mj0yKnQudH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXt2YXIgZT1hKCk7cmV0dXJuIHQuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LGUpLGUuZGl2UmVtVG8odGhpcy5tLG51bGwsZSksdC5zPDAmJmUuY29tcGFyZVRvKHMuWkVSTyk+MCYmdGhpcy5tLnN1YlRvKGUsZSksZX0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe2Zvcig7dC50PD10aGlzLm10MjspdFt0LnQrK109MDtmb3IodmFyIGU9MDtlPHRoaXMubS50OysrZSl7dmFyIHI9MzI3NjcmdFtlXSxpPXIqdGhpcy5tcGwrKChyKnRoaXMubXBoKyh0W2VdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZ0LkRNO2Zvcih0W3I9ZSt0aGlzLm0udF0rPXRoaXMubS5hbSgwLGksdCxlLDAsdGhpcy5tLnQpO3Rbcl0+PXQuRFY7KXRbcl0tPXQuRFYsdFsrK3JdKyt9dC5jbGFtcCgpLHQuZHJTaGlmdFRvKHRoaXMubS50LHQpLHQuY29tcGFyZVRvKHRoaXMubSk+PTAmJnQuc3ViVG8odGhpcy5tLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKTtmdW5jdGlvbiBoKHQpe3ZhciBlPWEoKTtyZXR1cm4gZS5mcm9tSGV4U3RyaW5nKHQudG9TdHJpbmcoKSksZX1lLm5idj1oLHMuWkVSTz1oKDApLHMuT05FPWgoMSksIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTIsaT0zMCk6Ik5ldHNjYXBlIiE9bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMSxpPTI2KToocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0zLGk9MjgpLHMucHJvdG90eXBlLkRCPWkscy5wcm90b3R5cGUuRE09KDE8PGkpLTEscy5wcm90b3R5cGUuRFY9MTw8aTtzLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxzLnByb3RvdHlwZS5GMT01Mi1pLHMucHJvdG90eXBlLkYyPTIqaS01Mn0sODA6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lmhhc2g9ZnVuY3Rpb24oZSl7ZT10LnV0ZjhFbmNvZGUoZXx8IiIpO2Zvcih2YXIgcj1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxpPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0scz0oZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpKS5sZW5ndGgvNCsyLGE9TWF0aC5jZWlsKHMvMTYpLF89bmV3IEFycmF5KGEpLG89MDtvPGE7bysrKXtfW29dPW5ldyBBcnJheSgxNik7Zm9yKHZhciBuPTA7bjwxNjtuKyspX1tvXVtuXT1lLmNoYXJDb2RlQXQoNjQqbys0Km4pPDwyNHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMSk8PDE2fGUuY2hhckNvZGVBdCg2NCpvKzQqbisyKTw8OHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMyk8PDB9dmFyIGM9OCooZS5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMikscD04KihlLmxlbmd0aC0xKT4+PjA7X1thLTFdWzE0XT1NYXRoLmZsb29yKGMpLF9bYS0xXVsxNV09cDtmb3Iobz0wO288YTtvKyspe2Zvcih2YXIgZD1uZXcgQXJyYXkoNjQpLHU9MDt1PDE2O3UrKylkW3VdPV9bb11bdV07Zm9yKHU9MTY7dTw2NDt1KyspZFt1XT10LnExKGRbdS0yXSkrZFt1LTddK3QucTAoZFt1LTE1XSkrZFt1LTE2XT4+PjA7dmFyIGw9aVswXSxoPWlbMV0sZj1pWzJdLEU9aVszXSx2PWlbNF0sbT1pWzVdLFQ9aVs2XSxiPWlbN107Zm9yKHU9MDt1PDY0O3UrKyl7dmFyIEQ9Yit0LnoxKHYpK3QuQ2godixtLFQpK3JbdV0rZFt1XSx5PXQuejAobCkrdC5NYWoobCxoLGYpO2I9VCxUPW0sbT12LHY9RStEPj4+MCxFPWYsZj1oLGg9bCxsPUQreT4+PjB9aVswXT1pWzBdK2w+Pj4wLGlbMV09aVsxXStoPj4+MCxpWzJdPWlbMl0rZj4+PjAsaVszXT1pWzNdK0U+Pj4wLGlbNF09aVs0XSt2Pj4+MCxpWzVdPWlbNV0rbT4+PjAsaVs2XT1pWzZdK1Q+Pj4wLGlbN109aVs3XStiPj4+MH12YXIgTz1uZXcgQXJyYXkoaS5sZW5ndGgpO2ZvcihiPTA7YjxpLmxlbmd0aDtiKyspT1tiXT0oIjAwMDAwMDAwIitpW2JdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpO3JldHVybiBPLmpvaW4oIiIpfSx0LnV0ZjhFbmNvZGU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrU3RyaW5nLmZyb21DaGFyQ29kZShlKX0pLCIiKX1jYXRjaChlKXtyZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX19LHQuUk9UUj1mdW5jdGlvbih0LGUpe3JldHVybiBlPj4+dHxlPDwzMi10fSx0LnowPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoMixlKV50LlJPVFIoMTMsZSledC5ST1RSKDIyLGUpfSx0LnoxPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNixlKV50LlJPVFIoMTEsZSledC5ST1RSKDI1LGUpfSx0LnEwPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNyxlKV50LlJPVFIoMTgsZSleZT4+PjN9LHQucTE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigxNyxlKV50LlJPVFIoMTksZSleZT4+PjEwfSx0LkNoPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXn50JnJ9LHQuTWFqPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXnQmcl5lJnJ9LHR9KCk7ZS5TaGEyNTY9aX19LFszOTVdKTsKdXBianNDaHVuayhbMjg5XSx7Mzk5OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9big0MDApfSw0MDA6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsImN1cnJlbmN5U3VwcG9ydEVuYWJsZWQiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChyLCJjdXJyZW5jeVJhdGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxyLnNldENvbmZpZz1DLHIuYWRkQmlkUmVzcG9uc2VIb29rPUQ7dmFyIG89bigwKSxjPW4oMTQpLHQ9bigzOSksaT1uKDUpLGE9KG4ubihpKSxuKDQpKSx1PW4oMykscz1uKDkpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuKGY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgZCxsPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvcHJlYmlkL2N1cnJlbmN5LWZpbGVAMS9sYXRlc3QuanNvbj9kYXRlPSQkVE9EQVkkJCIseT1bXSxiPXt9LGc9ITEsdj0hMCxwPSJVU0QiLGg9ITEsTz17fSxqPXt9O2Z1bmN0aW9uIEMoZSl7dmFyIHI9bDtpZigib2JqZWN0Ij09PWYoZS5yYXRlcykmJihPLmNvbnZlcnNpb25zPWUucmF0ZXMsZz0hMCx2PSExKSwib2JqZWN0Ij09PWYoZS5kZWZhdWx0UmF0ZXMpJiYoZD1lLmRlZmF1bHRSYXRlcyxPLmNvbnZlcnNpb25zPWQsZz0hMCksInN0cmluZyI9PXR5cGVvZiBlLmFkU2VydmVyQ3VycmVuY3kpe09iamVjdChvLmxvZ0luZm8pKCJlbmFibGluZyBjdXJyZW5jeSBzdXBwb3J0Iixhcmd1bWVudHMpLHA9ZS5hZFNlcnZlckN1cnJlbmN5LGUuY29udmVyc2lvblJhdGVGaWxlJiYoT2JqZWN0KG8ubG9nSW5mbykoImN1cnJlbmN5IHVzaW5nIG92ZXJyaWRlIGNvbnZlcnNpb25SYXRlRmlsZToiLGUuY29udmVyc2lvblJhdGVGaWxlKSxyPWUuY29udmVyc2lvblJhdGVGaWxlKTt2YXIgbj1yLmluZGV4T2YoIiQkVE9EQVkkJCIpO2lmKC0xIT09bil7dmFyIGM9bmV3IERhdGUsdD0iIi5jb25jYXQoYy5nZXRNb250aCgpKzEpLGk9IiIuY29uY2F0KGMuZ2V0RGF0ZSgpKTt0Lmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKSxpLmxlbmd0aDwyJiYoaT0iMCIuY29uY2F0KGkpKTt2YXIgYT0iIi5jb25jYXQoYy5nZXRGdWxsWWVhcigpKS5jb25jYXQodCkuY29uY2F0KGkpO3I9IiIuY29uY2F0KHIuc3Vic3RyaW5nKDAsbikpLmNvbmNhdChhKS5jb25jYXQoci5zdWJzdHJpbmcobis5LHIubGVuZ3RoKSl9bShyKX1lbHNlIE9iamVjdChvLmxvZ0luZm8pKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLFIoKTsib2JqZWN0Ij09PWYoZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpJiYoaj1lLmJpZGRlckN1cnJlbmN5RGVmYXVsdCl9ZnVuY3Rpb24gUyhlKXtkPyhPYmplY3Qoby5sb2dXYXJuKShlKSxPYmplY3Qoby5sb2dXYXJuKSgiQ3VycmVuY3kgZmFpbGVkIGxvYWRpbmcgcmF0ZXMsIGZhbGxpbmcgYmFjayB0byBjdXJyZW5jeS5kZWZhdWx0UmF0ZXMiKSk6T2JqZWN0KG8ubG9nRXJyb3IpKGUpfWZ1bmN0aW9uIG0oZSl7Yj17fSxoPSEwLE9iamVjdChvLmxvZ0luZm8pKCJJbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChjLmEpKCkuY29udmVydEN1cnJlbmN5PWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gcGFyc2VGbG9hdChlKSp3KHIsbil9LE9iamVjdChzLmEpKCJhZGRCaWRSZXNwb25zZSIpLmJlZm9yZShELDEwMCksdiYmKHY9ITEsT2JqZWN0KGEuYSkoZSx7c3VjY2VzczpmdW5jdGlvbihlKXt0cnl7Tz1KU09OLnBhcnNlKGUpLE9iamVjdChvLmxvZ0luZm8pKCJjdXJyZW5jeVJhdGVzIHNldCB0byAiK0pTT04uc3RyaW5naWZ5KE8pKSxnPSEwLEkoKX1jYXRjaChyKXtTKCJGYWlsZWQgdG8gcGFyc2UgY3VycmVuY3lSYXRlcyByZXNwb25zZTogIitlKX19LGVycm9yOlN9KSl9ZnVuY3Rpb24gUigpe09iamVjdChvLmxvZ0luZm8pKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6RH0pLnJlbW92ZSgpLGRlbGV0ZSBPYmplY3QoYy5hKSgpLmNvbnZlcnRDdXJyZW5jeSxwPSJVU0QiLGI9e30saD0hMSxnPSExLHY9ITAsTz17fSxqPXt9fWZ1bmN0aW9uIEQoZSxyLG4pe2lmKCFuKXJldHVybiBlLmNhbGwodGhpcyxyKTt2YXIgYz1uLmJpZGRlckNvZGV8fG4uYmlkZGVyO2lmKGpbY10pe3ZhciBhPWpbY107bi5jdXJyZW5jeSYmYSE9PW4uY3VycmVuY3k/T2JqZWN0KG8ubG9nV2FybikoIkN1cnJlbmN5IGRlZmF1bHQgJyIuY29uY2F0KGMsIjogIikuY29uY2F0KGEsIicgaWdub3JlZC4gYWRhcHRlciBzcGVjaWZpZWQgJyIpLmNvbmNhdChuLmN1cnJlbmN5LCInIikpOm4uY3VycmVuY3k9YX1pZihuLmN1cnJlbmN5fHwoT2JqZWN0KG8ubG9nV2FybikoJ0N1cnJlbmN5IG5vdCBzcGVjaWZpZWQgb24gYmlkLiAgRGVmYXVsdGVkIHRvICJVU0QiJyksbi5jdXJyZW5jeT0iVVNEIiksbi5nZXRDcG1Jbk5ld0N1cnJlbmN5PWZ1bmN0aW9uKGUpe3JldHVybihwYXJzZUZsb2F0KHRoaXMuY3BtKSp3KHRoaXMuY3VycmVuY3ksZSkpLnRvRml4ZWQoMyl9LG4uY3VycmVuY3k9PT1wKXJldHVybiBlLmNhbGwodGhpcyxyLG4pO3kucHVzaChmdW5jdGlvbihlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9blsxXTtpZih2b2lkIDAhPT1jJiYiY3VycmVuY3kiaW4gYyYmImNwbSJpbiBjKXt2YXIgYT1jLmN1cnJlbmN5O3RyeXt2YXIgdT13KGEpOzEhPT11JiYoYy5jcG09KHBhcnNlRmxvYXQoYy5jcG0pKnUpLnRvRml4ZWQoNCksYy5jdXJyZW5jeT1wKX1jYXRjaChlKXtPYmplY3Qoby5sb2dXYXJuKSgiUmV0dXJuaW5nIE5PX0JJRCwgZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHRocmV3IGVycm9yOiAiLGUpLG5bMV09T2JqZWN0KHQuYSkoaS5TVEFUVVMuTk9fQklELHtiaWRkZXI6Yy5iaWRkZXJDb2RlfHxjLmJpZGRlcixiaWRJZDpjLnJlcXVlc3RJZH0pfX1yZXR1cm4gZS5hcHBseShyLG4pfX0oZSx0aGlzLFtyLG5dKSksaCYmIWd8fEkoKX1mdW5jdGlvbiBJKCl7Zm9yKDt5Lmxlbmd0aD4wOyl5LnNoaWZ0KCkoKX1mdW5jdGlvbiB3KGUpe3ZhciByLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnAsYz1udWxsLHQ9IiIuY29uY2F0KGUsIi0+IikuY29uY2F0KG4pO2lmKHQgaW4gYiljPWJbdF0sT2JqZWN0KG8ubG9nTWVzc2FnZSkoIlVzaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK2MrIiBmb3IgIit0KTtlbHNlIGlmKCExPT09aCl7aWYoIlVTRCIhPT1lKXRocm93IG5ldyBFcnJvcigiUHJlYmlkIGN1cnJlbmN5IHN1cHBvcnQgaGFzIG5vdCBiZWVuIGVuYWJsZWQgYW5kIGZyb21DdXJyZW5jeSBpcyBub3QgVVNEIik7Yz0xfWVsc2UgaWYoZT09PW4pYz0xO2Vsc2UgaWYoZSBpbiBPLmNvbnZlcnNpb25zKXtpZighKG4gaW4ocj1PLmNvbnZlcnNpb25zW2VdKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbisiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPXJbbl0sT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBkaXJlY3QgIitlKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitjKX1lbHNlIGlmKG4gaW4gTy5jb252ZXJzaW9ucyl7aWYoIShlIGluKHI9Ty5jb252ZXJzaW9uc1tuXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9RigxL3JbZV0sNCksT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyByZWNpcHJvY2FsICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9ZWxzZXt2YXIgaT1PYmplY3Qua2V5cyhPLmNvbnZlcnNpb25zKVswXTtpZighKGUgaW4gTy5jb252ZXJzaW9uc1tpXSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIGE9MS9PLmNvbnZlcnNpb25zW2ldW2VdO2lmKCEobiBpbiBPLmNvbnZlcnNpb25zW2ldKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciB1PU8uY29udmVyc2lvbnNbaV1bbl07Yz1GKGEqdSw0KSxPYmplY3Qoby5sb2dJbmZvKSgiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGludGVybWVkaWF0ZSAiK2UrIiB0aHJ1ICIraSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9cmV0dXJuIHQgaW4gYnx8KE9iamVjdChvLmxvZ01lc3NhZ2UpKCJBZGRpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrYysiIGZvciAiK3QpLGJbdF09YyksY31mdW5jdGlvbiBGKGUscil7Zm9yKHZhciBuPTEsbz0wO288cjtvKyspbis9IjAiO3JldHVybiBNYXRoLnJvdW5kKGUqbikvbn11LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIsKGZ1bmN0aW9uKGUpe3JldHVybiBDKGUuY3VycmVuY3kpfSkpfX0sWzM5OV0pOwp1cGJqc0NodW5rKFsyNzZdLHs0Mjc6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDQyOCl9LDQyODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwiZW14QWRhcHRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBpPXQoMCksbj10KDEpLGE9dCgyKSxkPXQoMTMpLG89dCgxMikscz10Lm4obyksdT10KDExKSxjPXQubih1KTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iZW14X2RpZ2l0YWwiLGc9Imh0dHBzOi8vanMuYnJlYWx0aW1lLmNvbS9vdXRzdHJlYW0vMS4zMC4wL2J1bmRsZS5qcyIsbT0iVVNEIixiPVt7a2V5OiJpZGxfZW52Iixzb3VyY2U6ImxpdmVyYW1wLmNvbSIscnRpUGFydG5lcjoiaWRsIixxdWVyeVBhcmFtOiJpZGwifSx7a2V5OiJ1aWQyLmlkIixzb3VyY2U6InVpZGFwaS5jb20iLHJ0aVBhcnRuZXI6IlVJRDIiLHF1ZXJ5UGFyYW06InVpZDIifV0sZj17dmFsaWRhdGVTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSkmJnZvaWQgMCE9PWVbMF0/ZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGh9KSk6KE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogU2l6ZXMgc2hvdWxkIGJlIGFuIGFycmF5IiksITEpfSxjaGVja1ZpZGVvQ29udGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYoImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KX0sYnVpbGRCYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyxmLnZhbGlkYXRlU2l6ZXMocil8fChPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IGNvdWxkIG5vdCBkZXRlY3QgbWVkaWFUeXBlIGJhbm5lciBzaXplcy4gQXNzaWduaW5nIHRvIGJpZCBzaXplcyBpbnN0ZWFkIikscj1lLnNpemVzKSx7Zm9ybWF0OnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSksdzpyWzBdWzBdLGg6clswXVsxXX19LGZvcm1hdFZpZGVvUmVzcG9uc2U6ZnVuY3Rpb24oZSxyLHQpeyhlLnZhc3RYbWw9ci5hZG0sdC5iaWRkZXJSZXF1ZXN0JiZ0LmJpZGRlclJlcXVlc3QuYmlkcyYmdC5iaWRkZXJSZXF1ZXN0LmJpZHMubGVuZ3RoPjApJiYoYygpKHQuYmlkZGVyUmVxdWVzdC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gZS5yZXF1ZXN0SWQmJnIuYmlkSWQmJmUucmVxdWVzdElkPT09ci5iaWRJZCYmci5tZWRpYVR5cGVzJiZyLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iPT09ci5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR9KSkmJihlLnJlbmRlcmVyPWYuY3JlYXRlUmVuZGVyZXIoZSx7aWQ6ci5pZCx1cmw6Z30pKSk7cmV0dXJuIGV9LGlzTW9iaWxlOmZ1bmN0aW9uKCl7cmV0dXJuLyhpb3N8aXBvZHxpcGFkfGlwaG9uZXxhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGlzQ29ubmVjdGVkVFY6ZnVuY3Rpb24oKXtyZXR1cm4vKHNtYXJ0Wy1dP3R2fGhiYnR2fGFwcGxldHZ8Z29vZ2xldHZ8aGRtaXxuZXRjYXN0XC50dnx2aWVyYXxuZXR0dnxyb2t1fFxiZHR2XGJ8c29ueWR0dnxpbmV0dHZicm93c2VyfFxidHZcYikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxnZXREZXZpY2U6ZnVuY3Rpb24oKXtyZXR1cm57dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGRldmljZXR5cGU6Zi5pc01vYmlsZSgpPzE6Zi5pc0Nvbm5lY3RlZFRWKCk/MzoyLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfX0sY2xlYW5Qcm90b2NvbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvdG9jb2xzJiZzKCkoZS5wcm90b2NvbHMsNykmJihPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IFZBU1QgNC4wIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLiBUaGlzIHByb3RvY29sIGhhcyBiZWVuIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVxdWVzdC4iKSxlLnByb3RvY29scz1lLnByb3RvY29scy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiA3IT09ZX0pKSksZX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj1lJiZlLnBhcmFtcyYmZS5wYXJhbXNbMF0mJmUucGFyYW1zWzBdLnZpZGVvP2UucGFyYW1zWzBdLnZpZGVvOnt9O3dpbmRvdy5lbXhWaWRlb1F1ZXVlPXdpbmRvdy5lbXhWaWRlb1F1ZXVlfHxbXSx3aW5kb3cucXVldWVFbXhWaWRlbyh7aWQ6ZS5hZFVuaXRDb2RlLGFkc1Jlc3BvbnNlczplLnZhc3RYbWwsb3B0aW9uczpyfSksd2luZG93LmVteFZpZGVvUmVhZHkmJndpbmRvdy52aWRlb2pzJiZ3aW5kb3cuZW14VmlkZW9SZWFkeSgpfSkpfSxjcmVhdGVSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciB0PWQuYS5pbnN0YWxsKHtpZDpyLmlkLHVybDpnLGxvYWRlZDohMX0pO3RyeXt0LnNldFJlbmRlcihmLm91dHN0cmVhbVJlbmRlcil9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHR9LGJ1aWxkVmlkZW86ZnVuY3Rpb24oZSl7dmFyIHI9cChlLm1lZGlhVHlwZXMudmlkZW8sZS5wYXJhbXMudmlkZW8pO3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0pOihyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdKSxmLmNsZWFuUHJvdG9jb2xzKHIpfSxwYXJzZVJlc3BvbnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvJSg/IVswLTldWzAtOWEtZkEtRl0rKS9nLCIlMjUiKSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJlbXhfZGlnaXRhbEJpZEFkYXB0ZXIiLCJlcnJvciIsZSl9fSxnZXRSZWZlcnJlcjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSxnZXRTaXRlOmZ1bmN0aW9uKGUpe3JldHVybntkb21haW46T2JqZWN0KGkucGFyc2VVcmwpKGUucmVmZXJlcikuaG9zdG5hbWUscGFnZTplLnJlZmVyZXIscmVmOmYuZ2V0UmVmZXJyZXIoKX19LGdldEdkcHI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIucmVncz17ZXh0OntnZHByOiEwPT09ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSksZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIudXNlcj17ZXh0Ontjb25zZW50OmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ319KSxyfSxnZXRTdXBwbHlDaGFpbjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmJpZHNbMF0mJmUuYmlkc1swXS5zY2hhaW4mJihyLnNvdXJjZT17ZXh0OntzY2hhaW46ZS5iaWRzWzBdLnNjaGFpbn19KSxyfSxnZXRFaWRzOmZ1bmN0aW9uKGUpe3JldHVybiBiLm1hcChmLmdldFVzZXJJZChlKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sZ2V0VXNlcklkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgdD1yLmtleSxuPXIuc291cmNlLGE9ci5ydGlQYXJ0bmVyLGQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwidXNlcklkLiIuY29uY2F0KHQpKTtyZXR1cm4gZD9mLmZvcm1hdEVpZChkLG4sYSk6bnVsbH19LGZvcm1hdEVpZDpmdW5jdGlvbihlLHIsdCl7cmV0dXJue3NvdXJjZTpyLHVpZHM6W3tpZDplLGV4dDp7cnRpUGFydG5lcjp0fX1dfX19LHY9e2NvZGU6bCxndmxpZDoxODMsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIGJpZCBvciBiaWQgcGFyYW1zLiIpLCExO2lmKGUuYmlkZGVyIT09bClyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoJ2VteF9kaWdpdGFsOiBNdXN0IHVzZSAiZW14X2RpZ2l0YWwiIGFzIGJpZGRlciBjb2RlLicpLCExO2lmKCFlLnBhcmFtcy50YWdpZHx8IU9iamVjdChpLmlzU3RyKShlLnBhcmFtcy50YWdpZCkpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyB0YWdpZCBwYXJhbSBvciB0YWdpZCBwcmVzZW50IGFuZCBub3QgdHlwZSBTdHJpbmcuIiksITE7dmFyIHI7aWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyKXtpZihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLCFmLnZhbGlkYXRlU2l6ZXMocikpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyBzaXplcyBpbiBiaWQiKSwhMX1lbHNlIGlmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXtpZighZi5jaGVja1ZpZGVvQ29udGV4dChlKSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHZpZGVvIGNvbnRleHQ6IGluc3RyZWFtIG9yIG91dHN0cmVhbSIpLCExO2lmKCFlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHZpZGVvIHBsYXllclNpemUiKSwhMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49Imh0dHBzOi8vaGIuZW14ZGd0LmNvbT90PSIrKHIudGltZW91dHx8IiIpKyImdHM9IitEYXRlLm5vdygpKyImc3JjPXBianMiLGE9bG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZigiaHR0cHMiKT4tMT8xOjAsZD1mLmdldERldmljZSgpLG89Zi5nZXRTaXRlKHIucmVmZXJlckluZm8pO09iamVjdChpLl9lYWNoKShlLChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInRhZ2lkIixlLnBhcmFtcyksbj1wYXJzZUZsb2F0KGZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gcGFyc2VGbG9hdChPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZGZsb29yIixlLnBhcmFtcykpO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5Om0sbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSkpfHwwLGQ9ISFlLm1lZGlhVHlwZXMudmlkZW8sbz1wKHtpZDplLmJpZElkLHRpZDplLnRyYW5zYWN0aW9uSWQsdGFnaWQ6cixzZWN1cmU6YX0sZD97dmlkZW86Zi5idWlsZFZpZGVvKGUpfTp7YmFubmVyOmYuYnVpbGRCYW5uZXIoZSl9LG4+MD97YmlkZmxvb3I6bixiaWRmbG9vcmN1cjptfTp7fSk7dC5wdXNoKG8pfSkpO3ZhciBzPXtpZDpyLmF1Y3Rpb25JZCxpbXA6dCxkZXZpY2U6ZCxzaXRlOm8sY3VyOm0sdmVyc2lvbjoiMS41LjEifTtpZihzPWYuZ2V0R2RwcihyLHAoe30scykpLHM9Zi5nZXRTdXBwbHlDaGFpbihyLHAoe30scykpLHImJnIudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHIudXNlcklkKXt2YXIgdT1mLmdldEVpZHMocik7dS5sZW5ndGg+MCYmKHMudXNlciYmcy51c2VyLmV4dD9zLnVzZXIuZXh0LmVpZHM9dTpzLnVzZXI9e2V4dDp7ZWlkczp1fX0pfXJldHVybnttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6SlNPTi5zdHJpbmdpZnkocyksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9ZS5ib2R5fHx7fTtyZXR1cm4gaS5zZWF0YmlkJiZpLnNlYXRiaWQubGVuZ3RoPjAmJmkuc2VhdGJpZFswXS5iaWQmJmkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlPWUuYmlkWzBdO3ZhciBpPSExLG49Zi5wYXJzZVJlc3BvbnNlKGUuYWRtKXx8IiIsZD17cmVxdWVzdElkOmUuaWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOmUudHRsLGFkOm59O2UuYWRtJiZlLmFkbS5pbmRleE9mKCI8P3htbCB2ZXJzaW9uPSIpPi0xJiYoaT0hMCxkPWYuZm9ybWF0VmlkZW9SZXNwb25zZShkLHAoe30sZSkscikpLGQubWVkaWFUeXBlPWk/YS5kOmEuYixlLmFkb21haW4mJmUuYWRvbWFpbi5sZW5ndGgmJihkLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn0pLHQucHVzaChkKX0pKSx0fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsaSl7dmFyIG49W107aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgYT0iaHR0cHM6Ly9iaWRkci5icmVhbHRpbWUuY29tL2NoZWNrLmh0bWwiO3QmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcz9hKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHQuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpOmErPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHQuY29uc2VudFN0cmluZykpLG4ucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6YX0pfXJldHVybiBufX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzQyN10pOwp1cGJqc0NodW5rKFsyNzNdLHs0MzU6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDQzNil9LDQzNjpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksZS5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPWUoMCksbz1lKDE0KSxpPWUoMSksYT1lKDcpO2Z1bmN0aW9uIGMobil7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX12YXIgdT1PYmplY3QoYS5iKSgpLGQ9TWF0aC5yYW5kb20oKSxzPSJpLmUtcGxhbm5pbmcubmV0IixmPVsiY2kiLCJzdiIsInQiLCJtbCIsInNuIl0scD0icGJzcl8iLG09InBidmlfIixsPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8obW9iaWxlKXwoaXAoaG9uZXxhZCkpfChhbmRyb2lkKXwoYmxhY2tiZXJyeSl8KG5va2lhKXwocGhvbmUpfChvcGVyYVxzbWluaSkvaSksaD1bIjF4MSIsIjMwMHg1MCIsIjMyMHg1MCIsIjMwMHgyNTAiXSx2PVsiMXgxIiwiOTcweDkwIiwiOTcweDI1MCIsIjE2MHg2MDAiLCIzMDB4NjAwIiwiNzI4eDkwIiwiMzAweDI1MCJdLGI9e2NvZGU6ImVwbGFubmluZyIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuIEJvb2xlYW4obi5wYXJhbXMuY2kpfHxCb29sZWFuKG4ucGFyYW1zLnQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKG4sdCl7dmFyIGUscixpLGEsbCxoPWZ1bmN0aW9uKG4pe2lmKGZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0ucGFyYW1zLnQpcmV0dXJuITA7cmV0dXJuITF9KG4pKXJldHVybiBmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4gdD10fHxuLnBhcmFtcy5pc3Z9KSkse3Q6ITAsaXN2OnR8fHN9fShuLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyYW1zLnR9KSkpO3ZhciB0PXt9O3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2YuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wYXJhbXNbZV0mJiF0W2VdJiYodFtlXT1uLnBhcmFtc1tlXSl9KSl9KSksdH0obiksdj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5jaGFyc2V0fHx3aW5kb3cudG9wLmRvY3VtZW50LmNoYXJhY3RlclNldH1jYXRjaChuKXtyZXR1cm4gZG9jdW1lbnQuY2hhcnNldHx8ZG9jdW1lbnQuY2hhcmFjdGVyU2V0fX0oKSxiPWZ1bmN0aW9uKG4sdCl7dmFyIGU9KG89bixpPXt9LG8uZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHQ9dyhuLCEwKTtpW3RdPWlbdF0/aVt0XTpbXSxpW3RdLnB1c2gobil9KSksaSkscj17c3RyOiIiLHZzOiIiLG1hcDp7fX07dmFyIG8saTtyZXR1cm4gci5zdHI9T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gZVtuXS5tYXAoKGZ1bmN0aW9uKG4sZSl7dmFyIG87cmV0dXJuIHIudnMrPWZ1bmN0aW9uKG4pe3ZhciB0LGU9IiI7dS5oYXNMb2NhbFN0b3JhZ2UoKT9lKz0odD1mdW5jdGlvbihuKXt2YXIgdD11LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHArbi5hZFVuaXRDb2RlKXx8MCxlPXUuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UobStuLmFkVW5pdENvZGUpfHwwLHI9dD4wP2UvdDowO3JldHVybntyZW5kZXI6dCxyYXRpbzp3aW5kb3cucGFyc2VJbnQoMTAqciwxMCl9fShuKSkucmVuZGVyPj00P3QucmF0aW8udG9TdHJpbmcoMTYpOiJGIjplKz0iRiI7cmV0dXJuIGV9KG4pLG89dD9mdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9ffFwufC18XC8vZywiIikucmVwbGFjZSgvXClcKHxcKHxcKXw6L2csIl8iKS5yZXBsYWNlKC9eXyt8XyskL2csIiIpfShuLmFkVW5pdENvZGUpOm4ucGFyYW1zJiZuLnBhcmFtcy5zbnx8dyhuLCEwKSsiXyIrZSxyLm1hcFtvXT1uLmJpZElkLG8rIjoiK3cobil9KSkuam9pbigiKyIpfSkpLmpvaW4oIisiKSxyfShuLGgubWwpLGc9dC5yZWZlcmVySW5mby5yZWZlcmVyO2lmKGgudCllPSJodHRwczovLyIraC5pc3YrIi9sYXllcnMvdF9wYmpzXzIuanNvbiIscj17fTtlbHNle2U9Imh0dHBzOi8vIisoaC5zdnx8InBianMuZS1wbGFubmluZy5uZXQiKSsiL3BianMvMS8iK2guY2krIi8xLyIrZnVuY3Rpb24obil7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiB0LmhyZWY9bix0Lmhvc3RuYW1lfShnKSsiL1JPUyI7dmFyIHk9dC5yZWZlcmVySW5mby5yZWZlcmVyLnJlYWNoZWRUb3A/d2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcjp0LnJlZmVyZXJJbmZvLnJlZmVyZXI7aWYodS5oYXNMb2NhbFN0b3JhZ2UoKSYmKGk9W10sbi5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuLmFkVW5pdENvZGUpO3Q/aih0KTppLnB1c2gobi5hZFVuaXRDb2RlKX0pKSxpLmxlbmd0aCYmKGE9aSxsPW5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihuLHQpe24mJkFycmF5LmlzQXJyYXkobikmJm4uZm9yRWFjaCgoZnVuY3Rpb24obil7biYmbi5hZGRlZE5vZGVzJiZBcnJheS5pc0FycmF5KG4uYWRkZWROb2RlcykmJm4uYWRkZWROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgZT1hLmluZGV4T2Yobi5pZCk7ZT49MCYmKGoobiksYS5zcGxpY2UoZSwxKSxhLmxlbmd0aHx8dC5kaXNjb25uZWN0KCkpfSkpfSkpfSkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLChmdW5jdGlvbihuKXt2YXIgdD17Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITAsY2hhcmFjdGVyRGF0YTohMH07bC5vYnNlcnZlKGRvY3VtZW50LmJvZHksdCl9KSkpKSxyPXtybmQ6ZCxlOmIuc3RyLHVyOmd8fCJmaWxlIixwYnY6IjUuMjAuMiIsbmNiOiIxIix2czpiLnZzfSx2JiYoci5jcnM9dikseSYmKHIuZnI9eSksdCYmdC5nZHByQ29uc2VudCYmdm9pZCAwIT09dC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPyIxIjoiMCIsdm9pZCAwIT09dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoci5nZHByY3M9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksdCYmdC51c3BDb25zZW50JiYoci5jY3BhPXQudXNwQ29uc2VudCksT2JqZWN0KG8uYSkoKS5nZXRVc2VySWRzJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0KG8uYSkoKS5nZXRVc2VySWRzKXt2YXIgRT1PYmplY3Qoby5hKSgpLmdldFVzZXJJZHMoKTtmb3IodmFyIFMgaW4gRSlyWyJlXyIrU109Im9iamVjdCI9PT1jKEVbU10pP2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShFW1NdKSk6ZW5jb2RlVVJJQ29tcG9uZW50KEVbU10pfX1yZXR1cm57bWV0aG9kOiJHRVQiLHVybDplLGRhdGE6cixhZFVuaXRUb0JpZElkOmIubWFwfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1uLmJvZHksbz1bXTtyZXR1cm4gZSYmIU9iamVjdChyLmlzRW1wdHkpKGUuc3ApJiZlLnNwLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdChyLmlzRW1wdHkpKG4uYSl8fG4uYS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj17cmVxdWVzdElkOnQuYWRVbml0VG9CaWRJZFtuLmtdLGNwbTplLnByLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGFkOmUuYWRtLHR0bDoxMjAsY3JlYXRpdmVJZDplLmNyaWQsbmV0UmV2ZW51ZTp0cnVlLGN1cnJlbmN5OiJVU0QifTtlLmFkb20mJihyLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbX0pLG8ucHVzaChyKX0pKX0pKSxvfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxvPSFPYmplY3Qoci5pc0VtcHR5KSh0KSYmdFswXS5ib2R5O28mJiFPYmplY3Qoci5pc0VtcHR5KShvLmNzKSYmby5jcy5mb3JFYWNoKChmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJm4ucGl4ZWxFbmFibGVkP2UucHVzaCh7dHlwZToiaW1hZ2UiLHVybDp0fSk6Im9iamVjdCI9PT1jKHQpJiZ0LmlmciYmbi5pZnJhbWVFbmFibGVkJiZlLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnQudX0pfSkpO3JldHVybiBlfX07ZnVuY3Rpb24gZygpe3JldHVybiBPYmplY3Qoci5nZXRXaW5kb3dTZWxmKSgpLmlubmVyV2lkdGg8PTEwMjR8fHdpbmRvdy5vcmllbnRhdGlvbnx8bH1mdW5jdGlvbiB5KG4sdCl7dmFyIGU9ZygpP2g6dixyPWUuaW5kZXhPZihuKSxvPWUuaW5kZXhPZih0KTtyZXR1cm4gcj4tMT9vPi0xJiZyPG8/MTotMTpvPi0xPzE6MH1mdW5jdGlvbiB3KG4sdCl7dmFyIGUsbz1uLnNpemVzJiZuLnNpemVzLmxlbmd0aD8oZT1uLnNpemVzLE9iamVjdChyLnBhcnNlU2l6ZXNJbnB1dCkoZSkuc29ydCh5KSk6W107cmV0dXJuIG8ubGVuZ3RoP3Q/b1swXTpvLmpvaW4oIiwiKToiMXgxIn1mdW5jdGlvbiBqKG4pe3ZhciB0Oyh0PXtuYW1lOm4uaWQsZGl2Om59KS5kaXYmJihFKHArdC5uYW1lKSxmdW5jdGlvbigpe3ZhciBuLHQ9NSxlPTFlMyxyPS41O2Z1bmN0aW9uIG8obix0LGUpe3JldHVybiB0Pm58fGU8MH1mdW5jdGlvbiBpKG4pe3JldHVybiBuPDB9ZnVuY3Rpb24gYShuLHQpe3JldHVybiB0PG59ZnVuY3Rpb24gYyhuLHQsZSl7dmFyIHI9MDtyZXR1cm4gbyhuLHQsZSl8fChyPWkodCk/ZS8oZS10KTphKG4sZSk/MToobi10KS8oZS10KSkscn1mdW5jdGlvbiB1KCl7dHJ5e3JldHVybiB3aW5kb3c9PT13aW5kb3cudG9wfHx3aW5kb3cuZnJhbWVFbGVtZW50fWNhdGNoKG4pe319ZnVuY3Rpb24gZCh0KXt0cnl7bj10JiZ3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyh0KT93aW5kb3c6d2luZG93LnRvcC5kb2N1bWVudC5ib2R5LmNvbnRhaW5zKHQpP3RvcDp2b2lkIDB9Y2F0Y2gobil7fXJldHVybiBufWZ1bmN0aW9uIHModCl7cmV0dXJuIG59ZnVuY3Rpb24gZihuKXtyZXR1cm4gYyhzKCkuaW5uZXJIZWlnaHQsbi50b3Asbi5ib3R0b20pfWZ1bmN0aW9uIHAobil7cmV0dXJuIGMocygpLmlubmVyV2lkdGgsbi5sZWZ0LG4ucmlnaHQpfWZ1bmN0aW9uIG0obil7dmFyIHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZih0KSpwKHQpPnJ9ZnVuY3Rpb24gbChuKXtyZXR1cm4gbi5vZmZzZXRIZWlnaHQ+MCYmbi5vZmZzZXRXaWR0aD4wfWZ1bmN0aW9uIGgobil7dmFyIHQ9bi5zdHlsZSxlPW4ucGFyZW50Tm9kZTtyZXR1cm4hKHQmJjA9PT1wYXJzZUZsb2F0KHQub3BhY2l0eSkpJiYoIWV8fGgoZSkpfWZ1bmN0aW9uIHYobil7cmV0dXJuImhpZGRlbiIhPT1zKCkuZ2V0Q29tcHV0ZWRTdHlsZShuKS52aXNpYmlsaXR5fWZ1bmN0aW9uIGIoKXt0cnl7cmV0dXJuIHMoKS50b3AuZG9jdW1lbnQuaGFzRm9jdXMoKX1jYXRjaChuKXt9fWZ1bmN0aW9uIGcobil7cmV0dXJuIG51bGwhPW59ZnVuY3Rpb24geSgpe3JldHVybiBnKHMoKSl9ZnVuY3Rpb24gdygpe3JldHVybiBnKHMoKS5mcmFtZUVsZW1lbnQpfWZ1bmN0aW9uIGoobixyLG8pe3ZhciBpPUUocik/bisxOjA7aT09PXQ/bygpOnNldFRpbWVvdXQoai5iaW5kKHRoaXMsaSxyLG8pLGUvdCl9ZnVuY3Rpb24gRShuKXtyZXR1cm4gZChuKSx1KCkmJnkoKSYmYigpJiZsKG4pJiZ2KG4pJiZoKG4pJiZtKG4pJiYoIXcoKXx8RShzKCkuZnJhbWVFbGVtZW50KSl9cmV0dXJue2lzVmlzaWJsZTpFLG9uVmlldzpqLmJpbmQodGhpcywwKX19KCkub25WaWV3KHQuZGl2LEUuYmluZCh2b2lkIDAsbSt0Lm5hbWUpKSl9ZnVuY3Rpb24gRShuKXt2YXIgdDt0cnl7dD0odD11LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG4pKT93aW5kb3cucGFyc2VJbnQodCwxMCkrMToxLHUuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG4sdCl9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuITB9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzQzNV0pOwp1cGJqc0NodW5rKFsyNTBdLHs0ODY6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDQ4Nyl9LDQ4NzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe0k9ITF9LHQuZ2V0U3luY1VybD1mdW5jdGlvbigpe3JldHVybiBifTt2YXIgbj1yKDApLG89cigxKSxpPXIoMTMpLGE9cigyKSxzPXIoMyksZD1yKDcpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuKHU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4sbyxpPVtdLGE9ITAscz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2gobi52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe3M9ITAsbz1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBvfX1yZXR1cm4gaX0oZSx0KXx8cChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZihlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHAoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZihlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1yfHwiU2V0Ij09PXI/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP2YoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIGYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgZz0iZ3JpZCIsYj0iaHR0cHM6Ly94LmJpZHN3aXRjaC5uZXQvc3luYz9zc3A9dGhlbWVkaWFncmlkIixtPSJ0bWd1aWQiLHk9Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMiLHY9T2JqZWN0KGQuYikoNjg2LGcpLGg9IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhdWlkIHBhcmFtZXRlciAtICIsUz0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFkbSBwYXJhbWV0ZXIgLSAiLGo9IkFycmF5IG9mIGJpZCBvYmplY3RzIGlzIGVtcHR5Iix4PSJTZWF0YmlkIGFycmF5IGZyb20gcmVzcG9uc2UgaGFzIGVtcHR5IGl0ZW0iLHc9IlJlc3BvbnNlIGlzIGVtcHR5IixPPSJSZXNwb25zZSBoYXMgZW1wdHkgc2VhdGJpZCBhcnJheSIsQT0iU2VhdGJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhcnJheSBvZiBiaWQgb2JqZWN0cyAtICIsST0hMSxUPXtjb2RlOmcsYWxpYXNlczpbInBsYXl3aXJlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy51aWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9bnVsbCxvPW51bGwsaT1udWxsLGQ9bnVsbCxwPW51bGwsZj1udWxsLGc9bnVsbCxiPXR8fHt9LHk9Yi5iaWRkZXJSZXF1ZXN0SWQsaD1iLmF1Y3Rpb25JZCxTPWIuZ2RwckNvbnNlbnQsaj1iLnVzcENvbnNlbnQseD1iLnRpbWVvdXQsdz1iLnJlZmVyZXJJbmZvLE89dz9lbmNvZGVVUklDb21wb25lbnQody5yZWZlcmVyKToiIixBPVtdLEk9e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt5fHwoeT1lLmJpZGRlclJlcXVlc3RJZCksaHx8KGg9ZS5hdWN0aW9uSWQpLGR8fChkPWUuc2NoYWluKSxwfHwocD1lLnVzZXJJZEFzRWlkcyk7dmFyIHQ9ZS5wYXJhbXMscz10LnVpZCxsPXQua2V5d29yZHMsZj1lLm1lZGlhVHlwZXMsZz1lLmJpZElkLGI9ZS5hZFVuaXRDb2RlLG09ZS5ydGQsdj1lLm9ydGIySW1wO0lbZ109ZTt2YXIgUz1mdW5jdGlvbihlLHQpe3ZhciByPWUudmlkZW8/InZpZGVvIjoiYmFubmVyIixuPXQucGFyYW1zLmJpZEZsb29yfHwwO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yKXt2YXIgbz10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOnQuc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD1jKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfSk7Im9iamVjdCIhPT11KG8pfHwiVVNEIiE9PW8uY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoby5mbG9vcikpfHwobj1NYXRoLm1heChuLHBhcnNlRmxvYXQoby5mbG9vcikpKX1yZXR1cm4gbn0oZnx8e30sZSksaj1tJiZtLmp3cGxheWVyJiZtLmp3cGxheWVyLnRhcmdldGluZztqJiYoIW8mJmouc2VnbWVudHMmJihvPWouc2VnbWVudHMpLCFpJiZqLmNvbnRlbnQmJihpPWouY29udGVudCkpO3ZhciB4PXtpZDpnLnRvU3RyaW5nKCksdGFnaWQ6cy50b1N0cmluZygpLGV4dDp7ZGl2aWQ6Yi50b1N0cmluZygpfX07aWYodiYmdi5leHQmJnYuZXh0LmRhdGEmJih4LmV4dC5kYXRhPXYuZXh0LmRhdGEseC5leHQuZGF0YS5hZHNlcnZlciYmeC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3Q/eC5leHQuZ3BpZD14LmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdC50b1N0cmluZygpOnguZXh0LmdwaWQ9di5leHQuZGF0YS5wYmFkc2xvdCYmdi5leHQuZGF0YS5wYmFkc2xvdC50b1N0cmluZygpKSxPYmplY3Qobi5pc0VtcHR5KShsKXx8KHJ8fChyPWwpLHguZXh0LmJpZGRlcj17a2V5d29yZHM6bH0pLFMmJih4LmJpZGZsb29yPVMpLCFmfHxmW2EuYl0pe3ZhciB3PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5zaXplc3x8ZS5zaXplcztpZighcnx8IXIubGVuZ3RoKXJldHVybjt2YXIgbz1yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShlKX0pKSxpPU9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShyWzBdKTtvLmxlbmd0aCYmKGkuZm9ybWF0PW8pO3JldHVybiBpfShlLGY/ZlthLmJdOnt9KTt3JiYoeC5iYW5uZXI9dyl9aWYoZiYmZlthLmRdKXt2YXIgTz1mdW5jdGlvbihlLHQpe3ZhciByPXQucGxheWVyU2l6ZSxvPXQubWltZXMsaT10LmR1cmF0aW9uUmFuZ2VTZWMsYT10LnByb3RvY29scyxzPShyfHxlLnNpemVzfHxbXSlbMF07aWYoIXMpcmV0dXJuO3ZhciBkPU9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShzKTtvJiYoZC5taW1lcz1vKTtpJiYyPT09aS5sZW5ndGgmJihkLm1pbmR1cmF0aW9uPWlbMF0sZC5tYXhkdXJhdGlvbj1pWzFdKTthJiZhLmxlbmd0aCYmKGQucHJvdG9jb2xzPWEpO3JldHVybiBkfShlLGZbYS5kXSk7TyYmKHgudmlkZW89Tyl9KHguYmFubmVyfHx4LnZpZGVvKSYmQS5wdXNoKHgpfSkpO3ZhciBUPXt0aWQ6aCYmaC50b1N0cmluZygpLGV4dDp7d3JhcHBlcjoiUHJlYmlkX2pzIix3cmFwcGVyX3ZlcnNpb246IjUuMjAuMiJ9fTtkJiYoVC5leHQuc2NoYWluPWQpO3ZhciBFPXMuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKXx8eCxSPXg/TWF0aC5taW4oRSx4KTpFLGs9e2lkOnkmJnkudG9TdHJpbmcoKSxzaXRlOntwYWdlOk99LHRtYXg6Uixzb3VyY2U6VCxpbXA6QX07aSYmKGsuc2l0ZS5jb250ZW50PWkpLG8mJm8ubGVuZ3RoJiYoZj17ZGF0YTpbe25hbWU6Imlvd19sYWJzX3B1Yl9kYXRhIixzZWdtZW50Om8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZToiandwc2VnIix2YWx1ZTplfX0pKX1dfSksUyYmUy5jb25zZW50U3RyaW5nJiYoZz17Y29uc2VudDpTLmNvbnNlbnRTdHJpbmd9KSxwJiZwLmxlbmd0aCYmKChnPWd8fHt9KS5laWRzPWwocCkpLGcmJk9iamVjdC5rZXlzKGcpLmxlbmd0aCYmKChmPWZ8fHt9KS5leHQ9Zyk7dmFyIFU9di5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShtKXx8ZnVuY3Rpb24oKXtpZihzLmIuZ2V0Q29uZmlnKCJsb2NhbFN0b3JhZ2VXcml0ZUFsbG93ZWQiKSl7dmFyIGU9T2JqZWN0KG4uZ2VuZXJhdGVVVUlEKSgpLnJlcGxhY2UoLy0vZywiIik7cmV0dXJuIHYuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG0sZSksZX1yZXR1cm4gbnVsbH0oKTtVJiYoKGY9Znx8e30pLmlkPVUudG9TdHJpbmcoKSksZiYmKGsudXNlcj1mKTt2YXIgXz1PYmplY3Qobi5kZWVwQWNjZXNzKShzLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyIiksImtleXdvcmRzIil8fG51bGwsej1PYmplY3Qobi5kZWVwQWNjZXNzKShzLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlIiksImtleXdvcmRzIil8fG51bGw7cmV0dXJuIF8mJigocj1yfHx7fSkudXNlcj1yLnVzZXJ8fHt9LHIudXNlci5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpfLnNwbGl0KCIsIil9XSkseiYmKChyPXJ8fHt9KS5zaXRlPXIuc2l0ZXx8e30sci5zaXRlLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOnouc3BsaXQoIiwiKX1dKSxyJiYocj1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtpZihuKWlmKCJzaXRlIj09PXJ8fCJ1c2VyIj09PXIpe3ZhciBvPXt9O09iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkobltlXSkpe3ZhciB0PVtdO25bZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PT11KGUpJiZlLm5hbWUpe3ZhciByPXtuYW1lOmUubmFtZSxzZWdtZW50czpbXX07T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheShlW3RdKSYmZVt0XS5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiYoInN0cmluZyI9PXR5cGVvZiBlP3Iuc2VnbWVudHMucHVzaCh7bmFtZTp0LHZhbHVlOmV9KToic2VnbWVudHMiPT09dCYmInN0cmluZyI9PXR5cGVvZiBlLm5hbWUmJiJzdHJpbmciPT10eXBlb2YgZS52YWx1ZSYmci5zZWdtZW50cy5wdXNoKGUpKX0pKX0pKSxyLnNlZ21lbnRzLmxlbmd0aCYmdC5wdXNoKHIpfX0pKSx0Lmxlbmd0aCYmKG9bZV09dCl9fSkpLHRbcl09b31lbHNlIHRbcl09bn0pKSxPYmplY3Qua2V5cyh0KS5sZW5ndGgmJnR9KHIpKSYmKGsuZXh0PXtrZXl3b3JkczpyfSksUyYmUy5nZHByQXBwbGllcyYmKGsucmVncz17ZXh0OntnZHByOlMuZ2RwckFwcGxpZXM/MTowfX0pLGomJihrLnJlZ3N8fChrLnJlZ3M9e2V4dDp7fX0pLGsucmVncy5leHQudXNfcHJpdmFjeT1qKSwhMD09PXMuYi5nZXRDb25maWcoImNvcHBhIikmJihrLnJlZ3N8fChrLnJlZ3M9e30pLGsucmVncy5jb3BwYT0xKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZ3JpZC5iaWRzd2l0Y2gubmV0L2hianNvbiIsZGF0YTpKU09OLnN0cmluZ2lmeShrKSxuZXdGb3JtYXQ6ITAsYmlkc01hcDpJfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXtlPWUmJmUuYm9keTt2YXIgcixvPVtdO3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihyPU8pOnI9dywhciYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCxyKXtpZighZSlyZXR1cm47dmFyIG87ZS5hdWlkfHwobz1oK0pTT04uc3RyaW5naWZ5KGUpKTtpZihvfHxlLmFkbXx8ZS5udXJsKXt2YXIgcz10LmJpZHNNYXBbZS5pbXBpZF07aWYocyl7dmFyIGQ9e3JlcXVlc3RJZDpzLmJpZElkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5hdWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW4/ZS5hZG9tYWluOltdfSxkZWFsSWQ6ZS5kZWFsaWR9O2UuZXh0JiZlLmV4dC5iaWRkZXImJmUuZXh0LmJpZGRlci5ncmlkJiZlLmV4dC5iaWRkZXIuZ3JpZC5kZW1hbmRTb3VyY2UmJihkLmFkc2VydmVyVGFyZ2V0aW5nPXtoYl9kczplLmV4dC5iaWRkZXIuZ3JpZC5kZW1hbmRTb3VyY2V9LGQubWV0YS5kZW1hbmRTb3VyY2U9ZS5leHQuYmlkZGVyLmdyaWQuZGVtYW5kU291cmNlKSwidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KGUuYWRtPyhkLnZhc3RYbWw9ZS5hZG0sZC5hZFJlc3BvbnNlPXtjb250ZW50OmQudmFzdFhtbH0pOmUubnVybCYmKGQudmFzdFVybD1lLm51cmwpLGQubWVkaWFUeXBlPWEuZCxzLnJlbmRlcmVyfHxzLm1lZGlhVHlwZXMmJnMubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1zLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KGQucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLmEuaW5zdGFsbCh7aWQ6dC5pZCx1cmw6dC51cmwsbG9hZGVkOiExfSk7dHJ5e3Iuc2V0UmVuZGVyKEUpfWNhdGNoKGUpe09iamVjdChuLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfSgwLHtpZDpzLmJpZElkLHVybDp5fSkpKTooZC5hZD1lLmFkbSxkLm1lZGlhVHlwZT1hLmIpLHIucHVzaChkKX19ZWxzZSBvPVMrSlNPTi5zdHJpbmdpZnkoZSk7byYmT2JqZWN0KG4ubG9nRXJyb3IpKG8pfShmdW5jdGlvbihlKXtlP2UuYmlkP2UuYmlkWzBdfHxPYmplY3Qobi5sb2dFcnJvcikoaik6T2JqZWN0KG4ubG9nRXJyb3IpKEErSlNPTi5zdHJpbmdpZnkoZSkpOk9iamVjdChuLmxvZ0Vycm9yKSh4KTtyZXR1cm4gZSYmZS5iaWQmJmUuYmlkWzBdfShlKSx0LG8pfSkpLHImJk9iamVjdChuLmxvZ0Vycm9yKShyKSxvfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIUkmJmUucGl4ZWxFbmFibGVkKXt2YXIgbz0iIjtyZXR1cm4gciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzP28rPSImZ2Rwcj0iLmNvbmNhdChOdW1iZXIoci5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHIuY29uc2VudFN0cmluZyk6bys9IiZnZHByX2NvbnNlbnQ9Ii5jb25jYXQoci5jb25zZW50U3RyaW5nKSksbiYmKG8rPSImdXNfcHJpdmFjeT0iLmNvbmNhdChuKSksST0hMCx7dHlwZToiaW1hZ2UiLHVybDpiK299fX19O2Z1bmN0aW9uIEUoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2V9KX0pKX1PYmplY3Qoby5yZWdpc3RlckJpZGRlcikoVCl9fSxbNDg2XSk7CnVwYmpzQ2h1bmsoWzI0N10sezQ5MjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNDkzKX0sNDkzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe24uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgcj1uKDIpLGk9bigwKSxvPW4oMyksYT1uKDcpLGM9bigxMiksdT1uLm4oYyksZD1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2YoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnAoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgdj1PYmplY3QoYS5iKSgpLGc9e3Q6MCxycTo4LHBidjoiNS4yMC4yIn0saD1bci5iLHIuZF0sTz17fSx3PXt9LEk9bnVsbDtmdW5jdGlvbiBqKHQpe3ZhciBuLHIsbyxhLGMsdSxkLHM7aWYody52dylyZXR1cm4gdzt0cnl7cj0obj1lLnRvcCkuc2NyZWVuLG89dHx8IiJ9Y2F0Y2goZSl7cmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKShlKSx3fXJldHVybiB3PXt2dzpuLmlubmVyV2lkdGgsdmg6bi5pbm5lckhlaWdodCxzdzpyLndpZHRoLHNoOnIuaGVpZ2h0LHB1Om8sY2U6di5jb29raWVzQXJlRW5hYmxlZCgpLGRwcjpuLmRldmljZVBpeGVsUmF0aW98fDEsamNzaTpKU09OLnN0cmluZ2lmeShnKSxvZ3U6KHU9KGRvY3VtZW50JiZkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp1cmwnXSIpLHU/dS5jb250ZW50Om51bGwpfSxkPXdpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLmNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKSwoYz0ocz1kJiYoZC5kb3dubGlua3x8ZC5iYW5kd2lkdGgpKT9NYXRoLnJvdW5kKDEwMjQqcyk6bnVsbCkmJih3Lm5zPWMpLChhPShvLm1hdGNoKC8jZ2dhZD0oXHcrKSQvKXx8WzAsMF0pWzFdKSYmKHdbaXNOYU4oYSk/ImVBZEJ1eUlkIjoiYWRCdXlJZCJdPWEpLHd9ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBlLnJlcGxhY2UoIkFEX0pTT04iLHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHQpKSl9ZnVuY3Rpb24geChlKXt2YXIgdD1lLmRpZ2l0cnVzdGlkJiZlLmRpZ2l0cnVzdGlkLmRhdGE7cmV0dXJuIXR8fHQucHJpdmFjeSYmdC5wcml2YWN5Lm9wdG91dD97fTp7ZHQ6dC5pZH19ZnVuY3Rpb24gUChlKXt2YXIgdD0wLG49MCxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9YihlLDIpLG89aVswXSxhPWlbMV0sYz1vPmE/bzphOyhjPnJ8fGM9PT1yJiZvPj10JiZhPj1uKSYmKHI9Yyx0PW8sbj1hKX0pKSxbdCxuXX12YXIgQz17Y29kZToiZ3VtZ3VtIixhbGlhc2VzOlsiZ2ciXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcyxuPWUuYWRVbml0Q29kZSxyPXQuaW5TY3JlZW58fHQuaW5TY3JlZW5QdWJJRHx8dC5pblNsb3R8fHQuSUNWfHx0LnZpZGVvfHx0LmluVmlkZW98fHQuc2xvdHx8dC5uYXRpdmV8fHQuem9uZXx8dC5wdWJJRDtpZihPW3JdKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQociwiIGZvciB0aGUgcGxhY2VtZW50ICIpLmNvbmNhdChuKSksITE7c3dpdGNoKCEwKXtjYXNlISF0LnpvbmU6Y2FzZSEhdC5wdWJJZDpjYXNlISF0LmluU2NyZWVuOmNhc2UhIXQuaW5TY3JlZW5QdWJJRDpjYXNlISF0LmluU2xvdDpjYXNlISF0LklDVjpjYXNlISF0LnZpZGVvOmNhc2UhIXQuaW5WaWRlbzpjYXNlISF0LnZpZGVvUHViSUQ6YnJlYWs7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIltHdW1HdW1dIE5vIHByb2R1Y3Qgc2VsZWN0ZWQgZm9yIHRoZSBwbGFjZW1lbnQgIi5jb25jYXQobiwiLCBwbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4iKSksITF9cmV0dXJuISh0LmJpZGZsb29yJiYoIm51bWJlciIhPXR5cGVvZiB0LmJpZGZsb29yfHwhaXNGaW5pdGUodC5iaWRmbG9vcikpKXx8KE9iamVjdChpLmxvZ1dhcm4pKCJbR3VtR3VtXSBiaWRmbG9vciBtdXN0IGJlIGEgTnVtYmVyIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj10JiZ0LmdkcHJDb25zZW50LGE9dCYmdC51c3BDb25zZW50LGM9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLHU9dCYmdC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyO3JldHVybiBPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQsbyxkPWUuYmlkSWQscD1lLm1lZGlhVHlwZXMsZj12b2lkIDA9PT1wP3t9OnAseT1lLnBhcmFtcyx2PXZvaWQgMD09PXk/e306eSxnPWUuc2NoYWluLGg9ZS50cmFuc2FjdGlvbklkLE89ZS51c2VySWQsdz12b2lkIDA9PT1PP3t9Ok8sUz1lLm9ydGIySW1wLEM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdfHwiYmFubmVyIixpPXtmbG9vcjowLGN1cnJlbmN5OiJVU0QifTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5nZXRGbG9vcil7dmFyIG89bi5nZXRGbG9vcih7bWVkaWFUeXBlOnIsc2l6ZToiKiJ9KSxhPW8uY3VycmVuY3ksYz1vLmZsb29yO2MmJihpLmZsb29yPWMpLGEmJihpLmN1cnJlbmN5PWEpLHQmJmMmJiJVU0QiPT09YSYmKGkuZmxvb3I9TWF0aC5tYXgodCxwYXJzZUZsb2F0KGMpKSl9ZWxzZSB0JiYoaS5mbG9vcj10KTtyZXR1cm4gaX0oZix2LmJpZGZsb29yLGUpLHo9Qy5jdXJyZW5jeSxEPUMuZmxvb3IsQT1mdW5jdGlvbihlKXt2YXIgdD1bInVpZCIsImVpZCIsImxpcGJpZCJdO3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9ZVtyXTtzd2l0Y2gobShpKSl7Y2FzZSJzdHJpbmciOm5bcl09aTticmVhaztjYXNlIm9iamVjdCI6dmFyIG89dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc093blByb3BlcnR5KGUpfSkpO28ubGVuZ3RoJiYobltyXT1pW29bMF1dKX1yZXR1cm4gbn0pLHt9KX0odyksVD1bMSwxXSxrPXt9LFI9IiIsVT1uZXcgRGF0ZSxHPVUmJlUuZ2V0VGltZSgpLFY9VSYmVS5nZXRUaW1lem9uZU9mZnNldCgpO2Zvcih2YXIgRSBpbiBWJiYoRyYmKGsubHQ9Ryksay50bz1WKSxBKWtbRV09QVtFXTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5wYmFkc2xvdCIpP1I9T2JqZWN0KGkuZGVlcEFjY2VzcykoUywiZXh0LmRhdGEucGJhZHNsb3QiKTpPYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5hZHNlcnZlci5uYW1lIikmJihSPVMuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90KSxmLmJhbm5lcj9UPWYuYmFubmVyLnNpemVzOmYudmlkZW8mJihUPWYudmlkZW8ucGxheWVyU2l6ZSxrPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWluZHVyYXRpb24sbj1lLm1heGR1cmF0aW9uLHI9ZS5saW5lYXJpdHksbz1lLnN0YXJ0ZGVsYXksYT1lLnBsYWNlbWVudCxjPWUucHJvdG9jb2xzLHU9dm9pZCAwPT09Yz9bXTpjLGQ9ZS5wbGF5ZXJTaXplLHM9dm9pZCAwPT09ZD9bXTpkLHA9T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShzKSxsPWIocFswXSYmcFswXS5zcGxpdCgieCIpLDIpLGY9bFswXSxtPWxbMV0seT0iIjtyZXR1cm4gdS5sZW5ndGgmJih5PXUuam9pbigiLCIpKSx7bWluZDp0LG1heGQ6bixsaTpyLHNkOm8scHQ6YSxwcjp5LHZpdzpmLHZpaDptfX0oZi52aWRlbykpLEkmJihrLnB2PUkpLEQmJihrLmZwPUQsay5mcGM9eiksdi5pcmlzY2F0JiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2NhdCYmKGsuaXJpc2NhdD12LmlyaXNjYXQpLHYuaXJpc2lkJiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2lkJiYoay5pcmlzaWQ9di5pcmlzaWQpLHYuem9uZXx8di5wdWJJZClpZih2LnpvbmU/ay50PXYuem9uZTprLnB1YklkPXYucHViSWQsay5waT0yLHYuc2xvdCl7dmFyIE49YihQKFQpLDIpLHE9TlswXSxCPU5bMV07ay5tYXh3PXEsay5tYXhoPUIsay5zaT12LnNsb3Qsay5waT0zLGsuYmY9VC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWVsc2Ugdi5uYXRpdmU/KGsubmk9di5uYXRpdmUsay5waT01KTpmLnZpZGVvJiYoay5waT0yPT09Zi52aWRlby5saW5lYXJpdHk/Njo3KTtlbHNlIGs9bChsKHt9LGspLGZ1bmN0aW9uKGUsdCl7dmFyIG49e307ZS5pblNjcmVlblB1YklEJiYobi5wdWJJZD1lLmluU2NyZWVuUHViSUQsbi5waT0yKTtlLmluU2NyZWVuJiYobi50PWUuaW5TY3JlZW4sbi5waT0yKTtpZihlLmluU2xvdCl7dmFyIHI9YihQKHQpLDIpLGk9clswXSxvPXJbMV07bi5tYXh3PWksbi5tYXhoPW8sbi5zaT1lLmluU2xvdCxuLnBpPTMsbi5iZj10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9KSwiIil9ZS5JQ1YmJihuLm5pPWUuSUNWLG4ucGk9NSk7ZS52aWRlb1B1YklEJiYobi5wdWJJZD1lLnZpZGVvUHViSUQsbi5waT03KTtlLnZpZGVvJiYobi50PWUudmlkZW8sbi5waT03KTtlLmluVmlkZW8mJihuLnQ9ZS5pblZpZGVvLG4ucGk9Nik7cmV0dXJuIG59KHYsVCkpO3ImJihrLmdkcHJBcHBsaWVzPXIuZ2RwckFwcGxpZXM/MTowKSxrLmdkcHJBcHBsaWVzJiYoay5nZHByQ29uc2VudD1yLmNvbnNlbnRTdHJpbmcpLGEmJihrLnVzcENvbnNlbnQ9YSksZyYmZy5ub2RlcyYmKGsuc2NoYWluPShvPSIiLmNvbmNhdCgodD1nKS52ZXIsIiwiKS5jb25jYXQodC5jb21wbGV0ZSksdC5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe28rPSIhIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXNpfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuc2lkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuaHB8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5yaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuZG9tYWlufHwiIikpfSkpLG8pKSxuLnB1c2goe2lkOmQsdG1heDpjLHRJZDpoLHBpOmsucGksc2VsZWN0b3I6di5zZWxlY3RvcixzaXplczpULHVybDoiaHR0cHM6Ly9nMi5ndW1ndW0uY29tL2hiaWQvaW1wIixtZXRob2Q6IkdFVCIsZGF0YTpzKGssaih1KSx4KHcpLHtncGlkOlJ9KX0pfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10sbz1lLmJvZHk7aWYoIW98fG8uZXJyKXt2YXIgYT10LmRhdGF8fHt9LGM9YS5zaXx8YS5uaXx8YS50fHxhLnB1YklkLGQ9bz9vLmVyci5kcnQ6MThlNTtPW2NdPXtwcm9kdWN0SWQ6YS5waSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7T1tjXSYmZGVsZXRlIE9bY119KSxkKSxPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQoYykpfXZhciBwPXMoe2FkOntwcmljZTowLGlkOjAsbWFya3VwOiIiLHdpZHRoOjAsaGVpZ2h0OjB9LHBhZzp7cHZpZDowfSxtZXRhOnthZG9tYWluOltdLG1lZGlhVHlwZToiIn19LG8pLGY9cC5hZCxtPWYucHJpY2UseT1mLmlkLHY9Zi5tYXJrdXAsaD1mLmN1cix3PWYud2lkdGgsaj1mLmhlaWdodCx4PWYubWF4dyxQPWYubWF4aCxDPXAuY3csej1wLnBhZy5wdmlkLEQ9cC5qY3NpLEE9cC5tZXRhLFQ9QS5hZG9tYWluLGs9QS5tZWRpYVR5cGUsUj10LmRhdGF8fHt9LFU9Ui5waSxHPTY9PT1VfHw3PT09VT9yLmQ6ci5iLFY9Mz09PVUmJjk9PT1SLnNpLEU9e2FkdmVydGlzZXJEb21haW5zOlR8fFtdLG1lZGlhVHlwZTprfHxHfSxOPU9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkodC5zaXplcyk7aWYoeCYmUClOPVsiIi5jb25jYXQoeCwieCIpLmNvbmNhdChQKV07ZWxzZSBpZig1PT09VSYmdSgpKE4sIjF4MSIpKU49WyIxeDEiXTtlbHNlIGlmKDI9PT1VJiZ1KCkoTiwiMXgxIikpe3ZhciBxPXQuc2l6ZXMmJnQuc2l6ZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPWIodCwyKSxyPW5bMF0saT1uWzFdO3JldHVybiB3IT09ciYmaiE9PWl8fGUucHVzaCh0LmpvaW4oIngiKSksZX0pLFtdKXx8W107Tj1xLmxlbmd0aD9xOk9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkodC5zaXplcyl9dmFyIEI9YihOWzBdLnNwbGl0KCJ4IiksMiksTT1CWzBdLFc9QlsxXTtyZXR1cm4gRCYmKG8uamNzaT1nKSxJPXoseSYmbi5wdXNoKGwobCh7YWQ6Qz9TKEMscyh7fSxvLHtiaWRSZXF1ZXN0OnR9KSk6dn0sRz09PXIuZCYme2FkOnYsdmFzdFhtbDp2fSkse30se21lZGlhVHlwZTpHLGNwbTpWPy4xOm0sY3JlYXRpdmVJZDp5LGN1cnJlbmN5Omh8fCJVU0QiLGhlaWdodDpXLG5ldFJldmVudWU6ITAscmVxdWVzdElkOnQuaWQsdHRsOjYwLHdpZHRoOk0sbWV0YTpFfSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keSYmZS5ib2R5LnB4cyYmZS5ib2R5LnB4cy5zY3J8fFtdfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiZiI9PT1lLnQ/ImlmcmFtZSI6ImltYWdlIix1cmw6ZS51fX0pKX0sc3VwcG9ydGVkTWVkaWFUeXBlczpofTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikoQyl9LmNhbGwodCxuKDQxKSl9fSxbNDkyXSk7CnVwYmpzQ2h1bmsoWzI0MV0sezUwNjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNTA3KX0sNTA3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJJRDVfU1RPUkFHRV9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxyLmQodCwiSUQ1X1BSSVZBQ1lfU1RPUkFHRV9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxyLmQodCwiaWQ1SWRTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHQuZXhwRGF5c1N0cj1PLHQubmJDYWNoZU5hbWU9aix0LnN0b3JlTmJJbkNhY2hlPXYsdC5nZXROYkZyb21DYWNoZT1JLHQuZ2V0RnJvbUxvY2FsU3RvcmFnZT1TLHQuc3RvcmVJbkxvY2FsU3RvcmFnZT1fO3ZhciBvPXIoMCksbj1yKDQpLGE9cig5KSxjPXIoMTkpLGk9cig3KSxzPXIoOCkscD0iaWQ1aWQiLHU9IiIuY29uY2F0KHAsIl9wcml2YWN5IiksZD0iaHRtbDUiLGc9IlVzZXIgSUQgLSBJRDUgc3VibW9kdWxlOiAiLGI9WyJwYmpzLWlkNWlkIiwiaWQ1aWQuMXN0IiwiaWQ1aWQiXSxsPU9iamVjdChpLmIpKDEzMSwiaWQ1SWQiKSxtPXtuYW1lOiJpZDVJZCIsZ3ZsaWQ6MTMxLGRlY29kZTpmdW5jdGlvbihlLHQpe3ZhciByPTA7aWYoZSYmInN0cmluZyI9PXR5cGVvZiBlLnVuaXZlcnNhbF91aWQpe3ZhciBuPXtpZDVpZDp7dWlkOmUudW5pdmVyc2FsX3VpZCxleHQ6e2xpbmtUeXBlOnI9ZS5saW5rX3R5cGV8fHJ9fX07c3dpdGNoKE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsImFiX3Rlc3RpbmcucmVzdWx0Iikpe2Nhc2UiY29udHJvbCI6T2JqZWN0KG8ubG9nSW5mbykoZysiQS9CIFRlc3RpbmcgLSB1c2VyIGlzIGluIHRoZSBDb250cm9sIEdyb3VwOiBJRDUgSUQgaXMgTk9UIGV4cG9zZWQiKSxPYmplY3Qoby5kZWVwU2V0VmFsdWUpKG4sImlkNWlkLmV4dC5hYlRlc3RpbmdDb250cm9sR3JvdXAiLCEwKTticmVhaztjYXNlImVycm9yIjpPYmplY3Qoby5sb2dFcnJvcikoZysiQS9CIFRlc3RpbmcgRVJST1IhIGNvbnRyb2xHcm91cFBjdCBtdXN0IGJlIGEgbnVtYmVyID49IDAgYW5kIDw9IDEiKTticmVhaztjYXNlIm5vcm1hbCI6T2JqZWN0KG8ubG9nSW5mbykoZysiQS9CIFRlc3RpbmcgLSB1c2VyIGlzIE5PVCBpbiB0aGUgQ29udHJvbCBHcm91cCIpLE9iamVjdChvLmRlZXBTZXRWYWx1ZSkobiwiaWQ1aWQuZXh0LmFiVGVzdGluZ0NvbnRyb2xHcm91cCIsITEpfXJldHVybiBPYmplY3Qoby5sb2dJbmZvKShnKyJEZWNvZGVkIElEIixuKSxufX0sZ2V0SWQ6ZnVuY3Rpb24oZSx0LHIpe2lmKGYoZSkpe3ZhciBhLGk9Imh0dHBzOi8vaWQ1LXN5bmMuY29tL2cvdjIvIi5jb25jYXQoZS5wYXJhbXMucGFydG5lciwiLmpzb24iKSxwPXQmJiJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXMmJnQuZ2RwckFwcGxpZXM/MTowLG09cy51c3BEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpLGo9T2JqZWN0KGMuYSkoKSxJPXImJnIuc2lnbmF0dXJlP3Iuc2lnbmF0dXJlOihiLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wuZ2V0Q29va2llKGUpJiYoYT1KU09OLnBhcnNlKGwuZ2V0Q29va2llKGUpKXx8YSl9KSksYSYmYS5zaWduYXR1cmV8fCIiKSxTPXtwYXJ0bmVyOmUucGFyYW1zLnBhcnRuZXIsZ2RwcjpwLG5iUGFnZTp5KGUucGFyYW1zLnBhcnRuZXIpLG86InBianMiLHJmOmoucmVmZXJlcix0b3A6ai5yZWFjaGVkVG9wPzE6MCx1Omouc3RhY2tbMF18fHdpbmRvdy5sb2NhdGlvbi5ocmVmLHY6IjUuMjAuMiJ9OyFwfHx2b2lkIDA9PT10LmNvbnNlbnRTdHJpbmd8fE9iamVjdChvLmlzRW1wdHkpKHQuY29uc2VudFN0cmluZyl8fE9iamVjdChvLmlzRW1wdHlTdHIpKHQuY29uc2VudFN0cmluZyl8fChTLmdkcHJfY29uc2VudD10LmNvbnNlbnRTdHJpbmcpLHZvaWQgMD09PW18fE9iamVjdChvLmlzRW1wdHkpKG0pfHxPYmplY3Qoby5pc0VtcHR5U3RyKShtKXx8KFMudXNfcHJpdmFjeT1tKSx2b2lkIDA9PT1JfHxPYmplY3Qoby5pc0VtcHR5U3RyKShJKXx8KFMucz1JKSx2b2lkIDA9PT1lLnBhcmFtcy5wZHx8T2JqZWN0KG8uaXNFbXB0eVN0cikoZS5wYXJhbXMucGQpfHwoUy5wZD1lLnBhcmFtcy5wZCksdm9pZCAwPT09ZS5wYXJhbXMucHJvdmlkZXJ8fE9iamVjdChvLmlzRW1wdHlTdHIpKGUucGFyYW1zLnByb3ZpZGVyKXx8KFMucHJvdmlkZXI9ZS5wYXJhbXMucHJvdmlkZXIpO3ZhciBoPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYWJUZXN0aW5nIix7ZW5hYmxlZDohMX0pfShlKTshMD09PWguZW5hYmxlZCYmKFMuYWJfdGVzdGluZz17ZW5hYmxlZDohMCxjb250cm9sX2dyb3VwX3BjdDpoLmNvbnRyb2xHcm91cFBjdH0pO3JldHVybntjYWxsYmFjazpmdW5jdGlvbih0KXt2YXIgcj17c3VjY2VzczpmdW5jdGlvbihyKXt2YXIgbjtpZihyKXRyeXtuPUpTT04ucGFyc2UociksT2JqZWN0KG8ubG9nSW5mbykoZysicmVzcG9uc2UgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIixuKSx2KGUucGFyYW1zLnBhcnRuZXIsMCksbi5wcml2YWN5JiZfKHUsSlNPTi5zdHJpbmdpZnkobi5wcml2YWN5KSwzMCksZS5zdG9yYWdlLnR5cGU9PT1kJiZmdW5jdGlvbihlKXtPYmplY3Qoby5sb2dJbmZvKShnKyJyZW1vdmluZyBsZWdhY3kgY29va2llcyIpLGIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bC5zZXRDb29raWUoIiIuY29uY2F0KHQpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl9uYiIpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl8iKS5jb25jYXQoZSwiX25iIiksIiAiLE8oLTEpKSxsLnNldENvb2tpZSgiIi5jb25jYXQodCwiX2xhc3QiKSwiICIsTygtMSkpfSkpfShlLnBhcmFtcy5wYXJ0bmVyKX1jYXRjaChlKXtPYmplY3Qoby5sb2dFcnJvcikoZytlKX10KG4pfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3Qoby5sb2dFcnJvcikoZysiZ2V0SWQgZmV0Y2ggZW5jb3VudGVyZWQgYW4gZXJyb3IiLGUpLHQoKX19O09iamVjdChvLmxvZ0luZm8pKGcrInJlcXVlc3RpbmcgYW4gSUQgZnJvbSB0aGUgc2VydmVyIixTKSxPYmplY3Qobi5hKShpLHIsSlNPTi5zdHJpbmdpZnkoUykse21ldGhvZDoiUE9TVCIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fX19LGV4dGVuZElkOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZihlKSx5KGUmJmUucGFyYW1zJiZlLnBhcmFtcy5wYXJ0bmVyfHwwKSxPYmplY3Qoby5sb2dJbmZvKShnKyJ1c2luZyBjYWNoZWQgSUQiLHIpLHJ9fTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLnBhcmFtcyYmZS5wYXJhbXMucGFydG5lciYmIm51bWJlciI9PXR5cGVvZiBlLnBhcmFtcy5wYXJ0bmVyP2Uuc3RvcmFnZSYmZS5zdG9yYWdlLnR5cGUmJmUuc3RvcmFnZS5uYW1lPyhlLnN0b3JhZ2UudHlwZSE9PWQmJk9iamVjdChvLmxvZ1dhcm4pKGcrInN0b3JhZ2UgdHlwZSByZWNvbW1lbmRlZCB0byBiZSAnIi5jb25jYXQoZCwiJy4gSW4gYSBmdXR1cmUgcmVsZWFzZSB0aGlzIG1heSBiZWNvbWUgYSBzdHJpY3QgcmVxdWlyZW1lbnQiKSksZS5zdG9yYWdlLm5hbWUhPT1wJiZPYmplY3Qoby5sb2dXYXJuKShnKyJzdG9yYWdlIG5hbWUgcmVjb21tZW5kZWQgdG8gYmUgJyIuY29uY2F0KHAsIicuIEluIGEgZnV0dXJlIHJlbGVhc2UgdGhpcyBtYXkgYmVjb21lIGEgc3RyaWN0IHJlcXVpcmVtZW50IikpLCEwKTooT2JqZWN0KG8ubG9nRXJyb3IpKGcrInN0b3JhZ2UgcmVxdWlyZWQgdG8gYmUgc2V0IiksITEpOihPYmplY3Qoby5sb2dFcnJvcikoZysicGFydG5lciByZXF1aXJlZCB0byBiZSBkZWZpbmVkIGFzIGEgbnVtYmVyIiksITEpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIG5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqZSkudG9VVENTdHJpbmcoKX1mdW5jdGlvbiBqKGUpe3JldHVybiIiLmNvbmNhdChwLCJfIikuY29uY2F0KGUsIl9uYiIpfWZ1bmN0aW9uIHYoZSx0KXtfKGooZSksdCwzMCl9ZnVuY3Rpb24gSShlKXt2YXIgdD1TKGooZSkpO3JldHVybiB0P3BhcnNlSW50KHQpOjB9ZnVuY3Rpb24geShlKXt2YXIgdD1JKGUpKzE7cmV0dXJuIHYoZSx0KSx0fWZ1bmN0aW9uIFMoZSl7dmFyIHQ9bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpKTtyZXR1cm4iIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjA/bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKToobC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShlKSxudWxsKX1mdW5jdGlvbiBfKGUsdCxyKXtsLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpLE8ocikpLGwuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlKSx0KX1PYmplY3QoYS5lKSgidXNlcklkIixtKX19LFs1MDZdKTsKdXBianNDaHVuayhbMjQwXSx7NTExOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big1MTIpfSw1MTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLG4uZCh0LCJpZGVudGl0eUxpbmtTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBpPW4oMCksbz1uKDQpLHI9big5KSxjPW4oNyksZD1PYmplY3QoYy5iKSgpLHM9e25hbWU6ImlkZW50aXR5TGluayIsZ3ZsaWQ6OTcsZGVjb2RlOmZ1bmN0aW9uKGUpe3JldHVybntpZGxfZW52OmV9fSxnZXRJZDpmdW5jdGlvbihlLHQpe3ZhciBuPWUmJmUucGFyYW1zfHx7fTtpZihuJiYic3RyaW5nIj09dHlwZW9mIG4ucGlkKXt2YXIgbz10JiYiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzJiZ0LmdkcHJBcHBsaWVzPzE6MCxyPW8/dC5jb25zZW50U3RyaW5nOiIiLGM9Mj09PWkuZGVlcEFjY2Vzcyh0LCJ2ZW5kb3JEYXRhLnRjZlBvbGljeVZlcnNpb24iKTtpZighb3x8ciYmIiIhPT1yKXt2YXIgZD0iaHR0cHM6Ly9hcGkucmxjZG4uY29tL2FwaS9pZGVudGl0eS9lbnZlbG9wZT9waWQ9Ii5jb25jYXQobi5waWQpLmNvbmNhdChvPyhjPyImY3Q9NCZjdj0iOiImY3Q9MSZjdj0iKStyOiIiKTtyZXR1cm57Y2FsbGJhY2s6ZnVuY3Rpb24oZSl7d2luZG93LmF0cz8oaS5sb2dJbmZvKCJpZGVudGl0eUxpbms6IEFUUyBleGlzdHMhIiksd2luZG93LmF0cy5yZXRyaWV2ZUVudmVsb3BlKChmdW5jdGlvbih0KXt0PyhpLmxvZ0luZm8oImlkZW50aXR5TGluazogQW4gZW52ZWxvcGUgY2FuIGJlIHJldHJpZXZlZCBmcm9tIEFUUyEiKSxsKCEwKSxlKEpTT04ucGFyc2UodCkuZW52ZWxvcGUpKTphKGQsZSxuKX0pKSk6YShkLGUsbil9fX1pLmxvZ0luZm8oImlkZW50aXR5TGluazogQ29uc2VudCBzdHJpbmcgaXMgcmVxdWlyZWQgdG8gY2FsbCBlbnZlbG9wZSBBUEkuIil9ZWxzZSBpLmxvZ0Vycm9yKCJpZGVudGl0eUxpbms6IHJlcXVpcmVzIHBhcnRuZXIgaWQgdG8gYmUgZGVmaW5lZCIpfX07ZnVuY3Rpb24gYShlLHQsbil7dmFyIHIsYz17c3VjY2VzczpmdW5jdGlvbihlKXt2YXIgbjtpZihlKXRyeXtuPUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7aS5sb2dJbmZvKGUpfXQobiYmbi5lbnZlbG9wZT9uLmVudmVsb3BlOiIiKX0sZXJyb3I6ZnVuY3Rpb24oZSl7aS5sb2dJbmZvKCJpZGVudGl0eUxpbms6IGlkZW50aXR5TGluazogSUQgZmV0Y2ggZW5jb3VudGVyZWQgYW4gZXJyb3IiLGUpLHQoKX19O24ubm90VXNlM1B8fGQuZ2V0Q29va2llKCJfbHJfcmV0cnlfcmVxdWVzdCIpfHwoKHI9bmV3IERhdGUpLnNldFRpbWUoci5nZXRUaW1lKCkrMzZlNSksZC5zZXRDb29raWUoIl9scl9yZXRyeV9yZXF1ZXN0IiwidHJ1ZSIsci50b1VUQ1N0cmluZygpKSxpLmxvZ0luZm8oImlkZW50aXR5TGluazogQSAzUCByZXRyaWV2YWwgaXMgYXR0ZW1wdGVkISIpLGwoITEpLE9iamVjdChvLmEpKGUsYyx2b2lkIDAse21ldGhvZDoiR0VUIix3aXRoQ3JlZGVudGlhbHM6ITB9KSl9ZnVuY3Rpb24gbChlKXt2YXIgdD1uZXcgRGF0ZTt0LnNldFRpbWUodC5nZXRUaW1lKCkrMjU5MmU2KSxkLnNldENvb2tpZSgiX2xyX2Vudl9zcmNfYXRzIixlLHQudG9VVENTdHJpbmcoKSl9T2JqZWN0KHIuZSkoInVzZXJJZCIscyl9fSxbNTExXSk7CnVwYmpzQ2h1bmsoWzUxXSx7MTc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmI9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlpZigicHViUHJvdmlkZWRJZCI9PT10KXI9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBpPW4oZVt0XSx0KTtpJiZyLnB1c2goaSl9cmV0dXJuIHJ9LHIuYT1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChpLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGEsdCsiLnNvdXJjZSIpJiZyLnB1c2goe3NvdXJjZTphW3RdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSxyfTt2YXIgaT10KDApLGE9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoaS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuIHJ9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIG4oZSxyKXt2YXIgdD1hW3JdO2lmKHQmJmUpe3ZhciBuPXt9O24uc291cmNlPXQuc291cmNlO3ZhciBzPU9iamVjdChpLmlzRm4pKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoaS5pc1N0cikocykpe3ZhciBjPXtpZDpzLGF0eXBlOnQuYXR5cGV9O2lmKE9iamVjdChpLmlzRm4pKHQuZ2V0VWlkRXh0KSl7dmFyIGQ9dC5nZXRVaWRFeHQoZSk7ZCYmKGMuZXh0PWQpfWlmKG4udWlkcz1bY10sT2JqZWN0KGkuaXNGbikodC5nZXRFaWRFeHQpKXt2YXIgbz10LmdldEVpZEV4dChlKTtvJiYobi5leHQ9byl9cmV0dXJuIG59fXJldHVybiBudWxsfX0sNTE5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1MjApfSw1MjA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHIuSW1wcm92ZURpZ2l0YWxBZFNlcnZlckpTQ2xpZW50PXY7dmFyIGk9dCgwKSxhPXQoMSksbj10KDMpLHM9dCgyKSxjPXQoMTMpLGQ9dCgxNyksbz10KDEyKSx1PXQubihvKTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyIsYj1bInNraXAiLCJza2lwbWluIiwic2tpcGFmdGVyIl0sbT17dmVyc2lvbjoiNy40LjAiLGNvZGU6ImltcHJvdmVkaWdpdGFsIixndmxpZDoyNTMsYWxpYXNlczpbImlkIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuYyxzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiYoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLnBsYWNlbWVudEtleSYmZS5wYXJhbXMucHVibGlzaGVySWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJhZFVuaXRDb2RlIixlKXx8bnVsbCx0PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicGxhY2VtZW50SWQiLGUucGFyYW1zKXx8bnVsbCxhPW51bGwsYz1udWxsO251bGw9PT10JiYoYT1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInB1Ymxpc2hlcklkIixlLnBhcmFtcyl8fG51bGwsYz1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInBsYWNlbWVudEtleSIsZS5wYXJhbXMpfHxudWxsKTt2YXIgZD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImtleVZhbHVlcyIsZS5wYXJhbXMpfHxudWxsLG89T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJzaXplIixlLnBhcmFtcyl8fG51bGwscD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZElkIixlKSxsPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgidHJhbnNhY3Rpb25JZCIsZSksbT1uLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksZz17fTtmKGUpJiYoZy5hZFR5cGVzPVtzLmRdKTsoZihlKXx8eShlKSkmJihnLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhPYmplY3QoZS5tZWRpYVR5cGVzLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKGIsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLm1lZGlhVHlwZXMudmlkZW9bdF19KSksT2JqZWN0LmtleXMoT2JqZWN0KGUucGFyYW1zLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKGIsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLnBhcmFtcy52aWRlb1t0XX0pKSxyfShlKSk7dD9nLnBsYWNlbWVudElkPXQ6KGEmJihnLnB1Ymxpc2hlcklkPWEpLGMmJihnLnBsYWNlbWVudEtleT1jKSk7ZCYmKGcua2V5VmFsdWVzPWQpOyEwPT09bi5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwudXNlUHJlYmlkU2l6ZXMiKSYmIWYoZSkmJiF5KGUpJiZlLnNpemVzJiZlLnNpemVzLmxlbmd0aD4wP2cuZm9ybWF0PWUuc2l6ZXM6byYmby53JiZvLmgmJihnLnNpemU9e30sZy5zaXplLmg9by5oLGcuc2l6ZS53PW8udyk7cCYmKGcuaWQ9cCk7ciYmKGcuYWRVbml0SWQ9cik7bCYmKGcudHJhbnNhY3Rpb25JZD1sKTttJiYoZy5jdXJyZW5jeT1tKTt2YXIgaD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIG51bGw7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSksdj1udWxsO2h8fChoPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkRmxvb3IiLGUucGFyYW1zKSx2PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkRmxvb3JDdXIiLGUucGFyYW1zKSk7aCYmKGcuYmlkRmxvb3I9aCxnLmJpZEZsb29yQ3VyPXY/di50b1VwcGVyQ2FzZSgpOiJVU0QiKTtyZXR1cm4gZ30oZSl9KSksYT1uZXcgdigiaGIiKSxjPXtzaW5nbGVSZXF1ZXN0TW9kZTohMD09PW4uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnNpbmdsZVJlcXVlc3QiKSxyZXR1cm5PYmpUeXBlOmEuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElULGxpYlZlcnNpb246dGhpcy52ZXJzaW9ufTtpZihyJiZyLmdkcHJDb25zZW50JiZyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihjLmdkcHI9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLnVzcENvbnNlbnQmJihjLnVzUHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8ucmVmZXJlciYmKGMucmVmZXJyZXI9ci5yZWZlcmVySW5mby5yZWZlcmVyKSxjLnNjaGFpbj1lWzBdLnNjaGFpbixlWzBdLnVzZXJJZCl7dmFyIG89T2JqZWN0KGQuYikoZVswXS51c2VySWQpO28ubGVuZ3RoJiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGMsInVzZXIuZXh0LmVpZHMiLG8pfXZhciBwPWEuY3JlYXRlUmVxdWVzdCh0LGMpO3JldHVybiBwLmVycm9ycyYmcC5lcnJvcnMubGVuZ3RoPjAmJk9iamVjdChpLmxvZ0Vycm9yKSgiSUQgV0FSTklORyAweDAxIikscC5yZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0PXJ9KSkscC5yZXF1ZXN0c30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZGRlclJlcXVlc3QsYT1bXTtyZXR1cm4gT2JqZWN0KGkuX2VhY2gpKGUuYm9keS5iaWQsKGZ1bmN0aW9uKGUpe2lmKGUucHJpY2UmJm51bGwhPT1lLnByaWNlJiYhZS5oYXNPd25Qcm9wZXJ0eSgiZXJyb3JDb2RlIikmJihlLmFkbXx8ZS5uYXRpdmUpKXt2YXIgcj1PYmplY3QoaS5nZXRCaWRSZXF1ZXN0KShlLmlkLFt0XSksbj17fTtpZihlLm5hdGl2ZSluLm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgcj17fTtpZighZXx8IU9iamVjdChpLmlzQXJyYXkpKGUuYXNzZXRzKSlyZXR1cm4gbnVsbDtlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXIudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSAxOnIuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMjpyLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMzpyLnJhdGluZz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA0OnIubGlrZXM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTpyLmRvd25sb2Fkcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnIucHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNzpyLnNhbGVQcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA4OnIucGhvbmU9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgOTpyLmFkZHJlc3M9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTA6ci5ib2R5Mj1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMTpyLmRpc3BsYXlVcmw9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTI6ci5jdGE9ZS5kYXRhLnZhbHVlfWVsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMjpyLmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSAzOnIuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19fSkpLGUuZXZlbnR0cmFja2Vycz8oci5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKDE9PT1lLmV2ZW50KXN3aXRjaChlLm1ldGhvZCl7Y2FzZSAxOnIuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgMjpyLmphdmFzY3JpcHRUcmFja2Vycz0nPHNjcmlwdCBzcmM9IicuY29uY2F0KGUudXJsLCciPjxcL3NjcmlwdD4nKX19KSkpOihyLmltcHJlc3Npb25UcmFja2Vycz1lLmltcHRyYWNrZXJzfHxbXSxyLmphdmFzY3JpcHRUcmFja2Vycz1lLmpzdHJhY2tlcik7ZS5saW5rJiYoci5jbGlja1VybD1lLmxpbmsudXJsLHIuY2xpY2tUcmFja2Vycz1lLmxpbmsuY2xpY2t0cmFja2Vycyk7ZS5wcml2YWN5JiYoci5wcml2YWN5TGluaz1lLnByaXZhY3kpO3JldHVybiByfShlLm5hdGl2ZSksbi5vcnRiTmF0aXZlPWUubmF0aXZlLGUubnVybCYmbi5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLnVuc2hpZnQoZS5udXJsKSxuLm1lZGlhVHlwZT1zLmM7ZWxzZSBpZihlLmFkX3R5cGUmJiJ2aWRlbyI9PT1lLmFkX3R5cGUpbi52YXN0WG1sPWUuYWRtLG4ubWVkaWFUeXBlPXMuZCx5KHIpJiYobi5hZFJlc3BvbnNlPXtjb250ZW50Om4udmFzdFhtbCxoZWlnaHQ6ZS5oLHdpZHRoOmUud30sbi5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgcj1jLmEuaW5zdGFsbCh7aWQ6ZS5hZFVuaXRDb2RlLHVybDpsLGxvYWRlZDohMSxjb25maWc6T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicmVuZGVyZXIub3B0aW9ucyIpLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKGcpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfShyKSk7ZWxzZXt2YXIgZD0iIjtlLm51cmwmJmUubnVybC5sZW5ndGg+MCYmKGQ9JzxpbWcgc3JjPSInLmNvbmNhdChlLm51cmwsJyIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+JykpLG4uYWQ9IiIuY29uY2F0KGQsIjxzY3JpcHQ+IikuY29uY2F0KGUuYWRtLCI8XC9zY3JpcHQ+Iiksbi5tZWRpYVR5cGU9cy5ifWlmKG4uY3BtPXBhcnNlRmxvYXQoZS5wcmljZSksbi5jcmVhdGl2ZUlkPWUuY3JpZCxuLmN1cnJlbmN5PWUuY3VycmVuY3k/ZS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpOiJVU0QiLE9iamVjdChpLmlzTnVtYmVyKShlLmxpZCkmJmUuYnV5aW5nX3R5cGUmJiJydGIiIT09ZS5idXlpbmdfdHlwZSluLmRlYWxJZD1lLmxpZDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZS5saWQpJiZBcnJheS5pc0FycmF5KGUuYnV5aW5nX3R5cGUpJiZlLmxpZC5sZW5ndGg9PT1lLmJ1eWluZ190eXBlLmxlbmd0aCl7dmFyIG89ITE7ZS5idXlpbmdfdHlwZS5mb3JFYWNoKChmdW5jdGlvbihyLHQpe298fHImJiJydGIiIT09ciYmKG89ITAsbi5kZWFsSWQ9ZS5saWRbdF0pfSkpfW4uaGVpZ2h0PWUuaCxuLm5ldFJldmVudWU9ISFlLmlzTmV0JiZlLmlzTmV0LG4ucmVxdWVzdElkPWUuaWQsbi50dGw9MzAwLG4ud2lkdGg9ZS53LG4ud2lkdGgmJm4uaGVpZ2h0fHwobi53aWR0aD0xLG4uaGVpZ2h0PTEpLGUuYWRvbWFpbiYmKG4ubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksYS5wdXNoKG4pfX0pKSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtpZihlLnBpeGVsRW5hYmxlZCl7dmFyIHQ9W107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5ib2R5LmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoaS5pc0FycmF5KShlLnN5bmMpJiZlLnN5bmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX0pKX0pKX0pKSx0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImltYWdlIix1cmw6ZX19KSl9cmV0dXJuW119fTtmdW5jdGlvbiBmKGUpe3ZhciByPU9iamVjdC5rZXlzKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMiLHt9KSksdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fDE9PT1yLmxlbmd0aCYmdCYmIm91dHN0cmVhbSIhPT1hfWZ1bmN0aW9uIHkoZSl7dmFyIHI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuIHImJiJvdXRzdHJlYW0iPT09dH1mdW5jdGlvbiBnKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7c2l6ZXM6W2Uud2lkdGgsZS5oZWlnaHRdLHRhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0saC5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uIGgoZSxyLHQpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6dH0pfWZ1bmN0aW9uIHYoZSl7dGhpcy5DT05TVEFOVFM9e0FEX1NFUlZFUl9CQVNFX1VSTDoiaWNlLjM2MHlpZWxkLmNvbSIsRU5EX1BPSU5UOmV8fCJoYiIsQURfU0VSVkVSX1VSTF9QQVJBTToianNvbnA9IixDTElFTlRfVkVSU0lPTjoiSlMtNi40LjAiLE1BWF9VUkxfTEVOR1RIOjIwODMsRVJST1JfQ09ERVM6e01JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUzoyLExJQl9WRVJTSU9OX01JU1NJTkc6M30sUkVUVVJOX09CSl9UWVBFOntERUZBVUxUOjAsVVJMX1BBUkFNU19TUExJVDoxfX0sdGhpcy5nZXRFcnJvclJldHVybj1mdW5jdGlvbihlKXtyZXR1cm57aWRNYXBwaW5nczp7fSxyZXF1ZXN0czp7fSxlcnJvckNvZGU6ZX19LHRoaXMuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLHIsdCl7aWYoIXIubGliVmVyc2lvbilyZXR1cm4gdGhpcy5nZXRFcnJvclJldHVybih0aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5MSUJfVkVSU0lPTl9NSVNTSU5HKTtyLnJldHVybk9ialR5cGU9ci5yZXR1cm5PYmpUeXBlfHx0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuREVGQVVMVCxyLmFkU2VydmVyQmFzZVVybD0iaHR0cHM6Ly8iKyhyLmFkU2VydmVyQmFzZVVybHx8dGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX0JBU0VfVVJMKTt2YXIgYSxuPVtdO2lmKE9iamVjdChpLmlzQXJyYXkpKGUpKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGVbc10pLG4ucHVzaChhKTtlbHNlIGE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGUpLG4ucHVzaChhKTt2YXIgYz0hMDtyLnJldHVybk9ialR5cGU9PT10aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCYmKGM9ITEpO3ZhciBkPXtyZXF1ZXN0czpbXX07YyYmKGQuaWRNYXBwaW5ncz1bXSk7Zm9yKHZhciBvPW51bGwsdT0iIi5jb25jYXQoci5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9LGw9MDtsPG4ubGVuZ3RoO2wrKylpZigoYT1uW2xdKS5lcnJvckNvZGUpKG89b3x8W10pLnB1c2goe2Vycm9yQ29kZTphLmVycm9yQ29kZSxhZFVuaXRJZDphLmFkVW5pdElkfSk7ZWxzZXtjJiZkLmlkTWFwcGluZ3MucHVzaCh7YWRVbml0SWQ6YS5hZFVuaXRJZCxpZDphLmltcHJlc3Npb25PYmplY3QuaWR9KSxwLmJpZF9yZXF1ZXN0LmltcD1wLmJpZF9yZXF1ZXN0LmltcHx8W10scC5iaWRfcmVxdWVzdC5pbXAucHVzaChhLmltcHJlc3Npb25PYmplY3QpO3ZhciBiPSExOyh1K2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkpLmxlbmd0aD50aGlzLkNPTlNUQU5UUy5NQVhfVVJMX0xFTkdUSCYmKGI9ITAscC5iaWRfcmVxdWVzdC5pbXAubGVuZ3RoPjEmJihwLmJpZF9yZXF1ZXN0LmltcC5wb3AoKSxjJiZkLmlkTWFwcGluZ3MucG9wKCksbC0tKSksIWImJnIuc2luZ2xlUmVxdWVzdE1vZGUmJmwhPT1uLmxlbmd0aC0xfHwoZC5yZXF1ZXN0cy5wdXNoKHRoaXMuZm9ybWF0UmVxdWVzdChyLHApKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSl9cmV0dXJuIG8mJihkLmVycm9ycz1vKSxkfSx0aGlzLmZvcm1hdFJlcXVlc3Q9ZnVuY3Rpb24oZSxyKXtzd2l0Y2goZS5yZXR1cm5PYmpUeXBlKXtjYXNlIHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUOnJldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQpLGRhdGE6IiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKX07ZGVmYXVsdDpyZXR1cm57dXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpKyIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKX19fSx0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdD1mdW5jdGlvbihlLHIpe3ZhciB0PXtzZWN1cmU6MX07aWYoZS5yZXF1ZXN0SWQ/dC5pZD1lLnJlcXVlc3RJZDp0LmlkPU9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZS5kb21haW4mJih0LmRvbWFpbj1lLmRvbWFpbiksZS5wYWdlJiYodC5wYWdlPWUucGFnZSksZS5yZWYmJih0LnJlZj1lLnJlZiksZS5jYWxsYmFjayYmKHQuY2FsbGJhY2s9ZS5jYWxsYmFjayksZS5saWJWZXJzaW9uJiYodC52ZXJzaW9uPWUubGliVmVyc2lvbisiLSIrdGhpcy5DT05TVEFOVFMuQ0xJRU5UX1ZFUlNJT04pLGUucmVmZXJyZXImJih0LnJlZmVycmVyPWUucmVmZXJyZXIpLChlLmdkcHJ8fDA9PT1lLmdkcHIpJiYodC5nZHByPWUuZ2RwciksZS51c1ByaXZhY3kmJih0LnVzX3ByaXZhY3k9ZS51c1ByaXZhY3kpLGUuc2NoYWluJiYodC5zY2hhaW49ZS5zY2hhaW4pLGUudXNlciYmKHQudXNlcj1lLnVzZXIpLHIpZm9yKHZhciBhIGluIHIpdFthXT1yW2FdO3JldHVybiB0fSx0aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHI9e30sdD17fTtpZihyLmltcHJlc3Npb25PYmplY3Q9dCxlLmlkP3QuaWQ9ZS5pZDp0LmlkPU9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZS5hZFR5cGVzJiYodC5hZF90eXBlcz1lLmFkVHlwZXMpLGUuYWRVbml0SWQmJihyLmFkVW5pdElkPWUuYWRVbml0SWQpLGUuY3VycmVuY3kmJih0LmN1cnJlbmN5PWUuY3VycmVuY3kudG9VcHBlckNhc2UoKSksZS5iaWRGbG9vciYmKHQuYmlkZmxvb3I9ZS5iaWRGbG9vciksZS5iaWRGbG9vckN1ciYmKHQuYmlkZmxvb3JjdXI9ZS5iaWRGbG9vckN1ci50b1VwcGVyQ2FzZSgpKSxlLnBsYWNlbWVudElkJiYodC5waWQ9ZS5wbGFjZW1lbnRJZCksZS5wdWJsaXNoZXJJZCYmKHQucHViaWQ9ZS5wdWJsaXNoZXJJZCksZS5wbGFjZW1lbnRLZXkmJih0LnBrZXk9ZS5wbGFjZW1lbnRLZXkpLGUudHJhbnNhY3Rpb25JZCYmKHQudGlkPWUudHJhbnNhY3Rpb25JZCksIU9iamVjdChpLmlzRW1wdHkpKGUudmlkZW8pKXt2YXIgYT1wKHt9LGUudmlkZW8pOzEhPT1hLnNraXAmJihkZWxldGUgYS5za2lwbWluLGRlbGV0ZSBhLnNraXBhZnRlciwwIT09YS5za2lwJiYoT2JqZWN0KGkubG9nV2FybikoInZpZGVvLnNraXA6IGludmFsaWQgdmFsdWUgJyIuY29uY2F0KGEuc2tpcCwiJy4gRXhwZWN0ZWQgMCBvciAxIikpLGRlbGV0ZSBhLnNraXApKSxPYmplY3QoaS5pc0VtcHR5KShhKXx8KHQudmlkZW89YSl9aWYoZS5rZXlWYWx1ZXMpZm9yKHZhciBuIGluIGUua2V5VmFsdWVzKWZvcih2YXIgcz0wO3M8ZS5rZXlWYWx1ZXNbbl0ubGVuZ3RoO3MrKyl0Lmt2dz10Lmt2d3x8e30sdC5rdndbbl09dC5rdndbbl18fFtdLHQua3Z3W25dLnB1c2goZS5rZXlWYWx1ZXNbbl1bc10pO2lmKHQuYmFubmVyPXt9LGUuc2l6ZSYmZS5zaXplLncmJmUuc2l6ZS5oJiYodC5iYW5uZXIudz1lLnNpemUudyx0LmJhbm5lci5oPWUuc2l6ZS5oKSxlLmZvcm1hdCYmT2JqZWN0KGkuaXNBcnJheSkoZS5mb3JtYXQpKXt2YXIgYz1lLmZvcm1hdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJk9iamVjdChpLmlzSW50ZWdlcikoZVswXSkmJk9iamVjdChpLmlzSW50ZWdlcikoZVsxXSkmJmVbMF0+PTAmJmVbMV0+PTB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7Yy5sZW5ndGg+MCYmKHQuYmFubmVyLmZvcm1hdD1jKX1yZXR1cm4gdC5waWR8fHQucHViaWR8fHQucGtleXx8dC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh8fChyLmltcHJlc3Npb25PYmplY3Q9bnVsbCxyLmVycm9yQ29kZT10aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVMpLHJ9fU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShtKX19LFs1MTldKTsKdXBianNDaHVuayhbMjIzXSx7NTUxOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1NTIpfSw1NTI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiAkfSkpO3ZhciBpPXQoMCksbj10KDIpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGQ9dCgxKSxjPXQoMjIpLHA9dCgxMiksdT10Lm4ocCksbD10KDEzKTtmdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBPKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYihlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsaSl9cmV0dXJuIHR9ZnVuY3Rpb24geShlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9iKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dihlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6YihPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB2KGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBnKGUscil7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCF0KXtpZihBcnJheS5pc0FycmF5KGUpfHwodD1oKGUpKXx8ciYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7dCYmKGU9dCk7dmFyIGk9MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gaT49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbaSsrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsbz0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7dD10LmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT10Lm5leHQoKTtyZXR1cm4gbz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtvfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgYX19fX1mdW5jdGlvbiBoKGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBPKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/TyhlLHIpOnZvaWQgMH19ZnVuY3Rpb24gTyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLGk9bmV3IEFycmF5KHIpO3Q8cjt0KyspaVt0XT1lW3RdO3JldHVybiBpfXZhciBqPSJyb3VuZGVsIix4PVtuLmIsbi5kXSxJPThlMyx3PXtKUFk6MX0sQT0icCIsUD0ieCIsUz17U0lURTpbImlkIiwibmFtZSIsImRvbWFpbiIsImNhdCIsInNlY3Rpb25jYXQiLCJwYWdlY2F0IiwicGFnZSIsInJlZiIsInNlYXJjaCIsIm1vYmlsZSIsInByaXZhY3lwb2xpY3kiLCJwdWJsaXNoZXIiLCJjb250ZW50Iiwia2V5d29yZHMiLCJleHQiXSxVU0VSOlsiaWQiLCJidXllcnVpZCIsInlvYiIsImdlbmRlciIsImtleXdvcmRzIiwiY3VzdG9tZGF0YSIsImdlbyIsImRhdGEiLCJleHQiXX0sej17ImxpdmVyYW1wLmNvbSI6ImlkbCIsIm5ldGlkLmRlIjoiTkVUSUQiLCJuZXVzdGFyLmJpeiI6ImZhYnJpY2tJZCIsInplb3RhcC5jb20iOiJ6ZW90YXBJZFBsdXMiLCJ1aWRhcGkuY29tIjoiVUlEMiIsImFkc2VydmVyLm9yZyI6IlRESUQifSxUPVsiYnJpdGVwb29saWQiLCJpZDVpZCIsImxpcGJpZCIsImhhbG9JZCIsImNyaXRlb0lkIiwibG90YW1lUGFub3JhbWFJZCIsIm1lcmtsZUlkIiwicGFycmFibGVJZCIsImNvbm5lY3RpZCIsInRhcGFkSWQiLCJxdWFudGNhc3RJZCIsInB1YmNpZCIsIlRESUQiLCJmbG9jSWQiXSxDPVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIl0saz1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInByb3RvY29scyIsInByb3RvY29sIiwic3RhcnRkZWxheSIsInBsYWNlbWVudCIsImxpbmVhcml0eSIsInNraXAiLCJza2lwbWluIiwic2tpcGFmdGVyIiwic2VxdWVuY2UiLCJiYXR0ciIsIm1heGV4dGVuZGVkIiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiLCJib3hpbmdhbGxvd2VkIiwicGxheWJhY2ttZXRob2QiLCJwbGF5YmFja2VuZCIsImRlbGl2ZXJ5IiwicG9zIiwiY29tcGFuaW9uYWQiLCJhcGkiLCJjb21wYW5pb250eXBlIiwiZXh0IiwicGxheWVyU2l6ZSIsInciLCJoIl07ZnVuY3Rpb24gRShlKXt2YXIgcj17fTtyLmlkPWUuYmlkSWQsci5leHQ9e30sci5leHQuc2l0ZUlEPWUucGFyYW1zLnNpdGVJZCwhZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImlkIil8fCJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuaWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuaWR8fChyLmV4dC5zaWQ9U3RyaW5nKGUucGFyYW1zLmlkKSk7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90Iik7cmV0dXJuIHQmJihyLmV4dC5kZnBfYWRfdW5pdF9jb2RlPXQpLHJ9ZnVuY3Rpb24gRChlLHIsdCl7dmFyIG49bnVsbCxhPW51bGw7aWYoZS5wYXJhbXMuYmlkRmxvb3ImJmUucGFyYW1zLmJpZEZsb29yQ3VyJiYobj17Zmxvb3I6ZS5wYXJhbXMuYmlkRmxvb3IsY3VycmVuY3k6ZS5wYXJhbXMuYmlkRmxvb3JDdXJ9KSxPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSl7dmFyIG89IioiLHM9IioiO2lmKHQmJk9iamVjdChpLmNvbnRhaW5zKSh4LHQpKXt2YXIgZD1yW3RdO289dCxzPVtkLncsZC5oXX10cnl7YT1lLmdldEZsb29yKHttZWRpYVR5cGU6byxzaXplOnN9KX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgicHJpY2VGbG9vcnMgbW9kdWxlIGNhbGwgZ2V0Rmxvb3IgZmFpbGVkLCBlcnJvciA6ICIsZSl9fWE/KHIuYmlkZmxvb3I9YS5mbG9vcixyLmJpZGZsb29yY3VyPWEuY3VycmVuY3ksci5leHQuZmw9QSk6biYmKHIuYmlkZmxvb3I9bi5mbG9vcixyLmJpZGZsb29yY3VyPW4uY3VycmVuY3ksci5leHQuZmw9UCl9ZnVuY3Rpb24gXyhlLHIsdCl7dmFyIGE9e30sbz0hKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHAiKXx8IU9iamVjdChpLmlzSW50ZWdlcikoZS5leHApKSxzPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImRlYWxpZCIpfHxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuZGVhbGlkIik7cmV0dXJuIHcuaGFzT3duUHJvcGVydHkocik/YS5jcG09ZS5wcmljZS93W3JdOmEuY3BtPWUucHJpY2UvMTAwLGEucmVxdWVzdElkPWUuaW1waWQscyYmKGEuZGVhbElkPXMpLGEubmV0UmV2ZW51ZT10cnVlLGEuY3VycmVuY3k9cixhLmNyZWF0aXZlSWQ9ZS5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP2UuY3JpZDoiLSIsT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LnZhc3R1cmwiKT8oYS52YXN0VXJsPWUuZXh0LnZhc3R1cmwsYS53aWR0aD10LnZpZGVvLncsYS5oZWlnaHQ9dC52aWRlby5oLGEubWVkaWFUeXBlPW4uZCxhLm1lZGlhVHlwZXM9dC5tZWRpYVR5cGVzLGEudHRsPW8/ZS5leHA6MzYwMCk6KGEuYWQ9ZS5hZG0sYS53aWR0aD1lLncsYS5oZWlnaHQ9ZS5oLGEubWVkaWFUeXBlPW4uYixhLnR0bD1vP2UuZXhwOjMwMCksYS5tZXRhPXt9LGEubWV0YS5uZXR3b3JrSWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmRzcGlkIiksYS5tZXRhLmJyYW5kSWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmFkdmJyYW5kaWQiKSxhLm1ldGEuYnJhbmROYW1lPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5hZHZicmFuZCIpLGUuYWRvbWFpbiYmZS5hZG9tYWluLmxlbmd0aD4wJiYoYS5tZXRhLmFkdmVydGlzZXJEb21haW5zPWUuYWRvbWFpbiksYX1mdW5jdGlvbiBGKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJk9iamVjdChpLmlzSW50ZWdlcikoZVswXSkmJk9iamVjdChpLmlzSW50ZWdlcikoZVsxXSl9ZnVuY3Rpb24gUigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXTtpZihGKGUpKXJldHVybiBlWzBdPT09clswXSYmZVsxXT09PXJbMV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XVswXT09PXJbMF0mJmVbdF1bMV09PT1yWzFdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHEoZSxyKXt2YXIgdD1bXTtlfHxPYmplY3QoaS5sb2dXYXJuKSgiSVggQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8gaXMgdGhlIHByZWZlcnJlZCBsb2NhdGlvbiBmb3IgdmlkZW8gcGFyYW1zIGluIGFkIHVuaXQiKTt2YXIgbixhPWcoQyk7dHJ5e2ZvcihhLnMoKTshKG49YS5uKCkpLmRvbmU7KXt2YXIgbz1uLnZhbHVlLHM9ZSYmZS5oYXNPd25Qcm9wZXJ0eShvKSxkPXImJnIuaGFzT3duUHJvcGVydHkobyk7c3x8ZHx8dC5wdXNoKCJJWCBCaWQgQWRhcHRlcjogIi5jb25jYXQobywiIGlzIG5vdCBpbmNsdWRlZCBpbiBlaXRoZXIgdGhlIGFkdW5pdCBvciBwYXJhbXMgbGV2ZWwiKSl9fWNhdGNoKGUpe2EuZShlKX1maW5hbGx5e2EuZigpfXZhciBjPWUmJmUuaGFzT3duUHJvcGVydHkoInByb3RvY29sIikscD1lJiZlLmhhc093blByb3BlcnR5KCJwcm90b2NvbHMiKSx1PXImJnIuaGFzT3duUHJvcGVydHkoInByb3RvY29sIiksbD1yJiZyLmhhc093blByb3BlcnR5KCJwcm90b2NvbHMiKTtyZXR1cm4gY3x8cHx8dXx8bHx8dC5wdXNoKCJJWCBCaWQgQWRhcHRlcjogcHJvdG9jb2wvcHJvdGNvbHMgaXMgbm90IGluY2x1ZGVkIGluIGVpdGhlciB0aGUgYWR1bml0IG9yIHBhcmFtcyBsZXZlbCIpLHR9ZnVuY3Rpb24gQigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gRihlKT9lOiEhRihlWzBdKSYmZVswXX1mdW5jdGlvbiBVKGUscix0KXtpZihlKXJldHVybiB5KHkoe30scygpKHQsKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZX0pKSkscygpKHIsKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09ZX0pKSl9ZnVuY3Rpb24gTihlLHIsdCxvKXt2YXIgcz0iaHR0cHM6Ly9odGxiLmNhc2FsZW1lZGlhLmNvbS9jeWdudXMiLGQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt9O2lmKE9iamVjdChpLmlzQXJyYXkpKGUpKXt2YXIgYSxvPWcoZSk7dHJ5e2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXt2YXIgcz1hLnZhbHVlO3pbcy5zb3VyY2VdJiZPYmplY3QoaS5kZWVwQWNjZXNzKShzLCJ1aWRzLjAiKSYmKG5bcy5zb3VyY2VdPSEwLHMudWlkc1swXS5leHQ9e3J0aVBhcnRuZXI6eltzLnNvdXJjZV19LGRlbGV0ZSBzLnVpZHNbMF0uYXR5cGUsdC5wdXNoKHMpKX19Y2F0Y2goZSl7by5lKGUpfWZpbmFsbHl7by5mKCl9fWlmKHImJnIuaWQmJnIudmVyc2lvbil7dmFyIGQ9e3NvdXJjZToiY2hyb21lLmNvbSIsdWlkczpbe2lkOnIuaWQsZXh0OntydGlQYXJ0bmVyOiJmbG9jSWQiLHZlcjpyLnZlcnNpb259fV19O3QucHVzaChkKSxuWyJjaHJvbWUuY29tIl09ITB9cmV0dXJue3RvU2VuZDp0LHNlZW5Tb3VyY2VzOm59fShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCIwLnVzZXJJZEFzRWlkcyIpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIjAudXNlcklkLmZsb2NJZCIpKSxjPWQudG9TZW5kO2lmKHdpbmRvdy5oZWFkZXJ0YWcmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbyl7dmFyIHA9d2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8oKTtpZihwJiYib2JqZWN0Ij09PW0ocCkpZm9yKHZhciB1IGluIHApaWYocC5oYXNPd25Qcm9wZXJ0eSh1KSl7dmFyIGw9cFt1XTshbC5yZXNwb25zZVBlbmRpbmcmJmwuZGF0YSYmIm9iamVjdCI9PT1tKGwuZGF0YSkmJk9iamVjdC5rZXlzKGwuZGF0YSkubGVuZ3RoJiYhZC5zZWVuU291cmNlc1tsLmRhdGEuc291cmNlXSYmYy5wdXNoKGwuZGF0YSl9fWlmKHImJnIuYmlkZGVyQ29kZT09PWomJiFkLnNlZW5Tb3VyY2VzWyJsaXZlcmFtcC5jb20iXSlyZXR1cm5bXTt2YXIgYj17fTtiLmlkPWVbMF0uYmlkZGVyUmVxdWVzdElkLnRvU3RyaW5nKCksYi5zaXRlPXt9LGIuZXh0PXt9LGIuZXh0LnNvdXJjZT0icHJlYmlkIixiLmV4dC5peGRpYWc9e30sYi5leHQuaXhkaWFnLm1zZD0wLGIuZXh0Lml4ZGlhZy5tc2k9MCxiLmltcD1bXSxiLmF0PTE7dmFyIHY9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0LmluZGV4T2YoZSk9PT1yfSkpLHQ9e21mdTowLGJ1OjAsaXU6MCxudTowLG91OjAsYWxsdTowLHJlbjohMSx2ZXJzaW9uOiI1LjIwLjIiLHVzZXJJZHM6SihlWzBdKX0sbj1mdW5jdGlvbihuKXtpZihvPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09cltuXX0pKVswXSxPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzIikpe2lmKE9iamVjdC5rZXlzKG8ubWVkaWFUeXBlcykubGVuZ3RoPjEmJnQubWZ1KyssT2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy5uYXRpdmUiKSYmdC5udSsrLE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMuYmFubmVyIikmJnQuYnUrKywib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXt0Lm91Kys7dmFyIGE9Im9iamVjdCI9PT1tKE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sInJlbmRlcmVyIil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSk7dC5yZW49dC5yZW4mJmE/T2JqZWN0KGkuZGVlcEFjY2VzcykodCwicmVuIik6YX0iaW5zdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJnQuaXUrKyx0LmFsbHUrK319LGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIG87bihhKX1yZXR1cm4gdH0oZSk7Zm9yKHZhciBoIGluIHYpYi5leHQuaXhkaWFnW2hdPXZbaF07aWYoZVswXS5zY2hhaW4mJihiLnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksYy5sZW5ndGg+MCYmKGIudXNlcj17fSxiLnVzZXIuZWlkcz1jKSxkb2N1bWVudC5yZWZlcnJlciYmIiIhPT1kb2N1bWVudC5yZWZlcnJlciYmKGIuc2l0ZS5yZWY9ZG9jdW1lbnQucmVmZXJyZXIpLHIpe2lmKHIuZ2RwckNvbnNlbnQpe3ZhciBPPXIuZ2RwckNvbnNlbnQ7Ty5oYXNPd25Qcm9wZXJ0eSgiZ2RwckFwcGxpZXMiKSYmKGIucmVncz17ZXh0OntnZHByOk8uZ2RwckFwcGxpZXM/MTowfX0pLE8uaGFzT3duUHJvcGVydHkoImNvbnNlbnRTdHJpbmciKSYmKGIudXNlcj1iLnVzZXJ8fHt9LGIudXNlci5leHQ9e2NvbnNlbnQ6Ty5jb25zZW50U3RyaW5nfHwiIn0sTy5oYXNPd25Qcm9wZXJ0eSgiYWRkdGxDb25zZW50IikmJk8uYWRkdGxDb25zZW50JiYoYi51c2VyLmV4dC5jb25zZW50ZWRfcHJvdmlkZXJzX3NldHRpbmdzPXtjb25zZW50ZWRfcHJvdmlkZXJzOk8uYWRkdGxDb25zZW50fSkpfXIudXNwQ29uc2VudCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLHIucmVmZXJlckluZm8mJihiLnNpdGUucGFnZT1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpfWEuYi5nZXRDb25maWcoImNvcHBhIikmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwicmVncy5jb3BwYSIsMSk7dmFyIHg9e307eC5zPWVbMF0ucGFyYW1zLnNpdGVJZCx4LnY9byx4LmFjPSJqIix4LnNkPTEsOC4xPT09byYmKHgubmY9MSk7dmFyIHc9ciYmci5iaWRkZXJDb2RlfHwiaXgiLEE9YS5iLmdldENvbmZpZyh3KSxQPVtdLFQ9MCxDPU9iamVjdC5rZXlzKHQpLGs9IiIuY29uY2F0KHMpLmNvbmNhdChPYmplY3QoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoeSh5KHt9LHgpLHt9LHtyOkpTT04uc3RyaW5naWZ5KGIpfSkpKS5sZW5ndGg7aWYoaz5JKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlcjogQmFzZSByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpLFA7dmFyIEU9ayxEPTAsXz0hMTtpZihBKXtpZigib2JqZWN0Ij09PW0oQS5maXJzdFBhcnR5RGF0YSkpe3ZhciBGPUEuZmlyc3RQYXJ0eURhdGEsUj0iPyI7Zm9yKHZhciBxIGluIEYpRi5oYXNPd25Qcm9wZXJ0eShxKSYmKFIrPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocSksIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEZbcV0pLCImIikpO1I9Ui5zbGljZSgwLC0xKSwoRD1lbmNvZGVVUklDb21wb25lbnQoUikubGVuZ3RoKTxJPygicGFnZSJpbiBiLnNpdGU/Yi5zaXRlLnBhZ2UrPVI6Yi5zaXRlLnBhZ2U9UixFKz1EKTpPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlcjogSVggY29uZmlnIEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfSJudW1iZXIiPT10eXBlb2YgQS50aW1lb3V0JiYoeC50PUEudGltZW91dCksImJvb2xlYW4iPT10eXBlb2YgQS5kZXRlY3RNaXNzaW5nU2l6ZXM/Yi5leHQuaXhkaWFnLmRtcz1BLmRldGVjdE1pc3NpbmdTaXplczpiLmV4dC5peGRpYWcuZG1zPSEwfWZvcih2YXIgQj1mdW5jdGlvbihyKXtpZihFPj1JfHxQLmxlbmd0aD49NClyZXR1cm4iYnJlYWsiO2Zvcih2YXIgbz10W0Nbcl1dLGQ9by5taXNzaW5nQ291bnQsYz12b2lkIDA9PT1kPzA6ZCxwPW8ubWlzc2luZ0ltcHMsdT12b2lkIDA9PT1wP1tdOnAsbD1vLml4SW1wcyxtPSExLHY9SS1FLGc9e2l4SW1wczp2b2lkIDA9PT1sP1tdOmwsbWlzc2luZ0Jhbm5lckltcHJlc3Npb25zOnV9LGg9T2JqZWN0LmtleXMoZykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZ1tlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQuYXBwbHkoZSxmKHIpKX0pLFtdKSxPPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7aW1wcmVzc2lvbk9iamVjdHM6aH0pKS5sZW5ndGg7aC5sZW5ndGgmJk8+djspbT0hMCxoLnBvcCgpLE89ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtpbXByZXNzaW9uT2JqZWN0czpofSkpLmxlbmd0aDtpZihoLmxlbmd0aCYmbi5iIGluIGhbMF0pe3ZhciBqPWhbMF0sdz1qLmlkLEE9ai5iYW5uZXIudG9wZnJhbWUsej1qLmV4dCxEPXtpZDp3LGJhbm5lcjp7dG9wZnJhbWU6QSxmb3JtYXQ6aC5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUuYmFubmVyO3JldHVybnt3OnIudyxoOnIuaCxleHQ6ZS5leHR9fSkpfX07ei5kZnBfYWRfdW5pdF9jb2RlJiYoRC5leHQ9e2RmcF9hZF91bml0X2NvZGU6ei5kZnBfYWRfdW5pdF9jb2RlfSksImJpZGZsb29yImluIGhbMF0mJihELmJpZGZsb29yPWhbMF0uYmlkZmxvb3IpLCJiaWRmbG9vcmN1ciJpbiBoWzBdJiYoRC5iaWRmbG9vcmN1cj1oWzBdLmJpZGZsb29yY3VyKSxiLmltcC5wdXNoKEQpLGIuZXh0Lml4ZGlhZy5tc2QrPWMsYi5leHQuaXhkaWFnLm1zaSs9dS5sZW5ndGh9ZWxzZXt2YXIgRjsoRj1iLmltcCkucHVzaC5hcHBseShGLGYoaCkpfUUrPU87dmFyIFI9YS5iLmdldENvbmZpZygib3J0YjIiKXx8e307aWYoIU9iamVjdChpLmlzRW1wdHkpKFIpJiYhXyl7Yi5leHQuaXhkaWFnLmZwZD0hMDt2YXIgcT15KHt9LFIuc2l0ZXx8Ui5jb250ZXh0KTtPYmplY3Qua2V5cyhxKS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PVMuU0lURS5pbmRleE9mKGUpJiZkZWxldGUgcVtlXX0pKTt2YXIgQj15KHt9LFIudXNlcik7T2JqZWN0LmtleXMoQikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1TLlVTRVIuaW5kZXhPZihlKSYmZGVsZXRlIEJbZV19KSk7dmFyIFU9T2JqZWN0KGkuZGVlcENsb25lKShiKTtpZihVLnNpdGU9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxVLnNpdGUscSksVS51c2VyPU9iamVjdChpLm1lcmdlRGVlcCkoe30sVS51c2VyLEIpLCIiLmNvbmNhdChzKS5jb25jYXQoT2JqZWN0KGkucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKHkoeSh7fSx4KSx7fSx7cjpKU09OLnN0cmluZ2lmeShVKX0pKSkubGVuZ3RoPEkpe2Iuc2l0ZT1PYmplY3QoaS5tZXJnZURlZXApKHt9LGIuc2l0ZSxxKSxiLnVzZXI9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxiLnVzZXIsQiksXz0hMDt2YXIgTj1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoeSh5KHt9LHEpLEIpKSkubGVuZ3RoO0UrPU59ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlcjogRlBEIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIil9dmFyIEo9cj09PUMubGVuZ3RoLTE7aWYobXx8Sil7dmFyIE09T2JqZWN0KGkuZGVlcENsb25lKSh4KTtKJiYhVHx8KGIuZXh0Lml4ZGlhZy5zbj1ULE0uc249VCksVCsrLE0ucj1KU09OLnN0cmluZ2lmeShiKSxQLnB1c2goe21ldGhvZDoiR0VUIix1cmw6cyxkYXRhOk0sdmFsaWRCaWRSZXF1ZXN0czplfSksRT1rLGIuaW1wPVtdLGIuZXh0Lml4ZGlhZy5tc2Q9MCxiLmV4dC5peGRpYWcubXNpPTAsXz0hMX19LFU9MDtVPEMubGVuZ3RoO1UrKyl7aWYoImJyZWFrIj09PUIoVSkpYnJlYWt9cmV0dXJuIFB9ZnVuY3Rpb24gSihlKXt2YXIgcj1lLnVzZXJJZHx8e307cmV0dXJuIFQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pKX1mdW5jdGlvbiBNKGUscil7aWYocilmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTtpZihyWzBdPT09aVswXSYmclsxXT09PWlbMV0pe2Uuc3BsaWNlKHQsMSk7YnJlYWt9fX1mdW5jdGlvbiBYKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHI9RShlKSx0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpO2lmKHEodCxhKS5sZW5ndGgpcmV0dXJue307Zm9yKHZhciBvIGluIHIudmlkZW89YT9PYmplY3QoaS5kZWVwQ2xvbmUpKGUucGFyYW1zLnZpZGVvKTp7fSx0KS0xPT09ay5pbmRleE9mKG8pfHxyLnZpZGVvLmhhc093blByb3BlcnR5KG8pfHwoci52aWRlb1tvXT10W29dKTtpZihyLnZpZGVvLm1pbmR1cmF0aW9uPnIudmlkZW8ubWF4ZHVyYXRpb24pcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiSVggQmlkIEFkYXB0ZXI6IHZpZGVvIG1pbmR1cmF0aW9uIFsiLmNvbmNhdChyLnZpZGVvLm1pbmR1cmF0aW9uLCJdIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gdmlkZW8gbWF4ZHVyYXRpb24gWyIpLmNvbmNhdChyLnZpZGVvLm1heGR1cmF0aW9uLCJdIikpLHt9O3ZhciBzPWEmJmEuY29udGV4dHx8dCYmdC5jb250ZXh0O2lmKHMmJiFyLnZpZGVvLmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKSYmKHM9PT1jLmE/ci52aWRlby5wbGFjZW1lbnQ9MTpzPT09Yy5iP3IudmlkZW8ucGxhY2VtZW50PTQ6T2JqZWN0KGkubG9nV2FybikoIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBjb250ZXh0ICciLmNvbmNhdChzLCInIGlzIG5vdCBzdXBwb3J0ZWQiKSkpLCFyLnZpZGVvLnd8fCFyLnZpZGVvLmgpe3ZhciBkPUIoT2JqZWN0KGkuZGVlcEFjY2VzcykociwidmlkZW8ucGxheWVyU2l6ZSIpKXx8QihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpKTtpZighZClyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBzaXplIGlzIG1pc3NpbmcgaW4gW21lZGlhVHlwZXMudmlkZW9dIG1pc3NpbmciKSx7fTtyLnZpZGVvLnc9ZFswXSxyLnZpZGVvLmg9ZFsxXSxPYmplY3QoaS5kZWVwQWNjZXNzKShyLCJleHQuc2lkIil8fChyLmV4dC5zaWQ9T2JqZWN0KGkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkpKGQpKX1yZXR1cm4gRChlLHIsbi5kKSxyfShlKTswIT1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJihyW2UudHJhbnNhY3Rpb25JZF09e30scltlLnRyYW5zYWN0aW9uSWRdLml4SW1wcz1bXSxyW2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzLnB1c2godCkpfWZ1bmN0aW9uIFYoZSxyLHQpe3ZhciBvPXkoeSh7fSx7ZGV0ZWN0TWlzc2luZ1NpemVzOiEwfSksYS5iLmdldENvbmZpZygiaXgiKSkscz1mdW5jdGlvbihlKXt2YXIgcj1FKGUpO3IuYmFubmVyPXt9O3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXplIik7cmV0dXJuIHQmJihyLmJhbm5lci53PXRbMF0sci5iYW5uZXIuaD10WzFdLE9iamVjdChpLmRlZXBBY2Nlc3MpKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1PYmplY3QoaS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkodCkpKSxyLmJhbm5lci50b3BmcmFtZT1PYmplY3QoaS5pbklmcmFtZSkoKT8wOjEsRChlLHIsbi5iKSxyfShlKTtSKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIiksT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKSkmJih0Lmhhc093blByb3BlcnR5KGUudHJhbnNhY3Rpb25JZCl8fCh0W2UudHJhbnNhY3Rpb25JZF09e30pLHRbZS50cmFuc2FjdGlvbklkXS5oYXNPd25Qcm9wZXJ0eSgiaXhJbXBzIil8fCh0W2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdKSx0W2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzLnB1c2gocykpLG8uaGFzT3duUHJvcGVydHkoImRldGVjdE1pc3NpbmdTaXplcyIpJiZvLmRldGVjdE1pc3NpbmdTaXplcyYmZnVuY3Rpb24oZSxyLHQpe3ZhciBuPWUudHJhbnNhY3Rpb25JZDtpZihyLmhhc093blByb3BlcnR5KG4pKXt2YXIgYT1bXTtyW25dLmhhc093blByb3BlcnR5KCJtaXNzaW5nU2l6ZXMiKSYmKGE9cltuXS5taXNzaW5nU2l6ZXMpLE0oYSxlLnBhcmFtcy5zaXplKSxyW25dLm1pc3NpbmdTaXplcz1hfWVsc2UgaWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSl7dmFyIG89T2JqZWN0KGkuZGVlcENsb25lKShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTtNKG8sZS5wYXJhbXMuc2l6ZSk7dmFyIHM9e21pc3NpbmdTaXplczpvLGltcHJlc3Npb246dH07cltuXT1zfX0oZSxyLHMpfWZ1bmN0aW9uIFcoZSxyLHQpe3ZhciBhPU9iamVjdChpLmRlZXBDbG9uZSkocik7cmV0dXJuIGEuZXh0LnNpZD1PYmplY3QoaS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkodCksYS5iYW5uZXIudz10WzBdLGEuYmFubmVyLmg9dFsxXSxEKGUsYSxuLmIpLGF9ZnVuY3Rpb24gRyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHRpbWVvdXQ6M2UzfTt3aW5kb3cuSVhPdXRzdHJlYW1QbGF5ZXIoZS52YXN0VXJsLGUuYWRVbml0Q29kZSxyKX0pKX1mdW5jdGlvbiBRKGUpe3ZhciByPWwuYS5pbnN0YWxsKHtpZDplLHVybDoiaHR0cHM6Ly9qcy1zZWMuaW5kZXh3dy5jb20vaHR2L3ZpZGVvLXBsYXllci5qcyIsbG9hZGVkOiExfSk7dHJ5e3Iuc2V0UmVuZGVyKEcpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfXZhciAkPXtjb2RlOiJpeCIsZ3ZsaWQ6MTAsYWxpYXNlczpbe2NvZGU6aixndmxpZDoxMCxza2lwUGJzQWxpYXNpbmc6ITF9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOngsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHIsdCxuPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpLGE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKSxvPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikscz1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSxjPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vciIpLHA9ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yQ3VyIik7aWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlIikmJiFPYmplY3QoaS5jb250YWlucykoeCxlLm1lZGlhVHlwZSkpcmV0dXJuITE7aWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIW8pcmV0dXJuITE7aWYoYSl7dmFyIHU9QihhKTtpZighdSlyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXplIGhhcyBpbnZhbGlkIGZvcm1hdC4iKSwhMTtpZighUihlLnNpemVzLHUpJiYhUihkLHUpJiYhUihvLHUpKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IGJpZCBzaXplIGlzIG5vdCBpbmNsdWRlZCBpbiBhZCB1bml0IHNpemVzIG9yIHBsYXllciBzaXplLiIpLCExfWlmKCJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLnNpdGVJZClyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExO2lmKChjfHxwKSYmIShjJiZwJiYocj1lLnBhcmFtcy5iaWRGbG9vcix0PWUucGFyYW1zLmJpZEZsb29yQ3VyLEJvb2xlYW4oIm51bWJlciI9PXR5cGVvZiByJiYic3RyaW5nIj09dHlwZW9mIHQmJnQubWF0Y2goL15bQS1aXXszfSQvKSkpKSlyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYocyYmbil7dmFyIGw9cShzLG4pO2lmKGwubGVuZ3RoKXJldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0Vycm9yKShlKX0pKSwhMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGE9e30sbz17fSxzPXt9LGQ9e307Zm9yKHZhciBjIGluIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcyIse30pKTtzd2l0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/bi5kOm4uYn0oZSkpe2Nhc2Ugbi5iOlYoZSxkLGEpO2JyZWFrO2Nhc2Ugbi5kOlgoZSxvKX11KCkocixuLmIpJiZ1KCkocixuLmQpJiYoc1tlLnRyYW5zYWN0aW9uSWRdPWUpfSkpLE9iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXNbZV07YVtlXXx8VihyLGQsYSksb1tlXXx8WChyLG8pfSkpLGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIHA9ZFtjXS5taXNzaW5nU2l6ZXM7YS5oYXNPd25Qcm9wZXJ0eShjKXx8KGFbY109e30pLGFbY10uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdJbXBzIil8fChhW2NdLm1pc3NpbmdJbXBzPVtdLGFbY10ubWlzc2luZ0NvdW50PTApO2Zvcih2YXIgbD1kW2NdLmltcHJlc3Npb24sbT0wO208cC5sZW5ndGg7bSsrKXt2YXIgYj1XKGVbMF0sbCxwW21dKTthW2NdLm1pc3NpbmdJbXBzLnB1c2goYiksYVtjXS5taXNzaW5nQ291bnQrK319cmV0dXJuIE9iamVjdC5rZXlzKGEpLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxmKE4oZSxyLGEsNy4yKSkpLE9iamVjdC5rZXlzKG8pLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxmKE4oZSxyLG8sOC4xKSkpLHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj1udWxsO2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5Iil8fCFlLmJvZHkuaGFzT3duUHJvcGVydHkoInNlYXRiaWQiKSlyZXR1cm4gdDtmb3IodmFyIGE9ZS5ib2R5LG89YS5zZWF0YmlkLHM9MDtzPG8ubGVuZ3RoO3MrKylpZihvW3NdLmhhc093blByb3BlcnR5KCJiaWQiKSlmb3IodmFyIGQ9b1tzXS5iaWQsYz1KU09OLnBhcnNlKHIuZGF0YS5yKSxwPTA7cDxkLmxlbmd0aDtwKyspe3ZhciB1PVUoZFtwXS5pbXBpZCxjLmltcCxyLnZhbGlkQmlkUmVxdWVzdHMpO249XyhkW3BdLGEuY3VyLHUpLE9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKXx8Im91dHN0cmVhbSIhPT1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG4ubWVkaWFUeXBlcy52aWRlby5yZW5kZXJlcj1RKGRbcF0uYmlkSWQpKSx0LnB1c2gobil9cmV0dXJuIHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBPYmplY3QoaS5jb252ZXJ0VHlwZXMpKHtzaXRlSUQ6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vanMtc2VjLmluZGV4d3cuY29tL3VtL2l4bWF0Y2guaHRtbCJ9XTpbXX19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKSgkKX19LFs1NTFdKTsKdXBianNDaHVuayhbMjE5XSx7NTYxOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig1NjIpfSw1NjI6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBuPXIoMCksYT1yKDMpLG89cigxKSxpPXIoNyksYz1yKDIpO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzLGQsZyxsPSJrYXJnbyIscD1bYy5iLGMuZF0sZj1PYmplY3QoaS5iKSg5NzIsbCksbT17Z3ZsaWQ6OTcyLGNvZGU6bCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5wYXJhbXMpJiYhIWUucGFyYW1zLnBsYWNlbWVudElkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbz1hLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIpLGk9byYmby5hZFNlcnZlckN1cnJlbmN5fHwiVVNEIixjPXt9LHM9e307T2JqZWN0KG4uX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe2NbZS5iaWRJZF09ZS5wYXJhbXMucGxhY2VtZW50SWQsc1tlLmJpZElkXT1lLnNpemVzfSkpLGUubGVuZ3RoPjAmJmVbMF0udXNlcklkJiZlWzBdLnVzZXJJZC50ZGlkJiYocj1lWzBdLnVzZXJJZC50ZGlkKTt2YXIgZD11KHt9LHtzZXNzaW9uSWQ6bS5fZ2V0U2Vzc2lvbklkKCkscmVxdWVzdENvdW50Om0uX2dldFJlcXVlc3RDb3VudCgpLHRpbWVvdXQ6dC50aW1lb3V0LGN1cnJlbmN5OmksY3BtR3JhbnVsYXJpdHk6MSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCksY3BtUmFuZ2U6e2Zsb29yOjAsY2VpbDoyMH0sYmlkSURzOmMsYmlkU2l6ZXM6cyxwcmViaWRSYXdCaWRSZXF1ZXN0czplfSxtLl9nZXRBbGxNZXRhZGF0YShyLHQudXNwQ29uc2VudCx0LmdkcHJDb25zZW50KSksZz1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZCkpO3JldHVybiB1KHt9LHQse21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KCJodHRwczovL2tyay5rYXJnby5jb20iLCIvYXBpL3YyL2JpZCIpLGRhdGE6Impzb249Ii5jb25jYXQoZyksY3VycmVuY3k6aX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxuPVtdO2Zvcih2YXIgYSBpbiByKXt2YXIgbz1yW2FdLGk9dm9pZCAwO28ubWV0YWRhdGEmJm8ubWV0YWRhdGEubGFuZGluZ1BhZ2VEb21haW4mJihpPXtjbGlja1VybDpvLm1ldGFkYXRhLmxhbmRpbmdQYWdlRG9tYWluLGFkdmVydGlzZXJEb21haW5zOltvLm1ldGFkYXRhLmxhbmRpbmdQYWdlRG9tYWluXX0pLG4ucHVzaCh7cmVxdWVzdElkOmEsY3BtOk51bWJlcihvLmNwbSksd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsYWQ6by5hZG0sdHRsOjMwMCxjcmVhdGl2ZUlkOm8uaWQsZGVhbElkOm8udGFyZ2V0aW5nQ3VzdG9tLG5ldFJldmVudWU6ITAsY3VycmVuY3k6dC5jdXJyZW5jeSxtZXRhOml9KX1yZXR1cm4gbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVtdLG89bS5fZ2VuZXJhdGVSYW5kb21VdWlkKCksaT1tLl9nZXRDbGllbnRJZCgpLGM9ciYmci5nZHByQXBwbGllcz8xOjAsdT1yJiZyLmNvbnNlbnRTdHJpbmc/ci5jb25zZW50U3RyaW5nOiIiO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmND09bi5sZW5ndGgmJjE9PW5bMF0mJiJZIj09blsyXSlyZXR1cm4gYTtpZihlLmlmcmFtZUVuYWJsZWQmJm8mJmkpZm9yKHZhciBzPTA7czw1O3MrKylhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2NyYi5rYXJnby5jb20vYXBpL3YxL2luaXRzeW5jcm5kL3tVVUlEfT9zZWVkPXtTRUVEfSZpZHg9e0lOREVYfSZnZHByPXtHRFBSfSZnZHByX2NvbnNlbnQ9e0dEUFJfQ09OU0VOVH0mdXNfcHJpdmFjeT17VVNfUFJJVkFDWX0iLnJlcGxhY2UoIntVVUlEfSIsaSkucmVwbGFjZSgie1NFRUR9IixvKS5yZXBsYWNlKCJ7SU5ERVh9IixzKS5yZXBsYWNlKCJ7R0RQUn0iLGMpLnJlcGxhY2UoIntHRFBSX0NPTlNFTlR9Iix1KS5yZXBsYWNlKCJ7VVNfUFJJVkFDWX0iLG58fCIiKX0pO3JldHVybiBhfSxzdXBwb3J0ZWRNZWRpYVR5cGVzOnAsX3JlYWRDb29raWU6ZnVuY3Rpb24oZSl7aWYoIWYuY29va2llc0FyZUVuYWJsZWQoKSlyZXR1cm4gbnVsbDtmb3IodmFyIHQ9IiIuY29uY2F0KGUsIj0iKSxyPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpLG49MDtuPHIubGVuZ3RoO24rKyl7Zm9yKHZhciBhPXJbbl07IiAiPT09YS5jaGFyQXQoMCk7KWE9YS5zdWJzdHJpbmcoMSxhLmxlbmd0aCk7aWYoMD09PWEuaW5kZXhPZih0KSlyZXR1cm4gYS5zdWJzdHJpbmcodC5sZW5ndGgsYS5sZW5ndGgpfXJldHVybiBudWxsfSxfZ2V0Q3JiRnJvbUNvb2tpZTpmdW5jdGlvbigpe3RyeXt2YXIgZT1KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChtLl9yZWFkQ29va2llKCJrcmdfY3JiIikpKTtpZihlJiZlLnYpe3ZhciB0PUpTT04ucGFyc2UoYXRvYihlLnYpKTtpZih0KXJldHVybiB0fXJldHVybnt9fWNhdGNoKGUpe3JldHVybnt9fX0sX2dldENyYkZyb21Mb2NhbFN0b3JhZ2U6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoYXRvYihtLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImtyZ19jcmIiKSkpfWNhdGNoKGUpe3JldHVybnt9fX0sX2dldENyYjpmdW5jdGlvbigpe3ZhciBlPW0uX2dldENyYkZyb21Mb2NhbFN0b3JhZ2UoKTtyZXR1cm4gT2JqZWN0LmtleXMoZSkubGVuZ3RoP2U6bS5fZ2V0Q3JiRnJvbUNvb2tpZSgpfSxfZ2V0S3J1eFVzZXJJZDpmdW5jdGlvbigpe3JldHVybiBtLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImt4a2FyX3VzZXIiKX0sX2dldEtydXhTZWdtZW50czpmdW5jdGlvbigpe3JldHVybiBtLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImt4a2FyX3NlZ3MiKX0sX2dldEtydXg6ZnVuY3Rpb24oKXt2YXIgZT1tLl9nZXRLcnV4U2VnbWVudHMoKSx0PVtdO3JldHVybiBlJiYodD1lLnNwbGl0KCIsIikpLHt1c2VySUQ6bS5fZ2V0S3J1eFVzZXJJZCgpLHNlZ21lbnRzOnR9fSxfZ2V0TG9jYWxTdG9yYWdlU2FmZWx5OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZi5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19LF9nZXRVc2VySWRzOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1tLl9nZXRDcmIoKSxhPXtrYXJnb0lEOm4udXNlcklkLGNsaWVudElEOm4uY2xpZW50SWQsY3JiSURzOm4uc3luY0lkc3x8e30sb3B0T3V0Om4ub3B0T3V0LHVzcDp0fTt0cnl7ciYmKGEuZ2Rwcj17Y29uc2VudDpyLmNvbnNlbnRTdHJpbmd8fCIiLGFwcGxpZXM6ISFyLmdkcHJBcHBsaWVzfSl9Y2F0Y2goZSl7fXJldHVybiBlJiYoYS50ZElEPWUpLGF9LF9nZXRDbGllbnRJZDpmdW5jdGlvbigpe3JldHVybiBtLl9nZXRDcmIoKS5jbGllbnRJZH0sX2dldEFsbE1ldGFkYXRhOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57dXNlcklEczptLl9nZXRVc2VySWRzKGUsdCxyKSxrcnV4Om0uX2dldEtydXgoKSxwYWdlVVJMOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJhd0NSQjptLl9yZWFkQ29va2llKCJrcmdfY3JiIikscmF3Q1JCTG9jYWxTdG9yYWdlOm0uX2dldExvY2FsU3RvcmFnZVNhZmVseSgia3JnX2NyYiIpfX0sX2dldFNlc3Npb25JZDpmdW5jdGlvbigpe3JldHVybiBzfHwocz1tLl9nZW5lcmF0ZVJhbmRvbVV1aWQoKSksc30sX2dldFJlcXVlc3RDb3VudDpmdW5jdGlvbigpe3JldHVybiBkPT09d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lPysrZzooZD13aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsZz0wKX0sX2dlbmVyYXRlUmFuZG9tVXVpZDpmdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxNik7Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxlWzZdPS0xNzcmZVs2XXw2NCxlWzhdPS02NSZlWzhdfDEyODt2YXIgdD1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwobmV3IFVpbnQ4QXJyYXkoZSksKGZ1bmN0aW9uKGUpe3JldHVybigiMDAiK2UudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KSkuam9pbigiIik7cmV0dXJuIHQuc2xpY2UoMCw4KSsiLSIrdC5zbGljZSg4LDEyKSsiLSIrdC5zbGljZSgxMiwxNikrIi0iK3Quc2xpY2UoMTYsMjApKyItIit0LnNsaWNlKDIwKX1jYXRjaChlKXtyZXR1cm4iIn19fTtPYmplY3Qoby5yZWdpc3RlckJpZGRlcikobSl9fSxbNTYxXSk7CnVwYmpzQ2h1bmsoWzE5OV0sezYxOTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjIwKX0sNjIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKTt2YXIgcj1uKDApLGk9bigxKSxhPW4oMyksbz1uKDIpLGM9bigxOSksZD1uKDEzKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0ibWVkaWFuZXQiLHA9Imh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC92aWRlby9idW5kbGUuanMiLGw9MCxiPTEsbT0yLGY9ImNsaWVudF90aW1lb3V0IixnPSJjbGllbnRfYmlkX3dvbiIseT1PYmplY3QoYy5hKSgpLGg9e307ZnVuY3Rpb24gdigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIGooZSl7cmV0dXJuIHMoe2RvbWFpbjooZT1lfHx7fSkuZG9tYWlufHxoLnVybERhdGEuZG9tYWluLHBhZ2U6ZS5wYWdlfHxoLnVybERhdGEucGFnZSxyZWY6ZS5yZWZ8fHYoKSxpc1RvcDplLmlzVG9wfHxoLnVybERhdGEuaXNUb3B9LGZ1bmN0aW9uKCl7aWYoaC5wYWdlTWV0YSlyZXR1cm4gaC5wYWdlTWV0YTt2YXIgZT13KCdsaW5rW3JlbD0iY2Fub25pY2FsIl0nLCJocmVmIiksdD13KCdtZXRhW3Byb3BlcnR5PSJvZzp1cmwiXScsImNvbnRlbnQiKSxuPXcoJ21ldGFbbmFtZT0idHdpdHRlcjp1cmwiXScsImNvbnRlbnQiKTtyZXR1cm4gaC5wYWdlTWV0YT1zKHt9LGUmJntjYW5vbmljYWxfdXJsOmV9LHQmJntvZ191cmw6dH0sbiYme3R3aXR0ZXJfdXJsOm59KSxoLnBhZ2VNZXRhfSgpKX1mdW5jdGlvbiB3KGUsdCl7dmFyIG4saSxhPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBuPU9iamVjdChyLmdldFdpbmRvd1RvcCkoKS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKG51bGwhPT1uJiZuW3RdKXJldHVybiBuW3RdfWNhdGNoKGUpe319KGUsdCk7cmV0dXJuIGEmJihuPWEsKGk9T2JqZWN0KHIuZ2V0V2luZG93VG9wKSgpLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj1uLGkuaHJlZil9ZnVuY3Rpb24gTyhlLHQpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXR9KSl9ZnVuY3Rpb24geChlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX1mdW5jdGlvbiBfKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zIiksaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudCIpLG89T2JqZWN0KHIuZGVlcEFjY2VzcykodCwidXNwQ29uc2VudCIpLGM9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidXNlcklkIiksZD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJzY2hhaW4iKXx8e30sdT1VLmdldFdpbmRvd1NpemUoKSxwPSEoIWl8fCFpLmdkcHJBcHBsaWVzKSxsPSEhbyxiPSEhYS5iLmdldENvbmZpZygiY29wcGEiKTtyZXR1cm4gcyh7fSx7Y3VzdG9tZXJfaWQ6bi5jaWR9LHtwcmViaWRfdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSx7Z2Rwcl9hcHBsaWVzOnB9LHAmJntnZHByX2NvbnNlbnRfc3RyaW5nOmkuY29uc2VudFN0cmluZ3x8IiJ9LHt1c3BfYXBwbGllczpsfSxsJiZ7dXNwX2NvbnNlbnRfc3RyaW5nOm98fCIifSx7Y29wcGFfYXBwbGllczpifSwtMSE9PXUudyYmLTEhPT11LmgmJntzY3JlZW46dX0sYyYme3VzZXJfaWQ6Y30sdXBianMubWVkaWFuZXRHbG9iYWxzLmFuYWx5dGljc0VuYWJsZWQmJnthbmFseXRpY3M6ITB9LCFPYmplY3Qoci5pc0VtcHR5KShkKSYme3NjaGFpbjpkfSl9ZnVuY3Rpb24gQShlKXt2YXIgdD17aWQ6ZS5iaWRJZCxleHQ6e2RmcF9pZDplLmFkVW5pdENvZGUsZGlzcGxheV9jb3VudDplLmJpZFJlcXVlc3RzQ291bnR9LGFsbDplLnBhcmFtc307ZS5vcnRiMkltcCYmKHQub3J0YjJJbXA9ZS5vcnRiMkltcCk7dmFyIG4saT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHxbXSxhPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sYz1zKHt9LE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpfHx7fSxhKTtpZihPYmplY3Qoci5pc0VtcHR5KShjKXx8KHQudmlkZW89YyksaS5sZW5ndGg+MCYmKHQuYmFubmVyPShuPWksT2JqZWN0KHIuaXNBcnJheSkobikmJjI9PT1uLmxlbmd0aCYmIU9iamVjdChyLmlzQXJyYXkpKG5bMF0pP1t4KG4pXTpuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSl9KSkpKSxlLm5hdGl2ZVBhcmFtcyl0cnl7dC5uYXRpdmU9SlNPTi5zdHJpbmdpZnkoZS5uYXRpdmVQYXJhbXMpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQodSwiIDogSW5jb3JyZWN0IEpTT04gOiBiaWRSZXF1ZXN0Lm5hdGl2ZVBhcmFtcyIpKX1lLnBhcmFtcy5jcmlkJiYodC50YWdpZD1lLnBhcmFtcy5jcmlkLnRvU3RyaW5nKCkpO3ZhciBkPXBhcnNlRmxvYXQoZS5wYXJhbXMuYmlkZmxvb3J8fGUucGFyYW1zLmJpZEZsb29yKTtkJiYodC5iaWRmbG9vcj1kKTt2YXIgcD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtpZighdCYmLTEhPT1lLmluZGV4T2YoIi8iKSl7dmFyIG49T2JqZWN0KHIuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlKS5kaXZJZDtPYmplY3Qoci5pc1N0cikobikmJih0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKX1pZih0JiZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXt9O3JldHVybiBhLnRvcF9sZWZ0PXt5OmkudG9wLHg6aS5sZWZ0fSxhLmJvdHRvbV9yaWdodD17eTppLmJvdHRvbSx4OmkucmlnaHR9LGF9cmV0dXJuIG51bGx9KGUuYWRVbml0Q29kZSk7aWYocCYmdC5iYW5uZXImJjAhPT10LmJhbm5lci5sZW5ndGgpe3ZhciBmPWZ1bmN0aW9uKGUpe3JldHVybnt0b3BfbGVmdDp7eDplLnRvcF9sZWZ0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS50b3BfbGVmdC55K3dpbmRvdy5wYWdlWU9mZnNldH0sYm90dG9tX3JpZ2h0Ont4OmUuYm90dG9tX3JpZ2h0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS5ib3R0b21fcmlnaHQueSt3aW5kb3cucGFnZVlPZmZzZXR9fX0ocCk7dC5leHQuY29vcmRpbmF0ZXM9Zix0LmV4dC52aWV3YWJpbGl0eT1TKHAudG9wX2xlZnQsSSh0LmJhbm5lcikpLFMoZi50b3BfbGVmdCxJKHQuYmFubmVyKSk+LjU/dC5leHQudmlzaWJpbGl0eT1iOnQuZXh0LnZpc2liaWxpdHk9bX1lbHNlIHQuZXh0LnZpc2liaWxpdHk9bDt2YXIgZz1mdW5jdGlvbihlKXt2YXIgdD1bXTsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmW28uYixvLmQsby5jXS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobikmJihuPT1vLmI/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5mb3JFYWNoKChmdW5jdGlvbihyKXtUKGUsbixyLHQpfSkpOlQoZSxuLCIqIix0KSl9KSk7cmV0dXJuIHR9KGUpO3JldHVybiBnJiZnLmxlbmd0aD4wJiYodC5iaWRmbG9vcnM9ZyksdH1mdW5jdGlvbiBUKGUsdCxuLHIpe3ZhciBpPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTp0LHNpemU6bn0pO24ubGVuZ3RoPjEmJihpLnNpemU9biksaS5tZWRpYVR5cGU9dCxyLnB1c2goaSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9ZnVuY3Rpb24gUyhlLHQpe3ZhciBuPXQudyp0Lmgscj1VLmdldFdpbmRvd1NpemUoKSxpPXt4OmUueCt0LncseTplLnkrdC5ofTtyZXR1cm4gMD09PW58fC0xPT09ci53fHwtMT09PXIuaD8wOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUueD5yLnh8fHQueDxuLnh8fGUueT5yLnl8fHQueTxuLnkpcmV0dXJuIDA7cmV0dXJuKE1hdGgubWluKHQueCxyLngpLU1hdGgubWF4KGUueCxuLngpKSooTWF0aC5taW4odC55LHIueSktTWF0aC5tYXgoZS55LG4ueSkpfShlLGkse3g6MCx5OjB9LHt4OnIudyx5OnIuaH0pL259ZnVuY3Rpb24gRShlLHQpe3Q9T2JqZWN0KHIuaXNBcnJheSkodCkmJnR8fFtdO3ZhciBuPXtsb2dpZDoia2ZrIixldnRpZDoicHJvamVjdGV2ZW50cyIscHJvamVjdDoicHJlYmlkIn07cmV0dXJuIG4uYWNpZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCIwLmF1Y3Rpb25JZCIpfHwiIixuLmNpZD11cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkfHwiIixuLmNyaWQ9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMuMC5jcmlkIil8fGUuYWRVbml0Q29kZX0pKS5qb2luKCJ8Iiksbi5hZHVuaXRfY291bnQ9dC5sZW5ndGh8fDAsbi5kbj1oLnVybERhdGEuZG9tYWlufHwiIixuLnJlcXVybD1oLnVybERhdGEucGFnZXx8IiIsbi5pc3RvcD1oLnVybERhdGEuaXNUb3B8fCIiLG4uZXZlbnQ9ZS5uYW1lfHwiIixuLnZhbHVlPWUudmFsdWV8fCIiLG4ucmQ9ZS5yZWxhdGVkX2RhdGF8fCIiLG59ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPXtwcm90b2NvbDoiaHR0cHMiLGhvc3RuYW1lOiJxc2VhcmNoLWEuYWthbWFpaGQubmV0L2xvZyIsc2VhcmNoOkUoZSx0KX07T2JqZWN0KHIudHJpZ2dlclBpeGVsKShPYmplY3Qoci5idWlsZFVybCkobikpfWZ1bmN0aW9uIE0oZSl7dmFyIHQsbj1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJjb250ZXh0Iil8fCIiLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidnRvIik7Im91dHN0cmVhbSI9PW4mJmkmJihlLnJlbmRlcmVyPSgodD1kLmEuaW5zdGFsbCh7dXJsOnB9KSkuc2V0UmVuZGVyKChmdW5jdGlvbihlKXt3aW5kb3cubW5ldC5xdWV1ZS5wdXNoKChmdW5jdGlvbigpe3ZhciB0PXt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCx2YXN0VGltZW91dDplLnZ0byxtYXhBbGxvd2VkVmFzdFRhZ1JlZGlyZWN0czplLm1hdnRyLGFsbG93VnBhaWQ6ZS5hdnAsYXV0b1BsYXk6ZS5hcCxwcmVsb2FkOmUucGwsbXV0ZTplLm10fSxuPWUuZGZwX2lkLGk9T2JqZWN0KHIuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShuKS5kaXZJZHx8bjt3aW5kb3cubW5ldC5tZWRpYU5ldG91dHN0cmVhbVBsYXllcihlLGksdCl9KSl9KSksdCkpfXdpbmRvdy5tbmV0PXdpbmRvdy5tbmV0fHx7fSx3aW5kb3cubW5ldC5xdWV1ZT13aW5kb3cubW5ldC5xdWV1ZXx8W10saC51cmxEYXRhPXtkb21haW46T2JqZWN0KHIucGFyc2VVcmwpKHkucmVmZXJlcikuaG9zdG5hbWUscGFnZTp5LnJlZmVyZXIsaXNUb3A6eS5yZWFjaGVkVG9wfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHM9dXBianMubWVkaWFuZXRHbG9iYWxzfHx7fTt2YXIgVT17Y29kZTp1LGd2bGlkOjE0MixzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5jLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zP2UucGFyYW1zLmNpZCYmT2JqZWN0KHIuaXNTdHIpKGUucGFyYW1zLmNpZCkmJiFPYmplY3Qoci5pc0VtcHR5U3RyKShlLnBhcmFtcy5jaWQpPyhzKHVwYmpzLm1lZGlhbmV0R2xvYmFscywhdXBianMubWVkaWFuZXRHbG9iYWxzLmNpZCYme2NpZDplLnBhcmFtcy5jaWR9KSwhMCk6KE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQodSwiIDogY2lkIHNob3VsZCBiZSBhIHN0cmluZyIpKSwhMSk6KE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQodSwiIDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3NpdGU6aihlWzBdLnBhcmFtcy5zaXRlKSxleHQ6XyhlWzBdLHQpLGlkOmVbMF0uYXVjdGlvbklkLGltcDplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEEoZSl9KSksdG1heDp0LnRpbWVvdXR8fGEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX19KGUsdCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOihuPXIuZXh0LmN1c3RvbWVyX2lkLCJodHRwczovL3ByZWJpZC5tZWRpYS5uZXQvcnRiL3ByZWJpZD9jaWQ9IitlbmNvZGVVUklDb21wb25lbnQobikpLGRhdGE6SlNPTi5zdHJpbmdpZnkocil9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKCFlfHwhZS5ib2R5KXJldHVybiBPYmplY3Qoci5sb2dJbmZvKSgiIi5jb25jYXQodSwiIDogcmVzcG9uc2UgaXMgZW1wdHkiKSksbjt2YXIgaT1lLmJvZHkuYmlkTGlzdDtyZXR1cm4gT2JqZWN0KHIuaXNBcnJheSkoaSkmJjAhPT1pLmxlbmd0aD8oKG49aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUubm9fYmlkJiZwYXJzZUZsb2F0KGUuY3BtKT4wfShlKX0pKSkuZm9yRWFjaChNKSxuKTooT2JqZWN0KHIubG9nSW5mbykoIiIuY29uY2F0KHUsIiA6IG5vIGJpZHMiKSksbil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciBuLGk9KG49dCwhT2JqZWN0KHIuaXNFbXB0eSkobikmJm5bMF0uYm9keSYmblswXS5ib2R5LmV4dCYmT2JqZWN0KHIuaXNBcnJheSkoblswXS5ib2R5LmV4dC5jc1VybCk/blswXS5ib2R5LmV4dC5jc1VybDpbXSk7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9PKGksImlmcmFtZSIpOmUucGl4ZWxFbmFibGVkP08oaSwiaW1hZ2UiKTp2b2lkIDB9LG9uVGltZW91dDpmdW5jdGlvbihlKXt0cnl7Qyh7bmFtZTpmLHZhbHVlOmUubGVuZ3RoLHJlbGF0ZWRfZGF0YTplWzBdLnRpbWVvdXR8fGEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX0sZSl9Y2F0Y2goZSl7fX0sb25CaWRXb246ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Zyx2YWx1ZTplLmNwbX0sW2VdKX1jYXRjaChlKXt9fSxjbGVhck1uRGF0YTpmdW5jdGlvbigpe2g9e319LGdldFdpbmRvd1NpemU6ZnVuY3Rpb24oKXtyZXR1cm57dzp3aW5kb3cuc2NyZWVuLndpZHRofHwtMSxoOndpbmRvdy5zY3JlZW4uaGVpZ2h0fHwtMX19fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoVSl9fSxbNjE5XSk7CnVwYmpzQ2h1bmsoWzE4OV0sezYzOTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjQwKX0sNjQwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgcj1uKDApLGk9bigxKSxkPW4oMiksbz1bZC5iXSxjPXt9LGE9e30scz17Y29kZToibmF0aXZvIixndmxpZDoyNjMsYWxpYXNlczpbIm50diJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6byxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuLGksZD1uZXcgU2V0LG89e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy51cmwiLHQucmVmZXJlckluZm8ucmVmZXJlciksKG49T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zLnBsYWNlbWVudElkIikpJiZkLmFkZChuKTt2YXIgYz1ufHxlLmFkVW5pdENvZGU7b1tjXT17YmlkSWQ6ZS5iaWRJZCxzaXplOnAoZS5zaXplcyl9fSkpLGNbdC5iaWRkZXJSZXF1ZXN0SWRdPW87dmFyIHMsZj17YWRVbml0czplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGFbZS5hZFVuaXRDb2RlXT12b2lkIDAhPT1hW2UuYWRVbml0Q29kZV0/YVtlLmFkVW5pdENvZGVdKzE6MCx7YWRVbml0Q29kZTplLmFkVW5pdENvZGUsbWVkaWFUeXBlczplLm1lZGlhVHlwZXN9fSkpfSxiPVt7a2V5OiJudHZfcGJfcmlkIix2YWx1ZTp0LmJpZGRlclJlcXVlc3RJZH0se2tleToibnR2X3BwYyIsdmFsdWU6YnRvYShKU09OLnN0cmluZ2lmeShmKSl9LHtrZXk6Im50dl9kYnIiLHZhbHVlOmJ0b2EoSlNPTi5zdHJpbmdpZnkoYSkpfSx7a2V5OiJudHZfdXJsIix2YWx1ZTplbmNvZGVVUklDb21wb25lbnQoaSl9XTtpZihkLnNpemU+MCl7dmFyIHY9W107ZC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdi5wdXNoKGUpfSkpLGIudW5zaGlmdCh7a2V5OiJudHZfcHRkIix2YWx1ZTp2LmpvaW4oIiwiKX0pfXJldHVybiB0LmdkcHJDb25zZW50JiZiLnVuc2hpZnQoe2tleToibnR2X2dkcHJfY29uc2VudCIsdmFsdWU6dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfSksdC51c3BDb25zZW50JiZiLnVuc2hpZnQoe2tleToidXNfcHJpdmFjeSIsdmFsdWU6dC51c3BDb25zZW50fSkse21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vZXhjaGFuZ2UucG9zdHJlbGVhc2UuY29tL3ByZWJpZCIrKHM9YiwiPyIrcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUoZSx0LmtleSx0LnZhbHVlKX0pLCIiKSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoIWV8fCFlLmJvZHl8fE9iamVjdChyLmlzRW1wdHkpKGUuYm9keSkpcmV0dXJuW107dHJ5e3ZhciBpLGQsbz0ic3RyaW5nIj09dHlwZW9mIGUuYm9keT9KU09OLnBhcnNlKGUuYm9keSk6ZS5ib2R5LGE9W107cmV0dXJuIG8uc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtkPW4uZ2V0QWRVbml0RGF0YShvLmlkLGUpLGk9e3JlcXVlc3RJZDpkLmJpZElkLGNwbTplLnByaWNlLGN1cnJlbmN5Om8uY3VyLHdpZHRoOmUud3x8ZC5zaXplWzBdLGhlaWdodDplLmh8fGQuc2l6ZVsxXSxjcmVhdGl2ZUlkOmUuY3JpZCxkZWFsSWQ6ZS5pZCxuZXRSZXZlbnVlOiEwLHR0bDplLnR0bHx8MzYwLGFkOmUuYWRtLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn19LGEucHVzaChpKX0pKX0pKSxkZWxldGUgY1tvLmlkXSxhfWNhdGNoKGUpe3JldHVybltdfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBkPSIiO24mJihkPXUoZCwiZ2RwciIsbi5nZHByQXBwbGllcz8xOjApLGQ9dShkLCJnZHByX2NvbnNlbnQiLGVuY29kZVVSSUNvbXBvbmVudChuLmNvbnNlbnRTdHJpbmd8fCIiKSkpLGkmJihkPXUoZCwidXNfcHJpdmFjeSIsZW5jb2RlVVJJQ29tcG9uZW50KGkudXNwQ29uc2VudCkpKTt2YXIgbyxjPXtpZnJhbWU6ZS5pZnJhbWVFbmFibGVkLGltYWdlOmUucGl4ZWxFbmFibGVkfSxhPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5ib2R5fHxPYmplY3Qoci5pc0VtcHR5KShlLmJvZHkpKXJldHVybiBhOyhvPSJzdHJpbmciPT10eXBlb2YgZS5ib2R5P0pTT04ucGFyc2UoZS5ib2R5KTplLmJvZHkpJiZvLnNlYXRiaWQmJjAhPT1vLnNlYXRiaWQubGVuZ3RoJiZvLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zeW5jVXJscy5mb3JFYWNoKChmdW5jdGlvbihlKXtjW2UudHlwZV0mJiIiIT09ZS51cmwudHJpbSgpJiZhLnB1c2goe3R5cGU6ZS50eXBlLHVybDplLnVybC5yZXBsYWNlKCJ7R0RQUl9wYXJhbXN9IixkKX0pfSkpfSkpfSkpLGF9LG9uVGltZW91dDpmdW5jdGlvbihlKXt9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7fSxnZXRBZFVuaXREYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcEFjY2VzcykoYywiIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0LmltcGlkKSk7aWYobilyZXR1cm4gbjt2YXIgaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJleHQuYWRfdW5pdF9pZCIpO3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShjLCIiLmNvbmNhdChlLCIuIikuY29uY2F0KGkpKX19O2Z1bmN0aW9uIHUoZSx0LG4pe3JldHVybiBlKyIiLmNvbmNhdChlLmxlbmd0aD8iJiI6IiIpLmNvbmNhdCh0LCI9IikuY29uY2F0KG4pfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmY7cmV0dXJuIGUmJjAhPT1lLmxlbmd0aD8xPT09ZS5sZW5ndGg/ZVswXTplLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChuKT50KGUpP246ZX0pKTpbXX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikocyk7dmFyIGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0qZVsxXX19fSxbNjM5XSk7CnVwYmpzQ2h1bmsoWzE4M10sezY1MTpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoNjUyKX0sNjUyOmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChuLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgaT10KDApLHI9dCgzKSxvPXQoMSksZD10KDIpLGE9dCg3KSxzPSJub2JpZCIsdT1PYmplY3QoYS5iKSg4MTYscyk7ZnVuY3Rpb24gYyhlLG4pe09iamVjdChpLmxvZ0luZm8pKCItTm9CaWQtICIrZSxuKX1mdW5jdGlvbiBwKGUsbil7ZnVuY3Rpb24gdChlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5kPT09ZSlyZXR1cm4gblt0XTtyZXR1cm4hMX0oZS5kaXYsbil8fHt9O3JldHVybiBlLmFjY291bnQmJih0LnM9ZS5hY2NvdW50KSxlLnNpemVzJiYodC56PWUuc2l6ZXMpLGUuZGl2JiYodC5kPWUuZGl2KSxlLnRhcmdldGluZz90Lmc9ZS50YXJnZXRpbmc6dC5nPXt9LGUuZGl2JiZmdW5jdGlvbihlLG4sdCl7Zm9yKHZhciBpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciByPWVbaV07cltuXSYmcltuXT09PXQmJmUuc3BsaWNlKGksMSl9fShuLCJkIixlLmRpdiksZS5zaXplTWFwcGluZyYmKHQuc209ZS5zaXplTWFwcGluZyksZS5zaXRlSWQmJih0LnNpZD1lLnNpdGVJZCksZS5wbGFjZW1lbnRJZCYmKHQucGlkPWUucGxhY2VtZW50SWQpLGUuYWRfdHlwZSYmKHQuYXQ9ZS5hZF90eXBlKSxlLnBhcmFtcyYmKHQucGFyYW1zPWUucGFyYW1zKSxuLnB1c2godCksbn1pZih2b2lkIDAhPT13aW5kb3cubm9iaWQucmVmcmVzaExpbWl0JiZ3aW5kb3cubm9iaWQucmVmcmVzaExpbWl0PHdpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQpcmV0dXJuITE7dmFyIG8sYT0obz0iX3VibG9jayIsdS5nZXRDb29raWUobykpO2lmKGEpcmV0dXJuIGMoIlJlcXVlc3QgYmxvY2tlZCBmb3IgdXNlci4gaG91cnM6ICIsYSksITE7Zm9yKHZhciBzPVtdLHA9MCxiPVtdLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGw9ZVtnXSxmPWwuYWRVbml0Q29kZTtzLnB1c2goZik7dmFyIHY9bC5zaXplcztwPXZvaWQgMCE9PWwucGFyYW1zLnNpdGVJZCYmbC5wYXJhbXMuc2l0ZUlkP2wucGFyYW1zLnNpdGVJZDpwO3ZhciBtPWwucGFyYW1zLnBsYWNlbWVudElkLHc9ImJhbm5lciIsaD1PYmplY3QoaS5kZWVwQWNjZXNzKShsLCJtZWRpYVR5cGVzLnZpZGVvIikseT1PYmplY3QoaS5kZWVwQWNjZXNzKShsLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTsobC5tZWRpYVR5cGU9PT1kLmR8fGgmJigiaW5zdHJlYW0iPT09eXx8Im91dHN0cmVhbSI9PT15KSkmJih3PSJ2aWRlbyIpLHAmJnQoe2RpdjpmLHNpemVzOnYsc2l0ZUlkOnAscGxhY2VtZW50SWQ6bSxhZF90eXBlOncscGFyYW1zOmwucGFyYW1zfSxiKX1yZXR1cm4hIXAmJmZ1bmN0aW9uKHQsbyxkKXt2YXIgYSxzLHUsYyxwLGIsZyxsLGY9e307Zi5zaWQ9byxmLmw9ZnVuY3Rpb24oZSl7dmFyIG49IiI7cmV0dXJuIG49ZSYmZS5yZWZlcmVySW5mbyYmZS5yZWZlcmVySW5mby5yZWZlcmVyP2UucmVmZXJlckluZm8ucmVmZXJlcjp3aW5kb3cuY29udGV4dCYmd2luZG93LmNvbnRleHQubG9jYXRpb24mJndpbmRvdy5jb250ZXh0LmxvY2F0aW9uLmhyZWY/d2luZG93LmNvbnRleHQubG9jYXRpb24uaHJlZjpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLGVuY29kZVVSSUNvbXBvbmVudChuLnJlcGxhY2UoL1wlL2csIiIpKX0obiksZi50dD1lbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQudGl0bGUpLGYudHQ9Zi50dC5yZXBsYWNlKC8nfDt8cXVvdDt8Mzk7fCZhbXA7fCZ8I3xcclxufFxyfFxufFx0fFxmfFwlMEF8XCJ8XCUyMnxcJTVDfFwlMjN8XCUyNnxcJTI2fFwlMDkvZ20sIiIpLGYuYT1mdW5jdGlvbihlLG4pe3ZhciB0PVtdO2lmKGUmJmUubGVuZ3RoKXtpZihuKXt2YXIgaT1bXTtlIGluc3RhbmNlb2YgQXJyYXk/aT1lOmkucHVzaChlKTtmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciBkPW5bcl07ZCYmZC5kJiZpLmluZGV4T2YoZC5kKT4tMSYmdC5wdXNoKGQpfX19ZWxzZSB0PW47cmV0dXJuIHR9KHQsZHx8W10pLGYudD0oYT1uZXcgRGF0ZSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlPD05PyIwIitlOiIiK2V9LHU9YS5nZXREYXRlKCksYz1hLmdldEZ1bGxZZWFyKCkscD1hLmdldE1vbnRoKCkrMSxiPWEuZ2V0SG91cnMoKSxnPWEuZ2V0TWludXRlcygpLGw9YS5nZXRTZWNvbmRzKCksYysiLSIrcyhwKSsiLSIrcyh1KSsiICIrcyhiKSsiOiIrcyhnKSsiOiIrcyhsKSksZi50ej1NYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSksZi5yPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksbj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCk7cmV0dXJuIiIuY29uY2F0KGUsIngiKS5jb25jYXQobil9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIkNvdWxkIG5vdCBwYXJzZSBzY3JlZW4gZGltZW5zaW9ucywgZXJyb3IgZGV0YWlsczoiLGUpfX0oKSxmLmxhbmc9bmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlLGYucmVmPWRvY3VtZW50LnJlZmVycmVyLGYuZ2Rwcj1mdW5jdGlvbihlKXt2YXIgbj17fTtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmKG49e2NvbnNlbnRTdHJpbmc6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksbn0obiksZi51c3A9ZnVuY3Rpb24oZSl7dmFyIG49IiI7cmV0dXJuIGUmJmUudXNwQ29uc2VudCYmKG49ZS51c3BDb25zZW50KSxufShuKSxmLnBqYmRyPW4mJm4uYmlkZGVyQ29kZT9uLmJpZGRlckNvZGU6Im5vYmlkIjt2YXIgdj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg+MD9lWzBdLnNjaGFpbjpudWxsfShlKTt2JiYoZi5zY2hhaW49dik7dmFyIG09ITA9PT1yLmIuZ2V0Q29uZmlnKCJjb3BwYSIpP3tjb3BwYTohMH06ZSYmZS5sZW5ndGg+MD9lWzBdLmNvcHBhOm51bGw7bSYmKGYuY29wcGE9bSk7dmFyIHc9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KGkuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjApe3ZhciBuPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2UudWlkcyYmZS51aWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucHVzaCh7aWQ6ZS5pZCsiIn0pfSkpLGUuc291cmNlJiZ0Lmxlbmd0aD4wJiZuLnB1c2goe3NvdXJjZTplLnNvdXJjZSx1aWRzOnR9KX0pKSxufX0oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiMC51c2VySWRBc0VpZHMiKSk7cmV0dXJuIHcmJncubGVuZ3RoPjAmJihmLmVpZHM9dyksci5iJiZyLmIuZ2V0Q29uZmlnKCJvcnRiMiIpJiYoZi5vcnRiMj1yLmIuZ2V0Q29uZmlnKCJvcnRiMiIpKSxmfShzLHAsYil9ZnVuY3Rpb24gYihlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5hZFVuaXRDb2RlPT1lKXJldHVybiBuW3RdO3JldHVybiExfTshZnVuY3Rpb24oZSl7ZSYmdm9pZCAwIT09ZS5ybGltaXQmJih3aW5kb3cubm9iaWQucmVmcmVzaExpbWl0PWUucmxpbWl0KX0oZSksZnVuY3Rpb24oZSl7ZSYmdm9pZCAwIT09ZS51YmxvY2smJmZ1bmN0aW9uKGUsbix0KXt2YXIgaT1uZXcgRGF0ZTtpLnNldFRpbWUoaS5nZXRUaW1lKCkrNjAqdCo2MCoxZTMpO3ZhciByPSJleHBpcmVzPSIraS50b1VUQ1N0cmluZygpO3Uuc2V0Q29va2llKGUsbixyKX0oIl91YmxvY2siLCIxIixlLnVibG9jayl9KGUpO2Zvcih2YXIgaT1bXSxyPTA7ZS5iaWRzJiZyPGUuYmlkcy5sZW5ndGg7cisrKXt2YXIgbz1lLmJpZHNbcl07aWYoIShvLmJkcmlkPDEwMCkmJm4mJm4uYmlkZGVyUmVxdWVzdCYmbi5iaWRkZXJSZXF1ZXN0LmJpZHMpe3dpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrby5pZF09bzt2YXIgYT10KG8uZGl2aWQsbi5iaWRkZXJSZXF1ZXN0LmJpZHMpO2lmKGEpe3ZhciBzPXtyZXF1ZXN0SWQ6YS5iaWRJZCxjcG06MSooby5wcmljZT9vLnByaWNlOm8uYnVja2V0P28uYnVja2V0OjApLHdpZHRoOm8uc2l6ZS53LGhlaWdodDpvLnNpemUuaCxjcmVhdGl2ZUlkOm8uY3JlYXRpdmVpZHx8IiIsZGVhbElkOm8uZGVhbGlkfHwiIixjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozMDAsYWQ6by5hZG0sbWVkaWFUeXBlOm8uYXR5cGV8fGQuYn07by52YXN0VXJsJiYocy52YXN0VXJsPW8udmFzdFVybCksby52YXN0WG1sJiYocy52YXN0WG1sPW8udmFzdFhtbCksby52aWRlb0NhY2hlS2V5JiYocy52aWRlb0NhY2hlS2V5PW8udmlkZW9DYWNoZUtleSksby5tZXRhJiYocy5tZXRhPW8ubWV0YSksaS5wdXNoKHMpfX19cmV0dXJuIGl9d2luZG93Lm5vYmlkVmVyc2lvbj0iMS4zLjIiLHdpbmRvdy5ub2JpZD13aW5kb3cubm9iaWR8fHt9LHdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXM9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc3x8e30sd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbD0wLHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbD0wLHdpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQ9MCx3aW5kb3cubm9iaWQucmVuZGVyVGFnPWZ1bmN0aW9uKGUsbix0KXtjKCJub2JpZC5yZW5kZXJUYWcoKSIsbik7dmFyIGk9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIituXTtpZihpJiZpLmFkbTIpe2MoIm5vYmlkLnJlbmRlclRhZygpIGZvdW5kIHRhZyIsbik7dmFyIHI9aS5hZG0yO3JldHVybiBlLndyaXRlKHIpLHZvaWQgZS5jbG9zZSgpfWMoIm5vYmlkLnJlbmRlclRhZygpIHRhZyBOT1QgRk9VTkQgKkVSUk9SKiIsbil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oZSl7dmFyIG49IiIrZVtlLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIl07aWYoIm5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwfCI9PT1uLnN1YnN0cmluZygwLCJuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cHwiLmxlbmd0aCkpe2MoIlByZWJpZCByZWNlaXZlZCBuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cCBldmVudCIpO3ZhciB0PW4uc3Vic3RyaW5nKG4uaW5kZXhPZigifCIpKzEpO2lmKHdpbmRvdy5ub2JpZCYmd2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlcyl7dmFyIGk9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIit0XTtpZihpJiZpLmFkbTIpe3ZhciByPWkuYWRtMjtyJiZlLnNvdXJjZS5wb3N0TWVzc2FnZSgibmJUYWdSZW5kZXJlci5yZW5kZXJBZEluU2FmZUZyYW1lfCIrciwiKiIpfX19fSksITEpO3ZhciBnPXtjb2RlOnMsZ3ZsaWQ6ODE2LGFsaWFzZXM6W3tjb2RlOiJkdXJhdGlvbiIsZ3ZsaWQ6Njc0fV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbZC5iLGQuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGMoImlzQmlkUmVxdWVzdFZhbGlkIixlKSwhIWUucGFyYW1zLnNpdGVJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe2lmKGMoInZhbGlkQmlkUmVxdWVzdHMiLGUpLCFlfHxlLmxlbmd0aDw9MCljKCJFbXB0eSB2YWxpZEJpZFJlcXVlc3RzIik7ZWxzZXt2YXIgdD1wKGUsbik7aWYodCl7d2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudCsrO3ZhciByLG8sZD1KU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC8nfCZ8Iy9nLCIiKSxhPShyPSJodHRwczovL2Fkcy5zZXJ2ZW5vYmlkLmNvbS8iLChvPSJmdW5jdGlvbiI9PXR5cGVvZiBpLmdldFBhcmFtZXRlckJ5TmFtZSYmT2JqZWN0KGkuZ2V0UGFyYW1ldGVyQnlOYW1lKSgibm9iaWQtZW52IikpPyJiZXRhIj09bz9yPSJodHRwczovL2JldGEuc2VydmVub2JpZC5jb20vIjoiZGV2Ij09bz9yPSIvL2xvY2FsaG9zdDo4MjgyLyI6InFhIj09byYmKHI9Imh0dHBzOi8vcWEtYWRzLm5vYmlkLmNvbS8iKTpyPSJodHRwczovL2Fkcy5zZXJ2ZW5vYmlkLmNvbS8iLHIrImFkcmVxP2NiPSIrTWF0aC5mbG9vcigxMWUzKk1hdGgucmFuZG9tKCkpKSxzPXt9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj0hMDtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbiYmKG49ISghMCE9PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUuZ2RwckNvbnNlbnQsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxufShuKXx8KHM9e3dpdGhDcmVkZW50aWFsczohMX0pLHttZXRob2Q6IlBPU1QiLHVybDphLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0Om4sb3B0aW9uczpzfX19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3JldHVybiBjKCJpbnRlcnByZXRSZXNwb25zZSAtPiBzZXJ2ZXJSZXNwb25zZSIsZSksYygiaW50ZXJwcmV0UmVzcG9uc2UgLT4gYmlkUmVxdWVzdCIsbiksYihlLmJvZHksbil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLG4sdCxyKXtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBvPSIiO3JldHVybiB0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/bys9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTpvKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxyJiYoby5sZW5ndGg+MD9vKz0iJiI6bys9Ij8iLG8rPSJ1c3BfY29uc2VudD0iK3IpLFt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vcHVibGljLnNlcnZlbm9iaWQuY29tL3N5bmMuaHRtbCIrb31dfWlmKGUucGl4ZWxFbmFibGVkJiZuLmxlbmd0aD4wKXt2YXIgZD1bXTtyZXR1cm4gblswXS5ib2R5LnN5bmNzJiZuWzBdLmJvZHkuc3luY3MubGVuZ3RoPjAmJm5bMF0uYm9keS5zeW5jcy5mb3JFYWNoKChmdW5jdGlvbihlKXtkLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpLGR9cmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCItTm9CaWQtIFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luYy4iLGUpLFtdfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWwrKyxjKCJUaW1lb3V0IHRvdGFsOiAiK3dpbmRvdy5ub2JpZC50aW1lb3V0VG90YWwsZSksd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbH0sb25CaWRXb246ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbCsrLGMoIkJpZFdvbiB0b3RhbDogIit3aW5kb3cubm9iaWQuYmlkV29uVG90YWwsZSksd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsfX07T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzY1MV0pOwp1cGJqc0NodW5rKFs0MV0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1vKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShpLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6aVtyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBvKGUsdCl7dmFyIHI9aVt0XTtpZihyJiZlKXt2YXIgbz17fTtvLnNvdXJjZT1yLnNvdXJjZTt2YXIgYT1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKGEpKXt2YXIgZD17aWQ6YSxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBjPXIuZ2V0VWlkRXh0KGUpO2MmJihkLmV4dD1jKX1pZihvLnVpZHM9W2RdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIHM9ci5nZXRFaWRFeHQoZSk7cyYmKG8uZXh0PXMpfXJldHVybiBvfX1yZXR1cm4gbnVsbH19LDY1OTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNjYwKX0sNjYwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuaGFzVHlwZVZpZGVvPWgsdC5pc1ZhbGlkPWIsci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB4fSkpO3ZhciBuPXIoMiksaT1yKDIyKSxvPXIoMTMpLGE9cigxMSksZD1yLm4oYSksYz1yKDcpLHM9cigxKSx1PXIoMTcpLHA9cigwKTtmdW5jdGlvbiBsKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2woT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtnKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpsKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGcoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBtPSJodHRwczovL29uZXRhZy1zeXMuY29tL3VzeW5jLyIseT1PYmplY3QoYy5iKSgyNDEpO2Z1bmN0aW9uIGgoZSl7cmV0dXJuIHZvaWQgMCE9PWUubWVkaWFUeXBlcyYmdm9pZCAwIT09ZS5tZWRpYVR5cGVzLnZpZGVvfWZ1bmN0aW9uIGIoZSx0KXtpZihlPT09bi5iKXJldHVybiBqKHQpLmxlbmd0aD4wO2lmKGU9PT1uLmQmJmgodCkpe3ZhciByPXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0O2lmKCJvdXRzdHJlYW0iPT09cnx8Imluc3RyZWFtIj09PXIpcmV0dXJuIHcodCkubGVuZ3RoPjB9cmV0dXJuITF9ZnVuY3Rpb24gdihlKXt0cnl7cmV0dXJuIHZvaWQgMCE9PWUuZG9jdW1lbnQuaGlkZGVuP2UuZG9jdW1lbnQuaGlkZGVuOnZvaWQgMCE9PWUuZG9jdW1lbnQubXNIaWRkZW4/ZS5kb2N1bWVudC5tc0hpZGRlbjp2b2lkIDAhPT1lLmRvY3VtZW50LndlYmtpdEhpZGRlbj9lLmRvY3VtZW50LndlYmtpdEhpZGRlbjpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiBJKGUpe3ZhciB0PWUucGFyYW1zO3RoaXMuYWRVbml0Q29kZT1lLmFkVW5pdENvZGUsdGhpcy5iaWRJZD1lLmJpZElkLHRoaXMuYmlkZGVyUmVxdWVzdElkPWUuYmlkZGVyUmVxdWVzdElkLHRoaXMuYXVjdGlvbklkPWUuYXVjdGlvbklkLHRoaXMudHJhbnNhY3Rpb25JZD1lLnRyYW5zYWN0aW9uSWQsdGhpcy5wdWJJZD10LnB1YklkLHRoaXMuZXh0PXQuZXh0LHQucHViQ2xpY2smJih0aGlzLmNsaWNrPXQucHViQ2xpY2spLHQuZGVhbElkJiYodGhpcy5kZWFsSWQ9dC5kZWFsSWQpO3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3RyeXtmb3IodmFyIHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIudG9wLGk9ci5sZWZ0LG89ci53aWR0aCxhPXIuaGVpZ2h0LGQ9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LGM9e3RvcDpuK2QucGFnZVlPZmZzZXQsbGVmdDppK2QucGFnZVhPZmZzZXQsd2lkdGg6byxoZWlnaHQ6YX0scz1kLmZyYW1lRWxlbWVudDtudWxsIT1zOyl7dmFyIHU9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwPXUudG9wLGw9dS5sZWZ0O2MudG9wKz1wK2QucGFnZVlPZmZzZXQsYy5sZWZ0Kz1sK2QucGFnZVhPZmZzZXQscz0oZD1kLnBhcmVudCkuZnJhbWVFbGVtZW50fXJldHVybiBjfWNhdGNoKGUpe3JldHVybiBudWxsfX0oZS5hZFVuaXRDb2RlKTtyJiYodGhpcy5jb29yZHM9cil9ZnVuY3Rpb24gTygpe3RyeXtpZihudWxsIT13aW5kb3cucGVyZm9ybWFuY2UmJm51bGwhPXdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcpe3ZhciBlPXt9LHQ9d2luZG93LnBlcmZvcm1hbmNlLnRpbWluZztyZXR1cm4gZS5wYWdlTG9hZFRpbWU9dC5sb2FkRXZlbnRFbmQtdC5uYXZpZ2F0aW9uU3RhcnQsZS5jb25uZWN0VGltZT10LnJlc3BvbnNlRW5kLXQucmVxdWVzdFN0YXJ0LGUucmVuZGVyVGltZT10LmRvbUNvbXBsZXRlLXQuZG9tTG9hZGluZyxlfX1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiB3KGUpe3ZhciB0PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO3JldHVybiB2b2lkIDAhPT10JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wP1QodCk6W119ZnVuY3Rpb24gaihlKXtyZXR1cm4gdm9pZCAwIT09ZS5tZWRpYVR5cGVzJiZ2b2lkIDAhPT1lLm1lZGlhVHlwZXMuYmFubmVyJiZ2b2lkIDAhPT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzJiZBcnJheS5pc0FycmF5KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aD4wP1QoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6IWgoZSkmJmUuc2l6ZXMmJkFycmF5LmlzQXJyYXkoZS5zaXplcyk/VChlLnNpemVzKTpbXX1mdW5jdGlvbiBUKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07dC5wdXNoKHt3aWR0aDpuWzBdLGhlaWdodDpuWzFdfSl9cmV0dXJuIHR9dmFyIHg9e2NvZGU6Im9uZXRhZyIsZ3ZsaWQ6MjQxLHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnBhcmFtcyYmInN0cmluZyI9PXR5cGVvZiBlLnBhcmFtcy5wdWJJZCYmKGIobi5iLGUpfHxiKG4uZCxlKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG8sYSxkLGMscz1mKHtiaWRzOihhPWUsZD1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gSS5jYWxsKHQsZSksdC5jb250ZXh0PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0LHQucGxheWVyU2l6ZT13KGUpLHQubWVkaWFUeXBlSW5mbz1PYmplY3QocC5kZWVwQ2xvbmUpKGUubWVkaWFUeXBlcy52aWRlbyksdC50eXBlPW4uZCx0fSkpLGM9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBiKG4uYixlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBJLmNhbGwodCxlKSx0LnNpemVzPWooZSksdC50eXBlPW4uYix0Lm1lZGlhVHlwZUluZm89T2JqZWN0KHAuZGVlcENsb25lKShlLm1lZGlhVHlwZXMuYmFubmVyKSx0fSkpLGQuY29uY2F0KGMpKX0sKHI9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3csdD13aW5kb3cucGFyZW50LHI9MDt0cnl7Zm9yKDtlIT09ZS5wYXJlbnQ7KSh0PWUucGFyZW50KS5sb2NhdGlvbi5ocmVmLGU9ZS5wYXJlbnR9Y2F0Y2gobil7cj10PT09ZS50b3A/MToyfXJldHVybnt0b3Btb3N0RnJhbWU6ZSxjdXJyZW50RnJhbWVOZXN0aW5nOnJ9fSgpLGk9ci50b3Btb3N0RnJhbWUsbz1yLmN1cnJlbnRGcmFtZU5lc3Rpbmcse2xvY2F0aW9uOmkubG9jYXRpb24uaHJlZixyZWZlcnJlcjoiIiE9PWkuZG9jdW1lbnQucmVmZXJyZXI/aS5kb2N1bWVudC5yZWZlcnJlcjpudWxsLGFuY2VzdG9yT3JpZ2luOndpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMmJndpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMubGVuZ3RoPjA/d2luZG93LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc1t3aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zLmxlbmd0aC0xXTpudWxsLG1hc2tlZDpvLHdXaWR0aDppLmlubmVyV2lkdGgsd0hlaWdodDppLmlubmVySGVpZ2h0LG9XaWR0aDppLm91dGVyV2lkdGgsb0hlaWdodDppLm91dGVySGVpZ2h0LHNXaWR0aDppLnNjcmVlbi53aWR0aCxzSGVpZ2h0Omkuc2NyZWVuLmhlaWdodCxhV2lkdGg6aS5zY3JlZW4uYXZhaWxXaWR0aCxhSGVpZ2h0Omkuc2NyZWVuLmF2YWlsSGVpZ2h0LHNMZWZ0OiJzY3JlZW5MZWZ0ImluIGk/aS5zY3JlZW5MZWZ0Omkuc2NyZWVuWCxzVG9wOiJzY3JlZW5Ub3AiaW4gaT9pLnNjcmVlblRvcDppLnNjcmVlblkseE9mZnNldDppLnBhZ2VYT2Zmc2V0LHlPZmZzZXQ6aS5wYWdlWU9mZnNldCxkb2NIaWRkZW46dihpKSxkb2NIZWlnaHQ6aS5kb2N1bWVudC5ib2R5P2kuZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ6bnVsbCxoTGVuZ3RoOmhpc3RvcnkubGVuZ3RoLHRpbWluZzpPKCksdmVyc2lvbjp7cHJlYmlkOiI1LjIwLjIiLGFkYXB0ZXI6IjEuMS4wIn19KSk7dCYmdC5nZHByQ29uc2VudCYmKHMuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDp0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksdCYmdC51c3BDb25zZW50JiYocy51c1ByaXZhY3k9dC51c3BDb25zZW50KSxlJiYwIT09ZS5sZW5ndGgmJmVbMF0udXNlcklkJiYocy51c2VySWQ9T2JqZWN0KHUuYikoZVswXS51c2VySWQpKTt0cnl7eS5oYXNMb2NhbFN0b3JhZ2UoKSYmKHMub25ldGFnU2lkPXkuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIm9uZXRhZ19zaWQiKSl9Y2F0Y2goZSl7fXJldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9vbmV0YWctc3lzLmNvbS9wcmViaWQtcmVxdWVzdCIsZGF0YTpKU09OLnN0cmluZ2lmeShzKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5LGE9W10sYz1KU09OLnBhcnNlKHQuZGF0YSk7cmV0dXJuIXJ8fHIubm9iaWQmJiEwPT09ci5ub2JpZD9hOnIuYmlkcyYmQXJyYXkuaXNBcnJheShyLmJpZHMpJiYwIT09ci5iaWRzLmxlbmd0aD8oci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXtyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWQsY3BtOmUuY3BtLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkLGRlYWxJZDpudWxsPT1lLmRlYWxJZD9lLmRlYWxJZDoiIixjdXJyZW5jeTplLmN1cnJlbmN5LG5ldFJldmVudWU6ZS5uZXRSZXZlbnVlfHwhMSxtZWRpYVR5cGU6ZS5tZWRpYVR5cGUsbWV0YTp7bWVkaWFUeXBlOmUubWVkaWFUeXBlLGFkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn0sdHRsOmUudHRsfHwzMDB9O2lmKGUubWVkaWFUeXBlPT09bi5iKXQuYWQ9ZS5hZDtlbHNlIGlmKGUubWVkaWFUeXBlPT09bi5kKXt2YXIgcj1kKCkoYy5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRJZD09PWUucmVxdWVzdElkJiZ0LnR5cGU9PT1uLmR9KSkscz1yLmNvbnRleHQsdT1yLmFkVW5pdENvZGU7cz09PWkuYT8odC52YXN0VXJsPWUudmFzdFVybCx0LnZpZGVvQ2FjaGVLZXk9ZS52aWRlb0NhY2hlS2V5KTpzPT09aS5iJiYodC52YXN0WG1sPWUuYWQsdC52YXN0VXJsPWUudmFzdFVybCxlLnJlbmRlcmVyVXJsJiYodC5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1vLmEuaW5zdGFsbCh7aWQ6ZS5yZXF1ZXN0SWQsdXJsOmUucmVuZGVyZXJVcmwsY29uZmlnOnQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsbG9hZGVkOiExfSk7dHJ5e3Iuc2V0UmVuZGVyKChmdW5jdGlvbih0KXt2YXIgcj10LnJlbmRlcmVyLG49dC53aWR0aCxpPXQuaGVpZ2h0LG89dC52YXN0WG1sLGE9dC5hZFVuaXRDb2RlO3IucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cub25ldGFnLlBsYXllci5pbml0KGYoZih7fSxlKSx7fSx7d2lkdGg6bixoZWlnaHQ6aSx2YXN0WG1sOm8sbm9kZUlkOmEsY29uZmlnOnIuZ2V0Q29uZmlnKCl9KSl9KSl9KSl9Y2F0Y2goZSl7fXJldHVybiByfShmKGYoe30sZSkse30se2FkVW5pdENvZGU6dX0pKSkpfWEucHVzaCh0KX0pKSxhKTphfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9W10sbz0iIjtyZXR1cm4gciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJihvKz0iJmdkcHJfY29uc2VudD0iK3IuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzJiYobys9IiZnZHByPSIrKHIuZ2RwckFwcGxpZXM/MTowKSkpLG4mJiJzdHJpbmciPT10eXBlb2YgbiYmKG8rPSImdXNfcHJpdmFjeT0iK24pLGUuaWZyYW1lRW5hYmxlZCYmaS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDptKyI/Y2I9IisobmV3IERhdGUpLmdldFRpbWUoKStvfSksZS5waXhlbEVuYWJsZWQmJmkucHVzaCh7dHlwZToiaW1hZ2UiLHVybDptKyI/dGFnPWltZyIrb30pLGl9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoeCl9fSxbNjU5XSk7CnVwYmpzQ2h1bmsoWzE3N10sezY2OTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjcwKX0sNjcwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJVU0VSX0lEX0NPREVfVE9fUVVFUllfQVJHIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIHI9bigwKSxhPW4oMyksaT1uKDEpLG89bigyKSxjPW4oMTIpLGQ9bi5uKGMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuKHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsYSxpPVtdLG89ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEobz0ocj1uLm5leHQoKSkuZG9uZSkmJihpLnB1c2goci52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7bz0hMCk7fWNhdGNoKGUpe2M9ITAsYT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBwKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBwKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIG09W28uYixvLmRdLGw9WyJzdGFydGRlbGF5IiwibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic3RhcnRkZWxheSIsInNraXBwYWJsZSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwicHJvdG9jb2xzIiwiYm94aW5nYWxsb3dlZCIsImxpbmVhcml0eSIsImRlbGl2ZXJ5IiwicHJvdG9jb2wiLCJwbGFjZW1lbnQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSJdLGI9e2JyaXRlcG9vbGlkOiJicml0ZXBvb2xpZCIsY3JpdGVvSWQ6ImNyaXRlb2lkIixmYWJyaWNrSWQ6Im51ZXN0YXJpZCIsaGFsb0lkOiJhdWRpZ2VudGlkIixpZDVpZDoiaWQ1aWQiLGlkbF9lbnY6ImxyZSIsSURQOiJ6ZW90YXBpZCIsaWR4SWQ6ImlkeGlkIixpbnRlbnRJcUlkOiJpbnRlbnRpcWlkIixsaXBiOiJsaXBiaWQiLGxvdGFtZVBhbm9yYW1hSWQ6ImxvdGFtZWlkIixtZXJrbGVJZDoibWVya2xlaWQiLG5ldElkOiJuZXRpZCIscGFycmFibGVJZDoicGFycmFibGVpZCIscHViY2lkOiJwdWJjaWQiLHF1YW50Y2FzdElkOiJxdWFudGNhc3RpZCIsdGFwYWRJZDoidGFwYWRpZCIsdGRpZDoidHRkdXVpZCIsdWlkMjoidWlkMiIsZmxvY0lkOiJmbG9jIixhZG1peGVySWQ6ImFkbWl4ZXJpZCIsZGVlcGludGVudElkOiJkZWVwaW50ZW50aWQiLGRtZElkOiJkbWRpZCIsbmV4dHJvbGxJZDoibmV4dHJvbGxpZCIsbm92YXRpcToibm92YXRpcWlkIixtd09wZW5MaW5rSWQ6Im13b3BlbmxpbmtpZCIsZGFwSWQ6ImRhcGlkIixhbXhJZDoiYW14aWQifSxmPXtjb2RlOiJvcGVueCIsZ3ZsaWQ6Njksc3VwcG9ydGVkTWVkaWFUeXBlczptLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLmRlbERvbWFpbnx8ZS5wYXJhbXMucGxhdGZvcm07cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJnQ/ISFlLnBhcmFtcy51bml0fHxPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgiKT4wOiEoIWUucGFyYW1zLnVuaXR8fCF0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1bXSxpPXUoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPXQsT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpJiYhT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy5iYW5uZXIiKXx8bi5tZWRpYVR5cGU9PT1vLmQ/ZVswXS5wdXNoKHQpOmVbMV0ucHVzaCh0KSxlfSksW1tdLFtdXSl9KGUpLDIpLGM9aVswXSxzPWlbMV07cmV0dXJuIHMubGVuZ3RoPjAmJm4ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPVtdLGk9ITEsYz12KGUsdCksZD1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudW5pdH0pKTtjLmF1cz1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIucGFyc2VTaXplc0lucHV0KShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKS5qb2luKCIsIil9KSkuam9pbigifCIpLGMuZGl2aWRzPU9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZS5hZFVuaXRDb2RlKX0pKS5qb2luKCIsIiksYy5hdWNzPU9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0fHwiIil9KSkuam9pbigiLCIpLGQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkmJihjLmF1aWQ9ZC5qb2luKCIsIikpO2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmRvTm90VHJhY2t9KSkmJihjLm5zPTEpOyghMD09PWEuYi5nZXRDb25maWcoImNvcHBhIil8fGUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmNvcHBhfSkpKSYmKGMudGZjZD0xKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmN1c3RvbVBhcmFtcyl7dmFyIHQ9T2JqZWN0KHIuX21hcCkoT2JqZWN0LmtleXMoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dFtlXTtPYmplY3Qoci5pc0FycmF5KShuKSYmKG49bi5qb2luKCIsIikpO3JldHVybihlLnRvTG93ZXJDYXNlKCkrIj0iK24udG9Mb3dlckNhc2UoKSkucmVwbGFjZSgiKyIsIi4iKS5yZXBsYWNlKCIvIiwiXyIpfSh0LGUucGFyYW1zLmN1c3RvbVBhcmFtcyl9KSksYT13aW5kb3cuYnRvYSh0LmpvaW4oIiYiKSk7aT0hMCxuLnB1c2goYSl9ZWxzZSBuLnB1c2goIiIpfSkpLGkmJihjLnRwcz1uLmpvaW4oIiwiKSk7cmV0dXJuIGcoYyxvLmIsZSkse21ldGhvZDoiR0VUIix1cmw6Yy5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9hcmoiOiJodHRwczovLyIuY29uY2F0KGVbMF0ucGFyYW1zLmRlbERvbWFpbiwiL3cvMS4wL2FyaiIpLGRhdGE6YyxwYXlsb2FkOntiaWRzOmUsc3RhcnRUaW1lOm5ldyBEYXRlfX19KHMsdCkpLGMubGVuZ3RoPjAmJmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGM9dihbZV0sdCkscz1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKXx8e30sdT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSxwPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO09iamVjdChyLmlzQXJyYXkpKGUuc2l6ZXMpJiYyPT09ZS5zaXplcy5sZW5ndGgmJiFPYmplY3Qoci5pc0FycmF5KShlLnNpemVzWzBdKT8obj1wYXJzZUludChlLnNpemVzWzBdLDEwKSxhPXBhcnNlSW50KGUuc2l6ZXNbMV0sMTApKTpPYmplY3Qoci5pc0FycmF5KShlLnNpemVzKSYmT2JqZWN0KHIuaXNBcnJheSkoZS5zaXplc1swXSkmJjI9PT1lLnNpemVzWzBdLmxlbmd0aD8obj1wYXJzZUludChlLnNpemVzWzBdWzBdLDEwKSxhPXBhcnNlSW50KGUuc2l6ZXNbMF1bMV0sMTApKTpPYmplY3Qoci5pc0FycmF5KShwKSYmMj09PXAubGVuZ3RoJiYobj1wYXJzZUludChwWzBdLDEwKSxhPXBhcnNlSW50KHBbMV0sMTApKTt2YXIgbT17dzpuLGg6YX0sYj1lLnBhcmFtcy52aWRlb3x8ZS5wYXJhbXMub3BlbnJ0Ynx8e307Yi5vcGVucnRiJiYoYj1iLm9wZW5ydGIpO09iamVjdChyLmlzQXJyYXkpKGIuaW1wKSYmKGI9Yi5pbXBbMF0udmlkZW8pO09iamVjdC5rZXlzKGIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGQoKShsLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBtW2VdPWJbZV19KSksT2JqZWN0LmtleXMoaSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZCgpKGwsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZV09aVtlXX0pKTt2YXIgZj17aW1wOlt7dmlkZW86bX1dfTtjLm9wZW5ydGI9SlNPTi5zdHJpbmdpZnkoZiksYy5hdWlkPWUucGFyYW1zLnVuaXQsYy52d2Q9bnx8cy52d2QsYy52aHQ9YXx8cy52aHQsIm91dHN0cmVhbSI9PT11JiYoYy52b3M9IjEwMSIpO3MubWltZXMmJihjLnZtaW1lcz1zLm1pbWVzKTtlLnBhcmFtcy50ZXN0JiYoYy52dGVzdD0xKTt2YXIgaD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2gmJihjLmF1Y3M9ZW5jb2RlVVJJQ29tcG9uZW50KGgpKTtyZXR1cm4gZyhjLG8uZCxbZV0pLGN9KGUsdCk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6bi5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC92LzEuMC9hdmpwIjoiaHR0cHM6Ly8iLmNvbmNhdChlLnBhcmFtcy5kZWxEb21haW4sIi92LzEuMC9hdmpwIiksZGF0YTpuLHBheWxvYWQ6e2JpZDplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShlLHQpKX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuL2F2anAkLy50ZXN0KGUudXJsKT9vLmQ6by5ifSh0KT09PW8uZD9mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLGE9KHQuc3RhcnRUaW1lLFtdKTtpZih2b2lkIDAhPT1lJiYiIiE9PWUudmFzdFVybCYmZS5wdWJfcmV2PjApe3ZhciBpPU9iamVjdChyLnBhcnNlVXJsKShlLnZhc3RVcmwpLnNlYXJjaHx8e30sYz17fTtjLnJlcXVlc3RJZD1uLmJpZElkLGUuZGVhbF9pZCYmKGMuZGVhbElkPWUuZGVhbF9pZCksYy50dGw9MzAwLGMubmV0UmV2ZW51ZT0hMCxjLmN1cnJlbmN5PWUuY3VycmVuY3ksYy5jcG09cGFyc2VJbnQoZS5wdWJfcmV2LDEwKS8xZTMsYy53aWR0aD1wYXJzZUludChlLndpZHRoLDEwKSxjLmhlaWdodD1wYXJzZUludChlLmhlaWdodCwxMCksYy5jcmVhdGl2ZUlkPWUuYWRpZCxjLnZhc3RVcmw9ZS52YXN0VXJsLGMubWVkaWFUeXBlPW8uZCxlLnBoPWkucGgsZS5jb2xvPWkuY29sbyxlLnRzPWkudHMsYS5wdXNoKGMpfXJldHVybiBhfShuLHQucGF5bG9hZCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5iaWRzLHI9KHQuc3RhcnRUaW1lLGUuYWRzLmFkKSxhPVtdLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXSxjPXBhcnNlSW50KG8uaWR4LDEwKSxkPXt9O2lmKGQucmVxdWVzdElkPW5bY10uYmlkSWQsby5wdWJfcmV2KXtkLmNwbT1OdW1iZXIoby5wdWJfcmV2KS8xZTM7dmFyIHM9by5jcmVhdGl2ZVswXTtzJiYoZC53aWR0aD1zLndpZHRoLGQuaGVpZ2h0PXMuaGVpZ2h0KSxkLmNyZWF0aXZlSWQ9cy5pZCxkLmFkPW8uaHRtbCxvLmRlYWxfaWQmJihkLmRlYWxJZD1vLmRlYWxfaWQpLGQudHRsPTMwMCxkLm5ldFJldmVudWU9ITAsZC5jdXJyZW5jeT1vLmN1cnJlbmN5LG8udGJkJiYoZC50YmQ9by50YmQpLGQudHM9by50cyxkLm1ldGE9e30sby5icmFuZF9pZCYmKGQubWV0YS5icmFuZElkPW8uYnJhbmRfaWQpLG8uYWRvbWFpbiYmbGVuZ3RoKG8uYWRvbWFpbik+MD9kLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9by5hZG9tYWluOmQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1bXSxvLmFkdl9pZCYmKGQubWV0YS5kc3BpZD1vLmFkdl9pZCksYS5wdXNoKGQpfX1yZXR1cm4gYX0obix0LnBheWxvYWQpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LG4sYSl7aWYoZS5pZnJhbWVFbmFibGVkfHxlLnBpeGVsRW5hYmxlZClyZXR1cm5be3R5cGU6ZS5pZnJhbWVFbmFibGVkPyJpZnJhbWUiOiJpbWFnZSIsdXJsOk9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIjAuYm9keS5hZHMucGl4ZWxzIil8fE9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIjAuYm9keS5waXhlbHMiKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj0iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9wZCIscj1bXTtlJiYoci5wdXNoKCJnZHByPSIrKGUuZ2RwckFwcGxpZXM/MTowKSksci5wdXNoKCJnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoZS5jb25zZW50U3RyaW5nfHwiIikpKTt0JiZyLnB1c2goInVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQoci5sZW5ndGg+MD8iPyIrci5qb2luKCImIik6IiIpfShuLGEpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5jb252ZXJ0VHlwZXMpKHt1bml0OiJzdHJpbmciLGN1c3RvbUZsb29yOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGgoZSl7dmFyIHQsbixyLGE9d2luZG93LGk9ZG9jdW1lbnQsbz1pLmRvY3VtZW50RWxlbWVudDtpZihlKXt0cnl7YT13aW5kb3cudG9wLGk9d2luZG93LnRvcC5kb2N1bWVudH1jYXRjaChlKXtyZXR1cm59bz1pLmRvY3VtZW50RWxlbWVudCxyPWkuYm9keSx0PWEuaW5uZXJXaWR0aHx8by5jbGllbnRXaWR0aHx8ci5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fG8uY2xpZW50SGVpZ2h0fHxyLmNsaWVudEhlaWdodH1lbHNlIG89aS5kb2N1bWVudEVsZW1lbnQsdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodDtyZXR1cm4iIi5jb25jYXQodCwieCIpLmNvbmNhdChuKX1mdW5jdGlvbiB2KGUsdCl7dmFyIG4saT1PYmplY3Qoci5pbklmcmFtZSkoKTtuPXtqdTphLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIil8fHQucmVmZXJlckluZm8ucmVmZXJlcixjaDpkb2N1bWVudC5jaGFyU2V0fHxkb2N1bWVudC5jaGFyYWN0ZXJTZXQscmVzOiIiLmNvbmNhdChzY3JlZW4ud2lkdGgsIngiKS5jb25jYXQoc2NyZWVuLmhlaWdodCwieCIpLmNvbmNhdChzY3JlZW4uY29sb3JEZXB0aCksaWZyOmksdHo6KG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLHR3czpoKGkpLGJlOjEsYmM6ZVswXS5wYXJhbXMuYmN8fCIiLmNvbmNhdCgiaGJfcGIiLCJfIikuY29uY2F0KCIzLjAuMyIpLGRkZGlkOk9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuam9pbigiLCIpLG5vY2FjaGU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9O3ZhciBvPXkoIm9ydGIyLnVzZXIuZGF0YSIpO28ubGVuZ3RoPjAmJihuLnNtPW8pO3ZhciBjLGQscyx1LHAsbT15KCJvcnRiMi5zaXRlLmNvbnRlbnQuZGF0YSIpO2lmKG0ubGVuZ3RoPjAmJihuLnNjc209bSksZVswXS5wYXJhbXMucGxhdGZvcm0mJihuLnBoPWVbMF0ucGFyYW1zLnBsYXRmb3JtKSx0LmdkcHJDb25zZW50KXt2YXIgbD10LmdkcHJDb25zZW50O3ZvaWQgMCE9PWwuY29uc2VudFN0cmluZyYmKG4uZ2Rwcl9jb25zZW50PWwuY29uc2VudFN0cmluZyksdm9pZCAwIT09bC5nZHByQXBwbGllcyYmKG4uZ2Rwcj1sLmdkcHJBcHBsaWVzPzE6MCksImlhYiI9PT1hLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudC5jbXBBcGkiKSYmKG4ueF9nZHByX2Y9MSl9cmV0dXJuIHQmJnQudXNwQ29uc2VudCYmKG4udXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLE9iamVjdChyLmRlZXBBY2Nlc3MpKGVbMF0sImNydW1icy5wdWJjaWQiKSYmT2JqZWN0KHIuZGVlcFNldFZhbHVlKShlWzBdLCJ1c2VySWQucHViY2lkIixPYmplY3Qoci5kZWVwQWNjZXNzKShlWzBdLCJjcnVtYnMucHViY2lkIikpLGM9bixkPWVbMF0udXNlcklkLE9iamVjdChyLl9lYWNoKShkLChmdW5jdGlvbihlLHQpe3ZhciBuPWJbdF07aWYoYi5oYXNPd25Qcm9wZXJ0eSh0KSlzd2l0Y2godCl7Y2FzZSJtZXJrbGVJZCI6Y2FzZSJmbG9jSWQiOmNhc2UidWlkMiI6Y1tuXT1lLmlkO2JyZWFrO2Nhc2UibGlwYiI6aWYoY1tuXT1lLmxpcGJpZCxBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aD4wKXt2YXIgcj0ibGl2ZWludGVudDoiK2Uuc2VnbWVudHMuam9pbigifCIpO2Muc209IiIuY29uY2F0KGMuc20/Yy5zbSsiLCI6IiIpLmNvbmNhdChyKX1icmVhaztjYXNlInBhcnJhYmxlSWQiOmNbbl09ZS5laWQ7YnJlYWs7Y2FzZSJpZDVpZCI6Y1tuXT1lLnVpZDticmVhaztjYXNlIm5vdmF0aXEiOmNbbl09ZS5zbm93Zmxha2U7YnJlYWs7ZGVmYXVsdDpjW25dPWV9fSkpLG49YyxlWzBdLnNjaGFpbiYmKG4uc2NoYWluPShzPWVbMF0uc2NoYWluLCIiLmNvbmNhdChzLnZlciwiLCIpLmNvbmNhdChzLmNvbXBsZXRlLCIhIikuY29uY2F0KCh1PXMubm9kZXMscD1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdLHUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfHwiIn0pKS5qb2luKCIsIil9KSkuam9pbigiISIpKSkpKSxufWZ1bmN0aW9uIHkoZSl7dmFyIHQ9YS5iLmdldENvbmZpZyhlKTtpZighQXJyYXkuaXNBcnJheSh0KXx8IXQubGVuZ3RoKXJldHVybiIiO3ZhciBuPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlLnNlZ21lbnQpJiZlLnNlZ21lbnQubGVuZ3RoPjAmJnZvaWQgMCE9PWUubmFtZSYmZS5uYW1lLmxlbmd0aD4wfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj0ib2JqZWN0Ij09PXModC5leHQpJiZ0LmV4dC5zZWd0YXg/IiIuY29uY2F0KHQubmFtZSwiLyIpLmNvbmNhdCh0LmV4dC5zZWd0YXgpOnQubmFtZTtyZXR1cm4gZVtuXT0oZVtuXXx8W10pLmNvbmNhdCh0LnNlZ21lbnQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKSksZX0pLHt9KTtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyI6IituW2VdLmpvaW4oInwiKX0pKS5qb2luKCIsIil9ZnVuY3Rpb24gZyhlLHQsbil7dmFyIHI9W10saT0hMTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49e30scj1hLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iil8fCJVU0QiOyJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYobj1lLmdldEZsb29yKHtjdXJyZW5jeTpyLG1lZGlhVHlwZTp0LHNpemU6IioifSkpO3ZhciBpPW4uZmxvb3J8fGUucGFyYW1zLmN1c3RvbUZsb29yfHwwO3JldHVybiBNYXRoLnJvdW5kKDFlMyppKX0oZSx0KTtuPyhyLnB1c2gobiksaT0hMCk6ci5wdXNoKDApfSkpLGkmJihlLmF1bWZzPXIuam9pbigiLCIpKX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZil9fSxbNjY5XSk7CnVwYmpzQ2h1bmsoWzM3XSx7Njk1OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig2OTYpfSw2OTY6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5yZXNldFN5bmNlZFN0YXR1cz1mdW5jdGlvbigpe1U9MH0sdC5yZXNldFd1cmxNYXA9ZnVuY3Rpb24oKXtYPXt9fSx0LlByZWJpZFNlcnZlcj0kO3ZhciBuPXIoNjMpLGk9cigzOSksYz1yKDApLHM9cig1KSxvPXIubihzKSxhPXIoOCksZD1yKDMpLHA9cigyKSxiPXIoMzgpLHU9cigxKSxsPXIoMTApLGY9ci5uKGwpLHY9cigxMiksZz1yLm4odikseT1yKDY5NyksbT1yKDQpLE89cigxMSksaj1yLm4oTyk7ZnVuY3Rpb24gaChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gQyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9oKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7UyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6aChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBTKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxjPVtdLHM9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEocz0obj1yLm5leHQoKSkuZG9uZSkmJihjLnB1c2gobi52YWx1ZSksIXR8fGMubGVuZ3RoIT09dCk7cz0hMCk7fWNhdGNoKGUpe289ITAsaT1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gY30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBBKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBBKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBBKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gRSgpe3JldHVybihFPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4odz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBQLGssXz1kLmIuZ2V0Q29uZmlnLEk9by5hLlMyUy5TUkMsVT0wLEI9e3RpbWVvdXQ6MWUzLG1heEJpZHM6MSxhZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGFkYXB0ZXJPcHRpb25zOnt9LHN5bmNVcmxNb2RpZmllcjp7fSxiaWRkZXJzOltdfTtmdW5jdGlvbiBUKGUpe2lmKGUpe3ZhciB0PUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0scj1bXTtyZXR1cm4gdC5ldmVyeSgoZnVuY3Rpb24odCxuLGkpe2lmKChmdW5jdGlvbihlKXtbImVuZHBvaW50Iiwic3luY0VuZHBvaW50Il0uZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoT2JqZWN0KGMuaXNTdHIpKGVbdF0pKXt2YXIgcj1lW3RdO2VbdF09e3AxQ29uc2VudDpyLG5vUDFDb25zZW50OnJ9fSFPYmplY3QoYy5pc1BsYWluT2JqZWN0KShlW3RdKXx8ZVt0XS5wMUNvbnNlbnQmJmVbdF0ubm9QMUNvbnNlbnR8fFsicDFDb25zZW50Iiwibm9QMUNvbnNlbnQiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtlW3RdW3JdfHxPYmplY3QoYy5sb2dXYXJuKSgiczJzQ29uZmlnLiIuY29uY2F0KHQsIi4iKS5jb25jYXQociwiIG5vdCBkZWZpbmVkLiAgUEJTIHJlcXVlc3Qgd2lsbCBiZSBza2lwcGVkIGluIHNvbWUgUDEgc2NlbmFyaW9zLiIpKX0pKX0pKX0oZSksITEhPT1mdW5jdGlvbihlKXtpZihlLmRlZmF1bHRWZW5kb3Ipe3ZhciB0PWUuZGVmYXVsdFZlbmRvcixyPU9iamVjdC5rZXlzKGUpO2lmKCF5LmFbdF0pcmV0dXJuIE9iamVjdChjLmxvZ0Vycm9yKSgiSW5jb3JyZWN0IG9yIHVuYXZhaWxhYmxlIHByZWJpZCBzZXJ2ZXIgZGVmYXVsdCB2ZW5kb3Igb3B0aW9uOiAiK3QpLCExO09iamVjdC5rZXlzKHkuYVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24obil7QltuXSE9PWVbbl0mJmcoKShyLG4pfHwoZVtuXT15LmFbdF1bbl0pfSkpfXJldHVybiBlLmVuYWJsZWQ9ImJvb2xlYW4iPT10eXBlb2YgZS5lbmFibGVkJiZlLmVuYWJsZWR9KHQpKSYmITEhPT1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihbImFjY291bnRJZCIsImJpZGRlcnMiLCJlbmRwb2ludCJdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWcoKSh0LGUpJiYoT2JqZWN0KGMubG9nRXJyb3IpKGUrIiBtaXNzaW5nIGluIHNlcnZlciB0byBzZXJ2ZXIgY29uZmlnIiksITApfSkpLmxlbmd0aD4wKXJldHVybiExfSh0KSlyZXR1cm4gQXJyYXkuaXNBcnJheSh0LmJpZGRlcnMpJiYoaVtuXS5iaWRkZXJzPXQuYmlkZGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ci5pbmRleE9mKGUpJiYoci5wdXNoKGUpLCEwKX0pKSksITA7cmV0dXJuIE9iamVjdChjLmxvZ1dhcm4pKCJwcmViaWRTZXJ2ZXI6IHMycyBjb25maWcgaXMgZGlzYWJsZWQiKSwhMX0pKT9QPXQ6dm9pZCAwfX1mdW5jdGlvbiBSKGUsdCxyLG4pe2lmKFAubGVuZ3RoIT09VSl7VSsrO3ZhciBpPXt1dWlkOk9iamVjdChjLmdlbmVyYXRlVVVJRCkoKSxiaWRkZXJzOmUsYWNjb3VudDpuLmFjY291bnRJZH0scz1uLnVzZXJTeW5jTGltaXQ7T2JqZWN0KGMuaXNOdW1iZXIpKHMpJiZzPjAmJihpLmxpbWl0PXMpLHQmJihpLmdkcHI9dC5nZHByQXBwbGllcz8xOjAsITEhPT10LmdkcHJBcHBsaWVzJiYoaS5nZHByX2NvbnNlbnQ9dC5jb25zZW50U3RyaW5nKSksciYmKGkudXNfcHJpdmFjeT1yKSwiYm9vbGVhbiI9PXR5cGVvZiBuLmNvb3BTeW5jJiYoaS5jb29wU3luYz1uLmNvb3BTeW5jKTt2YXIgbz1KU09OLnN0cmluZ2lmeShpKTtPYmplY3QobS5hKShLKG4uc3luY0VuZHBvaW50LHQpLChmdW5jdGlvbihlKXt0cnl7RCgoZT1KU09OLnBhcnNlKGUpKS5iaWRkZXJfc3RhdHVzLG4pfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKShlKX19KSxvLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fWZ1bmN0aW9uIEQoZSx0KXtpZigwIT09ZS5sZW5ndGgpe3ZhciByPWUuc2hpZnQoKTtyLm5vX2Nvb2tpZT9mdW5jdGlvbihlLHQscixuLGkpe2lmKGkuc3luY1VybE1vZGlmaWVyJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5zeW5jVXJsTW9kaWZpZXJbcl0pe3EoZSxpLnN5bmNVcmxNb2RpZmllcltyXShlLHQscikscixuKX1lbHNlIHEoZSx0LHIsbil9KHIudXNlcnN5bmMudHlwZSxyLnVzZXJzeW5jLnVybCxyLmJpZGRlcixjLmJpbmQuY2FsbChELG51bGwsZSx0KSx0KTpEKGUsdCl9fWZ1bmN0aW9uIHEoZSx0LHIsbil7dD8iaW1hZ2UiPT09ZXx8InJlZGlyZWN0Ij09PWU/KE9iamVjdChjLmxvZ01lc3NhZ2UpKCdJbnZva2luZyBpbWFnZSBwaXhlbCB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIicuY29uY2F0KHIsJyInKSksT2JqZWN0KGMudHJpZ2dlclBpeGVsKSh0LG4scikpOiJpZnJhbWUiPT09ZT8oT2JqZWN0KGMubG9nTWVzc2FnZSkoJ0ludm9raW5nIGlmcmFtZSB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIicuY29uY2F0KHIsJyInKSksT2JqZWN0KGMuaW5zZXJ0VXNlclN5bmNJZnJhbWUpKHQsbixyKSk6KE9iamVjdChjLmxvZ0Vycm9yKSgnVXNlciBzeW5jIHR5cGUgIicuY29uY2F0KGUsJyIgbm90IHN1cHBvcnRlZCBmb3IgYmlkZGVyOiAiJykuY29uY2F0KHIsJyInKSksbigpKTooT2JqZWN0KGMubG9nRXJyb3IpKCdObyBzeW5jIHVybCBmb3IgYmlkZGVyICInLmNvbmNhdChyLCciOiAnKS5jb25jYXQodCkpLG4oKSl9ZC5iLnNldERlZmF1bHRzKHtzMnNDb25maWc6Qn0pLF8oInMyc0NvbmZpZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBUKGUuczJzQ29uZmlnKX0pKTt2YXIgVj17c3BvbnNvcmVkQnk6MSxib2R5OjIscmF0aW5nOjMsbGlrZXM6NCxkb3dubG9hZHM6NSxwcmljZTo2LHNhbGVQcmljZTo3LHBob25lOjgsYWRkcmVzczo5LGJvZHkyOjEwLGN0YToxMn0sTj1PYmplY3Qua2V5cyhWKSx6PXtpY29uOjEsaW1hZ2U6M30sTT17aW1nOjEsanM6Mn07W1Yseix7aW1wcmVzc2lvbjoxLCJ2aWV3YWJsZS1tcmM1MCI6Miwidmlld2FibGUtbXJjMTAwIjozLCJ2aWV3YWJsZS12aWRlbzUwIjo0fSxNXS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW2VbdF1dPXR9KSl9KSk7dmFyIFc9e30sSj17fSxYPXt9O3ZhciBGPWZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIHM9W10sbz17fSxwPXRbMF0sdT1uZXcgU2V0O2lmKHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUuY29kZSxpPTE7dS5oYXMocik7KWkrKyxyPSIiLmNvbmNhdChlLmNvZGUsIi0iKS5jb25jYXQoaSk7dS5hZGQocik7dmFyIGwsZj1PYmplY3QoYi5oKShPYmplY3QoYy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKTtpZihmKXRyeXtsPUpbcl09T2JqZWN0LmtleXMoZikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPWZbdF07ZnVuY3Rpb24gbihlKXtyZXR1cm4gRSh7cmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjB9LGU/T2JqZWN0KGMuY2xlYW5PYmopKGUpOnt9KX1zd2l0Y2godCl7Y2FzZSJpbWFnZSI6Y2FzZSJpY29uIjp2YXIgaT16W3RdLHM9T2JqZWN0KGMuY2xlYW5PYmopKHt0eXBlOmksdzpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJzaXplcy4wIiksaDpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJzaXplcy4xIiksd21pbjpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJhc3BlY3RfcmF0aW9zLjAubWluX3dpZHRoIiksaG1pbjpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJhc3BlY3RfcmF0aW9zLjAubWluX2hlaWdodCIpfSk7aWYoIShzLncmJnMuaHx8cy5obWluJiZzLndtaW4pKXRocm93ImludmFsaWQgaW1nIHNpemVzIChtdXN0IHByb3ZpZGUgc2l6ZXMgb3IgbWluX2hlaWdodCAmIG1pbl93aWR0aCBpZiB1c2luZyBhc3BlY3RfcmF0aW9zKSI7QXJyYXkuaXNBcnJheShyLmFzcGVjdF9yYXRpb3MpJiYocy5leHQ9e2FzcGVjdHJhdGlvczpyLmFzcGVjdF9yYXRpb3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5yYXRpb193aWR0aCwiOiIpLmNvbmNhdChlLnJhdGlvX2hlaWdodCl9KSl9KSxlLnB1c2gobih7aW1nOnN9KSk7YnJlYWs7Y2FzZSJ0aXRsZSI6aWYoIXIubGVuKXRocm93ImludmFsaWQgdGl0bGUubGVuIjtlLnB1c2gobih7dGl0bGU6e2xlbjpyLmxlbn19KSk7YnJlYWs7ZGVmYXVsdDp2YXIgbz1WW3RdO28mJmUucHVzaChuKHtkYXRhOnt0eXBlOm8sbGVuOnIubGVufX0pKX1yZXR1cm4gZX0pLFtdKX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoImVycm9yIGNyZWF0aW5nIG5hdGl2ZSByZXF1ZXN0OiAiK1N0cmluZyhlKSl9dmFyIHY9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGc9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoV1siIi5jb25jYXQocikuY29uY2F0KGUuYmlkZGVyKV09ZS5iaWRfaWQsYS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJdKXt2YXIgdD1hLmRlZmF1bHQuYmlkZGVyUmVnaXN0cnlbZS5iaWRkZXJdO3QmJiF0LmdldFNwZWMoKS5za2lwUGJzQWxpYXNpbmcmJihvW2UuYmlkZGVyXT1hLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlcl0pfX0pKTt2YXIgeT17fTtpZihnJiZnLnNpemVzKXt2YXIgbT1PYmplY3QoYy5wYXJzZVNpemVzSW5wdXQpKGcuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9eChlLnNwbGl0KCJ4IiksMikscj10WzBdLG49dFsxXTtyZXR1cm57dzpwYXJzZUludChyLDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTt5LmJhbm5lcj17Zm9ybWF0Om19LGcucG9zJiYoeS5iYW5uZXIucG9zPWcucG9zKX1pZihPYmplY3QoYy5pc0VtcHR5KSh2KXx8KCJvdXRzdHJlYW0iIT09di5jb250ZXh0fHx2LnJlbmRlcmVyfHxlLnJlbmRlcmVyPygiaW5zdHJlYW0iIT09di5jb250ZXh0fHx2Lmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKXx8KHYucGxhY2VtZW50PTEpLHkudmlkZW89T2JqZWN0LmtleXModikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iY29udGV4dCIhPT1lfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4icGxheWVyU2l6ZSI9PT10PyhlLnc9T2JqZWN0KGMuZGVlcEFjY2VzcykodiwiIi5jb25jYXQodCwiLjAuMCIpKSxlLmg9T2JqZWN0KGMuZGVlcEFjY2VzcykodiwiIi5jb25jYXQodCwiLjAuMSIpKSk6ZVt0XT12W3RdLGV9KSx7fSkpOk9iamVjdChjLmxvZ0Vycm9yKSgiT3V0c3RyZWFtIGJpZCB3aXRob3V0IHJlbmRlcmVyIGNhbm5vdCBiZSBzZW50IHRvIFByZWJpZCBTZXJ2ZXIuIikpLGwpdHJ5e3kubmF0aXZlPXtyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHtjb250ZXh0OjEscGxjbXR0eXBlOjEsZXZlbnR0cmFja2Vyczpbe2V2ZW50OjEsbWV0aG9kczpbMV19XSxhc3NldHM6bH0pLHZlcjoiMS4yIn19Y2F0Y2goZSl7T2JqZWN0KGMubG9nRXJyb3IpKCJlcnJvciBjcmVhdGluZyBuYXRpdmUgcmVxdWVzdDogIitTdHJpbmcoZSkpfXZhciBPPWUuYmlkcy5yZWR1Y2UoKGZ1bmN0aW9uKHIsaSl7dmFyIGM9YS5kZWZhdWx0LmJpZGRlclJlZ2lzdHJ5W2kuYmlkZGVyXTtyZXR1cm4gYyYmYy5nZXRTcGVjKCkudHJhbnNmb3JtQmlkUGFyYW1zJiYoaS5wYXJhbXM9Yy5nZXRTcGVjKCkudHJhbnNmb3JtQmlkUGFyYW1zKGkucGFyYW1zLCEwLGUsdCkpLHJbaS5iaWRkZXJdPW4uYWRhcHRlck9wdGlvbnMmJm4uYWRhcHRlck9wdGlvbnNbaS5iaWRkZXJdP0Uoe30saS5wYXJhbXMsbi5hZGFwdGVyT3B0aW9uc1tpLmJpZGRlcl0pOmkucGFyYW1zLHJ9KSxDKHt9LE9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dCIpKSksaD17aWQ6cixleHQ6TyxzZWN1cmU6bi5zZWN1cmV9LFM9Qyh7fSxPYmplY3QoYy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YSIpKTtPYmplY3Qua2V5cyhTKS5mb3JFYWNoKChmdW5jdGlvbihlKXsicGJhZHNsb3QiPT09ZT8ic3RyaW5nIj09dHlwZW9mIFNbZV0mJlNbZV0/T2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQuZGF0YS5wYmFkc2xvdCIsU1tlXSk6ZGVsZXRlIGguZXh0LmRhdGEucGJhZHNsb3Q6ImFkc2VydmVyIj09PWU/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGMuZGVlcEFjY2VzcykoUywiYWRzZXJ2ZXIuIi5jb25jYXQoZSkpOyJzdHJpbmciPT10eXBlb2YgdCYmdCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQuZGF0YS5hZHNlcnZlci4iLmNvbmNhdChlLnRvTG93ZXJDYXNlKCkpLHQpfSkpOk9iamVjdChjLmRlZXBTZXRWYWx1ZSkoaCwiZXh0LmRhdGEuIi5jb25jYXQoZSksU1tlXSl9KSksRShoLHkpO3ZhciBBPWooKShwLmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmNvZGUmJnQuc3RvcmVkQXVjdGlvblJlc3BvbnNlfSkpO0EmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkoaCwiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLEEuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpO3ZhciB3PWooKShwLmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmNvZGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yfSkpO2lmKHcpe3ZhciBQO3RyeXtQPXcuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmQuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKXx8IlVTRCJ9KX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoIlBCUzogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9UCYmUC5jdXJyZW5jeSYmIWlzTmFOKHBhcnNlRmxvYXQoUC5mbG9vcikpJiYoaC5iaWRmbG9vcj1wYXJzZUZsb2F0KFAuZmxvb3IpLGguYmlkZmxvb3JjdXI9UC5jdXJyZW5jeSl9KGguYmFubmVyfHxoLnZpZGVvfHxoLm5hdGl2ZSkmJnMucHVzaChoKX0pKSxzLmxlbmd0aCl7dmFyIGw9e2lkOmUudGlkLHNvdXJjZTp7dGlkOmUudGlkfSx0bWF4Om4udGltZW91dCxpbXA6cyx0ZXN0Om4udGVzdHx8MCxleHQ6e3ByZWJpZDp7YXVjdGlvbnRpbWVzdGFtcDpwLmF1Y3Rpb25TdGFydCx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExfX19fTtsLmV4dC5wcmViaWQ9RShsLmV4dC5wcmViaWQse2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn19KSxfKCJkZWJ1ZyIpJiYobC5leHQucHJlYmlkPUUobC5leHQucHJlYmlkLHtkZWJ1ZzohMH0pKSxuLmV4dFByZWJpZCYmIm9iamVjdCI9PT13KG4uZXh0UHJlYmlkKSYmKGwuZXh0LnByZWJpZD1FKGwuZXh0LnByZWJpZCxuLmV4dFByZWJpZCkpO3ZhciBmPWQuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtmJiYic3RyaW5nIj09dHlwZW9mIGY/bC5jdXI9W2ZdOkFycmF5LmlzQXJyYXkoZikmJmYubGVuZ3RoJiYobC5jdXI9W2ZbMF1dKSxmdW5jdGlvbihlLHQscil7ZSYmKCJvYmplY3QiPT09dyhkLmIuZ2V0Q29uZmlnKCJhcHAiKSk/KGUuYXBwPWQuYi5nZXRDb25maWcoImFwcCIpLGUuYXBwLnB1Ymxpc2hlcj17aWQ6cn0pOihlLnNpdGU9e30sT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoZC5iLmdldENvbmZpZygic2l0ZSIpKSYmKGUuc2l0ZT1kLmIuZ2V0Q29uZmlnKCJzaXRlIikpLE9iamVjdChjLmRlZXBBY2Nlc3MpKGUuc2l0ZSwicHVibGlzaGVyLmlkIil8fE9iamVjdChjLmRlZXBTZXRWYWx1ZSkoZS5zaXRlLCJwdWJsaXNoZXIuaWQiLHIpLGUuc2l0ZS5wYWdlfHwoZS5zaXRlLnBhZ2U9dCkpLCJvYmplY3QiPT09dyhkLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihlLmRldmljZT1kLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSksZS5kZXZpY2V8fChlLmRldmljZT17fSksZS5kZXZpY2Uud3x8KGUuZGV2aWNlLnc9d2luZG93LmlubmVyV2lkdGgpLGUuZGV2aWNlLmh8fChlLmRldmljZS5oPXdpbmRvdy5pbm5lckhlaWdodCkpfShsLHRbMF0ucmVmZXJlckluZm8ucmVmZXJlcixuLmFjY291bnRJZCk7dmFyIHY9T2JqZWN0KGMuZGVlcEFjY2VzcykodCwiMC5iaWRzLjAuc2NoYWluIik7diYmKGwuc291cmNlLmV4dD17c2NoYWluOnZ9KSxPYmplY3QoYy5pc0VtcHR5KShvKXx8KGwuZXh0LnByZWJpZC5hbGlhc2VzPUMoQyh7fSxsLmV4dC5wcmViaWQuYWxpYXNlcyksbykpO3ZhciB5PU9iamVjdChjLmRlZXBBY2Nlc3MpKHQsIjAuYmlkcy4wLnVzZXJJZEFzRWlkcyIpO09iamVjdChjLmlzQXJyYXkpKHkpJiZ5Lmxlbmd0aD4wJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInVzZXIuZXh0LmVpZHMiLHkpLE9iamVjdChjLmlzQXJyYXkpKGspJiZrLmxlbmd0aD4wJiYoaSYmT2JqZWN0KGMuaXNBcnJheSkoaSkmJmsuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRkZXJzJiYoZS5iaWRkZXJzPWUuYmlkZGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBnKCkoaSxlKX0pKSl9KSksT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJleHQucHJlYmlkLmRhdGEuZWlkcGVybWlzc2lvbnMiLGspKTt2YXIgbT1kLmIuZ2V0Q29uZmlnKCJtdWx0aWJpZCIpO2lmKG0mJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwiZXh0LnByZWJpZC5tdWx0aWJpZCIsbS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZS50b0xvd2VyQ2FzZSgpXT10W2VdfSkpLGUucHVzaChyKSxlfSksW10pKSx0KXt2YXIgTztpZihwLmdkcHJDb25zZW50KSJib29sZWFuIj09dHlwZW9mIHAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihPPXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInJlZ3MuZXh0LmdkcHIiLE8pLE9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwidXNlci5leHQuY29uc2VudCIscC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmInN0cmluZyI9PXR5cGVvZiBwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJ1c2VyLmV4dC5Db25zZW50ZWRQcm92aWRlcnNTZXR0aW5ncy5jb25zZW50ZWRfcHJvdmlkZXJzIixwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCk7cC51c3BDb25zZW50JiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHAudXNwQ29uc2VudCl9ITA9PT1fKCJjb3BwYSIpJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInJlZ3MuY29wcGEiLDEpO3ZhciBoPV8oIm9ydGIyIil8fHt9O3JldHVybiBPYmplY3QoYy5tZXJnZURlZXApKGwsaCksZnVuY3Rpb24oZSl7dmFyIHQ9ZC5iLmdldEJpZGRlckNvbmZpZygpLHI9T2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBuPXRbcl07aWYobi5vcnRiMil7dmFyIGk9T2JqZWN0KGMubWVyZ2VEZWVwKSh7fSxuLm9ydGIyKTtlLnB1c2goe2JpZGRlcnM6W3JdLGNvbmZpZzp7b3J0YjI6aX19KX1yZXR1cm4gZX0pLFtdKTtyLmxlbmd0aCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShlLCJleHQucHJlYmlkLmJpZGRlcmNvbmZpZyIscil9KGwpLGx9T2JqZWN0KGMubG9nRXJyb3IpKCJSZXF1ZXN0IHRvIFByZWJpZCBTZXJ2ZXIgcmVqZWN0ZWQgZHVlIHRvIGludmFsaWQgbWVkaWEgdHlwZShzKSBpbiBhZFVuaXQuIil9LEg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtdLHM9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcyIpLGE9dC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpO3JldHVybiBhJiZzJiZPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoYy5kZWVwQ2xvbmUpKGEpO3IuaXNEeW5hbWljPSEwLHIuYmlkZGVyQ29kZT1lLHIuYmlkZGVyUmVxdWVzdElkPU9iamVjdChjLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYmlkZGVyPWUsdC5iaWRkZXJSZXF1ZXN0SWQ9ci5iaWRkZXJSZXF1ZXN0SWQsdC5iaWRfaWQ9T2JqZWN0KGMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSx0LmJpZElkPXQuYmlkX2lkLFdbIiIuY29uY2F0KHQuYWRVbml0Q29kZSkuY29uY2F0KGUpXT10LmJpZF9pZH0pKSx0LnB1c2gocil9KSksW1siZXJyb3JzIiwic2VydmVyRXJyb3JzIl0sWyJyZXNwb25zZXRpbWVtaWxsaXMiLCJzZXJ2ZXJSZXNwb25zZVRpbWVNcyJdXS5mb3JFYWNoKChmdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9T2JqZWN0KGMuZGVlcEFjY2VzcykodCwiZXh0LiIuY29uY2F0KHIpKTtpJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1qKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZT09PXR9KSk7ciYmKHJbbl09aVt0XSl9KSl9KHQsZSxyWzBdLHJbMV0pfSkpLGUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKHMpeyhzLmJpZHx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGEpe3ZhciBkLGI9IiIuY29uY2F0KGEuaW1waWQpLmNvbmNhdChzLnNlYXQpO1dbYl0mJihkPU9iamVjdChjLmdldEJpZFJlcXVlc3QpKFdbYl0sdCkpO3ZhciB1PWEucHJpY2UsbD0wIT09dT9vLmEuU1RBVFVTLkdPT0Q6by5hLlNUQVRVUy5OT19CSUQsZj1PYmplY3QoaS5hKShsLGR8fHtiaWRkZXI6cy5zZWF0LHNyYzpJfSk7Zi5jcG09dTt2YXIgdj1PYmplY3QoYy5kZWVwQWNjZXNzKShlLFsiZXh0IiwicmVzcG9uc2V0aW1lbWlsbGlzIixzLnNlYXRdLmpvaW4oIi4iKSk7ZCYmdiYmKGQuc2VydmVyUmVzcG9uc2VUaW1lTXM9dik7dmFyIGcseSxtLE89T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5iaWRpZCIpO09iamVjdChjLmlzU3RyKShPKSYmKGYucGJzQmlkSWQ9TyksT2JqZWN0KGMuaXNTdHIpKE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpKSYmKGc9ZC5hdWN0aW9uSWQseT1mLmFkSWQsbT1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSxbZyx5XS5ldmVyeShjLmlzU3RyKSYmKFhbIiIuY29uY2F0KGcpLmNvbmNhdCh5KV09bSkpO3ZhciBqPU9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQudGFyZ2V0aW5nIik7aWYoT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoaikmJihPYmplY3QoYy5pc1N0cikoT2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5ldmVudHMud2luIikpJiYoaj1PYmplY3QoYy5nZXREZWZpbmVkUGFyYW1zKShqLE9iamVjdC5rZXlzKGopLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoImhiX3dpbnVybCIpJiYtMT09PWUuaW5kZXhPZigiaGJfYmlkaWQiKX0pKSkpLGYuYWRzZXJ2ZXJUYXJnZXRpbmc9aiksZi5zZWF0QmlkSWQ9YS5pZCxPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLnR5cGUiKT09PXAuZCl7Zi5tZWRpYVR5cGU9cC5kO3ZhciBoPWQuc2l6ZXMmJmQuc2l6ZXNbMF07Zi5wbGF5ZXJXaWR0aD1oWzBdLGYucGxheWVySGVpZ2h0PWhbMV0sYS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PXcoYS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZhLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZhLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KGYudmlkZW9DYWNoZUtleT1hLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLGYudmFzdFVybD1hLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOmomJmouaGJfdXVpZCYmai5oYl9jYWNoZV9ob3N0JiZqLmhiX2NhY2hlX3BhdGgmJihmLnZpZGVvQ2FjaGVLZXk9ai5oYl91dWlkLGYudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdChqLmhiX2NhY2hlX2hvc3QpLmNvbmNhdChqLmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdChqLmhiX3V1aWQpKSxhLmFkbSYmKGYudmFzdFhtbD1hLmFkbSksIWYudmFzdFVybCYmYS5udXJsJiYoZi52YXN0VXJsPWEubnVybCl9ZWxzZSBpZihPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLnR5cGUiKT09PXAuYyl7dmFyIEMseDtmLm1lZGlhVHlwZT1wLmMseD0ic3RyaW5nIj09dHlwZW9mIGEuYWRtP2YuYWRtPUpTT04ucGFyc2UoYS5hZG0pOmYuYWRtPWEuYWRtO3ZhciBBPShTKEM9e30sTS5pbWcseC5pbXB0cmFja2Vyc3x8W10pLFMoQyxNLmpzLHguanN0cmFja2VyP1t4LmpzdHJhY2tlcl06W10pLEMpO2lmKHguZXZlbnR0cmFja2VycyYmeC5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlLm1ldGhvZCl7Y2FzZSBNLmltZzpBW00uaW1nXS5wdXNoKGUudXJsKTticmVhaztjYXNlIE0uanM6QVtNLmpzXS5wdXNoKGUudXJsKX19KSksT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoeCkmJkFycmF5LmlzQXJyYXkoeC5hc3NldHMpKXt2YXIgRT1KW2EuaW1waWRdO2YubmF0aXZlPU9iamVjdChjLmNsZWFuT2JqKSh4LmFzc2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9RVt0LmlkXTtyZXR1cm4gT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkodC5pbWcpP2Vbci5pbWcudHlwZT96W3IuaW1nLnR5cGVdOiJpbWFnZSJdPU9iamVjdChjLnBpY2spKHQuaW1nLFsidXJsIiwidyBhcyB3aWR0aCIsImggYXMgaGVpZ2h0Il0pOk9iamVjdChjLmlzUGxhaW5PYmplY3QpKHQudGl0bGUpP2UudGl0bGU9dC50aXRsZS50ZXh0Ok9iamVjdChjLmlzUGxhaW5PYmplY3QpKHQuZGF0YSkmJk4uZm9yRWFjaCgoZnVuY3Rpb24obil7VltuXT09PXIuZGF0YS50eXBlJiYoZVtuXT10LmRhdGEudmFsdWUpfSkpLGV9KSxPYmplY3QoYy5jbGVhbk9iaikoe2NsaWNrVXJsOngubGluayxjbGlja1RyYWNrZXJzOk9iamVjdChjLmRlZXBBY2Nlc3MpKHgsImxpbmsuY2xpY2t0cmFja2VycyIpLGltcHJlc3Npb25UcmFja2VyczpBW00uaW1nXSxqYXZhc2NyaXB0VHJhY2tlcnM6QVtNLmpzXX0pKSl9ZWxzZSBPYmplY3QoYy5sb2dFcnJvcikoInByZWJpZCBzZXJ2ZXIgbmF0aXZlIHJlc3BvbnNlIGNvbnRhaW5lZCBubyBhc3NldHMiKX1lbHNlIGEuYWRtJiZhLm51cmw/KGYuYWQ9YS5hZG0sZi5hZCs9T2JqZWN0KGMuY3JlYXRlVHJhY2tQaXhlbEh0bWwpKGRlY29kZVVSSUNvbXBvbmVudChhLm51cmwpKSk6YS5hZG0/Zi5hZD1hLmFkbTphLm51cmwmJihmLmFkVXJsPWEubnVybCk7Zi53aWR0aD1hLncsZi5oZWlnaHQ9YS5oLGEuZGVhbGlkJiYoZi5kZWFsSWQ9YS5kZWFsaWQpLGYucmVxdWVzdElkPWQuYmlkSWR8fGQuYmlkX0lkLGYuY3JlYXRpdmVfaWQ9YS5jcmlkLGYuY3JlYXRpdmVJZD1hLmNyaWQsYS5idXJsJiYoZi5idXJsPWEuYnVybCksZi5jdXJyZW5jeT1lLmN1cj9lLmN1cjoiVVNEIixmLm1ldGE9e307dmFyIFA9T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5tZXRhIik7UCYmT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoUCkmJihmLm1ldGE9T2JqZWN0KGMuZGVlcENsb25lKShQKSksYS5hZG9tYWluJiYoZi5tZXRhLmFkdmVydGlzZXJEb21haW5zPWEuYWRvbWFpbik7dmFyIGs9ci5kZWZhdWx0VHRsfHw2MDtmLnR0bD1hLmV4cD9hLmV4cDprLGYubmV0UmV2ZW51ZT0hYS5uZXRSZXZlbnVlfHxhLm5ldFJldmVudWUsbi5wdXNoKHthZFVuaXQ6ZC5hZFVuaXRDb2RlLGJpZDpmfSl9KSl9KSksbn07ZnVuY3Rpb24gTChlKXt2YXIgdCxyLG49ZnVuY3Rpb24oZSx0KXtpZihbZSx0XS5ldmVyeShjLmlzU3RyKSlyZXR1cm4gWFsiIi5jb25jYXQoZSkuY29uY2F0KHQpXX0oZS5hdWN0aW9uSWQsZS5hZElkKTtPYmplY3QoYy5pc1N0cikobikmJihPYmplY3QoYy5sb2dNZXNzYWdlKSgnSW52b2tpbmcgaW1hZ2UgcGl4ZWwgZm9yIHd1cmwgb24gQklEX1dJTjogIicuY29uY2F0KG4sJyInKSksT2JqZWN0KGMudHJpZ2dlclBpeGVsKShuKSx0PWUuYXVjdGlvbklkLHI9ZS5hZElkLFt0LHJdLmV2ZXJ5KGMuaXNTdHIpJiYoWFsiIi5jb25jYXQodCkuY29uY2F0KHIpXT12b2lkIDApKX1mdW5jdGlvbiBLKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PSEwO3JldHVybiBlJiZlLmdkcHJBcHBsaWVzJiYyPT09ZS5hcGlWZXJzaW9uJiYodD0hKCEwIT09T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLHR9KHQpP2UucDFDb25zZW50OmUubm9QMUNvbnNlbnR9ZnVuY3Rpb24gRyhlKXt2YXIgdCxyO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiYodD1lWzBdLmdkcHJDb25zZW50LHI9ZVswXS51c3BDb25zZW50KSx7Z2RwckNvbnNlbnQ6dCx1c3BDb25zZW50OnJ9fWZ1bmN0aW9uICQoKXt2YXIgZT1uZXcgbi5hKCJwcmViaWRTZXJ2ZXIiKTtyZXR1cm4gZS5jYWxsQmlkcz1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBzPU9iamVjdChjLmRlZXBDbG9uZSkoZS5hZF91bml0cykscD1HKHQpLGI9cC5nZHByQ29uc2VudCxsPXAudXNwQ29uc2VudCx2PXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZWRpYVR5cGVzJiYoZS5tZWRpYVR5cGVzLm5hdGl2ZXx8ZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9KSkseT12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKS5maWx0ZXIoYy51bmlxdWVzKX0pKS5yZWR1Y2UoYy5mbGF0dGVuKS5maWx0ZXIoYy51bmlxdWVzKTtpZihBcnJheS5pc0FycmF5KFApKXtpZighdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpJiZlLnMyc0NvbmZpZyYmZS5zMnNDb25maWcuc3luY0VuZHBvaW50JiZLKGUuczJzQ29uZmlnLnN5bmNFbmRwb2ludCxiKSlSKGUuczJzQ29uZmlnLmJpZGRlcnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZV18fGV9KSkuZmlsdGVyKChmdW5jdGlvbihlLHQscil7cmV0dXJuIHIuaW5kZXhPZihlKT09PXR9KSksYixsLGUuczJzQ29uZmlnKTt2YXIgbT1GKGUsdCx2LGUuczJzQ29uZmlnLHkpLE89bSYmSlNPTi5zdHJpbmdpZnkobSk7T2JqZWN0KGMubG9nSW5mbykoIkJpZFJlcXVlc3Q6ICIrTyk7dmFyIGo9SyhlLnMyc0NvbmZpZy5lbmRwb2ludCxiKTttJiZPJiZqP2koaix7c3VjY2VzczpmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbixpLHMpe3ZhciBwLGI9W10sbD1HKHIpLHY9bC5nZHByQ29uc2VudCx5PWwudXNwQ29uc2VudDt0cnl7aWYocD1KU09OLnBhcnNlKGUpLGI9SChwLHIscyksdD10LmNvbmNhdChyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZX0pKSkuZmlsdGVyKGMudW5pcXVlcyksci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpKWlmKHMmJnMuc3luY0VuZHBvaW50JiZLKHMuc3luY0VuZHBvaW50LHYpKVIoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlckNvZGVdfHxlLmJpZGRlckNvZGV9KSkuZmlsdGVyKChmdW5jdGlvbihlLHQscil7cmV0dXJuIHIuaW5kZXhPZihlKT09PXR9KSksdix5LHMpO3IuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bihudWxsLHtiaWRkZXJDb2RlOmUuYmlkZGVyQ29kZSxhZGRSZXF1ZXN0T25seTohMH0pfSkpLGIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXQsaT1lLmJpZDtPYmplY3QodS5pc1ZhbGlkKSh0LGkscikmJm4odCxpKX0pKSxyLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIiE9PWUuYmlkZGVyQ29kZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZi5hLmVtaXQoby5hLkVWRU5UUy5CSURERVJfRE9ORSxlKX0pKX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoZSl9KCFwfHxwLnN0YXR1cyYmZygpKHAuc3RhdHVzLCJFcnJvciIpKSYmT2JqZWN0KGMubG9nRXJyb3IpKCJlcnJvciBwYXJzaW5nIHJlc3BvbnNlOiAiLHAuc3RhdHVzKTtpKCksZnVuY3Rpb24oZSx0LHIpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49YS5kZWZhdWx0LmdldEJpZEFkYXB0ZXIoZSk7biYmbi5yZWdpc3RlclN5bmNzJiZkLmIucnVuV2l0aEJpZGRlcihlLGMuYmluZC5jYWxsKG4ucmVnaXN0ZXJTeW5jcyxuLFtdLHQscikpfSkpfSh0LHYseSl9KGkseSx0LHIsbixlLnMyc0NvbmZpZyl9LGVycm9yOm59LE8se2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KTpPYmplY3QoYy5sb2dFcnJvcikoIlBCUyByZXF1ZXN0IG5vdCBtYWRlLiAgQ2hlY2sgZW5kcG9pbnRzLiIpfX0sZi5hLm9uKG8uYS5FVkVOVFMuQklEX1dPTixMKSxFKHRoaXMse2NhbGxCaWRzOmUuY2FsbEJpZHMsc2V0QmlkZGVyQ29kZTplLnNldEJpZGRlckNvZGUsdHlwZTpJfSl9T2JqZWN0KGMuZ2V0UHJlYmlkSW50ZXJuYWwpKCkuc2V0RWlkUGVybWlzc2lvbnM9ZnVuY3Rpb24oZSl7az1lfSxhLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyAkLCJwcmViaWRTZXJ2ZXIiKX0sNjk3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBufSkpO3ZhciBuPXthcHBuZXh1czp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLXNpbXBsZS5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLXNpbXBsZS5jb20vcGJzL3YxL2Nvb2tpZV9zeW5jIn0sdGltZW91dDoxZTN9LGFwcG5leHVzcHNwOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9pYi5hZG54cy5jb20vb3BlbnJ0YjIvcHJlYmlkIixub1AxQ29uc2VudDoiaHR0cHM6Ly9pYi5hZG54cy1zaW1wbGUuY29tL29wZW5ydGIyL3ByZWJpZCJ9LHRpbWVvdXQ6MWUzfSxydWJpY29uOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL2Nvb2tpZV9zeW5jIn0sdGltZW91dDo1MDB9LG9wZW54OnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvY29va2llX3N5bmMifSx0aW1lb3V0OjFlM30sc25pZ2VsOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL2Nvb2tpZV9zeW5jIn0sdGltZW91dDo0MDB9fX19LFs2OTVdKTsKdXBianNDaHVuayhbMTY1XSx7NzAwOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3MDEpfSw3MDE6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsImFsbG93ZWRGaWVsZHMiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHIuZCh0LCJfZmxvb3JEYXRhRm9yQXVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksci5kKHQsImZpZWxkTWF0Y2hpbmdGdW5jdGlvbnMiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLHQuZ2V0Rmlyc3RNYXRjaGluZ0Zsb29yPUIsdC5nZXRCaWRkZXJzQ3BtQWRqdXN0bWVudD1WLHQuY2FsY3VsYXRlQWRqdXN0ZWRGbG9vcj1xLHQuZ2V0Rmxvb3I9Ryx0LmdldEZsb29yc0RhdGFGb3JBdWN0aW9uPU4sdC5nZXRGbG9vckRhdGFGcm9tQWRVbml0cz1fLHQudXBkYXRlQWRVbml0c0ZvckF1Y3Rpb249SCx0LnBpY2tSYW5kb21Nb2RlbD1KLHQuY3JlYXRlRmxvb3JzRGF0YUZvckF1Y3Rpb249TCx0LmNvbnRpbnVlQXVjdGlvbj1ZLHQuaXNGbG9vcnNEYXRhVmFsaWQ9WCx0LnBhcnNlRmxvb3JEYXRhPVosdC5yZXF1ZXN0Qmlkc0hvb2s9JCx0LmhhbmRsZUZldGNoUmVzcG9uc2U9dGUsdC5nZW5lcmF0ZUFuZEhhbmRsZUZldGNoPW9lLHQuaGFuZGxlU2V0Rmxvb3JzQ29uZmlnPW5lLHQuYWRkQmlkUmVzcG9uc2VIb29rPWNlO3ZhciBvPXIoMCksbj1yKDE0KSxjPXIoMyksYT1yKDQpLGk9cigxMCksdT1yLm4oaSkscz1yKDUpLGQ9ci5uKHMpLGw9cig5KSxmPXIoMzkpLHA9cigxMSksbT1yLm4ocCksYj1yKDE5KSxoPXIoNDcpLGc9WyJtb2RlbEdyb3VwcyJdO2Z1bmN0aW9uIHkoZSl7cmV0dXJuKHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBPKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixvLG49ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG8sbj17fSxjPU9iamVjdC5rZXlzKGUpO2ZvcihvPTA7bzxjLmxlbmd0aDtvKyspcj1jW29dLHQuaW5kZXhPZihyKT49MHx8KG5bcl09ZVtyXSk7cmV0dXJuIG59KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iobz0wO288Yy5sZW5ndGg7bysrKXI9Y1tvXSx0LmluZGV4T2Yocik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHIpJiYobltyXT1lW3JdKX1yZXR1cm4gbn1mdW5jdGlvbiBqKCl7cmV0dXJuKGo9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYoZVtvXT1yW29dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB2KGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobz1vLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixvKX1yZXR1cm4gcn1mdW5jdGlvbiBGKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3YoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtBKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTp2KE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIEEoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBTLEM9IlByaWNlIEZsb29ycyIsaz1PYmplY3QoYS5iKSgxZTQpLFQ9WyJncHRTbG90IiwiYWRVbml0Q29kZSIsInNpemUiLCJkb21haW4iLCJtZWRpYVR5cGUiXSxEPSExLFI9ITEsVT17fSx3PVtdLEU9e307ZnVuY3Rpb24gUChlLHQpe3JldHVybiBNYXRoLmNlaWwoKHBhcnNlRmxvYXQoZSkqTWF0aC5wb3coMTAsdCkpLnRvRml4ZWQoMSkpL01hdGgucG93KDEwLHQpfXZhciBJPXtzaXplOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChvLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KSh0LnNpemUpfHwiKiJ9LG1lZGlhVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1lZGlhVHlwZXx8ImJhbm5lciJ9LGdwdFNsb3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImdhbSI9PT1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5hZHNlcnZlci5uYW1lIikmJmUub3J0YjJJbXAuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90fShlKXx8T2JqZWN0KG8uZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlLmFkVW5pdENvZGUpLmdwdFNsb3R9LGRvbWFpbjpmdW5jdGlvbihlLHQpe3JldHVybiBTfHwocj1PYmplY3QoYi5hKSgpLnJlZmVyZXIsUz1PYmplY3Qoby5wYXJzZVVybCkocix7bm9EZWNvZGVXaG9sZVVSTDohMH0pLmhvc3RuYW1lKTt2YXIgcn0sYWRVbml0Q29kZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFkVW5pdENvZGV9fTtmdW5jdGlvbiBNKGUsdCxyKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbyl7dmFyIG49SVtvXSh0LHIpfHwiKiI7cmV0dXJuIGUucHVzaCgiKiI9PT1uP1siKiJdOltuLnRvTG93ZXJDYXNlKCksIioiXSksZX0pLFtdKX1mdW5jdGlvbiBCKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49TShPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJzY2hlbWEuZmllbGRzIil8fFtdLHQscik7aWYoIW4ubGVuZ3RoKXJldHVybnttYXRjaGluZ0Zsb29yOmUuZGVmYXVsdH07dmFyIGM9bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSkpLmpvaW4oIi0iKSxhPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1hdGNoaW5nSW5wdXRzLiIuY29uY2F0KGMpKTtpZihhKXJldHVybiBGKHt9LGEpO3ZhciBpPXgobixPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJzY2hlbWEuZGVsaW1pdGVyIil8fCJ8IiksdT1tKCkoaSwoZnVuY3Rpb24odCl7cmV0dXJuIGUudmFsdWVzLmhhc093blByb3BlcnR5KHQpfSkpLHM9e2Zsb29yTWluOmUuZmxvb3JNaW58fDAsZmxvb3JSdWxlVmFsdWU6ZS52YWx1ZXNbdV18fGUuZGVmYXVsdCxtYXRjaGluZ0RhdGE6aVswXSxtYXRjaGluZ1J1bGU6dX07cmV0dXJuIHMubWF0Y2hpbmdGbG9vcj1NYXRoLm1heChzLmZsb29yTWluLHMuZmxvb3JSdWxlVmFsdWUpLE9iamVjdChvLmRlZXBTZXRWYWx1ZSkoZSwibWF0Y2hpbmdJbnB1dHMuIi5jb25jYXQoYyksRih7fSxzKSksc31mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBvPVtdO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7ci5tYXAoKGZ1bmN0aW9uKHIpe28ucHVzaChlK3Qrcil9KSl9KSksb30pKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnNwbGl0KCIqIikubGVuZ3RoLXQuc3BsaXQoIioiKS5sZW5ndGh9KSl9ZnVuY3Rpb24gVihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxjPU9iamVjdChvLmRlZXBBY2Nlc3MpKE9iamVjdChuLmEpKCksImJpZGRlclNldHRpbmdzLiIuY29uY2F0KGUsIi5iaWRDcG1BZGp1c3RtZW50IikpfHxPYmplY3Qoby5kZWVwQWNjZXNzKShPYmplY3Qobi5hKSgpLCJiaWRkZXJTZXR0aW5ncy5zdGFuZGFyZC5iaWRDcG1BZGp1c3RtZW50Iik7cmV0dXJuIGMmJnBhcnNlRmxvYXQoYyh0LEYoRih7fSxyKSx7fSx7Y3BtOnR9KSkpfHxwYXJzZUZsb2F0KHQpfWZ1bmN0aW9uIHEoZSx0KXt2YXIgcj1NYXRoLnBvdygxMCwxMCk7cmV0dXJuIGUqci8odCpyKSooZSpyKS9yfXZhciB6PXtiYW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fFtdfSx2aWRlbzpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIil8fFtdfSxuYXRpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzIik/W09iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzIildOltdfX07ZnVuY3Rpb24gVyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e30pO3JldHVybiIqIj09PXQubWVkaWFUeXBlJiYxPT09ci5sZW5ndGgmJih0Lm1lZGlhVHlwZT1yWzBdKSwiKiI9PT10LnNpemUmJi0xIT09ci5pbmRleE9mKHQubWVkaWFUeXBlKSYmelt0Lm1lZGlhVHlwZV0mJjE9PT16W3QubWVkaWFUeXBlXShlKS5sZW5ndGgmJih0LnNpemU9elt0Lm1lZGlhVHlwZV0oZSlbMF0pLHR9ZnVuY3Rpb24gRygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0sdD10aGlzLHI9RVt0LmF1Y3Rpb25JZF07aWYoIXJ8fHIuc2tpcHBlZClyZXR1cm57fTtlPVcodCxlKTt2YXIgYz1CKHIuZGF0YSxGKHt9LHQpLHttZWRpYVR5cGU6ZS5tZWRpYVR5cGUsc2l6ZTplLnNpemV9KSxhPWUuY3VycmVuY3l8fHIuZGF0YS5jdXJyZW5jeTtpZihjLm1hdGNoaW5nRmxvb3ImJmEhPT1yLmRhdGEuY3VycmVuY3kpdHJ5e2MubWF0Y2hpbmdGbG9vcj1PYmplY3Qobi5hKSgpLmNvbnZlcnRDdXJyZW5jeShjLm1hdGNoaW5nRmxvb3Isci5kYXRhLmN1cnJlbmN5LGEpfWNhdGNoKGUpe09iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChDLCI6IFVuYWJsZSB0byBnZXQgY3VycmVuY3kgY29udmVyc2lvbiBmb3IgZ2V0Rmxvb3IgZm9yIGJpZGRlciAiKS5jb25jYXQodC5iaWRkZXIsIi4gWW91IG11c3QgaGF2ZSBjdXJyZW5jeSBtb2R1bGUgZW5hYmxlZCB3aXRoIGRlZmF1bHRSYXRlcyBpbiB5b3VyIGN1cnJlbmN5IGNvbmZpZyIpKSxhPXIuZGF0YS5jdXJyZW5jeX1pZihyLmVuZm9yY2VtZW50LmJpZEFkanVzdG1lbnQmJmMubWF0Y2hpbmdGbG9vcil7dmFyIGk9Vih0LmJpZGRlcixjLm1hdGNoaW5nRmxvb3IpO2MubWF0Y2hpbmdGbG9vcj1pP3EoYy5tYXRjaGluZ0Zsb29yLGkpOmMubWF0Y2hpbmdGbG9vcn1yZXR1cm4gYy5tYXRjaGluZ0Zsb29yP3tmbG9vcjpQKGMubWF0Y2hpbmdGbG9vciw0KSxjdXJyZW5jeTphfTp7fX1mdW5jdGlvbiBOKGUsdCl7dmFyIHI9T2JqZWN0KG8uZGVlcENsb25lKShlKTtyZXR1cm4gci5zY2hlbWEuZGVsaW1pdGVyPWUuc2NoZW1hLmRlbGltaXRlcnx8InwiLHIudmFsdWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zY2hlbWEuZmllbGRzLG89ZS5zY2hlbWEuZGVsaW1pdGVyLG49dCYmLTE9PT1yLmluZGV4T2YoImFkVW5pdENvZGUiKSYmci51bnNoaWZ0KCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKGUudmFsdWVzKS5yZWR1Y2UoKGZ1bmN0aW9uKHIsYyl7cmV0dXJuIHJbKG4/IiIuY29uY2F0KHQpLmNvbmNhdChvKS5jb25jYXQoYyk6YykudG9Mb3dlckNhc2UoKV09ZS52YWx1ZXNbY10scn0pLHt9KX0ocix0KSxyLmN1cnJlbmN5PXIuY3VycmVuY3l8fCJVU0QiLHJ9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoWCh0LmZsb29ycykpaWYoZS52YWx1ZXMpe3ZhciByPU4odC5mbG9vcnMsdC5jb2RlKS52YWx1ZXM7aihlLnZhbHVlcyxyKX1lbHNlKGU9Tih0LmZsb29ycyx0LmNvZGUpKS5sb2NhdGlvbj0iYWRVbml0IjtyZXR1cm4gZX0pLHt9KX1mdW5jdGlvbiBIKGUsdCxyKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNraXBwZWQ/ZGVsZXRlIGUuZ2V0Rmxvb3I6ZS5nZXRGbG9vcj1HLGUuYXVjdGlvbklkPXIsZS5mbG9vckRhdGE9e3NraXBwZWQ6dC5za2lwcGVkLHNraXBSYXRlOnQuc2tpcFJhdGUsZmxvb3JNaW46dC5mbG9vck1pbixtb2RlbFZlcnNpb246T2JqZWN0KG8uZGVlcEFjY2VzcykodCwiZGF0YS5tb2RlbFZlcnNpb24iKSxtb2RlbFdlaWdodDpPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJkYXRhLm1vZGVsV2VpZ2h0IiksbW9kZWxUaW1lc3RhbXA6T2JqZWN0KG8uZGVlcEFjY2VzcykodCwiZGF0YS5tb2RlbFRpbWVzdGFtcCIpLGxvY2F0aW9uOk9iamVjdChvLmRlZXBBY2Nlc3MpKHQsImRhdGEubG9jYXRpb24iLCJub0RhdGEiKSxmbG9vclByb3ZpZGVyOnQuZmxvb3JQcm92aWRlcixmZXRjaFN0YXR1czpVLmZldGNoU3RhdHVzfX0pKX0pKX1mdW5jdGlvbiBKKGUsdCl7Zm9yKHZhciByPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0KzEpLG89MDtvPGUubGVuZ3RoO28rKylpZigoci09ZVtvXS5tb2RlbFdlaWdodCk8PTApcmV0dXJuIGVbb119ZnVuY3Rpb24gTChlLHQpe3ZhciByPU9iamVjdChvLmRlZXBDbG9uZSkoVSk7aWYoMj09PU9iamVjdChvLmRlZXBBY2Nlc3MpKHIsImRhdGEuZmxvb3JzU2NoZW1hVmVyc2lvbiIpKXt2YXIgbj1yLmRhdGEsYz1uLm1vZGVsR3JvdXBzLGE9TyhuLGcpO3IuZGF0YT1qKGEsSihjLGEubW9kZWxXZWlnaHRTdW0pKX12YXIgaT0wPT09T2JqZWN0LmtleXMoT2JqZWN0KG8uZGVlcEFjY2VzcykociwiZGF0YS52YWx1ZXMiKXx8e30pLmxlbmd0aDtpZihyLmRhdGE9aT9fKGUpOk4oci5kYXRhKSwwPT09T2JqZWN0LmtleXMoT2JqZWN0KG8uZGVlcEFjY2VzcykociwiZGF0YS52YWx1ZXMiKXx8e30pLmxlbmd0aClyLnNraXBwZWQ9ITA7ZWxzZXt2YXIgdT1PYmplY3Qoby5nZXRQYXJhbWV0ZXJCeU5hbWUpKCJwYmpzX3NraXBSYXRlIil8fHIuc2tpcFJhdGUscz0xMDAqTWF0aC5yYW5kb20oKTxwYXJzZUZsb2F0KHUpO3Iuc2tpcHBlZD1zfXJldHVybiByLmhhc093blByb3BlcnR5KCJmbG9vck1pbiIpJiYoci5kYXRhLmZsb29yTWluPXIuZmxvb3JNaW4pLEgoZSxyLHQpLHJ9ZnVuY3Rpb24gWShlKXtlLmhhc0V4aXRlZHx8KHc9dy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbWVyIT09ZS50aW1lcn0pKSxlLnJlcUJpZHNDb25maWdPYmouYXVjdGlvbklkPWUucmVxQmlkc0NvbmZpZ09iai5hdWN0aW9uSWR8fE9iamVjdChvLmdlbmVyYXRlVVVJRCkoKSxFW2UucmVxQmlkc0NvbmZpZ09iai5hdWN0aW9uSWRdPUwoZS5yZXFCaWRzQ29uZmlnT2JqLmFkVW5pdHN8fE9iamVjdChuLmEpKCkuYWRVbml0cyxlLnJlcUJpZHNDb25maWdPYmouYXVjdGlvbklkKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsW2UucmVxQmlkc0NvbmZpZ09ial0pLGUuaGFzRXhpdGVkPSEwKX1mdW5jdGlvbiBLKGUpe3JldHVybiB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInNjaGVtYS5maWVsZHMiKSwhIShBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wJiZ0LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVQuaW5kZXhPZihlKX0pKXx8KE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoQywiOiBGaWVsZHMgcmVjaWV2ZWQgZG8gbm90IG1hdGNoIGFsbG93ZWQgZmllbGRzIikpLDApKSYmKHI9ZSxuPWUuc2NoZW1hLmZpZWxkcy5sZW5ndGgsYz1lLnNjaGVtYS5kZWxpbWl0ZXJ8fCJ8Iiwib2JqZWN0Ij09PXkoci52YWx1ZXMpJiYoci52YWx1ZXM9T2JqZWN0LmtleXMoci52YWx1ZXMpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlLnNwbGl0KG8pLmxlbmd0aD09PXImJiJudW1iZXIiPT10eXBlb2YgdH0odCxyLnZhbHVlc1t0XSxuLGMpJiYoZVt0XT1yLnZhbHVlc1t0XSksZX0pLHt9KSxPYmplY3Qua2V5cyhyLnZhbHVlcykubGVuZ3RoPjApKTt2YXIgdCxyLG4sY312YXIgUT17MTpmdW5jdGlvbihlKXtyZXR1cm4gSyhlKX0sMjpmdW5jdGlvbihlKXtyZXR1cm4hKCFBcnJheS5pc0FycmF5KGUubW9kZWxHcm91cHMpfHwwPT09ZS5tb2RlbEdyb3Vwcy5sZW5ndGgpJiYoZS5tb2RlbFdlaWdodFN1bT0wLGUubW9kZWxHcm91cHMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiEoIm51bWJlciIhPXR5cGVvZiB0Lm1vZGVsV2VpZ2h0fHwhSyh0KSkmJihlLm1vZGVsV2VpZ2h0U3VtKz10Lm1vZGVsV2VpZ2h0LCEwKX0pKSl9fTtmdW5jdGlvbiBYKGUpe3JldHVybiJvYmplY3QiPT09eShlKSYmKGUuZmxvb3JzU2NoZW1hVmVyc2lvbj1lLmZsb29yc1NjaGVtYVZlcnNpb258fDEsImZ1bmN0aW9uIiE9dHlwZW9mIFFbZS5mbG9vcnNTY2hlbWFWZXJzaW9uXT8oT2JqZWN0KG8ubG9nRXJyb3IpKCIiLmNvbmNhdChDLCI6IFVua25vd24gZmxvb3JzU2NoZW1hVmVyc2lvbjogIiksZS5mbG9vcnNTY2hlbWFWZXJzaW9uKSwhMSk6UVtlLmZsb29yc1NjaGVtYVZlcnNpb25dKGUpKX1mdW5jdGlvbiBaKGUsdCl7aWYoZSYmIm9iamVjdCI9PT15KGUpJiZYKGUpKXJldHVybiBPYmplY3Qoby5sb2dJbmZvKSgiIi5jb25jYXQoQywiOiBBICIpLmNvbmNhdCh0LCIgc2V0IHRoZSBhdWN0aW9uIGZsb29yIGRhdGEgc2V0IHRvICIpLGUpLEYoRih7fSxlKSx7fSx7bG9jYXRpb246dH0pO09iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoQywiOiBUaGUgZmxvb3JzIGRhdGEgZGlkIG5vdCBjb250YWluIGNvcnJlY3QgdmFsdWVzIiksZSl9ZnVuY3Rpb24gJChlLHQpe3ZhciByPXtyZXFCaWRzQ29uZmlnT2JqOnQsY29udGV4dDp0aGlzLG5leHRGbjplLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07VS5hdWN0aW9uRGVsYXk+MCYmRD8oci50aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChDLCI6IEZldGNoIGF0dGVtcHQgZGlkIG5vdCByZXR1cm4gaW4gdGltZSBmb3IgYXVjdGlvbiIpKSxVLmZldGNoU3RhdHVzPSJ0aW1lb3V0IixZKHIpfSksVS5hdWN0aW9uRGVsYXkpLHcucHVzaChyKSk6WShyKX1mdW5jdGlvbiBlZSgpe3cuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUudGltZXIpLFkoZSl9KSksdz1bXX1mdW5jdGlvbiB0ZShlKXt2YXIgdDtEPSExLFUuZmV0Y2hTdGF0dXM9InN1Y2Nlc3MiO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2gocil7dD1lfXZhciByPVoodCwiZmV0Y2giKTtyJiYoVS5kYXRhPXIsVS5za2lwUmF0ZT1PYmplY3Qoby5pc051bWJlcikoci5za2lwUmF0ZSk/ci5za2lwUmF0ZTpVLnNraXBSYXRlLFUuZmxvb3JQcm92aWRlcj1yLmZsb29yUHJvdmlkZXJ8fFUuZmxvb3JQcm92aWRlciksZWUoKX1mdW5jdGlvbiByZShlKXtEPSExLFUuZmV0Y2hTdGF0dXM9ImVycm9yIixPYmplY3Qoby5sb2dFcnJvcikoIiIuY29uY2F0KEMsIjogRmV0Y2ggZXJyb3JlZCB3aXRoOiAiKSxlKSxlZSgpfWZ1bmN0aW9uIG9lKGUpe2UudXJsJiYhRD8iR0VUIiE9PShlLm1ldGhvZHx8IkdFVCIpP09iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoQywiOiAnR0VUJyBpcyB0aGUgb25seSByZXF1ZXN0IG1ldGhvZCBzdXBwb3J0ZWQgYXQgdGhpcyB0aW1lISIpKTooayhlLnVybCx7c3VjY2Vzczp0ZSxlcnJvcjpyZX0sbnVsbCx7bWV0aG9kOiJHRVQifSksRD0hMCk6RCYmT2JqZWN0KG8ubG9nV2FybikoIiIuY29uY2F0KEMsIjogQSBmZXRjaCBpcyBhbHJlYWR5IG9jY3VyaW5nLiBTa2lwcGluZy4iKSl9ZnVuY3Rpb24gbmUoZSl7KFU9T2JqZWN0KG8ucGljaykoZSxbImZsb29yTWluIiwiZW5hYmxlZCIsZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSwiYXVjdGlvbkRlbGF5IixmdW5jdGlvbihlKXtyZXR1cm4gZXx8MH0sImZsb29yUHJvdmlkZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJkYXRhLmZsb29yUHJvdmlkZXIiLHQpfSwiZW5kcG9pbnQiLGZ1bmN0aW9uKGUpe3JldHVybiBlfHx7fX0sInNraXBSYXRlIixmdW5jdGlvbigpe3JldHVybiBpc05hTihPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJkYXRhLnNraXBSYXRlIikpP2Uuc2tpcFJhdGV8fDA6ZS5kYXRhLnNraXBSYXRlfSwiZW5mb3JjZW1lbnQiLGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5waWNrKShlfHx7fSxbImVuZm9yY2VKUyIsZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSwiZW5mb3JjZVBCUyIsZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lfSwiZmxvb3JEZWFscyIsZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lfSwiYmlkQWRqdXN0bWVudCIsZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfV0pfSwiYWRkaXRpb25hbFNjaGVtYUZpZWxkcyIsZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PT15KGUpJiZPYmplY3Qua2V5cyhlKS5sZW5ndGg+MD8odD1lLHZvaWQgT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1ULmluZGV4T2YoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W2VdJiYoVC5wdXNoKGUpLElbZV09dFtlXSl9KSkpOnZvaWQgMDt2YXIgdH0sImRhdGEiLGZ1bmN0aW9uKGUpe3JldHVybiBlJiZaKGUsInNldENvbmZpZyIpfHxVLmRhdGF9XSkpLmVuYWJsZWQ/KG9lKFUuZW5kcG9pbnQpLFJ8fCh1LmEub24oZC5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24oZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIEVbZS5hdWN0aW9uSWRdfSksM2UzKX0pKSxPYmplY3Qobi5hKSgpLnJlcXVlc3RCaWRzLmJlZm9yZSgkLDUwKSxPYmplY3QobC5hKSgiYWRkQmlkUmVzcG9uc2UiKS5iZWZvcmUoY2UsT2JqZWN0KG8uZGVidWdUdXJuZWRPbikoKT80OjUwKSxSPSEwKSk6KE9iamVjdChvLmxvZ0luZm8pKCIiLmNvbmNhdChDLCI6IFR1cm5pbmcgb2ZmIG1vZHVsZSIpKSxVPXt9LEU9e30sT2JqZWN0KGwuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6Y2V9KS5yZW1vdmUoKSxPYmplY3Qobi5hKSgpLnJlcXVlc3RCaWRzLmdldEhvb2tzKHtob29rOiR9KS5yZW1vdmUoKSxSPSExKX1mdW5jdGlvbiBjZShlLHQscil7dmFyIGM9RVt0aGlzLmJpZGRlclJlcXVlc3QuYXVjdGlvbklkXSxhPW0oKSh0aGlzLmJpZGRlclJlcXVlc3QuYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkSWQmJmUuYmlkSWQ9PT1yLnJlcXVlc3RJZH0pKTtpZighY3x8IXJ8fGMuc2tpcHBlZHx8IWEpcmV0dXJuIGUuY2FsbCh0aGlzLHQscik7dmFyIGksdT1CKGMuZGF0YSxGKHt9LGEpLEYoRih7fSxyKSx7fSx7c2l6ZTpbci53aWR0aCxyLmhlaWdodF19KSk7aWYoIXUubWF0Y2hpbmdGbG9vcilyZXR1cm4gT2JqZWN0KG8ubG9nV2FybikoIiIuY29uY2F0KEMsIjogdW5hYmxlIHRvIGRldGVybWluZSBhIG1hdGNoaW5nIHByaWNlIGZsb29yIGZvciBiaWRSZXNwb25zZSIpLHIpLGUuY2FsbCh0aGlzLHQscik7dmFyIHM9Yy5kYXRhLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCksbD1yLmN1cnJlbmN5fHwiVVNEIjtpZihzPT09bC50b1VwcGVyQ2FzZSgpKWk9ci5jcG07ZWxzZSBpZihyLm9yaWdpbmFsQ3VycmVuY3kmJnM9PT1yLm9yaWdpbmFsQ3VycmVuY3kudG9VcHBlckNhc2UoKSlpPXIub3JpZ2luYWxDcG07ZWxzZSB0cnl7aT1PYmplY3Qobi5hKSgpLmNvbnZlcnRDdXJyZW5jeShyLmNwbSxsLnRvVXBwZXJDYXNlKCkscyl9Y2F0Y2gobil7cmV0dXJuIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoQywiOiBVbmFibGUgZG8gZ2V0IGN1cnJlbmN5IGNvbnZlcnNpb24gZm9yIGJpZFJlc3BvbnNlIHRvIEZsb29yIEN1cnJlbmN5LiBEbyB5b3UgaGF2ZSBDdXJyZW5jeSBtb2R1bGUgZW5hYmxlZD8gIikuY29uY2F0KHIpKSxlLmNhbGwodGhpcyx0LHIpfWlmKGk9VihyLmJpZGRlckNvZGUsaSxyKSxmdW5jdGlvbihlLHQscixvKXtyLmZsb29yRGF0YT17Zmxvb3JWYWx1ZTp0Lm1hdGNoaW5nRmxvb3IsZmxvb3JSdWxlOnQubWF0Y2hpbmdSdWxlLGZsb29yUnVsZVZhbHVlOnQuZmxvb3JSdWxlVmFsdWUsZmxvb3JDdXJyZW5jeTplLmRhdGEuY3VycmVuY3ksY3BtQWZ0ZXJBZGp1c3RtZW50czpvLGVuZm9yY2VtZW50czpGKHt9LGUuZW5mb3JjZW1lbnQpLG1hdGNoZWRGaWVsZHM6e319LGUuZGF0YS5zY2hlbWEuZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKG8sbil7dmFyIGM9dC5tYXRjaGluZ0RhdGEuc3BsaXQoZS5kYXRhLnNjaGVtYS5kZWxpbWl0ZXIpW25dO3IuZmxvb3JEYXRhLm1hdGNoZWRGaWVsZHNbb109Y30pKX0oYyx1LHIsaSksZnVuY3Rpb24oZSx0LHIpe3ZhciBuPSExIT09T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwiZW5mb3JjZW1lbnQuZW5mb3JjZUpTIiksYz0hMD09PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsImVuZm9yY2VtZW50LmZsb29yRGVhbHMiKXx8IXIuZGVhbElkLGE9ci5mbG9vckRhdGEuY3BtQWZ0ZXJBZGp1c3RtZW50czx0Lm1hdGNoaW5nRmxvb3I7cmV0dXJuIG4mJmEmJmN9KGMsdSxyKSl7dmFyIHA9T2JqZWN0KGYuYSkoZC5hLlNUQVRVUy5OT19CSUQsYSk7aihwLE9iamVjdChvLnBpY2spKHIsWyJmbG9vckRhdGEiLCJ3aWR0aCIsImhlaWdodCIsIm1lZGlhVHlwZSIsImN1cnJlbmN5Iiwib3JpZ2luYWxDcG0iLCJvcmlnaW5hbEN1cnJlbmN5IiwiZ2V0Q3BtSW5OZXdDdXJyZW5jeSJdKSkscC5zdGF0dXM9ZC5hLkJJRF9TVEFUVVMuQklEX1JFSkVDVEVELHAuY3BtPTAsT2JqZWN0KG8ubG9nV2FybikoIiIuY29uY2F0KEMsIjogIikuY29uY2F0KHAuYmlkZGVyQ29kZSwiJ3MgQmlkIFJlc3BvbnNlIGZvciAiKS5jb25jYXQodCwiIHdhcyByZWplY3RlZCBkdWUgdG8gZmxvb3Igbm90IG1ldCIpLHIpO3ZhciBiPXtldmVudDoicmVqZWN0ZWQtYmlkLWJ5LXByaWNlLWZsb29yIixzZW5kUGVyY2VudGFnZToxLG1ldGE6e2RvbWFpbjp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsYmlkOnJ9fTtyZXR1cm4gaC5lKG51bGwsInJlamVjdGVkIGJpZCBieSB0aGUgcHJpY2UgZmxvb3IiLHIsYiksZS5jYWxsKHRoaXMsdCxwKX1yZXR1cm4gZS5jYWxsKHRoaXMsdCxyKX1jLmIuZ2V0Q29uZmlnKCJmbG9vcnMiLChmdW5jdGlvbihlKXtyZXR1cm4gbmUoZS5mbG9vcnMpfSkpfX0sWzcwMF0pOwp1cGJqc0NodW5rKFsxNjJdLHs3MDY6ZnVuY3Rpb24oZSxkLG4pe2UuZXhwb3J0cz1uKDcwNyl9LDcwNzpmdW5jdGlvbihlLGQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQoZCwicHViUHJvdmlkZWRJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIG89big5KSx0PW4oMCksdT17bmFtZToicHViUHJvdmlkZWRJZCIsZGVjb2RlOmZ1bmN0aW9uKGUpe3ZhciBkPWU/e3B1YlByb3ZpZGVkSWQ6ZX06dm9pZCAwO3JldHVybiBPYmplY3QodC5sb2dJbmZvKSgiUHViUHJvdmlkZWRJZDogRGVjb2RlZCB2YWx1ZSAiK0pTT04uc3RyaW5naWZ5KGQpKSxkfSxnZXRJZDpmdW5jdGlvbihlKXt2YXIgZD1lJiZlLnBhcmFtc3x8e30sbj1bXTtyZXR1cm4gT2JqZWN0KHQuaXNBcnJheSkoZC5laWRzKSYmKG49bi5jb25jYXQoZC5laWRzKSksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWlkc0Z1bmN0aW9uJiYobj1uLmNvbmNhdChkLmVpZHNGdW5jdGlvbigpKSkse2lkOm59fX07T2JqZWN0KG8uZSkoInVzZXJJZCIsdSl9fSxbNzA2XSk7CnVwYmpzQ2h1bmsoWzE1OV0sezcxNDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzE1KX0sNzE1OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuY2hlY2tWaWRlb1BsYWNlbWVudD1fLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gWH0pKTt2YXIgYT10KDApLGk9dCgxKSxuPXQoMikscz10KDMpLG89dCgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKGVbYV09dFthXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGE9YS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsYSl9cmV0dXJuIHR9ZnVuY3Rpb24gcChlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBsPSJwdWJtYXRpYyIsbT0iUHViTWF0aWM6ICIsYj0iVVNEIixnPXZvaWQgMCxmPSJodHRwczovL3B1Ym1hdGljLmJidm1zLmNvbS9yLyIuY29uY2F0KCIkUkVOREVSRVIiLCIuanMiKSxoPXtrYWRwYWdldXJsOiIiLGdlbmRlcjoiIix5b2I6IiIsbGF0OiIiLGxvbjoiIix3aWlkOiIiLHByb2ZJZDoiIix2ZXJJZDoiIn0seT0ibnVtYmVyIix2PSJzdHJpbmciLE89ImJvb2xlYW4iLEU9ImFycmF5IixJPXttaW1lczpFLG1pbmR1cmF0aW9uOnksbWF4ZHVyYXRpb246eSxzdGFydGRlbGF5OnkscGxheWJhY2ttZXRob2Q6RSxhcGk6RSxwcm90b2NvbHM6RSx3OnksaDp5LGJhdHRyOkUsbGluZWFyaXR5OnkscGxhY2VtZW50OnksbWluYml0cmF0ZTp5LG1heGJpdHJhdGU6eSxza2lwOnl9LHc9e1RJVExFOntJRDoxLEtFWToidGl0bGUiLFRZUEU6MH0sSU1BR0U6e0lEOjIsS0VZOiJpbWFnZSIsVFlQRTowfSxJQ09OOntJRDozLEtFWToiaWNvbiIsVFlQRTowfSxTUE9OU09SRURCWTp7SUQ6NCxLRVk6InNwb25zb3JlZEJ5IixUWVBFOjF9LEJPRFk6e0lEOjUsS0VZOiJib2R5IixUWVBFOjJ9LENMSUNLVVJMOntJRDo2LEtFWToiY2xpY2tVcmwiLFRZUEU6MH0sVklERU86e0lEOjcsS0VZOiJ2aWRlbyIsVFlQRTowfSxFWFQ6e0lEOjgsS0VZOiJleHQiLFRZUEU6MH0sREFUQTp7SUQ6OSxLRVk6ImRhdGEiLFRZUEU6MH0sTE9HTzp7SUQ6MTAsS0VZOiJsb2dvIixUWVBFOjB9LFNQT05TT1JFRDp7SUQ6MTEsS0VZOiJzcG9uc29yZWQiLFRZUEU6MX0sREVTQzp7SUQ6MTIsS0VZOiJkYXRhIixUWVBFOjJ9LFJBVElORzp7SUQ6MTMsS0VZOiJyYXRpbmciLFRZUEU6M30sTElLRVM6e0lEOjE0LEtFWToibGlrZXMiLFRZUEU6NH0sRE9XTkxPQURTOntJRDoxNSxLRVk6ImRvd25sb2FkcyIsVFlQRTo1fSxQUklDRTp7SUQ6MTYsS0VZOiJwcmljZSIsVFlQRTo2fSxTQUxFUFJJQ0U6e0lEOjE3LEtFWToic2FsZXByaWNlIixUWVBFOjd9LFBIT05FOntJRDoxOCxLRVk6InBob25lIixUWVBFOjh9LEFERFJFU1M6e0lEOjE5LEtFWToiYWRkcmVzcyIsVFlQRTo5fSxERVNDMjp7SUQ6MjAsS0VZOiJkZXNjMiIsVFlQRToxMH0sRElTUExBWVVSTDp7SUQ6MjEsS0VZOiJkaXNwbGF5dXJsIixUWVBFOjExfSxDVEE6e0lEOjIyLEtFWToiY3RhIixUWVBFOjEyfX0saj0xLFA9MixUPTMsUz1be2lkOncuU1BPTlNPUkVEQlkuSUQscmVxdWlyZWQ6ITAsZGF0YTp7dHlwZToxfX0se2lkOncuVElUTEUuSUQscmVxdWlyZWQ6ITB9LHtpZDp3LklNQUdFLklELHJlcXVpcmVkOiEwfV0sRD17MToiUE1QIiw1OiJQUkVGIiw2OiJQTVBHIn0seD0xLFk9MixrPXtib290c3RyYXBQbGF5ZXI6ZnVuY3Rpb24oZSl7dmFyIHI9e2NvZGU6ZS5hZFVuaXRDb2RlfTtpZihlLnZhc3RYbWw/ci52YXN0WG1sPWUudmFzdFhtbDplLnZhc3RVcmwmJihyLnZhc3RVcmw9ZS52YXN0VXJsKSxlLnZhc3RYbWx8fGUudmFzdFVybCl7Zm9yKHZhciB0LGk9ay5nZXRSZW5kZXJlcklkKCJwdWJtYXRpYyIsZS5yZW5kZXJlckNvZGUpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKSxzPTA7czx3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVycy5sZW5ndGg7cysrKWlmKHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdLl9pZD09PWkpe3Q9d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc107YnJlYWt9dD90LmJvb3RzdHJhcChyLG4pOk9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IENvdWxkbid0IGZpbmQgYSByZW5kZXJlciB3aXRoICIpLmNvbmNhdChpKSl9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQobSwiOiBObyB2YXN0WG1sIG9yIHZhc3RVcmwgb24gYmlkLCBiYWlsaW5nLi4uIikpfSxuZXdSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciB0PWYucmVwbGFjZSgiJFJFTkRFUkVSIixlKSxpPW8uYS5pbnN0YWxsKHt1cmw6dCxsb2FkZWQ6ITEsYWRVbml0Q29kZTpyfSk7dHJ5e2kuc2V0UmVuZGVyKGsub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXtPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQobSwiOiBFcnJvciB0eWluZyB0byBzZXRSZW5kZXIgb24gcmVuZGVyZXIiKSxlKX1yZXR1cm4gaX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXtrLmJvb3RzdHJhcFBsYXllcihlKX0pKX0sZ2V0UmVuZGVyZXJJZDpmdW5jdGlvbihlLHIpe3JldHVybiIiLmNvbmNhdChlLCItIikuY29uY2F0KHIpfX0sUj1bbi5iLG4uZCxuLmNdLEE9MCxDPSExLHo9e30sSz17fTtmdW5jdGlvbiBOKGUscil7aWYoIU9iamVjdChhLmlzU3RyKShyKSlyZXR1cm4gciYmT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KHIpKSxnO3N3aXRjaChlKXtjYXNlInBtem9uZWlkIjpyZXR1cm4gci5zcGxpdCgiLCIpLnNsaWNlKDAsNTApLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmpvaW4oKTtjYXNlImthZGZsb29yIjpjYXNlImxhdCI6Y2FzZSJsb24iOnJldHVybiBwYXJzZUZsb2F0KHIpfHxnO2Nhc2UieW9iIjpyZXR1cm4gcGFyc2VJbnQocil8fGc7ZGVmYXVsdDpyZXR1cm4gcn19ZnVuY3Rpb24gVShlKXt2YXIgcjtlLnBhcmFtcy5hZFVuaXQ9IiIsZS5wYXJhbXMuYWRVbml0SW5kZXg9IjAiLGUucGFyYW1zLndpZHRoPTAsZS5wYXJhbXMuaGVpZ2h0PTAsZS5wYXJhbXMuYWRTbG90PShyPWUucGFyYW1zLmFkU2xvdCxPYmplY3QoYS5pc1N0cikocik/ci5yZXBsYWNlKC9eXHMrL2csIiIpLnJlcGxhY2UoL1xzKyQvZywiIik6KHImJk9iamVjdChhLmxvZ1dhcm4pKCJwdWJtYXRpYzogYWRTbG90IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIGFkU2xvdCIpLCIiKSk7dmFyIHQ9ZS5wYXJhbXMuYWRTbG90LGk9dC5zcGxpdCgiOiIpO2lmKHQ9aVswXSwyPT1pLmxlbmd0aCYmKGUucGFyYW1zLmFkVW5pdEluZGV4PWlbMV0pLGk9dC5zcGxpdCgiQCIpLGUucGFyYW1zLmFkVW5pdD1pWzBdLGkubGVuZ3RoPjEpe2lmKDIhPShpPWlbMV0uc3BsaXQoIngiKSkubGVuZ3RoKXJldHVybiB2b2lkIE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogQWRTbG90IEVycm9yOiBhZFNsb3Qgbm90IGluIHJlcXVpcmVkIGZvcm1hdCIpO2UucGFyYW1zLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLGUucGFyYW1zLmhlaWdodD1wYXJzZUludChpWzFdLDEwKX1lbHNlIGlmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYikmJmUubWVkaWFUeXBlcy5iYW5uZXIuaGFzT3duUHJvcGVydHkoInNpemVzIikpe2Zvcih2YXIgcz0wLG89W107czxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aDtzKyspMj09PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbc10ubGVuZ3RoJiZvLnB1c2goZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXSk7ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz1vLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoPj0xJiYoZS5wYXJhbXMud2lkdGg9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVswXSxlLnBhcmFtcy5oZWlnaHQ9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVsxXSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuc3BsaWNlKDEsZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgtMSkpfX1mdW5jdGlvbiBNKGUscix0KXt2YXIgaSxuPSJJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzICIrdCsiLCBmb3VuZCAiK3Uocik7c3dpdGNoKHQpe2Nhc2UgTzppPWEuaXNCb29sZWFuO2JyZWFrO2Nhc2UgeTppPWEuaXNOdW1iZXI7YnJlYWs7Y2FzZSB2Omk9YS5pc1N0cjticmVhaztjYXNlIEU6aT1hLmlzQXJyYXl9cmV0dXJuIGkocik/cjooT2JqZWN0KGEubG9nV2FybikobStuKSxnKX1mdW5jdGlvbiBxKGUscil7dmFyIHQ9ZS5LRVk7cmV0dXJue2lkOmUuSUQscmVxdWlyZWQ6clt0XS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTplLlRZUEUsbGVuOnJbdF0ubGVuLGV4dDpyW3RdLmV4dH19fWZ1bmN0aW9uIEwoZSl7dmFyIHI9e2Fzc2V0czpbXX07Zm9yKHZhciB0IGluIGUpe2lmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBpPXt9O2lmKCEoci5hc3NldHMmJnIuYXNzZXRzLmxlbmd0aD4wJiZyLmFzc2V0cy5oYXNPd25Qcm9wZXJ0eSh0KSkpc3dpdGNoKHQpe2Nhc2Ugdy5USVRMRS5LRVk6ZVt0XS5sZW58fGVbdF0ubGVuZ3RoP2k9e2lkOncuVElUTEUuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjplW3RdLmxlbnx8ZVt0XS5sZW5ndGgsZXh0OmVbdF0uZXh0fX06T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogVGl0bGUgTGVuZ3RoIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5JTUFHRS5LRVk6ZVt0XS5zaXplcyYmZVt0XS5zaXplcy5sZW5ndGg+MD9pPXtpZDp3LklNQUdFLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpULHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKSx3bWluOmVbdF0ud21pbnx8ZVt0XS5taW5pbXVtV2lkdGh8fChlW3RdLm1pbnNpemVzP2VbdF0ubWluc2l6ZXNbMF06ZyksaG1pbjplW3RdLmhtaW58fGVbdF0ubWluaW11bUhlaWdodHx8KGVbdF0ubWluc2l6ZXM/ZVt0XS5taW5zaXplc1sxXTpnKSxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19Ok9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IEltYWdlIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5JQ09OLktFWTplW3RdLnNpemVzJiZlW3RdLnNpemVzLmxlbmd0aD4wP2k9e2lkOncuSUNPTi5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6aix3OmVbdF0ud3x8ZVt0XS53aWR0aHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1swXTpnKSxoOmVbdF0uaHx8ZVt0XS5oZWlnaHR8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMV06Zyl9fTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5WSURFTy5LRVk6aT17aWQ6dy5WSURFTy5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVt0XS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW3RdLm1heGR1cmF0aW9uLHByb3RvY29sczplW3RdLnByb3RvY29scyxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19O2JyZWFrO2Nhc2Ugdy5FWFQuS0VZOmk9e2lkOncuRVhULklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIHcuTE9HTy5LRVk6aT17aWQ6dy5MT0dPLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpQLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKX19O2JyZWFrO2Nhc2Ugdy5TUE9OU09SRURCWS5LRVk6Y2FzZSB3LkJPRFkuS0VZOmNhc2Ugdy5SQVRJTkcuS0VZOmNhc2Ugdy5MSUtFUy5LRVk6Y2FzZSB3LkRPV05MT0FEUy5LRVk6Y2FzZSB3LlBSSUNFLktFWTpjYXNlIHcuU0FMRVBSSUNFLktFWTpjYXNlIHcuUEhPTkUuS0VZOmNhc2Ugdy5BRERSRVNTLktFWTpjYXNlIHcuREVTQzIuS0VZOmNhc2Ugdy5ESVNQTEFZVVJMLktFWTpjYXNlIHcuQ1RBLktFWTppPXEoS1t0XSxlKX19aSYmaS5pZCYmKHIuYXNzZXRzW3IuYXNzZXRzLmxlbmd0aF09aSl9dmFyIG49Uy5sZW5ndGgscz0wO3JldHVybiBTLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1yLmFzc2V0cy5sZW5ndGgsYT0wO2E8dDthKyspaWYoZS5pZD09ci5hc3NldHNbYV0uaWQpe3MrKzticmVha319KSksQz1uIT1zLHJ9ZnVuY3Rpb24gVyhlKXt2YXIgcix0PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMsaT1bXTtpZih0IT09ZyYmT2JqZWN0KGEuaXNBcnJheSkodCkpe2lmKHI9e30sZS5wYXJhbXMud2lkdGh8fGUucGFyYW1zLmhlaWdodClyLnc9ZS5wYXJhbXMud2lkdGgsci5oPWUucGFyYW1zLmhlaWdodDtlbHNle2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcj1nLE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IG1lZGlhVHlwZXMuYmFubmVyLnNpemUgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYmFubmVyIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKSxyO3Iudz1wYXJzZUludCh0WzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQodFswXVsxXSwxMCksdD10LnNwbGljZSgxLHQubGVuZ3RoLTEpfXQubGVuZ3RoPjAmJihpPVtdLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MSYmaS5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksaS5sZW5ndGg+MCYmKHIuZm9ybWF0PWkpKSxyLnBvcz0wLHIudG9wZnJhbWU9T2JqZWN0KGEuaW5JZnJhbWUpKCk/MDoxfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI9ZztyZXR1cm4gcn1mdW5jdGlvbiBfKGUscil7T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGxhY2VtZW50Iil8fE9iamVjdChhLmxvZ1dhcm4pKCJWaWRlby5QbGFjZW1lbnQgcGFyYW0gbWlzc2luZyBmb3IgIityKX1mdW5jdGlvbiBWKGUpe3ZhciByLHQ9T2JqZWN0KGEubWVyZ2VEZWVwKShPYmplY3QoYS5kZWVwQWNjZXNzKShlLm1lZGlhVHlwZXMsInZpZGVvIiksZS5wYXJhbXMudmlkZW8pO2lmKHQhPT1nKXtmb3IodmFyIGkgaW4gcj17fSxfKHQsZS5hZFVuaXRDb2RlKSxJKXQuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPU0oaSx0W2ldLElbaV0pKTtPYmplY3QoYS5pc0FycmF5KShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLDEwKSk6T2JqZWN0KGEuaXNOdW1iZXIpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdLDEwKSl9ZWxzZSByPWcsT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogVmlkZW8gY29uZmlnIHBhcmFtcyBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIgd2l0aCBtZWRpYVR5cGUgc2V0IGFzIHZpZGVvLiBJZ25vcmluZyB2aWRlbyBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIik7cmV0dXJuIHJ9ZnVuY3Rpb24gQihlLHIsdCl7dmFyIGE9ci5ydGQmJnIucnRkLmp3cGxheWVyJiZyLnJ0ZC5qd3BsYXllci50YXJnZXRpbmd8fHZvaWQgMCxpPSIiO2lmKHZvaWQgMCE9PWEmJiIiIT09YSYmYS5oYXNPd25Qcm9wZXJ0eSgic2VnbWVudHMiKSl7dmFyIG4scz1hLnNlZ21lbnRzLmxlbmd0aDtpKz0ianctaWQ9IithLmNvbnRlbnQuaWQ7Zm9yKHZhciBvPTA7bzxzO28rKylpKz0ifGp3LSIrYS5zZWdtZW50c1tvXSsiPTEiO3Q/dm9pZCAwPT09ZS5kY3RyfHwwPT1lLmRjdHIubGVuZ3RoP2UuZGN0cj1pOmUuZGN0cis9InwiK2k6KG49ZS5leHQpJiZ2b2lkIDA9PT1uLmtleV92YWw/bi5rZXlfdmFsPWk6bi5rZXlfdmFsKz0ifCIraX19ZnVuY3Rpb24gRyhlLHIpe3ZhciB0LGksbz17fSxkPXt9LGw9ZS5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKT9lLnNpemVzOltdLGY9IiIsaD1bXTtpZihmdW5jdGlvbihlLHIpe3IucGFyYW1zLmRlYWxzJiYoT2JqZWN0KGEuaXNBcnJheSkoci5wYXJhbXMuZGVhbHMpP3IucGFyYW1zLmRlYWxzLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmlzU3RyKShyKSYmci5sZW5ndGg+Mz8oZS5wbXB8fChlLnBtcD17cHJpdmF0ZV9hdWN0aW9uOjAsZGVhbHM6W119KSxlLnBtcC5kZWFscy5wdXNoKHtpZDpyfSkpOk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IGRlYWwtaWQgcHJlc2VudCBpbiBhcnJheSBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhIHN0cmluZ3Mgd2l0aCBtb3JlIHRoYW4gMyBjaGFyYXRlcnMgbGVuZ3RoLCBkZWFsLWlkIGlnbm9yZWQ6ICIrcil9KSk6T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogYmlkLnBhcmFtcy5kZWFscyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKSl9KG89e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMuYWRVbml0fHx2b2lkIDAsYmlkZmxvb3I6Tigia2FkZmxvb3IiLGUucGFyYW1zLmthZGZsb29yKSxzZWN1cmU6MSxleHQ6e3BtWm9uZUlkOk4oInBtem9uZWlkIixlLnBhcmFtcy5wbXpvbmVpZCl9LGJpZGZsb29yY3VyOmUucGFyYW1zLmN1cnJlbmN5P04oImN1cnJlbmN5IixlLnBhcmFtcy5jdXJyZW5jeSk6Yn0sZSksZnVuY3Rpb24oZSxyKXt2YXIgdCxpPSIiO2lmKHIucGFyYW1zLmRjdHIpaWYoaT1yLnBhcmFtcy5kY3RyLE9iamVjdChhLmlzU3RyKShpKSYmaS5sZW5ndGg+MCl7dmFyIG49aS5zcGxpdCgifCIpO2k9IiIsbi5mb3JFYWNoKChmdW5jdGlvbihlKXtpKz1lLmxlbmd0aD4wP2UudHJpbSgpKyJ8IjoiIn0pKSx0PWkubGVuZ3RoLCJ8Ij09PWkuc3Vic3RyaW5nKHQsdC0xKSYmKGk9aS5zdWJzdHJpbmcoMCx0LTEpKSxlLmV4dC5rZXlfdmFsPWkudHJpbSgpfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6IGRjdHIgd2l0aCB2YWx1ZSA6ICIraSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgZW1wdHkgb3Igbm9uLXN0cmluZyB2YWx1ZSIpfShvLGUpLEIobyxlKSxlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikpZm9yKGYgaW4gZS5tZWRpYVR5cGVzKXN3aXRjaChmKXtjYXNlIG4uYjoodD1XKGUpKSE9PWcmJihvLmJhbm5lcj10KTticmVhaztjYXNlIG4uYzpkLnJlcXVlc3Q9SlNPTi5zdHJpbmdpZnkoTChlLm5hdGl2ZVBhcmFtcykpLEM/T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogRXJyb3IgaW4gTmF0aXZlIGFkdW5pdCAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYWR1bml0LiBSZWZlciB0byBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9zaG93LW5hdGl2ZS1hZHMuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLiIpOm8ubmF0aXZlPWQ7YnJlYWs7Y2FzZSBuLmQ6KGk9VihlKSkhPT1nJiYoby52aWRlbz1pKX1lbHNlIHQ9e3BvczowLHc6ZS5wYXJhbXMud2lkdGgsaDplLnBhcmFtcy5oZWlnaHQsdG9wZnJhbWU6T2JqZWN0KGEuaW5JZnJhbWUpKCk/MDoxfSxPYmplY3QoYS5pc0FycmF5KShsKSYmbC5sZW5ndGg+MSYmKChsPWwuc3BsaWNlKDEsbC5sZW5ndGgtMSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2gucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSkpLHQuZm9ybWF0PWgpLG8uYmFubmVyPXQ7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/YyhPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3AoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmMoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9KHt9LE9iamVjdChhLmRlZXBBY2Nlc3MpKHIsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJwYmFkc2xvdCI9PT1yPyJzdHJpbmciPT10eXBlb2YgdFtyXSYmdFtyXSYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGF0YS5wYmFkc2xvdCIsdFtyXSk6ImFkc2VydmVyIj09PXI/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9T2JqZWN0KGEuZGVlcEFjY2VzcykodCwiYWRzZXJ2ZXIuIi5jb25jYXQocikpOyJzdHJpbmciPT10eXBlb2YgaSYmaSYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoci50b0xvd2VyQ2FzZSgpKSxpKSwiYWRzbG90Ij09PXImJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRmcF9hZF91bml0X2NvZGUiLGkpKX0pKTpPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsImV4dC5kYXRhLiIuY29uY2F0KHIpLHRbcl0pfSkpfShvLGUpLGZ1bmN0aW9uKGUscil7dmFyIHQ9LTE7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuZ2V0Rmxvb3J8fHMuYi5nZXRDb25maWcoInB1Ym1hdGljLmRpc2FibGVGbG9vcnMiKXx8W24uYixuLmQsbi5jXS5mb3JFYWNoKChmdW5jdGlvbihpKXtpZihlLmhhc093blByb3BlcnR5KGkpKXt2YXIgbj1bXTsiYmFubmVyIj09PWkmJihlW2ldLncmJmVbaV0uaCYmbi5wdXNoKFtlW2ldLncsZVtpXS5oXSksT2JqZWN0KGEuaXNBcnJheSkoZVtpXS5mb3JtYXQpJiZlW2ldLmZvcm1hdC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5wdXNoKFtlLncsZS5oXSl9KSkpLDA9PT1uLmxlbmd0aCYmbi5wdXNoKCIqIiksbi5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcz1yLmdldEZsb29yKHtjdXJyZW5jeTplLmJpZGZsb29yY3VyLG1lZGlhVHlwZTppLHNpemU6bn0pO2lmKE9iamVjdChhLmxvZ0luZm8pKG0sImZsb29yIGZyb20gZmxvb3IgbW9kdWxlIHJldHVybmVkIGZvciBtZWRpYXR5cGU6IixpLCIgYW5kIHNpemU6IixuLCIgaXM6IGN1cnJlbmN5IixzLmN1cnJlbmN5LCJmbG9vciIscy5mbG9vciksIm9iamVjdCI9PT11KHMpJiZzLmN1cnJlbmN5PT09ZS5iaWRmbG9vcmN1ciYmIWlzTmFOKHBhcnNlSW50KHMuZmxvb3IpKSl7dmFyIG89cGFyc2VGbG9hdChzLmZsb29yKTtPYmplY3QoYS5sb2dJbmZvKShtLCJmbG9vciBmcm9tIGZsb29yIG1vZHVsZToiLG8sInByZXZpb3VzIGZsb29yIHZhbHVlIix0LCJNaW46IixNYXRoLm1pbihvLHQpKSx0PS0xPT09dD9vOk1hdGgubWluKG8sdCksT2JqZWN0KGEubG9nSW5mbykobSwibmV3IGZsb29yIHZhbHVlOiIsdCl9fSkpfX0pKTtlLmJpZGZsb29yJiYoT2JqZWN0KGEubG9nSW5mbykobSwiZmxvb3IgZnJvbSBmbG9vciBtb2R1bGU6Iix0LCJpbXBPYmouYmlkZmxvb3IiLGUuYmlkZmxvb3IsIk1heDoiLE1hdGgubWF4KHQsZS5iaWRmbG9vcikpLHQ9TWF0aC5tYXgodCxlLmJpZGZsb29yKSk7ZS5iaWRmbG9vcj0haXNOYU4odCkmJnQ+MD90OmcsT2JqZWN0KGEubG9nSW5mbykobSwibmV3IGltcE9iai5iaWRmbG9vciB2YWx1ZToiLGUuYmlkZmxvb3IpfShvLGUpLG8uaGFzT3duUHJvcGVydHkobi5iKXx8by5oYXNPd25Qcm9wZXJ0eShuLmMpfHxvLmhhc093blByb3BlcnR5KG4uZCk/bzpnfWZ1bmN0aW9uIEYoZSxyKXt2YXIgdD1udWxsLGk9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiMC51c2VySWQuZmxvY0lkIik7aWYoaSYmaS5pZClzd2l0Y2gocil7Y2FzZSBZOnQ9e2lkOiJGTE9DIixuYW1lOiJGTE9DIixleHQ6e3ZlcjppLnZlcnNpb259LHNlZ21lbnQ6W3tpZDppLmlkLG5hbWU6ImNocm9tZS5jb20iLHZhbHVlOmkuaWQudG9TdHJpbmcoKX1dfTticmVhaztjYXNlIHg6ZGVmYXVsdDp0PXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3thdHlwZToxLGlkOmkuaWQsZXh0Ont2ZXI6aS52ZXJzaW9ufX1dfX1yZXR1cm4gdH1mdW5jdGlvbiBKKGUpe3JldHVybiEwPT09T2JqZWN0KGEuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjB9T2JqZWN0KGEuX2VhY2gpKHcsKGZ1bmN0aW9uKGUpe3pbZS5JRF09ZS5LRVl9KSksT2JqZWN0KGEuX2VhY2gpKHcsKGZ1bmN0aW9uKGUpe0tbZS5LRVldPWV9KSk7dmFyIFg9e2NvZGU6bCxndmxpZDo3NixzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoZSYmZS5wYXJhbXMpe2lmKCFPYmplY3QoYS5pc1N0cikoZS5wYXJhbXMucHVibGlzaGVySWQpKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBwdWJsaXNoZXJJZCBpcyBtYW5kYXRvcnkgYW5kIGNhbm5vdCBiZSBudW1lcmljICh3cmFwIGl0IGluIHF1b3RlcyBpbiB5b3VyIGNvbmZpZykuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiAiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmQpKXt2YXIgcj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLm1lZGlhVHlwZXMsInZpZGVvLm1pbWVzIiksdD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWltZXMiKTtpZighMT09PUoocikmJiExPT09Sih0KSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogRm9yIHZpZGVvIGFkcywgYmlkLm1lZGlhVHlwZXMudmlkZW8ubWltZXMgT1IgYmlkLnBhcmFtcy52aWRlby5taW1lcyBzaG91bGQgYmUgcHJlc2VudCBhbmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6IitKU09OLnN0cmluZ2lmeShlKSksITE7aWYoIWUubWVkaWFUeXBlc1tuLmRdLmhhc093blByb3BlcnR5KCJjb250ZXh0IikpcmV0dXJuIE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQobSwiOiBubyBjb250ZXh0IHNwZWNpZmllZCBpbiBiaWQuIFJlamVjdGluZyBiaWQ6ICIpLGUpLCExO2lmKCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCYmIU9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5vdXRzdHJlYW1BVSkmJiFlLmhhc093blByb3BlcnR5KCJyZW5kZXJlciIpJiYhZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikpcmV0dXJuIGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmIpfHxlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKT8oZGVsZXRlIGUubWVkaWFUeXBlc1tuLmRdLE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCc6IGZvciAib3V0c3RyZWFtIiBiaWRzIGVpdGhlciBvdXRzdHJlYW1BVSBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBvciBhZCB1bml0IHN1cHBsaWVkIHJlbmRlcmVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcgbWVkaWF0eXBlIFZpZGVvIG9mIGJpZDogJyksZSksITApOihPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBiaWQ6ICcpLGUpLCExKX1yZXR1cm4hMH1yZXR1cm4hMX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0O3ImJnIucmVmZXJlckluZm8mJih0PXIucmVmZXJlckluZm8pO3ZhciBpLG89ZnVuY3Rpb24oZSl7cmV0dXJue3BhZ2VVUkw6ZSYmZS5yZWZlcmVyP2UucmVmZXJlcjp3aW5kb3cubG9jYXRpb24uaHJlZixyZWZVUkw6d2luZG93LmRvY3VtZW50LnJlZmVycmVyfX0odCksYz1mdW5jdGlvbihlKXtyZXR1cm57aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W2JdLGltcDpbXSxzaXRlOntwYWdlOmUucGFnZVVSTCxyZWY6ZS5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fX0obykscD0iIixsPVtdLG09W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigoaT1PYmplY3QoYS5kZWVwQ2xvbmUpKGUpKS5wYXJhbXMuYWRTbG90PWkucGFyYW1zLmFkU2xvdHx8IiIsVShpKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSk7ZWxzZSBpZighKGkuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmaS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYyl8fDAhPT1pLnBhcmFtcy53aWR0aHx8MCE9PWkucGFyYW1zLmhlaWdodCkpcmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBTa2lwcGluZyB0aGUgbm9uLXN0YW5kYXJkIGFkc2xvdDogIixpLnBhcmFtcy5hZFNsb3QsSlNPTi5zdHJpbmdpZnkoaSkpO28ucHViSWQ9by5wdWJJZHx8aS5wYXJhbXMucHVibGlzaGVySWQsKG89ZnVuY3Rpb24oZSxyKXt2YXIgdCxpLG47Zm9yKHQgaW4gci5rYWRwYWdldXJsfHwoci5rYWRwYWdldXJsPXIucGFnZVVSTCksaCloLmhhc093blByb3BlcnR5KHQpJiYoaT1lW3RdKSYmKCJvYmplY3QiPT09dShuPWhbdF0pJiYoaT1uLmYoaSxyKSksT2JqZWN0KGEuaXNTdHIpKGkpP3JbdF09aTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogIit0KyIgd2l0aCB2YWx1ZSA6ICIraFt0XSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KGkpKSk7cmV0dXJuIHJ9KGkucGFyYW1zLG8pKS50cmFuc2FjdGlvbklkPWkudHJhbnNhY3Rpb25JZCwiIj09PXA/cD1pLnBhcmFtcy5jdXJyZW5jeXx8ZzppLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSYmcCE9PWkucGFyYW1zLmN1cnJlbmN5JiZPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEN1cnJlbmN5IHNwZWNpZmllciBpZ25vcmVkLiBPbmx5IG9uZSBjdXJyZW5jeSBwZXJtaXR0ZWQuIiksaS5wYXJhbXMuY3VycmVuY3k9cCxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiZGN0ciIpJiZPYmplY3QoYS5pc1N0cikoaS5wYXJhbXMuZGN0cikmJmwucHVzaChpLnBhcmFtcy5kY3RyKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmNhdCIpJiZPYmplY3QoYS5pc0FycmF5KShpLnBhcmFtcy5iY2F0KSYmKG09bS5jb25jYXQoaS5wYXJhbXMuYmNhdCkpO3ZhciByPUcoaSk7ciYmYy5pbXAucHVzaChyKX0pKSwwIT1jLmltcC5sZW5ndGgpe3ZhciBmLHk7Yy5zaXRlLnB1Ymxpc2hlci5pZD1vLnB1YklkLnRyaW0oKSxBPW8ucHViSWQudHJpbSgpLGMuZXh0LndyYXBwZXI9e30sYy5leHQud3JhcHBlci5wcm9maWxlPXBhcnNlSW50KG8ucHJvZklkKXx8ZyxjLmV4dC53cmFwcGVyLnZlcnNpb249cGFyc2VJbnQoby52ZXJJZCl8fGcsYy5leHQud3JhcHBlci53aWlkPW8ud2lpZHx8ci5hdWN0aW9uSWQsYy5leHQud3JhcHBlci53dj0icHJlYmlkX3ByZWJpZF81LjIwLjIiLGMuZXh0LndyYXBwZXIudHJhbnNhY3Rpb25JZD1vLnRyYW5zYWN0aW9uSWQsYy5leHQud3JhcHBlci53cD0icGJqcyIsYy51c2VyLmdlbmRlcj1vLmdlbmRlcj9vLmdlbmRlci50cmltKCk6ZyxjLnVzZXIuZ2VvPXt9LGMudXNlci5nZW8ubGF0PU4oImxhdCIsby5sYXQpLGMudXNlci5nZW8ubG9uPU4oImxvbiIsby5sb24pLGMudXNlci55b2I9TigieW9iIixvLnlvYiksYy5kZXZpY2UuZ2VvPWMudXNlci5nZW8sYy5zaXRlLnBhZ2U9by5rYWRwYWdldXJsLnRyaW0oKXx8Yy5zaXRlLnBhZ2UudHJpbSgpLGMuc2l0ZS5kb21haW49KGY9Yy5zaXRlLnBhZ2UsKHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPWYseS5ob3N0bmFtZSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImNvbnRlbnQiKSkmJihjLnNpdGUuY29udGVudD1zLmIuZ2V0Q29uZmlnKCJjb250ZW50IikpLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihjLmRldmljZT1kKGMuZGV2aWNlLHMuYi5nZXRDb25maWcoImRldmljZSIpKSksT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJzb3VyY2UudGlkIixvLnRyYW5zYWN0aW9uSWQpLC0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigicHVibWF0aWNUZXN0PXRydWUiKSYmKGMudGVzdD0xKSxlWzBdLnNjaGFpbiYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJzb3VyY2UuZXh0LnNjaGFpbiIsZVswXS5zY2hhaW4pLHImJnIuZ2RwckNvbnNlbnQmJihPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHImJnIudXNwQ29uc2VudCYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmNvcHBhIiwxKSxmdW5jdGlvbihlLHIpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsIjAudXNlcklkQXNFaWRzIiksaT1GKHIseCk7aSYmKHR8fCh0PVtdKSx0LnB1c2goaSkpLE9iamVjdChhLmlzQXJyYXkpKHQpJiZ0Lmxlbmd0aD4wJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsInVzZXIuZWlkcyIsdCl9KGMsZSksZnVuY3Rpb24oZSxyKXsocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHwoT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBiZSBhIHN0cmluZywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSksITEpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe2lmKGUubGVuZ3RoPjMpcmV0dXJuIHQuaW5kZXhPZihlKT09PXI7T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkpLmxlbmd0aD4wJiYoT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBTZWxlY3RlZDogIixyKSxlLmJjYXQ9cil9KGMsbSksZnVuY3Rpb24oZSxyKXt2YXIgdD1GKHIsWSk7dCYmKGUudXNlcnx8KGUudXNlcj17fSksZS51c2VyLmRhdGF8fChlLnVzZXIuZGF0YT1bXSksZS51c2VyLmRhdGEucHVzaCh0KSl9KGMsZSk7dmFyIHY9cy5iLmdldENvbmZpZygib3J0YjIiKXx8e307cmV0dXJuIHYuc2l0ZSYmT2JqZWN0KGEubWVyZ2VEZWVwKShjLHtzaXRlOnYuc2l0ZX0pLHYudXNlciYmT2JqZWN0KGEubWVyZ2VEZWVwKShjLHt1c2VyOnYudXNlcn0pLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJhcHAiKSkmJihjLmFwcD1zLmIuZ2V0Q29uZmlnKCJhcHAiKSxjLmFwcC5wdWJsaXNoZXI9Yy5zaXRlLnB1Ymxpc2hlcixjLmFwcC5leHQ9Yy5zaXRlLmV4dHx8Zywib2JqZWN0IiE9PXUoYy5hcHAuY29udGVudCkmJihjLmFwcC5jb250ZW50PWMuc2l0ZS5jb250ZW50fHxnKSxkZWxldGUgYy5zaXRlKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vaGJvcGVuYmlkLnB1Ym1hdGljLmNvbS90cmFuc2xhdG9yP3NvdXJjZT1wcmViaWQtY2xpZW50IixkYXRhOkpTT04uc3RyaW5naWZ5KGMpLGJpZGRlclJlcXVlc3Q6cn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9YixzPUpTT04ucGFyc2Uoci5kYXRhKSxvPXMuc2l0ZSYmcy5zaXRlLnJlZj9zLnNpdGUucmVmOiIiO3RyeXtlLmJvZHkmJmUuYm9keS5zZWF0YmlkJiZPYmplY3QoYS5pc0FycmF5KShlLmJvZHkuc2VhdGJpZCkmJihpPWUuYm9keS5jdXJ8fGksZS5ib2R5LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWQmJk9iamVjdChhLmlzQXJyYXkpKGUuYmlkKSYmZS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZCl7dmFyIGM9e3JlcXVlc3RJZDpkLmltcGlkLGNwbToocGFyc2VGbG9hdChkLnByaWNlKXx8MCkudG9GaXhlZCgyKSx3aWR0aDpkLncsaGVpZ2h0OmQuaCxjcmVhdGl2ZUlkOmQuY3JpZHx8ZC5pZCxkZWFsSWQ6ZC5kZWFsaWQsY3VycmVuY3k6aSxuZXRSZXZlbnVlOnRydWUsdHRsOjMwMCxyZWZlcnJlcjpvLGFkOmQuYWRtLHBtX3NlYXQ6ZS5zZWF0fHxudWxsLHBtX2RzcGlkOmQuZXh0JiZkLmV4dC5kc3BpZD9kLmV4dC5kc3BpZDpudWxsLHBhcnRuZXJJbXBJZDpkLmlkfHwiIn07cy5pbXAmJnMuaW1wLmxlbmd0aD4wJiZzLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihkLmltcGlkPT09ZS5pZClzd2l0Y2goZnVuY3Rpb24oZSxyKXtpZihlLmV4dCYmbnVsbCE9ZS5leHQuQmlkVHlwZSlyLm1lZGlhVHlwZT1SW2UuZXh0LkJpZFR5cGVdO2Vsc2V7T2JqZWN0KGEubG9nSW5mbykoIlB1Yk1hdGljOiBiaWQuZXh0LkJpZFR5cGUgZG9lcyBub3QgZXhpc3QsIGNoZWNraW5nIGFsdGVybmF0aXZlbHkgZm9yIG1lZGlhVHlwZSIpO3ZhciB0PWUuYWRtLGk9IiIscz1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKHQuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJyk+PTApci5tZWRpYVR5cGU9bi5iO2Vsc2UgaWYocy50ZXN0KHQpKXIubWVkaWFUeXBlPW4uZDtlbHNlIHRyeXsoaT1KU09OLnBhcnNlKHQucmVwbGFjZSgvXFwvZywiIikpKSYmaS5uYXRpdmUmJihyLm1lZGlhVHlwZT1uLmMpfWNhdGNoKGUpe09iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrdCl9fX0oZCxjKSxjLm1lZGlhVHlwZSl7Y2FzZSBuLmI6YnJlYWs7Y2FzZSBuLmQ6Yy53aWR0aD1kLmhhc093blByb3BlcnR5KCJ3Iik/ZC53OmUudmlkZW8udyxjLmhlaWdodD1kLmhhc093blByb3BlcnR5KCJoIik/ZC5oOmUudmlkZW8uaCxjLnZhc3RYbWw9ZC5hZG0sZnVuY3Rpb24oZSxyKXt2YXIgdCxhLGk7aWYoci5iaWRkZXJSZXF1ZXN0JiZyLmJpZGRlclJlcXVlc3QuYmlkcyl7Zm9yKHZhciBzPTA7czxyLmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg7cysrKXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLmJpZElkPT09ZS5yZXF1ZXN0SWQmJih0PXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLnBhcmFtcyxhPXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0LGk9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYWRVbml0Q29kZSk7YSYmIm91dHN0cmVhbSI9PT1hJiZ0JiZ0Lm91dHN0cmVhbUFVJiZpJiYoZS5yZW5kZXJlckNvZGU9dC5vdXRzdHJlYW1BVSxlLnJlbmRlcmVyPWsubmV3UmVuZGVyZXIoZS5yZW5kZXJlckNvZGUsaSkpfX0oYyxyKTticmVhaztjYXNlIG4uYzohZnVuY3Rpb24oZSxyKXtpZihyLm5hdGl2ZT17fSxlLmhhc093blByb3BlcnR5KCJhZG0iKSl7dmFyIHQ9IiI7dHJ5e3Q9SlNPTi5wYXJzZShlLmFkbS5yZXBsYWNlKC9cXC9nLCIiKSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityLmFkbSl9aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cyYmdC5uYXRpdmUuYXNzZXRzLmxlbmd0aD4wKXtyLm1lZGlhVHlwZT1uLmM7Zm9yKHZhciBpPTAscz10Lm5hdGl2ZS5hc3NldHMubGVuZ3RoO2k8cztpKyspc3dpdGNoKHQubmF0aXZlLmFzc2V0c1tpXS5pZCl7Y2FzZSB3LlRJVExFLklEOnIubmF0aXZlLnRpdGxlPXQubmF0aXZlLmFzc2V0c1tpXS50aXRsZSYmdC5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSB3LklNQUdFLklEOnIubmF0aXZlLmltYWdlPXt1cmw6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2Ugdy5JQ09OLklEOnIubmF0aXZlLmljb249e3VybDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSB3LlNQT05TT1JFREJZLklEOmNhc2Ugdy5CT0RZLklEOmNhc2Ugdy5MSUtFUy5JRDpjYXNlIHcuRE9XTkxPQURTLklEOmNhc2Ugdy5QUklDRTpjYXNlIHcuU0FMRVBSSUNFLklEOmNhc2Ugdy5QSE9ORS5JRDpjYXNlIHcuQUREUkVTUy5JRDpjYXNlIHcuREVTQzIuSUQ6Y2FzZSB3LkNUQS5JRDpjYXNlIHcuUkFUSU5HLklEOmNhc2Ugdy5ESVNQTEFZVVJMLklEOnIubmF0aXZlW3pbdC5uYXRpdmUuYXNzZXRzW2ldLmlkXV09dC5uYXRpdmUuYXNzZXRzW2ldLmRhdGEmJnQubmF0aXZlLmFzc2V0c1tpXS5kYXRhLnZhbHVlfXIubmF0aXZlLmNsaWNrVXJsPXQubmF0aXZlLmxpbmsmJnQubmF0aXZlLmxpbmsudXJsLHIubmF0aXZlLmNsaWNrVHJhY2tlcnM9dC5uYXRpdmUubGluayYmdC5uYXRpdmUubGluay5jbGlja3RyYWNrZXJzfHxbXSxyLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnM9dC5uYXRpdmUuaW1wdHJhY2tlcnN8fFtdLHIubmF0aXZlLmpzdHJhY2tlcj10Lm5hdGl2ZS5qc3RyYWNrZXJ8fFtdLHIud2lkdGh8fChyLndpZHRoPTApLHIuaGVpZ2h0fHwoci5oZWlnaHQ9MCl9fX0oZCxjKX19KSksZC5leHQmJmQuZXh0LmRlYWxfY2hhbm5lbCYmKGMuZGVhbENoYW5uZWw9RFtkLmV4dC5kZWFsX2NoYW5uZWxdfHxudWxsKSxjLm1ldGE9e30sZC5leHQmJmQuZXh0LmRzcGlkJiYoYy5tZXRhLm5ldHdvcmtJZD1kLmV4dC5kc3BpZCksZC5leHQmJmQuZXh0LmFkdmlkJiYoYy5tZXRhLmJ1eWVySWQ9ZC5leHQuYWR2aWQpLGQuYWRvbWFpbiYmZC5hZG9tYWluLmxlbmd0aD4wJiYoYy5tZXRhLmFkdmVydGlzZXJEb21haW5zPWQuYWRvbWFpbixjLm1ldGEuY2xpY2tVcmw9ZC5hZG9tYWluWzBdKSxlLmV4dCYmZS5leHQuYnV5aWQmJihjLmFkc2VydmVyVGFyZ2V0aW5nPXtoYl9idXlpZF9wdWJtYXRpYzplLmV4dC5idXlpZH0pLHQucHVzaChjKX0pKX0pKSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKGUpfXJldHVybiB0fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGk9IiIrQTtyZXR1cm4gdCYmKGkrPSImZ2Rwcj0iKyh0LmdkcHJBcHBsaWVzPzE6MCksaSs9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQodC5jb25zZW50U3RyaW5nfHwiIikpLGEmJihpKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQoYSkpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmKGkrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvdXNlcl9zeW5jLmh0bWw/a2RudHVpZD0xJnA9IitpfV06W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2ltYWdlOC5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvSW1nU3luYz9wPSIraX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyLHQsaSl7cmV0dXJuIEIoZSx0LmJpZHNbMF0sITApLE9iamVjdChhLmNvbnZlcnRUeXBlcykoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoWCl9fSxbNzE0XSk7CnVwYmpzQ2h1bmsoWzMzXSx7NjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO24uYT1mdW5jdGlvbihlKXt2YXIgbix0PWUudXJsLHI9ZS5hbmFseXRpY3NUeXBlLHU9ZS5nbG9iYWwsbD1lLmhhbmRsZXIsUz1bXSxqPTAsbT0hMDsoZnVuY3Rpb24oKXtpZihtKXtmb3IodmFyIGU9MDtlPFMubGVuZ3RoO2UrKylTW2VdKCk7Uy5wdXNoPWZ1bmN0aW9uKGUpe2UoKX0sbT0hMX1PYmplY3Qoby5sb2dNZXNzYWdlKSgiZXZlbnQgY291bnQgc2VudCB0byAiLmNvbmNhdCh1LCI6ICIpLmNvbmNhdChqKSl9KSgpO3JldHVybnt0cmFjazpmdW5jdGlvbihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJnczt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1OJiZ3aW5kb3dbdV0obCxuLHQpO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PXEmJlUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LGVucXVldWU6QixlbmFibGVBbmFseXRpY3M6UixkaXNhYmxlQW5hbHl0aWNzOmZ1bmN0aW9uKCl7T2JqZWN0KG8uX2VhY2gpKG4sKGZ1bmN0aW9uKGUsbil7cy5vZmYobixlKX0pKSx0aGlzLmVuYWJsZUFuYWx5dGljcz10aGlzLl9vbGRFbmFibGU/dGhpcy5fb2xkRW5hYmxlOlJ9LGdldEFkYXB0ZXJUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGdldEdsb2JhbDpmdW5jdGlvbigpe3JldHVybiB1fSxnZXRIYW5kbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LGdldFVybDpmdW5jdGlvbigpe3JldHVybiB0fX07ZnVuY3Rpb24gVShlKXt2YXIgbj1lLmV2ZW50VHlwZSxyPWUuYXJncyx1PWUuY2FsbGJhY2s7T2JqZWN0KGEuYSkodCx1LEpTT04uc3RyaW5naWZ5KHtldmVudFR5cGU6bixhcmdzOnJ9KSl9ZnVuY3Rpb24gQihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncyxyPXRoaXM7dSYmd2luZG93W3VdJiZuJiZ0P3RoaXMudHJhY2soe2V2ZW50VHlwZTpuLGFyZ3M6dH0pOlMucHVzaCgoZnVuY3Rpb24oKXtqKyssci50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSl9KSl9ZnVuY3Rpb24gUihlKXt2YXIgdCxyPXRoaXMsYT10aGlzOyJvYmplY3QiIT09aShlKXx8Im9iamVjdCIhPT1pKGUub3B0aW9ucyl8fCh2b2lkIDA9PT1lLm9wdGlvbnMuc2FtcGxpbmd8fE1hdGgucmFuZG9tKCk8cGFyc2VGbG9hdChlLm9wdGlvbnMuc2FtcGxpbmcpKT8ocy5nZXRFdmVudHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncztuIT09YiYmQi5jYWxsKGEse2V2ZW50VHlwZTpuLGFyZ3M6dH0pfX0pKSxjKHQ9e30seSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnksYXJnczplfSl9KSksYyh0LGcsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpnLGFyZ3M6ZX0pfSkpLGModCxULChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6VCxhcmdzOmV9KX0pKSxjKHQsdiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnYsYXJnczplfSl9KSksYyh0LGIsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpiLGFyZ3M6ZX0pfSkpLGModCxkLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6ZCxhcmdzOmV9KX0pKSxjKHQsRSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkUsYXJnczplfSl9KSksYyh0LF8sKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpfLGFyZ3M6ZX0pfSkpLGModCxBLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6QSxhcmdzOmV9KX0pKSxjKHQscCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnAsYXJnczplfSl9KSksYyh0LEQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpELGFyZ3M6ZX0pfSkpLGModCxoLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6aCxhcmdzOmV9KX0pKSxjKHQsTywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOk8sYXJnczplfSl9KSksYyh0LEksKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpJLGFyZ3M6ZX0pfSkpLGModCxmLChmdW5jdGlvbihuKXtuLmNvbmZpZz0ib2JqZWN0Ij09PWkoZSkmJmUub3B0aW9uc3x8e30sci5lbnF1ZXVlKHtldmVudFR5cGU6ZixhcmdzOm59KX0pKSxuPXQsT2JqZWN0KG8uX2VhY2gpKG4sKGZ1bmN0aW9uKGUsbil7cy5vbihuLGUpfSkpKTpPYmplY3Qoby5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGRpc2FibGVkIGJ5IHNhbXBsaW5nJykpO3RoaXMuX29sZEVuYWJsZT10aGlzLmVuYWJsZUFuYWx5dGljcyx0aGlzLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGFscmVhZHkgZW5hYmxlZCwgdW5uZWNlc3NhcnkgY2FsbCB0byBgZW5hYmxlQW5hbHl0aWNzYC4nKSl9fX07dmFyIHI9dCg1KSx1PXQubihyKSxhPXQoNCksbz10KDApO2Z1bmN0aW9uIGMoZSxuLHQpe3JldHVybiBuIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbbl09dCxlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgcz10KDEwKSxsPXUuYS5FVkVOVFMsZj1sLkFVQ1RJT05fSU5JVCxwPWwuQVVDVElPTl9FTkQseT1sLlJFUVVFU1RfQklEUyxnPWwuQklEX1JFUVVFU1RFRCxiPWwuQklEX1RJTUVPVVQsVD1sLkJJRF9SRVNQT05TRSx2PWwuTk9fQklELGQ9bC5CSURfV09OLEU9bC5CSURfQURKVVNUTUVOVCxfPWwuQklEREVSX0RPTkUsQT1sLlNFVF9UQVJHRVRJTkcsRD1sLkFEX1JFTkRFUl9GQUlMRUQsaD1sLkFEX1JFTkRFUl9TVUNDRUVERUQsTz1sLkFVQ1RJT05fREVCVUcsST1sLkFERF9BRF9VTklUUyxxPSJlbmRwb2ludCIsTj0iYnVuZGxlIn0sNzE4OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg3MTkpfSw3MTk6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9dCg2KSx1PXQoOCksYT1PYmplY3Qoci5hKSh7Z2xvYmFsOiJQdWJzdGFja0FuYWx5dGljcyIsaGFuZGxlcjoib24iLGFuYWx5dGljc1R5cGU6ImJ1bmRsZSJ9KTt1LmRlZmF1bHQucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKHthZGFwdGVyOmEsY29kZToicHVic3RhY2sifSksbi5kZWZhdWx0PWF9fSxbNzE4XSk7CnVwYmpzQ2h1bmsoWzE1Nl0sezczMDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzMxKX0sNzMxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgbj10KDApLGk9dCgxKSxhPXQoMTMpO2Z1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPTEwMCx1PTIwMCxvPTUwLGM9MTUwLHA9NTAsbD0iVVNEIixtPVsiY3AiLCJjdCIsImNmIiwidmlkZW8iLCJiYXR0ciIsImJjYXQiLCJiYWR2IiwiYmlkZmxvb3IiXSxmPXtjb2RlOiJwdWxzZXBvaW50IixndmxpZDo4MSxhbGlhc2VzOlsicHVsc2VMaXRlIiwicHVsc2Vwb2ludExpdGUiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuY3AmJmUucGFyYW1zLmN0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9iaWQuY29udGV4dHdlYi5jb20vaGVhZGVyL29ydGI/c3JjPXByZWJpZCIsZGF0YTp7aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUuYmlkSWQsYmFubmVyOmIoZSksbmF0aXZlOmgoZSksdGFnaWQ6ZS5wYXJhbXMuY3QudG9TdHJpbmcoKSx2aWRlbzp2KGUpLGJpZGZsb29yOlIoZSksZXh0OmcoZSl9fShlKX0pKSxzaXRlOmooZSxyKSxhcHA6dyhlKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdCxiYWR2OmVbMF0ucGFyYW1zLmJhZHYsdXNlcjprKGVbMF0scikscmVnczp4KHIpLHNvdXJjZTpQKGVbMF0uc2NoYWluKX0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD17fSxpPXt9LGQ9e30scz1yLmJvZHk7ZS5kYXRhLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UuaWRdPWV9KSkscyYmcy5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtpW2UuaW1waWRdPWV9KSl9KSk7ZS5iaWRkZXJSZXF1ZXN0JiZlLmJpZGRlclJlcXVlc3QuYmlkcyYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZFtlLmJpZElkXT1lfSkpO3ZhciB1PVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihpW2VdKXt2YXIgcj17cmVxdWVzdElkOmUsY3BtOmlbZV0ucHJpY2UsY3JlYXRpdmVfaWQ6aVtlXS5jcmlkLGNyZWF0aXZlSWQ6aVtlXS5jcmlkLGFkSWQ6ZSx0dGw6aVtlXS5leHB8fDIwLG5ldFJldmVudWU6dHJ1ZSxjdXJyZW5jeTpzLmN1cnx8bCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczppW2VdLmFkb21haW58fFtdfX07dFtlXS52aWRlbz8oZFtlXSYmIm91dHN0cmVhbSI9PT1PYmplY3Qobi5kZWVwQWNjZXNzKShkW2VdLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHIucmVuZGVyZXI9KG89T2JqZWN0KG4uZGVlcEFjY2VzcykoZFtlXSwicmVuZGVyZXIub3B0aW9ucyIpLGM9T2JqZWN0KG4uZGVlcEFjY2VzcykoaVtlXSwiZXh0Lm91dHN0cmVhbSIpLChwPWEuYS5pbnN0YWxsKHt1cmw6Yy5yZW5kZXJlclVybCxjb25maWc6e2RlZmF1bHRPcHRpb25zOmMuY29uZmlnLHJlbmRlcmVyT3B0aW9uczpvLHR5cGU6Yy50eXBlfSxsb2FkZWQ6ITF9KSkuc2V0UmVuZGVyKChmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9ZS5yZW5kZXJlci5nZXRDb25maWcoKTsobmV3IHdpbmRvdy5QdWxzZVBvaW50T3V0c3RyZWFtUmVuZGVyZXIpLnJlbmRlcih7YWRVbml0Q29kZTplLmFkVW5pdENvZGUsdmFzdFhtbDplLnZhc3RYbWwsdHlwZTpyLnR5cGUsZGVmYXVsdE9wdGlvbnM6ci5kZWZhdWx0T3B0aW9ucyxyZW5kZXJlck9wdGlvbnM6b30pfSkpfSkpLHApKSxyLnZhc3RYbWw9aVtlXS5hZG0sci5tZWRpYVR5cGU9InZpZGVvIixyLndpZHRoPWlbZV0udyxyLmhlaWdodD1pW2VdLmgpOnRbZV0uYmFubmVyPyhyLmFkPWlbZV0uYWRtLHIud2lkdGg9aVtlXS53fHx0W2VdLmJhbm5lci53LHIuaGVpZ2h0PWlbZV0uaHx8dFtlXS5iYW5uZXIuaCk6dFtlXS5uYXRpdmUmJihyLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKGUubmF0aXZlKXt2YXIgdD1mdW5jdGlvbihlKXt0cnl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoInB1bHNlcG9pbnRMaXRlLnNhZmVQYXJzZSIsIkVSUk9SIixlKX1yZXR1cm4gbnVsbH0oci5hZG0pLGk9e307aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cylyZXR1cm4gdC5uYXRpdmUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kudGl0bGU9ZS50aXRsZT9lLnRpdGxlLnRleHQ6aS50aXRsZSxpLmJvZHk9ZS5kYXRhJiYyPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuYm9keSxpLnNwb25zb3JlZEJ5PWUuZGF0YSYmMT09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTppLnNwb25zb3JlZEJ5LGkuaW1hZ2U9ZS5pbWcmJjM9PT1lLmltZy50eXBlP2UuaW1nLnVybDppLmltYWdlLGkuaWNvbj1lLmltZyYmMT09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaWNvbn0pKSx0Lm5hdGl2ZS5saW5rJiYoaS5jbGlja1VybD1lbmNvZGVVUklDb21wb25lbnQodC5uYXRpdmUubGluay51cmwpKSxpLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2VycyxpfXJldHVybiBudWxsfSh0W2VdLGlbZV0pLHIubWVkaWFUeXBlPSJuYXRpdmUiKSx1LnB1c2gocil9dmFyIG8sYyxwfSkpLHV9KHIsZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoIn1dOmUucGl4ZWxFbmFibGVkP1t7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gvcHJlYmlkIn1dOnZvaWQgMH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdChuLmNvbnZlcnRUeXBlcykoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGIoZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKTtpZihyJiZPYmplY3Qobi5pc0FycmF5KShyKSlyZXR1cm4gci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RofSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpO3JldHVybiBudWxsfShlKSx0PWZ1bmN0aW9uKGUscil7aWYoZS5wYXJhbXMuY2Ype3ZhciB0PWUucGFyYW1zLmNmLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKTtyZXR1cm5bcGFyc2VJbnQoZS5wYXJhbXMuY3d8fHRbMF0sMTApLHBhcnNlSW50KGUucGFyYW1zLmNofHx0WzFdLDEwKV19aWYociYmci5sZW5ndGg+MClyZXR1cm5bclswXS53LHJbMF0uaF07cmV0dXJuWzEsMV19KGUscik7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcj97dzp0WzBdLGg6dFsxXSxiYXR0cjplLnBhcmFtcy5iYXR0cixmb3JtYXQ6cn06bnVsbH1mdW5jdGlvbiB2KGUpe3JldHVybiBlLnBhcmFtcy52aWRlbz9kKHt9LGUucGFyYW1zLnZpZGVvLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP2UubWVkaWFUeXBlcy52aWRlbzp7fSx7YmF0dHI6ZS5wYXJhbXMuYmF0dHJ9KTpudWxsfWZ1bmN0aW9uIGcoZSl7dmFyIHI9e30sdD17fTtyZXR1cm4gbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT0xfSkpLE9iamVjdC5rZXlzKGUucGFyYW1zKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0W25dfHwocltuXT1lLnBhcmFtc1tuXSl9KSksT2JqZWN0LmtleXMocikubGVuZ3RoPjA/e3ByZWJpZDpyfTpudWxsfWZ1bmN0aW9uIGgoZSl7aWYoZS5uYXRpdmVQYXJhbXMpe3ZhciByPVtdO3JldHVybiB5KHIsZnVuY3Rpb24oZSxyLHQpe2lmKHIpcmV0dXJue2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19O3JldHVybiBudWxsfShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnRpdGxlLHMpKSx5KHIsTyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMix1KSkseShyLE8oci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5zcG9uc29yZWRCeSwxLG8pKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxwLHApKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMsYyxjKSkse3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2Fzc2V0czpyfSksdmVyOiIxLjEiLGJhdHRyOmUucGFyYW1zLmJhdHRyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGUscil7ciYmZS5wdXNoKHIpfWZ1bmN0aW9uIEkoZSxyLHQsbixpKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6dCx3bWluOnIud21pbnx8bixobWluOnIuaG1pbnx8aX19Om51bGx9ZnVuY3Rpb24gTyhlLHIsdCxuKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnQsbGVuOnIubGVufHxufX06bnVsbH1mdW5jdGlvbiBqKGUscil7dmFyIHQ9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCI7cmV0dXJuIGVbMF0ucGFyYW1zLmFwcD9udWxsOntwdWJsaXNoZXI6e2lkOnQudG9TdHJpbmcoKX0scmVmOlQoKSxwYWdlOnImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIifX1mdW5jdGlvbiB3KGUpe3ZhciByPWUmJmUubGVuZ3RoPjA/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO3JldHVybiB0P3twdWJsaXNoZXI6e2lkOnIudG9TdHJpbmcoKX0sYnVuZGxlOnQuYnVuZGxlLHN0b3JldXJsOnQuc3RvcmVVcmwsZG9tYWluOnQuZG9tYWlufTpudWxsfWZ1bmN0aW9uIFQoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiBrKGUscil7dmFyIHQ9e307aWYociYmci5nZHByQ29uc2VudCYmKHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGUmJmUudXNlcklkKXt0LmVpZHM9W10scSh0LmVpZHMsZS51c2VySWQucHViY2lkLCJwdWJjaWQub3JnIikscSh0LmVpZHMsZS51c2VySWQuYnJpdGVwb29saWQsImJyaXRlcG9vbC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5jcml0ZW9JZCwiY3JpdGVvLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmlkbF9lbnYsImxpdmVyYW1wLmNvbSIpLHEodC5laWRzLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5pZDVpZC51aWQiKSwiaWQ1LXN5bmMuY29tIixPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQuaWQ1aWQuZXh0IikpLHEodC5laWRzLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5wYXJyYWJsZUlkLmVpZCIpLCJwYXJyYWJsZS5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5mYWJyaWNrSWQsIm5ldXN0YXIuYml6IikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmhhbG9JZC5oYWxvSWQiKSwiYXVkaWdlbnQuY29tIikscSh0LmVpZHMsZS51c2VySWQubWVya2xlSWQsIm1lcmtsZWluYy5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5sb3RhbWVQYW5vcmFtYUlkLCJjcndkY250cmwubmV0IikscSh0LmVpZHMsZS51c2VySWQuY29ubmVjdGlkLCJ2ZXJpem9ubWVkaWEuY29tIikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIpLGUudXNlcklkLmxpcGImJmUudXNlcklkLmxpcGIubGlwYmlkJiZxKHQuZWlkcyxlLnVzZXJJZC5saXBiLmxpcGJpZCwibGl2ZWludGVudC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC50ZGlkLCJhZHNlcnZlci5vcmciLHtydGlQYXJ0bmVyOiJURElEIn0pO3ZhciBpPWUudXNlcklkLmRpZ2l0cnVzdGlkO2lmKGkmJmkuZGF0YSl7dmFyIGE9e307aS5kYXRhLmlkJiYoYS5pZD1pLmRhdGEuaWQpLGkuZGF0YS5rZXl2JiYoYS5rZXl2PWkuZGF0YS5rZXl2KSx0LmRpZ2l0cnVzdD1hfX1yZXR1cm57ZXh0OnR9fWZ1bmN0aW9uIHEoZSxyLHQsbil7aWYocil7dmFyIGk9e2lkOnJ9O24mJihpLmV4dD1uKSxlLnB1c2goe3NvdXJjZTp0LHVpZHM6W2ldfSl9fWZ1bmN0aW9uIHgoZSl7aWYoZS5nZHByQ29uc2VudHx8ZS51c3BDb25zZW50KXt2YXIgcj17fTtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIuZ2Rwcj1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksZS51c3BDb25zZW50JiYoci51c19wcml2YWN5PWUudXNwQ29uc2VudCkse2V4dDpyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBQKGUpe3JldHVybiBlP3tleHQ6e3NjaGFpbjplfX06bnVsbH1mdW5jdGlvbiBSKGUpe3ZhciByPWUucGFyYW1zLmJpZGZsb29yO2lmKE9iamVjdChuLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHttZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLmJhbm5lcj8iYmFubmVyIjplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiTmF0aXZlIixzaXplOiIqIixjdXJyZW5jeTpsfSk7dCYmdC5mbG9vciYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzczMF0pOwp1cGJqc0NodW5rKFsxNDZdLHs3NTI6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc1Myl9LDc1MzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIG49cigwKSxhPXIoMykscz1yKDEpO2Z1bmN0aW9uIGkoKXtyZXR1cm4oaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixhLHM9W10saT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShpPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTtpPSEwKTt9Y2F0Y2goZSl7bz0hMCxhPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGF9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgYz0iaHR0cHM6Ly8iLmNvbmNhdCgiZS5yZWxheS5iaWQiLCIvcC9vcGVucnRiMiIpLGQ9ZnVuY3Rpb24oZSl7cmV0dXJue2ZkOjEsdGlkOmUudHJhbnNhY3Rpb25JZCxleHQ6e3NjaGFpbjplLnNjaGFpbn19fSxsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkSWQscj1lLnBhcmFtcyxhPWUubWVkaWFUeXBlcyxzPWUuYWRVbml0Q29kZTtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlSW1wIixiaWRJZDp0LHBhcmFtczpyfSk7dmFyIGk9W107Zm9yKHZhciB1IGluIGEpe3ZhciBjPXtpZDp0LHRhZ2lkOnMsZXh0OnthMHg6e2JpZGRlcnM6cn19fSxkPWFbdV0uc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD1vKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpO2NbdV09e2Zvcm1hdDpkfSxpLnB1c2goYyl9cmV0dXJuIGl9LGc9ZnVuY3Rpb24oZSx0KXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlVXNlciIsdmFsaWRCaWRSZXF1ZXN0OmV9KTt2YXIgcj17ZXh0Ontjb25zZW50Oih0LmdkcHJDb25zZW50fHx7fSkuY29uc2VudFN0cmluZ3x8IiJ9fTtyZXR1cm4gZS51c2VySWRBc0VpZHMmJihyLmV4dC5laWRzPWUudXNlcklkQXNFaWRzKSxyfSxwPWZ1bmN0aW9uKGUpe3JldHVybntjb3BwYTphLmIuZ2V0Q29uZmlnKCJjb3BwYSIpfHwhMT8xOjAsZXh0OntnZHByOihlLmdkcHJDb25zZW50fHx7fSkuZ2RwckFwcGxpZXN8fCExPzE6MH19fSxmPXtjb2RlOiJyZWxheSIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiaXNCaWRSZXF1ZXN0VmFsaWQiLGJpZDplfSk7dHJ5e3JldHVybiBlLnBhcmFtcyYmZS5zaXplcy5sZW5ndGg+MH1jYXRjaChlKXtyZXR1cm4gbi5sb2dNZXNzYWdlKHt0cmFjZToiaXNCaWRSZXF1ZXN0VmFsaWQ6OmV4Y2VwdGlvbiIsZXhjZXB0aW9uOmV9KSwhMX19LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hLmIuZ2V0Q29uZmlnKCJyZWxheUFjY291bnRJZCIpO3JldHVybiByfHxuLmxvZ1dhcm4oe3RyYWNlOiJidWlsZFJlcXVlc3RzIixtZXNzYWdlOiJGYWlsZWQgdG8gYnVpbGQgcmVxdWVzdDogeW91ciBhY2NvdW50SWQgaXMgbm90IHNldC4gUGxlYXNlIHNldCBwYmpzLnNldENvbmZpZyh7YWNjb3VudElkOiBBQ0NPVU5UX0lELCAuLi59KS4ifSksbi5sb2dNZXNzYWdlKHt0cmFjZToiYnVpbGRSZXF1ZXN0cyIsdmFsaWRCaWRSZXF1ZXN0czplLGJpZGRlclJlcXVlc3Q6dCxhY2NvdW50SWQ6cn0pLGUubWFwKChmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJidWlsZFJlcXVlc3RzOjptYXAifSk7dmFyIHM9ZnVuY3Rpb24oZSx0KXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlUmVsYXlSZXF1ZXN0Iix2YWxpZEJpZFJlcXVlc3Q6ZX0pO3ZhciByLHMsbyx1LGMsZixiLG0seT17aWQ6ZS5hdWN0aW9uSWQsc291cmNlOmQoZSksaW1wOmwoZSksYmFkdjpbXSxkZXZpY2U6KGM9KHdpbmRvd3x8e30pLm5hdmlnYXRvcnx8e30sZj1jLnBsYXRmb3JtfHwiIixiPWMudXNlckFnZW50fHwiIixzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5kZXhPZih0KT4tMX0sbz1mLnRvTG93ZXJDYXNlKCksdT1zKG8sIndpbiIpfHxzKG8sIm1hYyIpfHxzKG8sIngxMSIpfHxzKG8sImxpbnV4IiksbT17bW9iaWxlOjEscGM6MixwaG9uZTo0fVsocyhvLCJpcGhvbmUiKXx8cyhvLCJhbmRyb2lkIik/InBob25lIjp1JiYicGMiKXx8Im1vYmlsZSJdLHt1YTpiLGxhbmd1YWdlOihjLmxhbmd1YWdlc1sxXXx8IiIpLnRvVXBwZXJDYXNlKCksZGV2aWNldHlwZTptLGpzOjF9KSxzaXRlOihyPW5ldyBVUkwoYS5iLmdldENvbmZpZygicHVibGlzaGVyRG9tYWluIil8fCIiKSx7aWQ6IjAiLHBhZ2U6cixkb21haW46KHJ8fHt9KS5ob3N0fSksdXNlcjpnKGUsdCkscmVnczpwKHQpLGF0OjEsZXh0Ontzc2w6MX19O3JldHVybiBpKHksYS5iLmdldENvbmZpZygib3J0YjIiKXx8e30sZS5vcnRiMkltcHx8e30pfShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQoYywiP2E9IikuY29uY2F0KHIpLGRhdGE6c319KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7aWYobi5sb2dNZXNzYWdlKHt0cmFjZToiaW50ZXJwcmV0UmVzcG9uc2UiLHNlcnZlclJlc3BvbnNlOmUscmVxdWVzdDp0fSksIWUpcmV0dXJuW107dmFyIHI9KChlfHx7fSkuYm9keXx8e30pLnNlYXRiaWR8fFtdO3JldHVybiBuLmxvZ01lc3NhZ2Uoe3NlYXRCaWRzOnJ9KSxyLmxlbmd0aD9yLmZsYXRNYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5tYXAoKGZ1bmN0aW9uKHQpe24ubG9nTWVzc2FnZSh7dHJhY2U6ImludGVycHJldFJlc3BvbnNlOjpzZWF0LmJpZDo6bWFwIixiaWQ6dH0pLHQuYnRCaWRkZXJDb2RlPWUuc2VhdDt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gbi5sb2dNZXNzYWdlKHt0cmFjZToibmV3QmlkUmVzcG9uc2UiLGJpZDplfSkse3JlcXVlc3RJZDplLmltcGlkLGNwbTplLnByaWNlLGN1cnJlbmN5OmUuY3VycmVuY3l8fCJVU0QiLHdpZHRoOmUud3x8MzUwLGhlaWdodDplLmh8fDIwMCxhZDplLmFkbSx0dGw6ZS50dGx8fDM2MCxjcmVhdGl2ZUlkOmUuY3JpZCxuZXRSZXZlbnVlOiEwLGJ0QmlkZGVyQ29kZTplLmJ0QmlkZGVyQ29kZX19KHQpO3JldHVybiBuLmxvZ01lc3NhZ2Uoe2JpZFJlc3BvbnNlOnJ9KSxyfSkpfSkpOltdfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsYSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiZ2V0VXNlclN5bmNzIixzZXJ2ZXJSZXNwb25zZXM6dH0pO3ZhciBzPSgoKHRbMF18fHt9KS5ib2R5fHx7fSkuZXh0fHx7fSkudXNlcl9zeW5jc3x8W107cmV0dXJuIGUucGl4ZWxFbmFibGVkJiZzPyhuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJnZXRVc2VyU3luY3M6OnN5bmNzRm91bmQiLHN5bmNzOnN9KSxzKTpbXX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uVGltZW91dCIsc3RhdHVzOiJOb3QgaW1wbGVtZW50ZWQuIix0aW1lb3V0RGF0YTplfSl9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uQmlkV29uIixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4ifSl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uU2V0VGFyZ2V0aW5nIixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4ifSl9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoZil9fSxbNzUyXSk7CnVwYmpzQ2h1bmsoWzE0M10sezc2MDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzYxKX0sNzYxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKTt2YXIgYT10KDApLGk9dCgxKSxzPXQoMik7dmFyIG49bmV3IGZ1bmN0aW9uKCl7dGhpcy5jb2RlPSJyaHl0aG1vbmUiLHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcz1bcy5kLHMuYl07dmFyIGU9WzIsMyw1LDZdLHI9WyJ2aWRlby9tcDQiXSx0PVsxLDIsMyw0XSxpPVsxXSxuPVsxLDIsNV0sZD17fSxwPXRoaXM7ZnVuY3Rpb24gYyhlLHIpe3ZhciB0LGk9W10scz0wO2lmKHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8uc3RhY2subGVuZ3RoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7bi5ocmVmPXIucmVmZXJlckluZm8uc3RhY2tbMF0scz0iaHR0cHM6Ij09bi5wcm90b2NvbD8xOjB9Zm9yKHZhciBwPTA7cDxlLmxlbmd0aDtwKyspe2RbZVtwXS5hZFVuaXRDb2RlXT1lW3BdO3ZhciBjPXt9O2lmKGMuaWQ9ZVtwXS5hZFVuaXRDb2RlLGMuYmlkZmxvb3I9MCxjLnNlY3VyZT1zLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbcF0sIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZVtwXSwibWVkaWFUeXBlIikpe3ZhciBvPXYoZVtwXSk7byYmKGMuYmFubmVyPW8pfShPYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGVzLnZpZGVvIil8fCJ2aWRlbyI9PT1PYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGUiKSkmJihjLnZpZGVvPXUoZVtwXSkpLChjLmJhbm5lcnx8Yy52aWRlbykmJihjLmV4dD17YmlkZGVyOntwbGFjZW1lbnRJZDoodD1lW3BdKS5wYXJhbXMucGxhY2VtZW50SWQsem9uZTp0LnBhcmFtcyYmdC5wYXJhbXMuem9uZT90LnBhcmFtcy56b25lOiIxciIscGF0aDp0LnBhcmFtcyYmdC5wYXJhbXMucGF0aD90LnBhcmFtcy5wYXRoOiJtdm8ifX0saS5wdXNoKGMpKX1yZXR1cm4gaX1mdW5jdGlvbiBvKGUpe3ZhciByPXtkb21haW46IiIscGFnZToiIixyZWY6IiJ9O2lmKGUmJmUucmVmZXJlckluZm8pe3ZhciB0PWUucmVmZXJlckluZm87aWYoci5yZWY9dC5yZWZlcmVyLHQuc3RhY2subGVuZ3RoKXtyLnBhZ2U9dC5zdGFja1t0LnN0YWNrLmxlbmd0aC0xXTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YS5ocmVmPXQuc3RhY2tbMF0sci5kb21haW49YS5ob3N0bmFtZX19cmV0dXJuIHJ9ZnVuY3Rpb24gbShlKXt2YXIgcj1wYXJzZUludChlWzBdKSx0PXBhcnNlSW50KGVbMV0pO3JldHVybiByPT1yJiZ0PT10JiZbcix0XX1mdW5jdGlvbiB2KGUpe3ZhciByPWUuc2l6ZXM7ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTt2YXIgdD1PYmplY3QoYS5wYXJzZVNpemVzSW5wdXQpKHIpLGk9W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9bShlLnNwbGl0KCJ4IikpO3ImJmkucHVzaCh7dzpyWzBdLGg6clsxXX0pfX0pKSwhIWkubGVuZ3RoJiZ7Zm9ybWF0Oml9fWZ1bmN0aW9uIHUocyl7dmFyIGQ9W107aWYoT2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpe3ZhciBwPXMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO09iamVjdChhLmlzQXJyYXkpKHMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHA9cy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pO3ZhciBjPW0ocCk7YyYmKGQ9Yyl9cmV0dXJue21pbWVzOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKXx8cixwcm90b2NvbHM6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMiKXx8ZSx3OmRbMF0saDpkWzFdLHN0YXJ0ZGVsYXk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5Iil8fDAsc2tpcDpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnNraXAiKXx8MCxwbGF5YmFja21ldGhvZDpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fHQsZGVsaXZlcnk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeSIpfHxpLGFwaTpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLmFwaSIpfHxufX1mdW5jdGlvbiBsKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0KyspaWYoclt0XS5wYXJhbXMmJnJbdF0ucGFyYW1zW2VdKXJldHVybiByW3RdLnBhcmFtc1tlXX10aGlzLmlzQmlkUmVxdWVzdFZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMucGxhY2VtZW50SWQpfSx0aGlzLmdldFVzZXJTeW5jcz1mdW5jdGlvbihlLHIsdCl7cmV0dXJuW119LHRoaXMuYnVpbGRSZXF1ZXN0cz1mdW5jdGlvbihlLHIpe3ZhciB0PWwoInBsYWNlbWVudElkIixlKTtpZih2b2lkIDA9PT10fHxlLmxlbmd0aDwxKXJldHVybltdO3ZhciBpPWwoImVuZHBvaW50IixlKXx8Imh0dHBzOi8vdGFnLjFyeC5pby9ybXAve3BsYWNlbWVudElkfS8wL3twYXRofT96PXt6b25lfSIscz1sKCJ6b25lIixlKXx8IjFyIixuPWwoInBhdGgiLGUpfHwibXZvIjtpPShpPShpPWkucmVwbGFjZSgvXHtwbGFjZW1lbnRJZFx9L2ksdCkpLnJlcGxhY2UoL1x7em9uZVx9L2kscykpLnJlcGxhY2UoL1x7cGF0aFx9L2ksbik7dmFyIGQ9LyhednwoXC4wKSskKS9naTtpKz0iJmhidj0iKyI1LjIwLjIiLnJlcGxhY2UoZCwiIikrIiwiKyIyLjEiLnJlcGxhY2UoZCwiIik7dmFyIHA9ZnVuY3Rpb24oZSxyKXt2YXIgdD17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmMoZSxyKSxzaXRlOm8ociksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOiIiLGRudDpPYmplY3QoYS5nZXRETlQpKCk/MTowfSx1c2VyOntleHQ6e2NvbnNlbnQ6T2JqZWN0KGEuZGVlcEFjY2VzcykociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKT9yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmc6IiJ9fSxhdDoxLHRtYXg6MWUzLHJlZ3M6e2V4dDp7Z2RwcjohIU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJkJvb2xlYW4oMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKX19fTtyZXR1cm4gZVswXS5zY2hhaW4mJih0LnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksdH0oZSxyKTtyZXR1cm4gcC5pbXAubGVuZ3RoP3ttZXRob2Q6IlBPU1QiLHVybDppLGRhdGE6SlNPTi5zdHJpbmdpZnkocCl9Ont9fSx0aGlzLmludGVycHJldFJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYm9keXx8W10sdD1bXSxhPTA7aWYoci5zZWF0YmlkKXt2YXIgaT1bXTtmb3IoYT0wO2E8ci5zZWF0YmlkLmxlbmd0aDthKyspZm9yKHZhciBzPTA7czxyLnNlYXRiaWRbYV0uYmlkLmxlbmd0aDtzKyspaS5wdXNoKHIuc2VhdGJpZFthXS5iaWRbc10pO3I9aX1mb3IoYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbj1yW2FdLGM9ZFtuLmltcGlkXSxvPXtyZXF1ZXN0SWQ6Yy5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLnByaWNlKSx3aWR0aDpuLncsaGVpZ2h0Om4uaCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW59LGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07Yy5tZWRpYVR5cGVzJiZjLm1lZGlhVHlwZXMudmlkZW8/KG8udmFzdFVybD1uLm51cmwsby5tZWRpYVR5cGU9InZpZGVvIixvLnR0bD02MDApOm8uYWQ9bi5hZG0sdC5wdXNoKG8pfXJldHVybiB0fX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzc2MF0pOwp1cGJqc0NodW5rKFsxMzddLHs3Nzg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc3OSl9LDc3OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5oYXNWaWRlb01lZGlhVHlwZT1JLHIuZCh0LCJyZXNldFJ1YmlDb25mIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0Lm1hc1NpemVPcmRlcmluZz1SLHQuZGV0ZXJtaW5lUnViaWNvblZpZGVvU2l6ZUlkPXosdC5nZXRQcmljZUdyYW51bGFyaXR5PVQsdC5oYXNWYWxpZFZpZGVvUGFyYW1zPUUsdC5oYXNWYWxpZFN1cHBseUNoYWluUGFyYW1zPVUsdC5lbmNvZGVQYXJhbT1QLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe049ITF9O3ZhciBuPXIoMCksaT1yKDEpLG89cigzKSxhPXIoMiksYz1yKDExKSxzPXIubihjKSxkPXIoMTMpLHU9cigxNCk7ZnVuY3Rpb24gcChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6cChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBtKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gZyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4odj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB5PSJodHRwczovL3ZpZGVvLW91dHN0cmVhbS5ydWJpY29ucHJvamVjdC5jb20vYXBleC0yLjAuMC5qcyIseD17fTtvLmIuZ2V0Q29uZmlnKCJydWJpY29uIiwoZnVuY3Rpb24oZSl7T2JqZWN0KG4ubWVyZ2VEZWVwKSh4LGUucnViaWNvbil9KSk7dmFyIGg9ezE6IjQ2OHg2MCIsMjoiNzI4eDkwIiw1OiIxMjB4OTAiLDc6IjEyNXgxMjUiLDg6IjEyMHg2MDAiLDk6IjE2MHg2MDAiLDEwOiIzMDB4NjAwIiwxMzoiMjAweDIwMCIsMTQ6IjI1MHgyNTAiLDE1OiIzMDB4MjUwIiwxNjoiMzM2eDI4MCIsMTc6IjI0MHg0MDAiLDE5OiIzMDB4MTAwIiwzMToiOTgweDEyMCIsMzI6IjI1MHgzNjAiLDMzOiIxODB4NTAwIiwzNToiOTgweDE1MCIsMzc6IjQ2OHg0MDAiLDM4OiI5MzB4MTgwIiwzOToiNzUweDEwMCIsNDA6Ijc1MHgyMDAiLDQxOiI3NTB4MzAwIiw0MjoiMng0Iiw0MzoiMzIweDUwIiw0NDoiMzAweDUwIiw0ODoiMzAweDMwMCIsNTM6IjEwMjR4NzY4Iiw1NDoiMzAweDEwNTAiLDU1OiI5NzB4OTAiLDU3OiI5NzB4MjUwIiw1ODoiMTAwMHg5MCIsNTk6IjMyMHg4MCIsNjA6IjMyMHgxNTAiLDYxOiIxMDAweDEwMDAiLDY0OiI1ODB4NTAwIiw2NToiNjQweDQ4MCIsNjY6IjkzMHg2MDAiLDY3OiIzMjB4NDgwIiw2ODoiMTgwMHgxMDAwIiw3MjoiMzIweDMyMCIsNzM6IjMyMHgxNjAiLDc4OiI5ODB4MjQwIiw3OToiOTgweDMwMCIsODA6Ijk4MHg0MDAiLDgzOiI0ODB4MzAwIiw4NToiMzAweDEyMCIsOTA6IjU0OHgxNTAiLDk0OiI5NzB4MzEwIiw5NToiOTcweDEwMCIsOTY6Ijk3MHgyMTAiLDEwMToiNDgweDMyMCIsMTAyOiI3Njh4MTAyNCIsMTAzOiI0ODB4MjgwIiwxMDU6IjI1MHg4MDAiLDEwODoiMzIweDI0MCIsMTEzOiIxMDAweDMwMCIsMTE3OiIzMjB4MTAwIiwxMjU6IjgwMHgyNTAiLDEyNjoiMjAweDYwMCIsMTQ0OiI5ODB4NjAwIiwxNDU6Ijk4MHgxNTAiLDE1MjoiMTAwMHgyNTAiLDE1NjoiNjQweDMyMCIsMTU5OiIzMjB4MjUwIiwxNzk6IjI1MHg2MDAiLDE5NToiNjAweDMwMCIsMTk4OiI2NDB4MzYwIiwxOTk6IjY0MHgyMDAiLDIxMzoiMTAzMHg1OTAiLDIxNDoiOTgweDM2MCIsMjIxOiIxeDEiLDIyOToiMzIweDE4MCIsMjMwOiIyMDAweDE0MDAiLDIzMjoiNTgweDQwMCIsMjM0OiI2eDYiLDI1MToiMngyIiwyNTY6IjQ4MHg4MjAiLDI1NzoiNDAweDYwMCIsMjU4OiI1MDB4MjAwIiwyNTk6Ijk5OHgyMDAiLDI2NDoiOTcweDEwMDAiLDI2NToiMTkyMHgxMDgwIiwyNzQ6IjE4MDB4MjAwIiwyNzg6IjMyMHg1MDAiLDI4MjoiMzIweDQwMCIsMjg4OiI2NDB4MzgwIiw1NDg6IjUwMHgxMDAwIiw1NTA6Ijk4MHg0ODAiLDU1MjoiMzAweDIwMCIsNTU4OiI2NDB4NjQwIiw1NjI6IjMwMHg0MzEiLDU2NDoiMzIweDQzMSIsNTY2OiIzMjB4MzAwIiw1Njg6IjMwMHgxNTAiLDU3MDoiMzAweDEyNSIsNTcyOiIyNTB4MzUwIiw1NzQ6IjYyMHg4OTEiLDU3NjoiNjEweDg3NyIsNTc4OiI5ODB4NTUyIiw1ODA6IjUwNXg2NTYifTtPYmplY3Qobi5fZWFjaCkoaCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaFtlXT10fSkpO3ZhciBqPXtjb2RlOiJydWJpY29uIixndmxpZDo1MixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PXYoZS5wYXJhbXMpKXJldHVybiExO2Zvcih2YXIgdD0wLHI9WyJhY2NvdW50SWQiLCJzaXRlSWQiLCJ6b25lSWQiXTt0PHIubGVuZ3RoO3QrKylpZihlLnBhcmFtc1tyW3RdXT1wYXJzZUludChlLnBhcmFtc1tyW3RdXSksaXNOYU4oZS5wYXJhbXNbclt0XV0pKXJldHVybiBPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT13KGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxFKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPVtdLGk9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJ2aWRlbyI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9e2lkOmUudHJhbnNhY3Rpb25JZCx0ZXN0Om8uYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOmUudHJhbnNhY3Rpb25JZH0sdG1heDp0LnRpbWVvdXQsaW1wOlt7ZXhwOm8uYi5nZXRDb25maWcoInMyc0NvbmZpZy5kZWZhdWx0VHRsIiksaWQ6ZS5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDpnKHt9LGUuYmlkZGVyLGUucGFyYW1zKSx2aWRlbzpPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9fV0sZXh0OntwcmViaWQ6e2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn0sY2FjaGU6e3Zhc3R4bWw6e3JldHVybkNyZWF0aXZlOiEwPT09eC5yZXR1cm5WYXN0fX0sdGFyZ2V0aW5nOntpbmNsdWRld2lubmVyczohMCxpbmNsdWRlYmlkZGVya2V5czohMSxwcmljZWdyYW51bGFyaXR5OlQoby5iKX0sYmlkZGVyczp7cnViaWNvbjp7aW50ZWdyYXRpb246eC5pbnRfdHlwZXx8InBianMifX19fX07InJ1Ymljb24iIT09ZS5iaWRkZXImJihyLmV4dC5wcmViaWQuYWxpYXNlcz1nKHt9LGUuYmlkZGVyLCJydWJpY29uIikpO3ZhciBpLGMscz1PYmplY3QodS5hKSgpLmluc3RhbGxlZE1vZHVsZXM7aWYoIXN8fHMubGVuZ3RoJiYtMT09PXMuaW5kZXhPZigicnViaWNvbkFuYWx5dGljc0FkYXB0ZXIiKXx8T2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJleHQucHJlYmlkLmFuYWx5dGljcyIse3J1Ymljb246eyJjbGllbnQtYW5hbHl0aWNzIjohMH19KSwiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRGbG9vcnx8eC5kaXNhYmxlRmxvb3JzKWk9cGFyc2VGbG9hdChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJwYXJhbXMuZmxvb3IiKSk7ZWxzZXt2YXIgZDt0cnl7ZD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6InZpZGVvIixzaXplOkEoZSwidmlkZW8iKX0pfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9aT0ib2JqZWN0IiE9PXYoZCl8fCJVU0QiIT09ZC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQoZC5mbG9vcikpP3ZvaWQgMDpwYXJzZUZsb2F0KGQuZmxvb3IpfShpc05hTihpKXx8KHIuaW1wWzBdLmJpZGZsb29yPWkpLHIuaW1wWzBdLmV4dFtlLmJpZGRlcl0udmlkZW8uc2l6ZV9pZD16KGUpLGZ1bmN0aW9uKGUsdCxyKXtpZighZSlyZXR1cm47Im9iamVjdCI9PT12KG8uYi5nZXRDb25maWcoImFwcCIpKT9lLmFwcD1vLmIuZ2V0Q29uZmlnKCJhcHAiKTplLnNpdGU9e3BhZ2U6Tyh0LHIpfTsib2JqZWN0Ij09PXYoby5iLmdldENvbmZpZygiZGV2aWNlIikpJiYoZS5kZXZpY2U9by5iLmdldENvbmZpZygiZGV2aWNlIikpO3QucGFyYW1zLnZpZGVvLmxhbmd1YWdlJiZbInNpdGUiLCJkZXZpY2UiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtlW3JdJiYoInNpdGUiPT09cj9lW3JdLmNvbnRlbnQ9Yih7bGFuZ3VhZ2U6dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2V9LGVbcl0uY29udGVudCk6ZVtyXT1iKHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0sZVtyXSkpfSkpfShyLGUsdCksZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwJiYoZS5pbXBbMF0udmlkZW8uc2tpcD10LnBhcmFtcy52aWRlby5za2lwKTsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwYWZ0ZXImJihlLmltcFswXS52aWRlby5za2lwYWZ0ZXI9dC5wYXJhbXMudmlkZW8uc2tpcGRlbGF5KTsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5wb3MmJigiYXRmIj09PXQucGFyYW1zLnBvc2l0aW9uP2UuaW1wWzBdLnZpZGVvLnBvcz0xOiJidGYiPT09dC5wYXJhbXMucG9zaXRpb24mJihlLmltcFswXS52aWRlby5wb3M9MykpO3ZhciByPUEodCwidmlkZW8iKTtlLmltcFswXS52aWRlby53PXJbMF0sZS5pbXBbMF0udmlkZW8uaD1yWzFdfShyLGUpLHQuZ2RwckNvbnNlbnQpJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKGM9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLE9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQuZ2RwciIsYyksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTt0LnVzcENvbnNlbnQmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KTt2YXIgcD1PYmplY3Qobi5kZWVwQWNjZXNzKSh0LCJiaWRzLjAudXNlcklkQXNFaWRzIik7cCYmcC5sZW5ndGgmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5leHQuZWlkcyIscCk7dmFyIGw9by5iLmdldENvbmZpZygidXNlci5pZCIpO2wmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5pZCIsbCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuY29wcGEiLDEpLGUuc2NoYWluJiZVKGUuc2NoYWluKSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJzb3VyY2UuZXh0LnNjaGFpbiIsZS5zY2hhaW4pO3ZhciBmPW8uYi5nZXRDb25maWcoIm11bHRpYmlkIik7cmV0dXJuIGYmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwiZXh0LnByZWJpZC5tdWx0aWJpZCIsZi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZS50b0xvd2VyQ2FzZSgpXT10W2VdfSkpLGUucHVzaChyKSxlfSksW10pKSxTKGUsYS5kLHIpLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIuaW1wWzBdLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsZS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLmltcFswXSwiZXh0LnByZWJpZC5hdWN0aW9udGltZXN0YW1wIix0LmF1Y3Rpb25TdGFydCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHgudmlkZW9Ib3N0fHwicHJlYmlkLXNlcnZlciIsIi5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIpLGRhdGE6cixiaWRSZXF1ZXN0OmV9fSkpO2lmKCEwIT09eC5zaW5nbGVSZXF1ZXN0KXI9aS5jb25jYXQoZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWouY3JlYXRlU2xvdFBhcmFtcyhlLHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpqLmdldE9yZGVyZWRQYXJhbXMocikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBpPXJbdF07cmV0dXJuIE9iamVjdChuLmlzU3RyKShpKSYmIiIhPT1pfHxPYmplY3Qobi5pc051bWJlcikoaSk/IiIuY29uY2F0KGUpLmNvbmNhdChQKHQsaSksIiYiKTplfSksIiIpKyJzbG90cz0xJnJhbmQ9Ii5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDplfX0pKSk7ZWxzZXt2YXIgYz1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4oZVt0LnBhcmFtcy5zaXRlSWRdPWVbdC5wYXJhbXMuc2l0ZUlkXXx8W10pLnB1c2godCksZX0pLHt9KTtyPWkuY29uY2F0KE9iamVjdC5rZXlzKGMpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgaSxvO3JldHVybihpPWNbcl0sbz0xMCxpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCVvPT0wP2kuc2xpY2UodCx0K28pOm51bGx9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ai5jb21iaW5lU2xvdFVybFBhcmFtcyhyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGouY3JlYXRlU2xvdFBhcmFtcyhlLHQpfSkpKTtlLnB1c2goe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOmouZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9aVt0XTtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKHIpJiYiIiE9PXJ8fE9iamVjdChuLmlzTnVtYmVyKShyKT8iIi5jb25jYXQoZSkuY29uY2F0KFAodCxyKSwiJiIpOmV9KSwiIikrInNsb3RzPSIuY29uY2F0KHIubGVuZ3RoLCImcmFuZD0iKS5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDpyfSl9KSksZX0pLFtdKSl9cmV0dXJuIHJ9LGdldE9yZGVyZWRQYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9L150Z192LyxyPS9edGdfaS8sbj0vXmVpZF98XnRwaWRfLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi50ZXN0KGUpfSkpKS5jb25jYXQoWyJ4X2xpdmVyYW1waWRsIiwicHB1aWQiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChlKX0pKSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlKX0pKSkuY29uY2F0KFsidGtfZmxpbnQiLCJ4X3NvdXJjZS50aWQiLCJ4X3NvdXJjZS5wY2hhaW4iLCJwX3NjcmVlbl9yZXMiLCJycF9mbG9vciIsInJwX3NlY3VyZSIsInRrX3VzZXJfa2V5Il0pO3JldHVybiBpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpKX0sY29tYmluZVNsb3RVcmxQYXJhbXM6ZnVuY3Rpb24oZSl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO3ZhciB0PWUucmVkdWNlKChmdW5jdGlvbih0LHIsbil7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3QuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPW5ldyBBcnJheShlLmxlbmd0aCkpLHRbaV0uc3BsaWNlKG4sMSxyW2ldKX0pKSx0fSkse30pLHI9bmV3IFJlZ0V4cCgiXihbXjtdKikoO1xcMSkrJCIpO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2VdLmpvaW4oIjsiKSxpPW4ubWF0Y2gocik7dFtlXT1pP2lbMV06bn0pKSx0fSxjcmVhdGVTbG90UGFyYW1zOmZ1bmN0aW9uKGUsdCl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9ZS5wYXJhbXMsaT1BKGUsImJhbm5lciIpLGM9ZihyLmxhdExvbmd8fFtdLDIpLGQ9Y1swXSx1PWNbMV0scD17YWNjb3VudF9pZDpyLmFjY291bnRJZCxzaXRlX2lkOnIuc2l0ZUlkLHpvbmVfaWQ6ci56b25lSWQsc2l6ZV9pZDppWzBdLGFsdF9zaXplX2lkczppLnNsaWNlKDEpLmpvaW4oIiwiKXx8dm9pZCAwLHJwX2Zsb29yOihyLmZsb29yPXBhcnNlRmxvYXQoci5mbG9vcikpPj0uMDE/ci5mbG9vcjp2b2lkIDAscnBfc2VjdXJlOiIxIix0a19mbGludDoiIi5jb25jYXQoeC5pbnRfdHlwZXx8InBianNfbGl0ZSIsIl92NS4yMC4yIiksInhfc291cmNlLnRpZCI6ZS50cmFuc2FjdGlvbklkLCJ4X3NvdXJjZS5wY2hhaW4iOnIucGNoYWluLHBfc2NyZWVuX3Jlczpbd2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodF0uam9pbigieCIpLHRrX3VzZXJfa2V5OnIudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChkKSk/dm9pZCAwOnBhcnNlRmxvYXQoZCkudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KHUpKT92b2lkIDA6cGFyc2VGbG9hdCh1KS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpPKGUsdCl9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYheC5kaXNhYmxlRmxvb3JzKXt2YXIgbDt0cnl7bD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfXAucnBfaGFyZF9mbG9vcj0ib2JqZWN0IiE9PXYobCl8fCJVU0QiIT09bC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQobC5mbG9vcikpP3ZvaWQgMDpsLmZsb29yfXZhciBiPXsxOiJhdGYiLDM6ImJ0ZiJ9W09iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIpXXx8IiI7cC5wX3Bvcz0iYXRmIj09PXIucG9zaXRpb258fCJidGYiPT09ci5wb3NpdGlvbj9yLnBvc2l0aW9uOmI7dmFyIG09by5iLmdldENvbmZpZygidXNlci5pZCIpO3JldHVybiBtJiYocC5wcHVpZD1tKSxlLnVzZXJJZEFzRWlkcyYmZS51c2VySWRBc0VpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e2lmKCJhZHNlcnZlci5vcmciPT09ZS5zb3VyY2U/KHAudHBpZF90ZGlkPWUudWlkc1swXS5pZCxwWyJlaWRfYWRzZXJ2ZXIub3JnIl09ZS51aWRzWzBdLmlkKToibGl2ZWludGVudC5jb20iPT09ZS5zb3VyY2U/KHBbInRwaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQscFsiZWlkX2xpdmVpbnRlbnQuY29tIl09ZS51aWRzWzBdLmlkLGUuZXh0JiZBcnJheS5pc0FycmF5KGUuZXh0LnNlZ21lbnRzKSYmZS5leHQuc2VnbWVudHMubGVuZ3RoJiYocFsidGdfdi5MSXNlZyJdPWUuZXh0LnNlZ21lbnRzLmpvaW4oIiwiKSkpOiJsaXZlcmFtcC5jb20iPT09ZS5zb3VyY2U/cC54X2xpdmVyYW1waWRsPWUudWlkc1swXS5pZDoiaWQ1LXN5bmMuY29tIj09PWUuc291cmNlP3BbImVpZF9pZDUtc3luYy5jb20iXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZSwiXiIpLmNvbmNhdChlLnVpZHNbMF0uZXh0JiZlLnVpZHNbMF0uZXh0LmxpbmtUeXBlfHwiIik6cFsiZWlkXyIuY29uY2F0KGUuc291cmNlKV09IiIuY29uY2F0KGUudWlkc1swXS5pZCwiXiIpLmNvbmNhdChlLnVpZHNbMF0uYXR5cGV8fCIiKSwhcC5wcHVpZCl7dmFyIHQ9cygpKGUudWlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0JiYicHB1aWQiPT09ZS5leHQuc3R5cGV9KSk7dCYmdC5pZCYmKHAucHB1aWQ9dC5pZCl9fWNhdGNoKHQpe09iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBlcnJvciByZWFkaW5nIGVpZDoiLGUsdCl9fSkpLHQuZ2RwckNvbnNlbnQmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocC5nZHByPU51bWJlcih0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSkscC5nZHByX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSx0LnVzcENvbnNlbnQmJihwLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KHQudXNwQ29uc2VudCkpLHAucnBfbWF4Ymlkcz10LmJpZExpbWl0fHwxLFMoZSxhLmIscCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocC5jb3BwYT0xKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJihwLnJwX3NjaGFpbj1qLnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKSkscH0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIVUoZSkpcmV0dXJuIiI7dmFyIHQ9ZS52ZXIscj1lLmNvbXBsZXRlLG49ZS5ub2RlcztyZXR1cm4iIi5jb25jYXQodCwiLCIpLmNvbmNhdChyLCIhIikuY29uY2F0KGouc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhuKSl9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlW3RdfHwiIil9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZFJlcXVlc3Q7aWYoIShlPWUuYm9keSl8fCJvYmplY3QiIT09dihlKSlyZXR1cm5bXTtpZihlLnNlYXRiaWQpe3ZhciBpPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5lcnJvcnMucnViaWNvbiIpO0FycmF5LmlzQXJyYXkoaSkmJmkubGVuZ3RoPjAmJk9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBFcnJvciBpbiB2aWRlbyByZXNwb25zZSIpO3ZhciBvPVtdO3JldHVybiBlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24odCl7KHQuYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGM9e3JlcXVlc3RJZDpyLmJpZElkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcmVhdGl2ZUlkOmkuY3JpZCxjcG06aS5wcmljZXx8MCxiaWRkZXJDb2RlOnQuc2VhdCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUsd2lkdGg6aS53fHxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLnciKXx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwicGFyYW1zLnZpZGVvLnBsYXllcldpZHRoIiksaGVpZ2h0OmkuaHx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwibWVkaWFUeXBlcy52aWRlby5oIil8fE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsInBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQiKX07aS5pZCYmKGMuc2VhdEJpZElkPWkuaWQpLGkuZGVhbGlkJiYoYy5kZWFsSWQ9aS5kZWFsaWQpLGkuYWRvbWFpbiYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShjLCJtZXRhLmFkdmVydGlzZXJEb21haW5zIixBcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJleHQuYmlkZGVyLnJwLmFkdmlkIikmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoYywibWV0YS5hZHZlcnRpc2VySWQiLGkuZXh0LmJpZGRlci5ycC5hZHZpZCk7dmFyIHM9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcy5ydWJpY29uIik7aWYociYmcyYmKHIuc2VydmVyUmVzcG9uc2VUaW1lTXM9cyksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiZXh0LnByZWJpZC50eXBlIik9PT1hLmQpe2MubWVkaWFUeXBlPWEuZCxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGMsIm1ldGEubWVkaWFUeXBlIixhLmQpO3ZhciB1PU9iamVjdChuLmRlZXBBY2Nlc3MpKGksImV4dC5wcmViaWQudGFyZ2V0aW5nIik7dSYmIm9iamVjdCI9PT12KHUpJiYoYy5hZHNlcnZlclRhcmdldGluZz11KSxpLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09dihpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8oYy52aWRlb0NhY2hlS2V5PWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQsYy52YXN0VXJsPWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6dSYmdS5oYl91dWlkJiZ1LmhiX2NhY2hlX2hvc3QmJnUuaGJfY2FjaGVfcGF0aCYmKGMudmlkZW9DYWNoZUtleT11LmhiX3V1aWQsYy52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KHUuaGJfY2FjaGVfaG9zdCkuY29uY2F0KHUuaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KHUuaGJfdXVpZCkpLGkuYWRtJiYoYy52YXN0WG1sPWkuYWRtKSxpLm51cmwmJihjLnZhc3RVcmw9aS5udXJsKSwhYy52YXN0VXJsJiZpLm51cmwmJihjLnZhc3RVcmw9aS5udXJsKSwib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLnRvTG93ZXJDYXNlKCkmJihjLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciB0PWQuYS5pbnN0YWxsKHtpZDplLmFkSWQsdXJsOngucmVuZGVyZXJVcmx8fHksY29uZmlnOngucmVuZGVyZXJDb25maWd8fHt9LGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXt0LnNldFJlbmRlcihfKX1jYXRjaChlKXtPYmplY3Qobi5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gdH0oYykpfWVsc2UgT2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IHZpZGVvIHJlc3BvbnNlIHJlY2VpdmVkIG5vbi12aWRlbyBtZWRpYSB0eXBlIik7by5wdXNoKGMpfSkpfSkpLG99dmFyIGMscz1lLmFkcyx1PTA7cmV0dXJuIm9iamVjdCIhPT12KHIpfHxBcnJheS5pc0FycmF5KHIpfHwidmlkZW8iIT09dyhyKXx8Im9iamVjdCIhPT12KHMpfHwocz1zW3IuYWRVbml0Q29kZV0pLCFBcnJheS5pc0FycmF5KHMpfHxzLmxlbmd0aDwxP1tdOnMucmVkdWNlKChmdW5jdGlvbih0LGksbyl7aWYoaS5pbXByZXNzaW9uX2lkJiZjPT09aS5pbXByZXNzaW9uX2lkP3UrKzpjPWkuaW1wcmVzc2lvbl9pZCwib2siIT09aS5zdGF0dXMpcmV0dXJuIHQ7dmFyIHMsZCxwPUFycmF5LmlzQXJyYXkocik/cltvLXVdOnI7aWYocCYmIm9iamVjdCI9PT12KHApKXt2YXIgbD17cmVxdWVzdElkOnAuYmlkSWQsY3VycmVuY3k6IlVTRCIsY3JlYXRpdmVJZDppLmNyZWF0aXZlX2lkfHwiIi5jb25jYXQoaS5uZXR3b3JrfHwiIiwiLSIpLmNvbmNhdChpLmFkdmVydGlzZXJ8fCIiKSxjcG06aS5jcG18fDAsZGVhbElkOmkuZGVhbCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUscnViaWNvbjp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrfSxtZXRhOnthZHZlcnRpc2VySWQ6aS5hZHZlcnRpc2VyLG5ldHdvcmtJZDppLm5ldHdvcmssbWVkaWFUeXBlOmEuYn19O2lmKGkuY3JlYXRpdmVfdHlwZSYmKGwubWVkaWFUeXBlPWkuY3JlYXRpdmVfdHlwZSksaS5hZG9tYWluJiYobC5tZXRhLmFkdmVydGlzZXJEb21haW5zPUFycmF5LmlzQXJyYXkoaS5hZG9tYWluKT9pLmFkb21haW46W2kuYWRvbWFpbl0pLGkuY3JlYXRpdmVfdHlwZT09PWEuZClsLndpZHRoPXAucGFyYW1zLnZpZGVvLnBsYXllcldpZHRoLGwuaGVpZ2h0PXAucGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCxsLnZhc3RVcmw9aS5jcmVhdGl2ZV9kZXBvdF91cmwsbC5pbXByZXNzaW9uX2lkPWkuaW1wcmVzc2lvbl9pZCxsLnZpZGVvQ2FjaGVLZXk9aS5pbXByZXNzaW9uX2lkO2Vsc2V7bC5hZD0ocz1pLnNjcmlwdCxkPWkuaW1wcmVzc2lvbl9pZCwiPGh0bWw+XG48aGVhZD48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+aW5EYXBJRj10cnVlOzxcL3NjcmlwdD48L2hlYWQ+XG48Ym9keSBzdHlsZT0nbWFyZ2luIDogMDsgcGFkZGluZzogMDsnPlxuXHgzYyEtLSBSdWJpY29uIFByb2plY3QgQWQgVGFnIC0tXHgzZVxuPGRpdiBkYXRhLXJwLWltcHJlc3Npb24taWQ9JyIuY29uY2F0KGQsIic+XG48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+IikuY29uY2F0KHMsIjxcL3NjcmlwdD5cbjwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPiIpKTt2YXIgYj1mKGhbaS5zaXplX2lkXS5zcGxpdCgieCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlKX0pKSwyKTtsLndpZHRoPWJbMF0sbC5oZWlnaHQ9YlsxXX1sLnJ1Ymljb25UYXJnZXRpbmc9KEFycmF5LmlzQXJyYXkoaS50YXJnZXRpbmcpP2kudGFyZ2V0aW5nOltdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5rZXldPXQudmFsdWVzWzBdLGV9KSx7cnBmbF9lbGVtaWQ6cC5hZFVuaXRDb2RlfSksdC5wdXNoKGwpfWVsc2UgT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBiaWRSZXF1ZXN0IHVuZGVmaW5lZCBhdCBpbmRleCBwb3NpdGlvbjoiLmNvbmNhdChvKSxyLGUpO3JldHVybiB0fSksW10pLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQuY3BtfHwwKS0oZS5jcG18fDApfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIU4mJmUuaWZyYW1lRW5hYmxlZCl7dmFyIGk9IiI7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz9pKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHIuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpOmkrPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpLG4mJihpKz0iIi5jb25jYXQoaT8iJiI6Ij8iLCJ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobikpKSxOPSEwLHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LnN5bmNIb3N0fHwiZXVzIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS91c3luYy5odG1sIikraX19fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KG4uY29udmVydFR5cGVzKSh7YWNjb3VudElkOiJudW1iZXIiLHNpdGVJZDoibnVtYmVyIix6b25lSWQ6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gTyhlLHQpe3ZhciByPW8uYi5nZXRDb25maWcoInBhZ2VVcmwiKTtyZXR1cm4gZS5wYXJhbXMucmVmZXJyZXI/cj1lLnBhcmFtcy5yZWZlcnJlcjpyfHwocj10LnJlZmVyZXJJbmZvLnJlZmVyZXIpLGUucGFyYW1zLnNlY3VyZT9yLnJlcGxhY2UoL15odHRwOi9pLCJodHRwczoiKTpyfWZ1bmN0aW9uIF8oZSl7dmFyIHQscj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpOyh0PXIucXVlcnlTZWxlY3RvcigiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpJiZ0LnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUucXVlcnlTZWxlY3Rvcigic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIikscj10JiZ0Lm5leHRTaWJsaW5nO3ImJiJpZnJhbWUiPT09ci5sb2NhbE5hbWUmJnIuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9KHIpO3ZhciBuPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5NYWduaXRlQXBleC5yZW5kZXJBZCh7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFVybDplLnZhc3RVcmwscGxhY2VtZW50OnthdHRhY2hUbzoiIyIuY29uY2F0KGUuYWRVbml0Q29kZSksYWxpZ246bi5hbGlnbnx8ImNlbnRlciIscG9zaXRpb246bi5wb3NpdGlvbnx8ImFwcGVuZCJ9LGNsb3NlQnV0dG9uOm4uY2xvc2VCdXR0b258fCExLGxhYmVsOm4ubGFiZWx8fHZvaWQgMCxjb2xsYXBzZTpuLmNvbGxhcHNlfHwhMH0pfSkpfWZ1bmN0aW9uIEEoZSx0KXt2YXIgcj1lLnBhcmFtcztpZigidmlkZW8iPT09dCl7dmFyIGk9W107cmV0dXJuIHIudmlkZW8mJnIudmlkZW8ucGxheWVyV2lkdGgmJnIudmlkZW8ucGxheWVySGVpZ2h0P2k9W3IudmlkZW8ucGxheWVyV2lkdGgsci52aWRlby5wbGF5ZXJIZWlnaHRdOkFycmF5LmlzQXJyYXkoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpJiYxPT09ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUubGVuZ3RoP2k9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF06QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MCYmQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKSYmZS5zaXplc1swXS5sZW5ndGg+MSYmKGk9ZS5zaXplc1swXSksaX12YXIgbz1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShyLnNpemVzKT9vPXIuc2l6ZXM6dm9pZCAwIT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9vPUMoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MD9vPUMoZS5zaXplcyk6T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IG5vIHNpemVzIGFyZSBzZXR1cCBvciBmb3VuZCIpLFIobyl9ZnVuY3Rpb24gUyhlLHQscil7dmFyIGk9e3VzZXI6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLnZpc2l0b3IpfX0sc2l0ZTp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMuaW52ZW50b3J5KX19fTtlLnBhcmFtcy5rZXl3b3JkcyYmKGkuc2l0ZS5rZXl3b3Jkcz1PYmplY3Qobi5pc0FycmF5KShlLnBhcmFtcy5rZXl3b3Jkcyk/ZS5wYXJhbXMua2V5d29yZHMuam9pbigiLCIpOmUucGFyYW1zLmtleXdvcmRzKTt2YXIgYz1PYmplY3Qobi5tZXJnZURlZXApKHt9LG8uYi5nZXRDb25maWcoIm9ydGIyIil8fHt9LGkpLHM9T2JqZWN0KG4uZGVlcEFjY2VzcykoZS5vcnRiMkltcCwiZXh0LmRhdGEiKXx8e30sZD17dXNlcjpbNF0sc2l0ZTpbMSwyLDUsNl19LHU9e3VzZXI6InRnX3YuIixzaXRlOiJ0Z19pLiIsYWRzZXJ2ZXI6InRnX2kuZGZwX2FkX3VuaXRfY29kZSIscGJhZHNsb3Q6InRnX2kucGJhZHNsb3QiLGtleXdvcmRzOiJrdyJ9LHA9ZnVuY3Rpb24oZSx0LHIpe2lmKCJkYXRhIj09PXQmJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50JiZPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJleHQuc2VndGF4IikmJmRbcl0mJi0xIT09ZFtyXS5pbmRleE9mKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5zZWd0YXgiKSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLnNlZ21lbnQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucHVzaCh0LmlkKSxlfSksW10pO2lmKHQubGVuZ3RoPjApcmV0dXJuIHQudG9TdHJpbmcoKX0pKS50b1N0cmluZygpO2lmKCJvYmplY3QiIT09dihlKXx8QXJyYXkuaXNBcnJheShlKSl7aWYodm9pZCAwIT09ZSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmZpbHRlcigoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT12KGUpJiZ2b2lkIDAhPT1lKXJldHVybiBlLnRvU3RyaW5nKCk7T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IEZpbHRlcmVkIHZhbHVlOiAiLGUsImZvciBrZXkiLHQsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0pKS50b1N0cmluZygpOmUudG9TdHJpbmcoKX1lbHNlIE9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBGaWx0ZXJlZCBGUEQga2V5OiAiLHQsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0sYj1mdW5jdGlvbihlLHQsbil7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXSxvPXAoZSxuLHQpLGE9dVtuXSYmaT8iIi5jb25jYXQodVtuXSk6ImRhdGEiPT09bj8iIi5jb25jYXQodVt0XSwiaWFiIik6IiIuY29uY2F0KHVbdF0pLmNvbmNhdChuKTtyW2FdPXJbYV0/clthXS5jb25jYXQoIiwiLG8pOm99O09iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJhZHNlcnZlciI9PT1lP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3NbZV1bdF0mJihzW2VdW3RdPXNbZV1bdF0udG9TdHJpbmcoKS5yZXBsYWNlKC9eXC8rLywiIikpfSkpOiJwYmFkc2xvdCI9PT1lJiYoc1tlXT1zW2VdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKSx0PT09YS5iPyhbInNpdGUiLCJ1c2VyIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoY1tlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7InNpdGUiPT09ZSYmImNvbnRlbnQiPT09dCYmY1tlXVt0XS5kYXRhP2IoY1tlXVt0XS5kYXRhLGUsImRhdGEiKToiZXh0IiE9PXQ/YihjW2VdW3RdLGUsdCk6Y1tlXVt0XS5kYXRhJiZPYmplY3Qua2V5cyhjW2VdLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbih0KXtiKGNbZV0uZXh0LmRhdGFbdF0sZSx0LCExKX0pKX0pKX0pKSxPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9iKHNbZV0uYWRzbG90LG5hbWUsZSk6YihzW2VdLCJzaXRlIixlKX0pKSk6KE9iamVjdC5rZXlzKHMpLmxlbmd0aCYmT2JqZWN0KG4ubWVyZ2VEZWVwKShyLmltcFswXS5leHQse2RhdGE6c30pLE9iamVjdChuLm1lcmdlRGVlcCkocixjKSl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gT2JqZWN0KG4ucGFyc2VTaXplc0lucHV0KShlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cGFyc2VJbnQoaFt0XSwxMCk7cmV0dXJuIHImJmUucHVzaChyKSxlfSksW10pfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIm9iamVjdCI9PT12KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpKSYmdm9pZCAwIT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQpKX1mdW5jdGlvbiB3KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIEkoZSk/LTE9PT1bIm91dHN0cmVhbSIsImluc3RyZWFtIl0uaW5kZXhPZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCwiLmNvbnRleHQiKSkpP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQgbXVzdCBiZSBvdXRzdHJlYW0gb3IgaW5zdHJlYW0iKSk6QShlLCJ2aWRlbyIpLmxlbmd0aDwyP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBwbGF5ZXJTaXplIG9mIHRoZSB2aWRlbyIpKToodCYmT2JqZWN0KG4ubG9nTWVzc2FnZSkoIlJ1Ymljb246IG1ha2luZyB2aWRlbyByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksInZpZGVvIik6MD09PUEoZSwiYmFubmVyIikubGVuZ3RoP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBzaXplcyBmb3IgYmFubmVyIHJlcXVlc3QiKSk6KHQmJk9iamVjdChuLmxvZ01lc3NhZ2UpKCJSdWJpY29uOiBtYWtpbmcgYmFubmVyIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwiYmFubmVyIil9dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4geD17fX07ZnVuY3Rpb24gUihlKXt2YXIgdD1bMTUsMiw5XTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbihlLHIpe3ZhciBuPXQuaW5kZXhPZihlKSxpPXQuaW5kZXhPZihyKTtyZXR1cm4gbj4tMXx8aT4tMT8tMT09PW4/MTotMT09PWk/LTE6bi1pOmUtcn0pKX1mdW5jdGlvbiB6KGUpe3ZhciB0PXBhcnNlSW50KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5zaXplX2lkIikpO3JldHVybiBpc05hTih0KT8ib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kLCIuY29udGV4dCIpKT8yMDM6MjAxOnR9ZnVuY3Rpb24gVChlKXtyZXR1cm57cmFuZ2VzOntsb3c6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XSxtZWRpdW06W3ttYXg6MjAsaW5jcmVtZW50Oi4xfV0saGlnaDpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV0sYXV0bzpbe21heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxkZW5zZTpbe21heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dLGN1c3RvbTplLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSYmZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikuYnVja2V0c31bZS5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKV19fWZ1bmN0aW9uIEUoZSl7dmFyIHQ9ITAscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pLGk9e21pbWVzOnIscHJvdG9jb2xzOnIsbGluZWFyaXR5Ok9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgwKSxhcGk6cn07cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLiIrcikpIT09aVtyXSYmKHQ9ITEsT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLiIrcisiIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG9mIHR5cGU6ICIraVtyXSkpfSkpLHR9ZnVuY3Rpb24gVShlKXt2YXIgdD0hMSxyPVsiYXNpIiwic2lkIiwiaHAiXTtyZXR1cm4gZS5ub2Rlcz8oKHQ9ZS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9KSk6ZX0pLCEwKSl8fE9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogcmVxdWlyZWQgc2NoYWluIHBhcmFtcyBtaXNzaW5nIiksdCk6dH1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuInJwX3NjaGFpbiI9PT1lPyJycF9zY2hhaW49Ii5jb25jYXQodCk6IiIuY29uY2F0KGUsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX12YXIgTj0hMTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoail9fSxbNzc4XSk7CnVwYmpzQ2h1bmsoWzEzNV0sezc4NDpmdW5jdGlvbihuLGksZSl7bi5leHBvcnRzPWUoNzg1KX0sNzg1OmZ1bmN0aW9uKG4saSxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuaXNTY2hhaW5PYmplY3RWYWxpZD1oLGkuaXNWYWxpZFNjaGFpbkNvbmZpZz11LGkubWFrZUJpZFJlcXVlc3RzSG9vaz1PLGkuaW5pdD1sO3ZhciB0PWUoMyksYz1lKDgpLG89ZSgwKSxhPSJJbnZhbGlkIHNjaGFpbiBvYmplY3QgZm91bmQ6ICIscz0iIHNob3VsZCBiZSBhIHN0cmluZyIscj0iIHNob3VsZCBiZSBhbiBJbnRlZ2VyIixmPSIgc2hvdWxkIGJlIGFuIG9iamVjdCIsZD17U1RSSUNUOiJzdHJpY3QiLFJFTEFYRUQ6InJlbGF4ZWQiLE9GRjoib2ZmIn0sYj1bXTtmdW5jdGlvbiBoKG4saSl7dmFyIGU9IkRldGVjdGVkIHNvbWV0aGluZyB3cm9uZyB3aXRoaW4gYW4gc2NoYWluIGNvbmZpZzoiLHQ9IiI7ZnVuY3Rpb24gYyhuKXt0Kz0iXG4iK259ZnVuY3Rpb24gYSgpeyEwPT09aT9PYmplY3Qoby5sb2dFcnJvcikoZSxuLHQpOk9iamVjdChvLmxvZ1dhcm4pKGUsbix0KX1pZighT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobikmJihjKCJzY2hhaW4uY29uZmlnIitmKSxhKCksaSkpcmV0dXJuITE7aWYoT2JqZWN0KG8uaXNOdW1iZXIpKG4uY29tcGxldGUpJiZPYmplY3Qoby5pc0ludGVnZXIpKG4uY29tcGxldGUpfHxjKCJzY2hhaW4uY29uZmlnLmNvbXBsZXRlIityKSxPYmplY3Qoby5pc1N0cikobi52ZXIpfHxjKCJzY2hhaW4uY29uZmlnLnZlciIrcyksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5leHQiK2YpKSxPYmplY3Qoby5pc0FycmF5KShuLm5vZGVzKSluLm5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG4saSl7T2JqZWN0KG8uaXNTdHIpKG4uYXNpKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmFzaSIpK3MpLE9iamVjdChvLmlzU3RyKShuLnNpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5zaWQiKStzKSxPYmplY3Qoby5pc051bWJlcikobi5ocCkmJk9iamVjdChvLmlzSW50ZWdlcikobi5ocCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5ocCIpK3IpLE9iamVjdChvLmhhc093bikobiwicmlkIikmJihPYmplY3Qoby5pc1N0cikobi5yaWQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0ucmlkIikrcykpLE9iamVjdChvLmhhc093bikobiwibmFtZSIpJiYoT2JqZWN0KG8uaXNTdHIpKG4ubmFtZSl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5uYW1lIikrcykpLE9iamVjdChvLmhhc093bikobiwiZG9tYWluIikmJihPYmplY3Qoby5pc1N0cikobi5kb21haW4pfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uZG9tYWluIikrcykpLE9iamVjdChvLmhhc093bikobiwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmV4dCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5leHQiKStmKSl9KSk7ZWxzZSBpZihjKCJzY2hhaW4uY29uZmlnLm5vZGVzIHNob3VsZCBiZSBhbiBBcnJheSIpLGEoKSxpKXJldHVybiExO3JldHVybiEodC5sZW5ndGg+MCYmKGEoKSxpKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdm9pZCAwIT09biYmKCEhT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobil8fChPYmplY3Qoby5sb2dFcnJvcikoYSsidGhlIGZvbGxvd2luZyBzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHVzZWQgYXMgc2NoYWluIGlzIG5vdCBhbiBvYmplY3QuIixuKSwhMSkpfWZ1bmN0aW9uIE8obixpKXt2YXIgZT10LmIuZ2V0Q29uZmlnKCJzY2hhaW4iKSxjPXQuYi5nZXRCaWRkZXJDb25maWcoKTtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPW4uYmlkZGVyQ29kZSx0PWZ1bmN0aW9uKG4pe3JldHVybiBjW25dJiZjW25dLnNjaGFpbnx8ZX0oaSk7bi5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBlPWZ1bmN0aW9uKG4saSl7dmFyIGU9ZC5TVFJJQ1Q7aWYodShuKSl7aWYoT2JqZWN0KG8uaXNTdHIpKG4udmFsaWRhdGlvbikmJi0xIT1iLmluZGV4T2Yobi52YWxpZGF0aW9uKSYmKGU9bi52YWxpZGF0aW9uKSxlPT09ZC5PRkYpcmV0dXJuIG4uY29uZmlnO2lmKGgobi5jb25maWcsIShlIT09ZC5TVFJJQ1QpKSlyZXR1cm4gbi5jb25maWc7T2JqZWN0KG8ubG9nRXJyb3IpKGErImR1ZSB0byB0aGUgJ3N0cmljdCcgdmFsaWRhdGlvbiBzZXR0aW5nLCB0aGlzIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgcGFzc2VkIHRvIGJpZGRlciAnIi5jb25jYXQoaSwiJy4gIFNlZSBhYm92ZSBlcnJvciBmb3IgZGV0YWlscy4iKSl9cmV0dXJuIG51bGx9KHQsaSk7ZSYmKG4uc2NoYWluPWUpfSkpfSkpLG4oaSl9ZnVuY3Rpb24gbCgpe2MuZGVmYXVsdC5tYWtlQmlkUmVxdWVzdHMuYWZ0ZXIoTyl9T2JqZWN0KG8uX2VhY2gpKGQsKGZ1bmN0aW9uKG4pe3JldHVybiBiLnB1c2gobil9KSksbCgpfX0sWzc4NF0pOwp1cGJqc0NodW5rKFsyMl0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1pKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShvLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6b1tyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxvPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9b1t0XTtpZihyJiZlKXt2YXIgaT17fTtpLnNvdXJjZT1yLnNvdXJjZTt2YXIgYT1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKGEpKXt2YXIgYz17aWQ6YSxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciB1PXIuZ2V0VWlkRXh0KGUpO3UmJihjLmV4dD11KX1pZihpLnVpZHM9W2NdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIGQ9ci5nZXRFaWRFeHQoZSk7ZCYmKGkuZXh0PWQpfXJldHVybiBpfX1yZXR1cm4gbnVsbH19LDc5NDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzk1KX0sNzk1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzaGFyZXRocm91Z2hJbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksci5kKHQsInNoYXJldGhyb3VnaEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgbj1yKDApLG89cigxKSxpPXIoMyksYT1yKDIpLGM9cigxNyk7ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmQoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLG8saT1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKG4udmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLG89ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4geShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBmPSJzaGFyZXRocm91Z2giLG09Imh0dHBzOi8vYnRsci5zaGFyZXRocm91Z2guY29tL3VuaXZlcnNhbC92MT9zdXBwbHlfaWQ9Ii5jb25jYXQoIldZdTJCWHYxIiksYj17Z2V0UHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sfX0sZz17Y29kZTpmLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuZCxhLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMucGtleSYmZS5iaWRkZXI9PT1mfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLG89Yi5nZXRQcm90b2NvbCgpLmluZGV4T2YoImh0dHAiKTwwfHxiLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cHMiKT4tMSxhPXtpZDpPYmplY3Qobi5nZW5lcmF0ZVVVSUQpKCksYXQ6MSxjdXI6WyJVU0QiXSx0bWF4OnIsc2l0ZTp7ZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxwYWdlOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZjp0LnJlZmVyZXJJbmZvJiZ0LnJlZmVyZXJJbmZvLnJlZmVyZXJ8fG51bGx9LHVzZXI6e2V4dDp7ZWlkczpJKGVbMF0pfX0sZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZSxqczoxLGRudDoiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFjaz8xOjAsaDp3aW5kb3cuc2NyZWVuLmhlaWdodCx3OndpbmRvdy5zY3JlZW4ud2lkdGh9LHJlZ3M6e2NvcHBhOiEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKT8xOjAsZXh0Ont9fSxzb3VyY2U6e2V4dDp7dmVyc2lvbjoiNS4yMC4yIixzdHI6IjQuMC4xIixzY2hhaW46ZVswXS5zY2hhaW59fSxiY2F0OmVbMF0ucGFyYW1zLmJjYXR8fFtdLGJhZHY6ZVswXS5wYXJhbXMuYmFkdnx8W10sdGVzdDowfTtpZih0LmdkcHJDb25zZW50KXt2YXIgYz0hMD09PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM7YS5yZWdzLmV4dC5nZHByPWM/MTowLGMmJihhLnVzZXIuZXh0LmNvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKX1yZXR1cm4gdC51c3BDb25zZW50JiYoYS5yZWdzLmV4dC51c19wcml2YWN5PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtpZihyJiYodC5leHQ9e2dwaWQ6cn0pLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KXJldHVybiBudWxsO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXt2YXIgaT1lLm1lZGlhVHlwZXMudmlkZW8sYT02NDAsYz0zNjA7aWYoaS5wbGF5ZXJTaXplJiZpLnBsYXllclNpemVbMF0mJmkucGxheWVyU2l6ZVsxXSl7dmFyIHU9bChpLnBsYXllclNpemUsMik7YT11WzBdLGM9dVsxXX10LnZpZGVvPXtwb3M6aihpLnBvcywwKSx0b3BmcmFtZTpPYmplY3Qobi5pbklmcmFtZSkoKT8wOjEsc2tpcDpqKGkuc2tpcCwwKSxsaW5lYXJpdHk6aihpLmxpbmVhcml0eSwxKSxtaW5kdXJhdGlvbjpqKGkubWluZHVyYXRpb24sNSksbWF4ZHVyYXRpb246aihpLm1heGR1cmF0aW9uLDYwKSxwbGF5YmFja21ldGhvZDppLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOnYoaSksbWltZXM6aS5taW1lc3x8WyJ2aWRlby9tcDQiXSxwcm90b2NvbHM6aChpKSx3OmEsaDpjLHN0YXJ0ZGVsYXk6aihpLnN0YXJ0ZGVsYXksMCksc2tpcG1pbjpqKGkuc2tpcG1pbiwwKSxza2lwYWZ0ZXI6aihpLnNraXBhZnRlciwwKX0saS5wbGFjZW1lbnQmJih0LnZpZGVvLnBsYWNlbWVudD1pLnBsYWNlbWVudCksaS5kZWxpdmVyeSYmKHQudmlkZW8uZGVsaXZlcnk9aS5kZWxpdmVyeSksaS5jb21wYW5pb250eXBlJiYodC52aWRlby5jb21wYW5pb250eXBlPWkuY29tcGFuaW9udHlwZSksaS5jb21wYW5pb25hZCYmKHQudmlkZW8uY29tcGFuaW9uYWQ9aS5jb21wYW5pb25hZCl9ZWxzZSB0LmJhbm5lcj17cG9zOk9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIsMCksdG9wZnJhbWU6T2JqZWN0KG4uaW5JZnJhbWUpKCk/MDoxLGZvcm1hdDplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6K2VbMF0saDorZVsxXX19KSl9O3JldHVybiBzKHtpZDplLmJpZElkLHRhZ2lkOlN0cmluZyhlLnBhcmFtcy5wa2V5KSxzZWN1cmU6bz8xOjAsYmlkZmxvb3I6TyhlKX0sdCl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bSxkYXRhOnMocyh7fSxhKSx7fSx7aW1wOltlXX0pfX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7cmV0dXJuIHImJnIuc2VhdGJpZCYmMCE9PXIuc2VhdGJpZC5sZW5ndGgmJnIuc2VhdGJpZFswXS5iaWQmJjAhPT1yLnNlYXRiaWRbMF0uYmlkLmxlbmd0aD9yLnNlYXRiaWRbMF0uYmlkLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49e3JlcXVlc3RJZDplLmltcGlkLHdpZHRoOitlLncsaGVpZ2h0OitlLmgsY3BtOitlLnByaWNlLGNyZWF0aXZlSWQ6ZS5jcmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxtZWRpYVR5cGU6dC5kYXRhLmltcFswXS52aWRlbz9hLmQ6YS5iLGN1cnJlbmN5OnIuY3VyfHwiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNjAsYWQ6ZS5hZG0sbnVybDplLm51cmwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O3JldHVybiBuLm1lZGlhVHlwZT09PWEuZCYmKG4udHRsPTM2MDAsbi52YXN0WG1sPWUuYWRtKSxufSkpOltdfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89bj8iJnVzX3ByaXZhY3k9Ii5jb25jYXQobik6IiIsaT1bXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnRbMF0uYm9keSYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzJiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmUrb30pfSkpLGl9LG9uVGltZW91dDpmdW5jdGlvbihlKXt9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7fX07ZnVuY3Rpb24gdihlKXt2YXIgdD1lLmFwaTtyZXR1cm4gdCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD90OlsyXX1mdW5jdGlvbiBoKGUpe3ZhciB0PWUucHJvdG9jb2xzO3JldHVybiB0JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wP3Q6WzIsMyw1LDYsNyw4XX1mdW5jdGlvbiBPKGUpe3ZhciB0PW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLHNpemU6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0pOyJvYmplY3QiIT09dShyKXx8IlVTRCIhPT1yLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHIuZmxvb3IpKXx8KHQ9cGFyc2VGbG9hdChyLmZsb29yKSl9cmV0dXJuIG51bGwhPT10P3Q6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3QoYy5iKShPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQiKSl8fFtdLHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmZsb2NJZCIpO3JldHVybiByJiZyLmlkJiZyLnZlcnNpb24mJnQucHVzaCh7c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxhdHlwZToxLGV4dDp7dmVyOnIudmVyc2lvbn19XX0pLHR9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBudWxsPT1lP3Q6ZX1PYmplY3Qoby5yZWdpc3RlckJpZGRlcikoZyl9fSxbNzk0XSk7CnVwYmpzQ2h1bmsoWzIwXSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPW8oZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChhLmRlZXBBY2Nlc3MpKGkscisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTppW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLGk9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIG8oZSx0KXt2YXIgcj1pW3RdO2lmKHImJmUpe3ZhciBvPXt9O28uc291cmNlPXIuc291cmNlO3ZhciBuPU9iamVjdChhLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoYS5pc1N0cikobikpe3ZhciBkPXtpZDpuLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChhLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHM9ci5nZXRVaWRFeHQoZSk7cyYmKGQuZXh0PXMpfWlmKG8udWlkcz1bZF0sT2JqZWN0KGEuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgYz1yLmdldEVpZEV4dChlKTtjJiYoby5leHQ9Yyl9cmV0dXJuIG99fXJldHVybiBudWxsfX0sODA4OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MDkpfSw4MDk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBhPXIoMCksaT1yKDIpLG89cigzKSxuPXIoMTcpLGQ9cigxKSxzPXtjb2RlOiJzbWFydGFkc2VydmVyIixndmxpZDo0NSxhbGlhc2VzOlsic21hcnQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy5wYWdlSWQmJmUucGFyYW1zLmZvcm1hdElkKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm5vZGVzKXJldHVybiBudWxsO3ZhciB0PVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIiIuY29uY2F0KGUudmVyLCIsIikuY29uY2F0KGUuY29tcGxldGUsIiEiKStlLm5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XT9lbmNvZGVVUklDb21wb25lbnQoZVt0XSk6IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0sYWRhcHRCYW5uZXJTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0sZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXQucGxheWVyU2l6ZVswXTtlLmlzVmlkZW89Imluc3RyZWFtIj09PXQuY29udGV4dCxlLm1lZGlhVHlwZT1pLmQsZS52aWRlb0RhdGE9e3ZpZGVvUHJvdG9jb2w6dGhpcy5nZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdCh0LHIpLHBsYXllcldpZHRoOmFbMF0scGxheWVySGVpZ2h0OmFbMV0sYWRCcmVhazp0aGlzLmdldFN0YXJ0RGVsYXlGb3JWaWRlb0JpZFJlcXVlc3QodCxyKX19LGdldFByb3RvY29sRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQmJnQucHJvdG9jb2w/dC5wcm90b2NvbDp2b2lkIDAhPT1lJiZBcnJheS5pc0FycmF5KGUucHJvdG9jb2xzKT9NYXRoLm1heC5hcHBseShNYXRoLGUucHJvdG9jb2xzKTpudWxsfSxnZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCYmdC5zdGFydERlbGF5KXJldHVybiB0LnN0YXJ0RGVsYXk7aWYodm9pZCAwIT09ZSl7aWYoMD09ZS5zdGFydGRlbGF5KXJldHVybiAxO2lmKC0xPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDI7aWYoLTI9PWUuc3RhcnRkZWxheSlyZXR1cm4gM31yZXR1cm4gMn0sY3JlYXRlU2VydmVyUmVxdWVzdDpmdW5jdGlvbihlLHQpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoodm9pZCAwIT09dD90OiJodHRwczovL3ByZy5zbWFydGFkc2VydmVyLmNvbSIpKyIvcHJlYmlkL3YxIixkYXRhOkpTT04uc3RyaW5naWZ5KGUpfX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPW8uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7dmFyIGQ9e3NpdGVpZDppLnBhcmFtcy5zaXRlSWQscGFnZWlkOmkucGFyYW1zLnBhZ2VJZCxmb3JtYXRpZDppLnBhcmFtcy5mb3JtYXRJZCxjdXJyZW5jeUNvZGU6cixiaWRmbG9vcjppLnBhcmFtcy5iaWRmbG9vcnx8cy5nZXRCaWRGbG9vcihpLHIpLHRhcmdldGluZzppLnBhcmFtcy50YXJnZXQmJiIiIT09aS5wYXJhbXMudGFyZ2V0P2kucGFyYW1zLnRhcmdldDp2b2lkIDAsYnVpZDppLnBhcmFtcy5idUlkJiYiIiE9PWkucGFyYW1zLmJ1SWQ/aS5wYXJhbXMuYnVJZDp2b2lkIDAsYXBwbmFtZTppLnBhcmFtcy5hcHBOYW1lJiYiIiE9PWkucGFyYW1zLmFwcE5hbWU/aS5wYXJhbXMuYXBwTmFtZTp2b2lkIDAsY2tpZDppLnBhcmFtcy5ja0lkfHwwLHRhZ0lkOmkuYWRVbml0Q29kZSxwYWdlRG9tYWluOnQmJnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcj90LnJlZmVyZXJJbmZvLnJlZmVyZXI6dm9pZCAwLHRyYW5zYWN0aW9uSWQ6aS50cmFuc2FjdGlvbklkLHRpbWVvdXQ6by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGJpZElkOmkuYmlkSWQscHJlYmlkVmVyc2lvbjoiNS4yMC4yIixzY2hhaW46cy5zZXJpYWxpemVTdXBwbHlDaGFpbihpLnNjaGFpbil9O3QmJnQuZ2RwckNvbnNlbnQmJihkLmFkZHRsX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQsZC5nZHByX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGQuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpJiZpLnVzZXJJZCYmKGQuZWlkcz1PYmplY3Qobi5iKShpLnVzZXJJZCkpLHQmJnQudXNwQ29uc2VudCYmKGQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpO3ZhciBjPU9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMudmlkZW8iKSx1PU9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMuYmFubmVyIikscD1jJiYoImluc3RyZWFtIj09PWMuY29udGV4dHx8Im91dHN0cmVhbSI9PT1jLmNvbnRleHQpO2lmKCFwJiZ1KWQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJiF1KXMuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QoZCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiZ1KXt2YXIgbD1PYmplY3QoYS5kZWVwQ2xvbmUpKGQpO3MuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QobCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGwsaS5wYXJhbXMuZG9tYWluKSksZC5zaXplcz1zLmFkYXB0QmFubmVyU2l6ZXModS5zaXplcyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpfWVsc2UgZS5wdXNoKHt9KTtyZXR1cm4gZX0pLFtdKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxvPWUuYm9keTt0cnl7aWYobyYmIW8uaXNOb0FkKXt2YXIgbj1KU09OLnBhcnNlKHQuZGF0YSksZD17cmVxdWVzdElkOm4uYmlkSWQsY3BtOm8uY3BtLHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LGNyZWF0aXZlSWQ6by5jcmVhdGl2ZUlkLGRlYWxJZDpvLmRlYWxJZCxjdXJyZW5jeTpvLmN1cnJlbmN5LG5ldFJldmVudWU6by5pc05ldENwbSx0dGw6by50dGwsZHNwUGl4ZWxzOm8uZHNwUGl4ZWxzLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm8uYWRvbWFpbj9vLmFkb21haW46W119fTtuLm1lZGlhVHlwZT09PWkuZD8oZC5tZWRpYVR5cGU9aS5kLGQudmFzdFVybD1vLmFkVXJsLGQudmFzdFhtbD1vLmFkLGQuY29udGVudD1vLmFkKTooZC5hZFVybD1vLmFkVXJsLGQuYWQ9by5hZCksci5wdXNoKGQpfX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIkVycm9yIHdoaWxlIHBhcnNpbmcgc21hcnQgc2VydmVyIHJlc3BvbnNlIixlKX1yZXR1cm4gcn0sZ2V0QmlkRmxvb3I6ZnVuY3Rpb24oZSx0KXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIDA7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6dHx8IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpP3IuZmxvb3I6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmdC5sZW5ndGg+MCYmbnVsbCE9dFswXS5ib2R5LmNTeW5jVXJsP3IucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6dFswXS5ib2R5LmNTeW5jVXJsfSk6ZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnZvaWQgMCE9PXRbMF0uYm9keS5kc3BQaXhlbHMmJnRbMF0uYm9keS5kc3BQaXhlbHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxyfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzgwOF0pOwp1cGJqc0NodW5rKFsxMjJdLHs4MjA6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyMSl9LDgyMTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsIl9pc0luYm91bmRzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSx0Ll9nZXRQbGF0Zm9ybT1fO3ZhciBuPXIoMSksaT1yKDApLHM9cigyKSxhPXIoMyksbz1yKDEzKSxjPXIoNjEpO2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLHM9W10sYT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7bz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgYj0ic29ub2JpIixmPU9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxtPSJodHRwczovL210cnguZ28uc29ub2JpLmNvbS9zYmlfb3V0c3RyZWFtX3JlbmRlcmVyLmpzIix2PXtjb2RlOmIsc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWUucGFyYW1zKXJldHVybiExO2lmKCFlLnBhcmFtcy5hZF91bml0JiYhZS5wYXJhbXMucGxhY2VtZW50X2lkKXJldHVybiExO2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiExO2lmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpe2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITF9ZWxzZSBpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpe2lmKCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSlyZXR1cm4hMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlLnBhcmFtcy5hZF91bml0KXJldHVybiBlLnBhcmFtcy5hZF91bml0O3JldHVybiBlLnBhcmFtcy5wbGFjZW1lbnRfaWR9KGUpO3JldHVybi9eW1wvXT9bXGRdK1tbXC9dLitbXC9dP10/JC8udGVzdCh0KT8odD0iLyI9PT10LmNoYXJBdCgwKT90OiIvIit0LGwoe30sIiIuY29uY2F0KHQsInwiKS5jb25jYXQoZS5iaWRJZCksIiIuY29uY2F0KGcoZSkpLmNvbmNhdCh5KGUpKS5jb25jYXQoaChlKSkpKTovXlswLTlhLWZBLUZdezIwfSQvLnRlc3QodCkmJjIwPT09dC5sZW5ndGg/bCh7fSxlLmJpZElkLCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGcoZSkpLmNvbmNhdCh5KGUpKS5jb25jYXQoaChlKSkpOnZvaWQgT2JqZWN0KGkubG9nRXJyb3IpKCJUaGUgYWQgdW5pdCBjb2RlIG9yIFNvbm9iaSBQbGFjZW1lbnQgaWQgZm9yIHNsb3QgIi5jb25jYXQoZS5iaWRJZCwiIGlzIGludmFsaWQiKSl9KSksbj17fTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3AobixlKX0pKTt2YXIgcz17a2V5X21ha2VyOkpTT04uc3RyaW5naWZ5KG4pLHJlZjp0LnJlZmVyZXJJbmZvLnJlZmVyZXIsczpPYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCkscHY6Zix2cDpfKCksbGliX25hbWU6InByZWJpZCIsbGliX3Y6IjUuMjAuMiIsdXM6MH0sbz1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpO2lmKG8mJihzLmZwZD1KU09OLnN0cmluZ2lmeShvKSksYS5iLmdldENvbmZpZygidXNlclN5bmMiKSYmYS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciYmKHMudXM9YS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciksYy5hLmNhbkJpZGRlclJlZ2lzdGVyU3luYygiaWZyYW1lIixiKT9zLml1cz0xOnMuaXVzPTAsT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpJiYocy5oZmE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpKSxlWzBdLnBhcmFtcy5yZWZlcnJlciYmKHMucmVmPWVbMF0ucGFyYW1zLnJlZmVycmVyKSx0JiZ0LmdkcHJDb25zZW50JiYocy5nZHByPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/InRydWUiOiJmYWxzZSIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5jb25zZW50X3N0cmluZz10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxlWzBdLnNjaGFpbiYmKHMuc2NoYWluPUpTT04uc3RyaW5naWZ5KGVbMF0uc2NoYWluKSksT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwidXNlcklkIikmJk9iamVjdC5rZXlzKGVbMF0udXNlcklkKS5sZW5ndGg+MCl7dmFyIGQ9T2JqZWN0KGkuZGVlcENsb25lKShlWzBdLnVzZXJJZCk7ZC5pZDVpZCYmKGQuaWQ1aWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZCwiaWQ1aWQudWlkIikpLHMudXNlcmlkPUpTT04uc3RyaW5naWZ5KGQpfXZhciB1PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZEFzRWlkcyIpO0FycmF5LmlzQXJyYXkodSkmJnUubGVuZ3RoPjAmJihzLmVpZHM9SlNPTi5zdHJpbmdpZnkodSkpO3ZhciBtPWVbMF0ucGFyYW1zLmtleXdvcmRzO2lmKG0mJihzLmt3PW0pLHQmJnQudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKT9zLmNvcHBhPTE6cy5jb3BwYT0wLE9iamVjdChpLmlzRW1wdHkpKG4pKXJldHVybiBudWxsO3ZhciB2PSJodHRwczovL2FwZXguZ28uc29ub2JpLmNvbS90cmluaXR5Lmpzb24iO3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikmJih2PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5iaWRfcmVxdWVzdF91cmwiKSkse21ldGhvZDoiR0VUIix1cmw6dix3aXRoQ3JlZGVudGlhbHM6ITAsZGF0YTpzLGJpZGRlclJlcXVlc3RzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxuPVtdLHM9dC5kYXRhLnJlZjtyZXR1cm4gMD09PU9iamVjdC5rZXlzKHIuc2xvdHMpLmxlbmd0aHx8T2JqZWN0LmtleXMoci5zbG90cykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9ci5zbG90c1tlXSxjPWUuc3BsaXQoInwiKS5zbGljZSgtMSlbMF0sdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYmlkSWQ9PT10KXJldHVybiBlW3JdfSh0LmJpZGRlclJlcXVlc3RzLGMpLHA9bnVsbDsidmlkZW8iPT09YS5zYmlfY3QmJihwPSJ2aWRlbyIsIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHA9Im91dHN0cmVhbSIpKTt2YXIgbD1qKHAscyk7aWYoYS5zYmlfYWlkJiZhLnNiaV9tb3VzZSYmYS5zYmlfc2l6ZSl7dmFyIGI9ZChhLnNiaV9zaXplLnNwbGl0KCJ4IiksMiksZj1iWzBdLHY9dm9pZCAwPT09Zj8xOmYsZz1iWzFdLHk9dm9pZCAwPT09Zz8xOmcsaD1bXTthLnNiaV9hZG9tYWluJiYoaD1bYS5zYmlfYWRvbWFpbl0pO3ZhciBPPXtyZXF1ZXN0SWQ6YyxjcG06TnVtYmVyKGEuc2JpX21vdXNlKSx3aWR0aDpOdW1iZXIodiksaGVpZ2h0Ok51bWJlcih5KSxhZDpsKHIuc2JpX2RjLGEuc2JpX2FpZCksdHRsOjUwMCxjcmVhdGl2ZUlkOmEuc2JpX2NyaWR8fGEuc2JpX2FpZCxhaWQ6YS5zYmlfYWlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCIsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6aH19O2lmKGEuc2JpX2RvemVyJiYoTy5kZWFsSWQ9YS5zYmlfZG96ZXIpLCJ2aWRlbyI9PT1wKU8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxkZWxldGUgTy5hZCxkZWxldGUgTy53aWR0aCxkZWxldGUgTy5oZWlnaHQ7ZWxzZSBpZigib3V0c3RyZWFtIj09PXAmJnUpe2RlbGV0ZSBPLmFkLE8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxPLnJlbmRlcmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49by5hLmluc3RhbGwoe2lkOnQuYWlkLHVybDptLGNvbmZpZzpyLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7bi5zZXRSZW5kZXIoQSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIG4uc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpfX0pLG59KHUuYWRVbml0Q29kZSxPLE9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInJlbmRlcmVyLm9wdGlvbnMiKSk7dmFyIF89T2JqZWN0KGkuZGVlcEFjY2VzcykodSwicGFyYW1zLnNpemVzIik7QXJyYXkuaXNBcnJheShfKSYmQXJyYXkuaXNBcnJheShfWzBdKSYmKF89X1swXSksXyYmKE8ud2lkdGg9X1swXSxPLmhlaWdodD1fWzFdKX1uLnB1c2goTyl9fSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1bXTt0cnl7ZS5waXhlbEVuYWJsZWQmJnRbMF0uYm9keS5zYmlfcHguZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pKX1jYXRjaChlKXt9cmV0dXJuIGl9fTtmdW5jdGlvbiBnKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/IiI6ZS5wYXJhbXMuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnBhcmFtcy5zaXplcykuam9pbigiLCIpOk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKS5qb2luKCIsIik6ZS5zaXplcz9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKGUuc2l6ZXMpLmpvaW4oIiwiKTp2b2lkIDB9ZnVuY3Rpb24geShlKXt2YXIgdD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSlyZXR1cm4gdC5mbG9vcjtyZXR1cm4iIn0oZSk7cmV0dXJuIHQ/InxmPSIuY29uY2F0KHQpOiIifWZ1bmN0aW9uIGgoZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykoT2JqZWN0KGkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlLmFkVW5pdENvZGUpLCJncHRTbG90Iil8fGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIHQ/InxncGlkPSIuY29uY2F0KHQpOiIifXZhciBqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuInZpZGVvIj09PWV8fCJvdXRzdHJlYW0iPT09ZT9mdW5jdGlvbihlLHQscil7cmV0dXJuImh0dHBzOi8vIi5jb25jYXQoZSwiYXBleC5nby5zb25vYmkuY29tL3Zhc3QueG1sP3ZpZD0iKS5jb25jYXQodCwiJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX0ocixuLHQpOic8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInKyJodHRwczovLyIuY29uY2F0KHIsImFwZXguZ28uc29ub2JpLmNvbS9zYmkuanM/YWlkPSIpLmNvbmNhdChuLCImYXM9bnVsbCZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkrJyI+PFwvc2NyaXB0Pid9fTt2YXIgTz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIGUuaW5uZXJXaWR0aD49dCYmZS5pbm5lcldpZHRoPHJ9fTtmdW5jdGlvbiBfKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdyx0PU8oZSkscj17bHQ6NzY4fSxuPXtsdDo5OTIsZ2U6NzY4fTtyZXR1cm4gdCgwLHIubHQpPyJtb2JpbGUiOnQobi5nZSxuLmx0KT8idGFibGV0IjoiZGVza3RvcCJ9ZnVuY3Rpb24gQShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9ZChlLmdldFNpemUoKS5zcGxpdCgieCIpLDIpLHI9dFswXSxuPXRbMV0saT1uZXcgd2luZG93LlNiaU91dHN0cmVhbVJlbmRlcmVyO2kuaW5pdCh7dmFzdFVybDplLnZhc3RVcmwsaGVpZ2h0Om4sd2lkdGg6cn0pLGkuc2V0Um9vdEVsZW1lbnQoZS5hZFVuaXRDb2RlKX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbODIwXSk7CnVwYmpzQ2h1bmsoWzE3XSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPWkoZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChhLmRlZXBBY2Nlc3MpKG4scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpuW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLG49e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBpPXt9O2kuc291cmNlPXIuc291cmNlO3ZhciBjPU9iamVjdChhLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoYS5pc1N0cikoYykpe3ZhciBvPXtpZDpjLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChhLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHM9ci5nZXRVaWRFeHQoZSk7cyYmKG8uZXh0PXMpfWlmKGkudWlkcz1bb10sT2JqZWN0KGEuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgZD1yLmdldEVpZEV4dChlKTtkJiYoaS5leHQ9ZCl9cmV0dXJuIGl9fXJldHVybiBudWxsfX0sODI0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MjUpfSw4MjU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBhPXIoMCksbj1yKDEpLGk9cigzKSxjPXIoMiksbz1yKDE3KTtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIGEsbixpPVtdLGM9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYz0oYT1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2goYS52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7Yz0hMCk7fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBufX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBkKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsYT1uZXcgQXJyYXkodCk7cjx0O3IrKylhW3JdPWVbcl07cmV0dXJuIGF9dmFyIHU9InNvcnRhYmxlIixwPSJodHRwczovL2MuZGVwbG95YWRzLmNvbSI7ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlLnJlcXVpcmVkJiYodC5yZXF1aXJlZD0xKSx0fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUud3x8ZS5oP3t1cmw6ZS51cmwsd2lkdGg6ZS53LGhlaWdodDplLmh9OmUudXJsfWZ1bmN0aW9uIGIoZSx0LHIpe09iamVjdChhLl9lYWNoKShlLChmdW5jdGlvbihlKXtlLmJvZHkmJmUuYm9keS5leHQmJmUuYm9keS5leHQuc3luY19kc3BzJiZlLmJvZHkuZXh0LnN5bmNfZHNwcy5sZW5ndGgmJk9iamVjdChhLl9lYWNoKShlLmJvZHkuZXh0LnN5bmNfZHNwcywoZnVuY3Rpb24oZSl7ZVswXT09PXQmJmVbMV0mJnIucHVzaCh7dHlwZTp0LHVybDplWzFdfSl9KSl9KSl9ZnVuY3Rpb24geShlKXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3k/dC5mbG9vcjpudWxsfXZhciBmPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuYyxjLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWkuYi5nZXRDb25maWcoInNvcnRhYmxlIikscj10JiYhIXQuc2l0ZUlkfHxlLnBhcmFtcy5zaXRlSWQsbj15KGUpLG89IW58fE9iamVjdChhLmlzTnVtYmVyKShuKSxzPSFlLnBhcmFtcy5rZXl3b3Jkc3x8T2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5wYXJhbXMua2V5d29yZHMpJiZPYmplY3Qua2V5cyhlLnBhcmFtcy5rZXl3b3JkcykuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYS5pc1N0cikodCkmJk9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5rZXl3b3Jkc1t0XSl9KSksZD0hZS5tZWRpYVR5cGVzfHxlLm1lZGlhVHlwZXNbYy5iXXx8IShlLm1lZGlhVHlwZXNbYy5jXXx8ZS5tZWRpYVR5cGVzW2MuZF0pLHU9ZD9PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGUuIi5jb25jYXQoYy5iLCIuc2l6ZXMiKSl8fGUuc2l6ZXM6bnVsbDtyZXR1cm4hIShlLnBhcmFtcy50YWdJZCYmciYmbyYmcyYmKCFkfHx1JiZ1Lmxlbmd0aD4wJiZ1LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gMj09ZS5sZW5ndGgmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc051bWJlcikoZSl9KSl9KSkpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPShpLmIuZ2V0Q29uZmlnKCJzb3J0YWJsZSIpfHx7fSkuc2l0ZUlkLG49T2JqZWN0KGEucGFyc2VVcmwpKHQucmVmZXJlckluZm8ucmVmZXJlciksZD1PYmplY3QoYS5fbWFwKShlLChmdW5jdGlvbihlKXt2YXIgdD17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy50YWdJZCxleHQ6e319LHI9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmIpKSxuPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5jKSksaT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuZCkpO2lmKHJ8fCFuJiYhaSl7dmFyIG89ciYmci5zaXplc3x8ZS5zaXplczt0LmJhbm5lcj17Zm9ybWF0Ok9iamVjdChhLl9tYXApKG8sKGZ1bmN0aW9uKGUpe3ZhciB0PXMoZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSl9fWlmKG4mJih0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1bXSxyPWUudGl0bGU7ciYmdC5wdXNoKGwocix7dGl0bGU6e2xlbjpyLmxlbn19KSk7dmFyIG49ZS5pbWFnZTtuJiZ0LnB1c2gobChuLHtpbWc6e3R5cGU6Myx3bWluOjEsaG1pbjoxfX0pKTt2YXIgaT1lLmljb247aSYmdC5wdXNoKGwoaSx7aW1nOnt0eXBlOjEsd21pbjoxLGhtaW46MX19KSk7dmFyIGM9ZS5ib2R5O2MmJnQucHVzaChsKGMse2RhdGE6e3R5cGU6Mn19KSk7dmFyIG89ZS5jdGE7byYmdC5wdXNoKGwobyx7ZGF0YTp7dHlwZToxMn19KSk7dmFyIHM9ZS5zcG9uc29yZWRCeTtyZXR1cm4gcyYmdC5wdXNoKGwocyx7ZGF0YTp7dHlwZToxfX0pKSxPYmplY3QoYS5fZWFjaCkodCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZD10fSkpLHt2ZXI6IjEiLHJlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe3ZlcjoiMSIsYXNzZXRzOnR9KX19KG4pKSxpJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0KXt2YXIgZD17cGxhY2VtZW50OjF9O2QubWltZXM9aS5taW1lc3x8W10sZC5taW5kdXJhdGlvbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWluZHVyYXRpb24iKXx8MTAsZC5tYXhkdXJhdGlvbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWF4ZHVyYXRpb24iKXx8NjA7dmFyIHU9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvLnN0YXJ0ZGVsYXkiKTtpZihudWxsIT11JiYoZC5zdGFydGRlbGF5PXUpLGkucGxheWVyU2l6ZSYmaS5wbGF5ZXJTaXplLmxlbmd0aCl7dmFyIHA9aS5wbGF5ZXJTaXplWzBdO2Qudz1wWzBdLGQuaD1wWzFdfWkuYXBpJiYoZC5hcGk9aS5hcGkpLGkucHJvdG9jb2xzJiYoZC5wcm90b2NvbHM9aS5wcm90b2NvbHMpLGkucGxheWJhY2ttZXRob2QmJihkLnBsYXliYWNrbWV0aG9kPWkucGxheWJhY2ttZXRob2QpLHQudmlkZW89ZH12YXIgbT15KGUpO3JldHVybiBtJiYodC5mbG9vcj1tKSxlLnBhcmFtcy5rZXl3b3JkcyYmKHQuZXh0LmtleXdvcmRzPWUucGFyYW1zLmtleXdvcmRzKSxlLnBhcmFtcy5iaWRkZXJQYXJhbXMmJk9iamVjdChhLl9lYWNoKShlLnBhcmFtcy5iaWRkZXJQYXJhbXMsKGZ1bmN0aW9uKGUscil7dC5leHRbcl09ZX0pKSx0LmV4dC5ncGlkPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90IiksdH0pKSx1PXQmJnQuZ2RwckNvbnNlbnQsbT1lWzBdLnVzZXJJZCxiPU9iamVjdChvLmIpKG0pLGY9e2lkOk9iamVjdChhLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOmQsc291cmNlOntleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19LHJlZ3M6e2V4dDp7fX0sc2l0ZTp7ZG9tYWluOm4uaG9zdG5hbWUscGFnZTpuLmhyZWYscmVmOm4uaHJlZixwdWJsaXNoZXI6e2lkOnJ8fGVbMF0ucGFyYW1zLnNpdGVJZH0sZGV2aWNlOnt3OnNjcmVlbi53aWR0aCxoOnNjcmVlbi5oZWlnaHR9fSx1c2VyOntleHQ6e319fTtyZXR1cm4gdCYmdC50aW1lb3V0PjAmJihmLnRtYXg9dC50aW1lb3V0KSx1JiYoZi51c2VyPXtleHQ6e2NvbnNlbnQ6dS5jb25zZW50U3RyaW5nfX0sImJvb2xlYW4iPT10eXBlb2YgdS5nZHByQXBwbGllcyYmKGYucmVncy5leHQuZ2Rwcj11LmdkcHJBcHBsaWVzPzE6MCkpLGIubGVuZ3RoJiYoZi51c2VyLmV4dC5laWRzPWIpLHQudXNwQ29uc2VudCYmKGYucmVncy5leHQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLHttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQocCwiL29wZW5ydGIyL2F1Y3Rpb24/c3JjPXByZWJpZF9wcmViaWRfNS4yMC4yJmhvc3Q9IikuY29uY2F0KG4uaG9zdG5hbWUpLGRhdGE6SlNPTi5zdHJpbmdpZnkoZiksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keSxyPXQuaWQsbj10LnNlYXRiaWQsaT1bXTtyZXR1cm4gciYmbiYmT2JqZWN0KGEuX2VhY2gpKG4sKGZ1bmN0aW9uKGUpe09iamVjdChhLl9lYWNoKShlLmJpZCwoZnVuY3Rpb24oZSl7dmFyIHQ9e3JlcXVlc3RJZDplLmltcGlkLGNwbTpwYXJzZUZsb2F0KGUucHJpY2UpLHdpZHRoOnBhcnNlSW50KGUudyksaGVpZ2h0OnBhcnNlSW50KGUuaCksY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmMuYix0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O2lmKGUuYWRtKXt2YXIgcj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJleHQuYWRfZm9ybWF0Iik7aWYoIm5hdGl2ZSI9PT1yKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJTb3J0YWJsZSBiaWQgYWRhcHRlciB1bmFibGUgdG8gcGFyc2UgbmF0aXZlIGJpZCByZXNwb25zZTpcblxuIitlKX1yZXR1cm4gdCYmdC5uYXRpdmV9KGUuYWRtKTtpZighbilyZXR1cm47dC5tZWRpYVR5cGU9Yy5jLHQubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmxpbmsmJih0LmNsaWNrVXJsPWUubGluay51cmwpLE9iamVjdChhLl9lYWNoKShlLmFzc2V0cywoZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2UgMTp0LnRpdGxlPWUudGl0bGUudGV4dDticmVhaztjYXNlIDI6dC5pbWFnZT1tKGUuaW1nKTticmVhaztjYXNlIDM6dC5pY29uPW0oZS5pbWcpO2JyZWFrO2Nhc2UgNDp0LmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTp0LmN0YT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnQuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlfX0pKSx0fShuKX1lbHNlImluc3RyZWFtIj09PXI/KHQubWVkaWFUeXBlPWMuZCx0LnZhc3RYbWw9ZS5hZG0pOih0Lm1lZGlhVHlwZT1jLmIsdC5hZD1lLmFkbSxlLm51cmwmJih0LmFkKz1PYmplY3QoYS5jcmVhdGVUcmFja1BpeGVsSHRtbCkoZGVjb2RlVVJJQ29tcG9uZW50KGUubnVybCkpKSl9ZWxzZSBlLm51cmwmJih0LmFkVXJsPWUubnVybCk7ZS5leHQmJih0LnNvcnRhYmxlPWUuZXh0KSxpLnB1c2godCl9KSl9KSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmYih0LCJpZnJhbWUiLHIpLGUucGl4ZWxFbmFibGVkJiZiKHQsImltYWdlIixyKSxyfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7ZmV0Y2goIiIuY29uY2F0KHAsIi9wcmViaWQvdGltZW91dCIpLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSksbW9kZToibm8tY29ycyIsaGVhZGVyczpuZXcgSGVhZGVycyh7IkNvbnRlbnQtVHlwZSI6InRleHQvcGxhaW4ifSl9KX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs4MjRdKTsKdXBianNDaHVuayhbMTVdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGk9YShlW3JdLHIpO2kmJnQucHVzaChpKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykobixyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm5bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBpPXIoMCksbj17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChpLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciByPW5bdF07aWYociYmZSl7dmFyIGE9e307YS5zb3VyY2U9ci5zb3VyY2U7dmFyIGM9T2JqZWN0KGkuaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChpLmlzU3RyKShjKSl7dmFyIG89e2lkOmMsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KGkuaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgZD1yLmdldFVpZEV4dChlKTtkJiYoby5leHQ9ZCl9aWYoYS51aWRzPVtvXSxPYmplY3QoaS5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciB1PXIuZ2V0RWlkRXh0KGUpO3UmJihhLmV4dD11KX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4Mjg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyOSl9LDgyOTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIGk9cigwKSxuPXIoMSksYT1yKDIpLGM9cigxNyksbz1yKDMpLGQ9e2NvZGU6InNvdnJuIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGd2bGlkOjEzLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnRhZ2lkfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnRhZ2lkKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy50YWdpZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByLG4sYSxkLHU9W10scz1bXTtPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7IWEmJmUudXNlcklkJiYoYT1PYmplY3QoYy5iKShlLnVzZXJJZCkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudWlkcyYmZS51aWRzWzBdJiYoImNyaXRlby5jb20iPT09ZS5zb3VyY2UmJihkPWUudWlkc1swXS5pZCkscy5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkOmUudWlkc1swXS5pZH0pKX0pKSxlLnNjaGFpbiYmKG49bnx8ZS5zY2hhaW4pLHI9cnx8T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJpdiIsZS5wYXJhbXMpO3ZhciB0PWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplcyxvPSh0PSh0PU9iamVjdChpLmlzQXJyYXkpKHQpJiZPYmplY3QoaS5pc0FycmF5KSh0WzBdKT90Olt0XSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSl9KSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19KSkscD1lLmdldEZsb29yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KTp7fTtwLmZsb29yPXAuZmxvb3J8fE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkZmxvb3IiLGUucGFyYW1zKTt2YXIgbD17YWR1bml0Y29kZTplLmFkVW5pdENvZGUsaWQ6ZS5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpvLHc6MSxoOjF9LHRhZ2lkOlN0cmluZyhPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInRhZ2lkIixlLnBhcmFtcykpLGJpZGZsb29yOnAuZmxvb3J9O2wuZXh0PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiZXh0IixlLm9ydGIySW1wKXx8dm9pZCAwO3ZhciBiPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgic2VnbWVudHMiLGUucGFyYW1zKTtiJiYobC5leHQ9bC5leHR8fHt9LGwuZXh0LmRlYWxzPWIuc3BsaXQoIiwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKSksdS5wdXNoKGwpfSkpO3ZhciBwPU9iamVjdChpLmRlZXBDbG9uZSkoby5iLmdldENvbmZpZygib3J0YjIiKSksbD1wLnNpdGV8fHt9O2wucGFnZT10LnJlZmVyZXJJbmZvLnJlZmVyZXIsbC5kb21haW49T2JqZWN0KGkucGFyc2VVcmwpKGwucGFnZSkuaG9zdG5hbWU7dmFyIGI9e2lkOk9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOnUsc2l0ZTpsLHVzZXI6cC51c2VyfHx7fX07biYmKGIuc291cmNlPXtleHQ6e3NjaGFpbjpufX0pLHQuZ2RwckNvbnNlbnQmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuZXh0LmdkcHIiLCt0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLGEmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LmVpZHMiLGEpLE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwidXNlci5leHQudHBpZCIscyksZCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJ1c2VyLmV4dC5wcmViaWRfY3JpdGVvaWQiLGQpKTt2YXIgbT0iaHR0cHM6Ly9hcC5saWppdC5jb20vcnRiL2JpZD9zcmM9cHJlYmlkX3ByZWJpZF81LjIwLjIiO3JldHVybiByJiYobSs9IiZpdj0iLmNvbmNhdChyKSkse21ldGhvZDoiUE9TVCIsdXJsOm0sZGF0YTpKU09OLnN0cmluZ2lmeShiKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkNvdWxkIG5vdCBidWlsZCBiaWRyZXF1ZXN0LCBlcnJvciBkZWF0aWxzOiIsZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkO3RyeXt2YXIgYz1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe2MucHVzaCh7cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6YS5iLGFkOmRlY29kZVVSSUNvbXBvbmVudCgiIi5jb25jYXQoZS5hZG0sJzxpbWcgc3JjPSInKS5jb25jYXQoZS5udXJsLCciPicpKSx0dGw6ZS5leHQmJmUuZXh0LnR0bHx8OTAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZSYmZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19KX0pKSxjfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiQ291bGQgbm90IGludHJlcHJldCBiaWRyZXNwb25zZSwgZXJyb3IgZGVhdGlsczoiLGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3RyeXt2YXIgYT1bXTtpZih0JiYwIT09dC5sZW5ndGgpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGM9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJib2R5LmV4dC5paWQiKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkuZXh0LmlpZH0pKSxvPVtdO3ImJnIuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiZvLnB1c2goWyJnZHByX2NvbnNlbnQiLHIuY29uc2VudFN0cmluZ10pLG4mJm8ucHVzaChbInVzX3ByaXZhY3kiLG5dKSxjWzBdJiYoby5wdXNoKFsiaW5mb3JtZXIiLGNbMF1dKSxhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IitvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiPSIpfSkpLmpvaW4oIiYiKX0pKX1lLnBpeGVsRW5hYmxlZCYmdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJib2R5LmV4dC5zeW5jLnBpeGVscyIpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5ib2R5LmV4dC5zeW5jLnBpeGVscyl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSl9cmV0dXJuIGF9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGQpfX0sWzgyOF0pOwp1cGJqc0NodW5rKFsxMDZdLHs4NjQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDg2NSl9LDg2NTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgbj1yKDApLGk9cigyKSxvPXIoMSksdT1yKDMpO2Z1bmN0aW9uIGMoKXtyZXR1cm4oYz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpwKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGwoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGwoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGwoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciB5PSEwLGI9bnVsbCxtPXtndmxpZDoyOCxjb2RlOiJ0cmlwbGVsaWZ0IixzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZS5wYXJhbXMuaW52ZW50b3J5Q29kZX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixpPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZVswXS5zY2hhaW4saT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj17fSxpPXUuYi5nZXRMZWdhY3lGcGQodS5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9LG89Yyh7fSxpLmNvbnRleHQpLGE9Yyh7fSxpLnVzZXIpO08odCxvKSxPKHIsYSksT2JqZWN0KG4uaXNFbXB0eSkodCl8fChlLmNvbnRleHQ9dCk7T2JqZWN0KG4uaXNFbXB0eSkocil8fChlLnVzZXI9cik7cmV0dXJuIGV9KCk7dC5pbXA9ZS5tYXAoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e2lkOnQsdGFnaWQ6ZS5wYXJhbXMuaW52ZW50b3J5Q29kZSxmbG9vcjp2KGUpfTtyZXR1cm4gZyhlKT9yLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PWQoZCh7fSxlLnBhcmFtcy52aWRlbyksZS5tZWRpYVR5cGVzLnZpZGVvKTt0Lnd8fCh0Lnc9dC5wbGF5ZXJTaXplWzBdWzBdKTt0Lmh8fCh0Lmg9dC5wbGF5ZXJTaXplWzBdWzFdKTsiaW5zdHJlYW0iPT09dC5jb250ZXh0JiYodC5wbGFjZW1lbnQ9MSk7cmV0dXJuIGRlbGV0ZSB0LnBsYXllclNpemUsdH0oZSk6ZS5tZWRpYVR5cGVzLmJhbm5lciYmKHIuYmFubmVyPXtmb3JtYXQ6aChlLnNpemVzKX0pLE9iamVjdChuLmlzRW1wdHkpKGUub3J0YjJJbXApfHwoci5mcGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj17fTtPKHIsZS5leHQpLE9iamVjdChuLmlzRW1wdHkpKHIpfHwodC5jb250ZXh0PXIpO3JldHVybiB0fShlLm9ydGIySW1wKSkscn0pKTt2YXIgbz1bXS5jb25jYXQoZigoYT1bZVswXV0saihhLCJ0ZGlkIiwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJpZGxfZW52IiwibGl2ZXJhbXAuY29tIiwiaWRsIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGooZSwiY3JpdGVvSWQiLCJjcml0ZW8uY29tIiwiY3JpdGVvSWQiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJwdWJjaWQiLCJwdWJjaWQub3JnIiwicHViY2lkIil9KFtlWzBdXSkpKTt2YXIgYTtvLmxlbmd0aD4wJiYodC51c2VyPXtleHQ6e2VpZHM6b319KTt2YXIgcD1mdW5jdGlvbihlLHQpe3ZhciByPXt9O09iamVjdChuLmlzRW1wdHkpKGUpfHwoci5zY2hhaW49ZCh7fSxlKSk7T2JqZWN0KG4uaXNFbXB0eSkodCl8fChyLmZwZD1kKHt9LHQpKTtyZXR1cm4gcn0ocixpKTtPYmplY3Qobi5pc0VtcHR5KShwKXx8KHQuZXh0PXApO3JldHVybiB0fShlKTtpZihyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJsaWIiLCJwcmViaWQiKSxyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJ2IiwiNS4yMC4yIiksdCYmdC5yZWZlcmVySW5mbyl7dmFyIG89dC5yZWZlcmVySW5mby5yZWZlcmVyO3I9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInJlZmVycmVyIixvKX1yZXR1cm4gdCYmdC50aW1lb3V0JiYocj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwidG1heCIsdC50aW1lb3V0KSksdCYmdC5nZHByQ29uc2VudCYmKHZvaWQgMCE9PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJih5PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiZ2RwciIseS50b1N0cmluZygpKSksdm9pZCAwIT09dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoYj10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiY21wX2NzIixiKSkpLHQmJnQudXNwQ29uc2VudCYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCkpLCEwPT09dS5iLmdldENvbmZpZygiY29wcGEiKSYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsImNvcHBhIiwhMCkpLHIubGFzdEluZGV4T2YoIiYiKT09PXIubGVuZ3RoLTEmJihyPXIuc3Vic3RyaW5nKDAsci5sZW5ndGgtMSkpLE9iamVjdChuLmxvZ01lc3NhZ2UpKCJ0bENhbGwgcmVxdWVzdCBidWlsdDogIityKSx7bWV0aG9kOiJQT1NUIix1cmw6cixkYXRhOmksYmlkZGVyUmVxdWVzdDp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZGRlclJlcXVlc3Q7cmV0dXJuKGUuYm9keS5iaWRzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxuPXQud2lkdGh8fDEsaT10LmhlaWdodHx8MSxvPXQuZGVhbF9pZHx8IiIsdT10LmNyaWR8fCIiLGM9ZS5iaWRzW3QuaW1wX2lkXTswIT10LmNwbSYmdC5hZCYmKHI9e3JlcXVlc3RJZDpjLmJpZElkLGNwbTp0LmNwbSx3aWR0aDpuLGhlaWdodDppLG5ldFJldmVudWU6ITAsYWQ6dC5hZCxjcmVhdGl2ZUlkOnUsZGVhbElkOm8sY3VycmVuY3k6IlVTRCIsdHRsOjMwMCx0bF9zb3VyY2U6dC50bF9zb3VyY2UsbWV0YTp7fX0sZyhjKSYmKHIudmFzdFhtbD10LmFkLHIubWVkaWFUeXBlPSJ2aWRlbyIsci50dGw9MzYwMCksdC5hZHZlcnRpc2VyX25hbWUmJihyLm1ldGEuYWR2ZXJ0aXNlck5hbWU9dC5hZHZlcnRpc2VyX25hbWUpLHQuYWRvbWFpbiYmdC5hZG9tYWluLmxlbmd0aCYmKHIubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHQudGxfc291cmNlJiYiaGR4Ij09dC50bF9zb3VyY2UmJihyLm1ldGEubWVkaWFUeXBlPSJiYW5uZXIiKSx0LnRsX3NvdXJjZSYmInRseCI9PXQudGxfc291cmNlJiYoci5tZXRhLm1lZGlhVHlwZT0ibmF0aXZlIikpO3JldHVybiByfShyLGUpfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG89ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm4iaWZyYW1lIjtpZihlLnBpeGVsRW5hYmxlZClyZXR1cm4iaW1hZ2UifShlKTtpZihvKXt2YXIgdT0iaHR0cHM6Ly9lYjIuM2xpZnQuY29tL3N5bmM/IjtyZXR1cm4iaW1hZ2UiPT09byYmKHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsInB4IiwxKSx1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJzcmMiLCJwcmViaWQiKSksbnVsbCE9PWImJih1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJnZHByIix5KSx1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJjbXBfY3MiLGIpKSxpJiYodT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwidXNfcHJpdmFjeSIsaSkpLFt7dHlwZTpvLHVybDp1fV19fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4hIWUubWVkaWFUeXBlcy52aWRlbyYmKCEhZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJiJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiB2KGUpe3ZhciB0PW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpnKGUpPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZToiKiJ9KTsib2JqZWN0IiE9PWEocil8fCJVU0QiIT09ci5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChyLmZsb29yKSl8fCh0PXBhcnNlRmxvYXQoci5mbG9vcikpfXJldHVybiBudWxsIT09dD90OmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIE8oZSx0KXtPYmplY3Qobi5pc0VtcHR5KSh0KXx8T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bnVsbCE9dFtyXSYmKGVbcl09dFtyXSl9KSl9ZnVuY3Rpb24gaihlLHQscixuKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnVzZXJJZCYmdC51c2VySWRbZV19fSh0KSkuZmlsdGVyKFModCkpLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm57c291cmNlOmUsdWlkczpbe2lkOnIuaWQ/ci5pZDpyLGV4dDp7cnRpUGFydG5lcjp0fX1dfX19KHIsbikpfXZhciBTPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsaSl7dmFyIG89ISF0JiYoT2JqZWN0KG4uaXNTdHIpKHQpPyEhdDpPYmplY3Qobi5pc1BsYWluT2JqZWN0KSh0KSYmIU9iamVjdChuLmlzQXJyYXkpKHQpJiYhT2JqZWN0KG4uaXNFbXB0eSkodCkmJnQuaWQmJk9iamVjdChuLmlzU3RyKSh0LmlkKSYmISF0LmlkKTtyZXR1cm4gb3x8dm9pZCAwPT09aVswXXx8T2JqZWN0KG4ubG9nV2FybikoIlRyaXBsZWxpZnQ6IGludmFsaWQgIi5jb25jYXQoZSwiIHVzZXJJZCBmb3JtYXQiKSksb319O2Z1bmN0aW9uIGgoZSl7cmV0dXJuIGUuZmlsdGVyKEEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV19T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzg2NF0pOwp1cGJqc0NodW5rKFsxMDRdLHs4Njg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDg2OSl9LDg2OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIG49cigwKSxpPXIoMSksbz1yKDEzKSxhPXIoMikscz1yKDMpO2Z1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLG89W10sYT0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7cz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxsKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGwoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1yfHwiU2V0Ij09PXI/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP3AoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIHAoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgZj0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixtPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIseT0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLGc9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIsYj0iUmVzcG9uc2UgaXMgZW1wdHkiLGg9IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5Iix2PSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIixTPXtjb2RlOiJ0cnVzdHgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciByPW51bGwsaT1udWxsLG89bnVsbCxsPW51bGwscD1udWxsLGY9bnVsbCxtPW51bGwseT1udWxsLGc9bnVsbCxiPXR8fHt9LGg9Yi5iaWRkZXJSZXF1ZXN0SWQsdj1iLmF1Y3Rpb25JZCxTPWIuZ2RwckNvbnNlbnQsaj1iLnVzcENvbnNlbnQsdz1iLnRpbWVvdXQsTz1iLnJlZmVyZXJJbmZvLHg9Tz9lbmNvZGVVUklDb21wb25lbnQoTy5yZWZlcmVyKToiIixJPVtdLEU9e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtofHwoaD1lLmJpZGRlclJlcXVlc3RJZCksdnx8KHY9ZS5hdWN0aW9uSWQpLHB8fChwPWUuc2NoYWluKSxmfHwoZj1lLnVzZXJJZCksbXx8KG09ZS51c2VySWRBc0VpZHMpO3ZhciB0PWUucGFyYW1zLHM9dC51aWQsYz10LmtleXdvcmRzLHk9ZS5tZWRpYVR5cGVzLGc9ZS5iaWRJZCxiPWUuYWRVbml0Q29kZSxTPWUucnRkO0VbZ109ZTt2YXIgaj1mdW5jdGlvbihlLHQpe3ZhciByPWUudmlkZW8/InZpZGVvIjoiYmFubmVyIixuPXQucGFyYW1zLmJpZEZsb29yfHwwO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yKXt2YXIgaT10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOnQuc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD11KGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfSk7Im9iamVjdCIhPT1kKGkpfHwiVVNEIiE9PWkuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoaS5mbG9vcikpfHwobj1NYXRoLm1heChuLHBhcnNlRmxvYXQoaS5mbG9vcikpKX1yZXR1cm4gbn0oeXx8e30sZSk7aWYoUyl7dmFyIHc9Uy5qd3BsYXllciYmUy5qd3BsYXllci50YXJnZXRpbmc7dyYmKCFpJiZ3LnNlZ21lbnRzJiYoaT13LnNlZ21lbnRzKSwhbCYmdy5jb250ZW50JiYobD13LmNvbnRlbnQpKTt2YXIgTz1TLnBfc3RhbmRhcmQmJlMucF9zdGFuZGFyZC50YXJnZXRpbmc7IW8mJk8mJk8uc2VnbWVudHMmJihvPU8uc2VnbWVudHMpfXZhciBBPXtpZDpnJiZnLnRvU3RyaW5nKCksdGFnaWQ6cy50b1N0cmluZygpLGV4dDp7ZGl2aWQ6YiYmYi50b1N0cmluZygpfX07aWYoT2JqZWN0KG4uaXNFbXB0eSkoYyl8fChyfHwocj1jKSxBLmV4dC5iaWRkZXI9e2tleXdvcmRzOmN9KSxqJiYoQS5iaWRmbG9vcj1qKSwheXx8eVthLmJdKXt2YXIgeD1mdW5jdGlvbihlLHQpe3ZhciByPXQuc2l6ZXN8fGUuc2l6ZXM7aWYoIXJ8fCFyLmxlbmd0aClyZXR1cm47dmFyIGk9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoZSl9KSksbz1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoclswXSk7aS5sZW5ndGgmJihvLmZvcm1hdD1pKTtyZXR1cm4gb30oZSx5P3lbYS5iXTp7fSk7eCYmKEEuYmFubmVyPXgpfWlmKHkmJnlbYS5kXSl7dmFyIFI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnBsYXllclNpemUsaT10Lm1pbWVzLG89dC5kdXJhdGlvblJhbmdlU2VjLGE9dC5wcm90b2NvbHMscz0ocnx8ZS5zaXplc3x8W10pWzBdO2lmKCFzKXJldHVybjt2YXIgdT1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkocyk7aSYmKHUubWltZXM9aSk7byYmMj09PW8ubGVuZ3RoJiYodS5taW5kdXJhdGlvbj1vWzBdLHUubWF4ZHVyYXRpb249b1sxXSk7YSYmYS5sZW5ndGgmJih1LnByb3RvY29scz1hKTtyZXR1cm4gdX0oZSx5W2EuZF0pO1ImJihBLnZpZGVvPVIpfShBLmJhbm5lcnx8QS52aWRlbykmJkkucHVzaChBKX0pKTt2YXIgUj17dGlkOnYmJnYudG9TdHJpbmcoKSxleHQ6e3dyYXBwZXI6IlByZWJpZF9qcyIsd3JhcHBlcl92ZXJzaW9uOiI1LjIwLjIifX07cCYmKFIuZXh0LnNjaGFpbj1wKTt2YXIgVD1zLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil8fHcsXz13P01hdGgubWluKFQsdyk6VCxrPXtpZDpoJiZoLnRvU3RyaW5nKCksc2l0ZTp7cGFnZTp4fSx0bWF4Ol8sc291cmNlOlIsaW1wOkl9O2wmJihrLnNpdGUuY29udGVudD1sKTt2YXIgej1bXTtBKCJpb3dfbGFic19wdWJfZGF0YSIsImp3cHNlZyIsaSx6KSxBKCJwZXJtdXRpdmUiLCJwX3N0YW5kYXJkIixvLHosInBlcm11dGl2ZS5jb20iKSx6Lmxlbmd0aCYmKHk9e2RhdGE6en0pLFMmJlMuY29uc2VudFN0cmluZyYmKGc9e2NvbnNlbnQ6Uy5jb25zZW50U3RyaW5nfSksbSYmbS5sZW5ndGgmJigoZz1nfHx7fSkuZWlkcz1jKG0pKSxnJiZPYmplY3Qua2V5cyhnKS5sZW5ndGgmJigoeT15fHx7fSkuZXh0PWcpLHkmJihrLnVzZXI9eSk7dmFyIEM9T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIudXNlciIpLCJrZXl3b3JkcyIpfHxudWxsLE49T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIuc2l0ZSIpLCJrZXl3b3JkcyIpfHxudWxsO3JldHVybiBDJiYoKHI9cnx8e30pLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Qy5zcGxpdCgiLCIpfV0pLE4mJigocj1yfHx7fSkuc2l0ZT1yLnNpdGV8fHt9LHIuc2l0ZS5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpOLnNwbGl0KCIsIil9XSksciYmKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07aWYobilpZigic2l0ZSI9PT1yfHwidXNlciI9PT1yKXt2YXIgaT17fTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KG5bZV0pKXt2YXIgdD1bXTtuW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZChlKSYmZS5uYW1lKXt2YXIgcj17bmFtZTplLm5hbWUsc2VnbWVudHM6W119O09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkoZVt0XSkmJmVbdF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKCJzdHJpbmciPT10eXBlb2YgZT9yLnNlZ21lbnRzLnB1c2goe25hbWU6dCx2YWx1ZTplfSk6InNlZ21lbnRzIj09PXQmJiJzdHJpbmciPT10eXBlb2YgZS5uYW1lJiYic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJnIuc2VnbWVudHMucHVzaChlKSl9KSl9KSksci5zZWdtZW50cy5sZW5ndGgmJnQucHVzaChyKX19KSksdC5sZW5ndGgmJihpW2VdPXQpfX0pKSx0W3JdPWl9ZWxzZSB0W3JdPW59KSksT2JqZWN0LmtleXModCkubGVuZ3RoJiZ0fShyKSkmJihrLmV4dD17a2V5d29yZHM6cn0pLFMmJlMuZ2RwckFwcGxpZXMmJihrLnJlZ3M9e2V4dDp7Z2RwcjpTLmdkcHJBcHBsaWVzPzE6MH19KSxqJiYoay5yZWdzfHwoay5yZWdzPXtleHQ6e319KSxrLnJlZ3MuZXh0LnVzX3ByaXZhY3k9aikse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2dyaWQuYmlkc3dpdGNoLm5ldC9oYmpzb24/c3A9dHJ1c3R4IixkYXRhOkpTT04uc3RyaW5naWZ5KGspLGJpZHNNYXA6RX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm8uYTtlPWUmJmUuYm9keTt2YXIgaSxhPVtdO3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihpPWgpOmk9YiwhaSYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dyhqKGUpLHQsYSxyKX0pKSxpJiZPYmplY3Qobi5sb2dFcnJvcikoaSksYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgaT1zLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5zeW5jc1BlckJpZGRlciIpLG89W107ciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzP28ucHVzaCgiZ2Rwcj0iLmNvbmNhdChOdW1iZXIoci5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHIuY29uc2VudFN0cmluZykpOm8ucHVzaCgiZ2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpKSxuJiZvLnB1c2goInVzX3ByaXZhY3k9Ii5jb25jYXQobikpO3ZhciBhPW8uam9pbigiJiIpLHU9W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL3NvZmlhLnRydXN0eC5vcmcvcHVzaF9zeW5jIisoYT8iPyIuY29uY2F0KGEpOiIiKX1dO3JldHVybiBpPjEmJnUucHVzaCh7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly94LmJpZHN3aXRjaC5uZXQvc3luYz9zc3A9dGhlbWVkaWFncmlkIisoYT8iJiIuY29uY2F0KGEpOiIiKX0pLHV9fX07ZnVuY3Rpb24gaihlKXtyZXR1cm4gZT9lLmJpZD9lLmJpZFswXXx8T2JqZWN0KG4ubG9nRXJyb3IpKHkpOk9iamVjdChuLmxvZ0Vycm9yKSh2K0pTT04uc3RyaW5naWZ5KGUpKTpPYmplY3Qobi5sb2dFcnJvcikoZyksZSYmZS5iaWQmJmUuYmlkWzBdfWZ1bmN0aW9uIHcoZSx0LHIsaSl7aWYoZSl7dmFyIG87aWYoZS5hdWlkfHwobz1mK0pTT04uc3RyaW5naWZ5KGUpKSxlLmFkbXx8ZS5udXJsKXt2YXIgcz10LmJpZHNNYXBbZS5pbXBpZF07aWYoIW8mJnMpe3ZhciB1PXtyZXF1ZXN0SWQ6cy5iaWRJZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuYXVpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDozNjAsZGVhbElkOmUuZGVhbGlkLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbj9lLmFkb21haW46W119fTsidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KGUuYWRtPyh1LnZhc3RYbWw9ZS5hZG0sdS5hZFJlc3BvbnNlPXtjb250ZW50OnUudmFzdFhtbH0pOmUubnVybCYmKHUudmFzdFVybD1lLm51cmwpLHUubWVkaWFUeXBlPWEuZCxzLnJlbmRlcmVyfHxzLm1lZGlhVHlwZXMmJnMubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1zLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KHUucmVuZGVyZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuaW5zdGFsbCh7aWQ6dC5pZCx1cmw6dC51cmwsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKE8pfWNhdGNoKGUpe09iamVjdChuLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpfSgwLHtpZDpzLmJpZElkLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyJ9LGkpKSk6KHUuYWQ9ZS5hZG0sdS5tZWRpYVR5cGU9YS5iKSxyLnB1c2godSl9fWVsc2Ugbz1tK0pTT04uc3RyaW5naWZ5KGUpO28mJk9iamVjdChuLmxvZ0Vycm9yKShvKX19ZnVuY3Rpb24gTyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZX0pfSkpfWZ1bmN0aW9uIEEoZSx0LHIsbixpKXtpZihyJiZyLmxlbmd0aCluLnB1c2goe25hbWU6ZSxzZWdtZW50OnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuaWR8fGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0LHZhbHVlOmUudG9TdHJpbmcoKX19KSl9KTtlbHNlIGlmKGkpe3ZhciBvPXMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIuZGF0YSIpLGE9bnVsbDtvJiZvLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxyPWUuc2VnbWVudDtpZih0PT09aSlyZXR1cm4gYT1yLCEwfSkpLGEmJmEubGVuZ3RoJiZuLnB1c2goe25hbWU6ZSxzZWdtZW50OmEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuaWR8fGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0LHZhbHVlOmUudG9TdHJpbmcoKX19KSl9KX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKFMpfX0sWzg2OF0pOwp1cGJqc0NodW5rKFs5OF0sezg4MjpmdW5jdGlvbihyLGUsdCl7ci5leHBvcnRzPXQoODgzKX0sODgzOmZ1bmN0aW9uKHIsZSx0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChlLCJ1bmlmaWVkSWRTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciBuPXQoMCksbz10KDQpLGk9dCg5KSxjPSJ1bmlmaWVkSWQiLHU9e25hbWU6YyxndmxpZDoyMSxkZWNvZGU6ZnVuY3Rpb24ocil7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5URElEP3t0ZGlkOnIuVERJRH06dm9pZCAwfSxnZXRJZDpmdW5jdGlvbihyKXt2YXIgZT1yJiZyLnBhcmFtc3x8e307aWYoZSYmKCJzdHJpbmciPT10eXBlb2YgZS5wYXJ0bmVyfHwic3RyaW5nIj09dHlwZW9mIGUudXJsKSl7dmFyIHQ9ZS51cmx8fCJodHRwczovL21hdGNoLmFkc3J2ci5vcmcvdHJhY2svcmlkP3R0ZF9waWQ9Ii5jb25jYXQoZS5wYXJ0bmVyLCImZm10PWpzb24iKTtyZXR1cm57Y2FsbGJhY2s6ZnVuY3Rpb24ocil7dmFyIGU9e3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSl0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKHIpe09iamVjdChuLmxvZ0Vycm9yKShyKX1yKHQpfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3Qobi5sb2dFcnJvcikoIiIuY29uY2F0KGMsIjogSUQgZmV0Y2ggZW5jb3VudGVyZWQgYW4gZXJyb3IiKSxlKSxyKCl9fTtPYmplY3Qoby5hKSh0LGUsdm9pZCAwLHttZXRob2Q6IkdFVCIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fX1PYmplY3Qobi5sb2dFcnJvcikoIlVzZXIgSUQgLSB1bmlmaWVkSWQgc3VibW9kdWxlIHJlcXVpcmVzIGVpdGhlciBwYXJ0bmVyIG9yIHVybCB0byBiZSBkZWZpbmVkIil9fTtPYmplY3QoaS5lKSgidXNlcklkIix1KX19LFs4ODJdKTsKdXBianNDaHVuayhbMTFdLHsxNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pKWlmKCJwdWJQcm92aWRlZElkIj09PW4pdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIHI9YShlW25dLG4pO3ImJnQucHVzaChyKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KHIuZGVlcEFjY2VzcykobyxuKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm9bbl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciByPW4oMCksbz17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciBuPW9bdF07aWYobiYmZSl7dmFyIGE9e307YS5zb3VyY2U9bi5zb3VyY2U7dmFyIGk9T2JqZWN0KHIuaXNGbikobi5nZXRWYWx1ZSk/bi5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChyLmlzU3RyKShpKSl7dmFyIGM9e2lkOmksYXR5cGU6bi5hdHlwZX07aWYoT2JqZWN0KHIuaXNGbikobi5nZXRVaWRFeHQpKXt2YXIgdT1uLmdldFVpZEV4dChlKTt1JiYoYy5leHQ9dSl9aWYoYS51aWRzPVtjXSxPYmplY3Qoci5pc0ZuKShuLmdldEVpZEV4dCkpe3ZhciBzPW4uZ2V0RWlkRXh0KGUpO3MmJihhLmV4dD1zKX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4ODY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDg4Nyl9LDg4NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiUEJKU19VU0VSX0lEX09QVE9VVF9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQodCwiY29yZVN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJzeW5jRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LCJhdWN0aW9uRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHQuc2V0U3VibW9kdWxlUmVnaXN0cnk9ZnVuY3Rpb24oZSl7Vj1lfSx0LnNldFN0b3JlZFZhbHVlPUwsdC5zZXRTdG9yZWRDb25zZW50RGF0YT1NLHQuZmluZFJvb3REb21haW49Six0LnJlcXVlc3RCaWRzSG9vaz0kLG4uZCh0LCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5hdHRhY2hJZFN5c3RlbT1uZSx0LmluaXQ9cmU7dmFyIHI9bigxMSksbz1uLm4ociksYT1uKDMpLGk9bigxMCksYz1uLm4oaSksdT1uKDE0KSxzPW4oOCksZD1uKDUpLGw9bi5uKGQpLGY9big5KSxiPW4oMTcpLHA9big3KSxnPW4oMCksbT1uKDEyKSx5PW4ubihtKTtmdW5jdGlvbiBPKGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHYoZSx0KX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxpPSEwLGM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBpPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2l8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX19fWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgaixoLEksayxEPSJVc2VyIElEIixFPSJjb29raWUiLFM9Imh0bWw1Iix4PSJfcGJqc191c2VyaWRfY29uc2VudF9kYXRhIixBPTMwLHc9Il9wYmpzX2lkX29wdG91dCIsQz1PYmplY3QocC5hKSgidXNlcmlkIiksVT1bXSxfPSExLFA9W10sVD1bXSxWPVtdO2Z1bmN0aW9uIEwoZSx0KXt2YXIgbj1lLmNvbmZpZy5zdG9yYWdlLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlP2Uuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlKCk6bnVsbDt0cnl7dmFyIG89T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodCk/SlNPTi5zdHJpbmdpZnkodCk6dCxhPW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqbi5leHBpcmVzKS50b1VUQ1N0cmluZygpO24udHlwZT09PUU/KEMuc2V0Q29va2llKG4ubmFtZSxvLGEsIkxheCIsciksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0Q29va2llKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpLGEsIkxheCIscikpOm4udHlwZT09PVMmJihDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfZXhwIiksYSksQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2Uobi5uYW1lLGVuY29kZVVSSUNvbXBvbmVudChvKSksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpKSl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PU9iamVjdChnLmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zOyJmdW5jdGlvbiI9PXR5cGVvZiB0JiZPYmplY3QoZy5pc0FycmF5KShlKSYmdChPYmplY3QoYi5hKShlKSl9ZnVuY3Rpb24gcShlKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1uPyIiLmNvbmNhdChlLm5hbWUsIl8iKS5jb25jYXQobik6ZS5uYW1lO3RyeXtpZihlLnR5cGU9PT1FKXQ9Qy5nZXRDb29raWUocik7ZWxzZSBpZihlLnR5cGU9PT1TKXt2YXIgbz1DLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLm5hbWUsIl9leHAiKSk7IiI9PT1vP3Q9Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKTpvJiZuZXcgRGF0ZShvKS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wJiYodD1kZWNvZGVVUklDb21wb25lbnQoQy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKSkpfSJzdHJpbmciPT10eXBlb2YgdCYmInsiPT09dC50cmltKCkuY2hhckF0KDApJiYodD1KU09OLnBhcnNlKHQpKX1jYXRjaChlKXtPYmplY3QoZy5sb2dFcnJvcikoZSl9cmV0dXJuIHR9ZnVuY3Rpb24gRihlKXt2YXIgdD17Y29uc2VudFN0cmluZzoiIixnZHByQXBwbGllczohMSxhcGlWZXJzaW9uOjB9O3JldHVybiBlJiYodC5jb25zZW50U3RyaW5nPWUuY29uc2VudFN0cmluZyx0LmdkcHJBcHBsaWVzPWUuZ2RwckFwcGxpZXMsdC5hcGlWZXJzaW9uPWUuYXBpVmVyc2lvbiksT2JqZWN0KGcuY3lyYjUzSGFzaCkoSlNPTi5zdHJpbmdpZnkodCkpfWZ1bmN0aW9uIE0oZSl7dHJ5e3ZhciB0PW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqQSkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZSh4LEYoZSksdCwiTGF4Iil9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBCKCl7dHJ5e3JldHVybiBDLmdldENvb2tpZSh4KX1jYXRjaChlKXtPYmplY3QoZy5sb2dFcnJvcikoZSl9fWZ1bmN0aW9uIFIoZSl7aWYoZSYmImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcyYmZS5nZHByQXBwbGllcyl7aWYoIWUuY29uc2VudFN0cmluZylyZXR1cm4hMTtpZigxPT09ZS5hcGlWZXJzaW9uJiYhMT09PU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZUNvbnNlbnRzLjEiKSlyZXR1cm4hMTtpZigyPT09ZS5hcGlWZXJzaW9uJiYhMT09PU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7aWYoIUMuY29va2llc0FyZUVuYWJsZWQoKSlyZXR1cm4gZTt2YXIgdCxuLHI9ZS5zcGxpdCgiLiIpO2lmKDI9PXIubGVuZ3RoKXJldHVybiBlO3ZhciBvPS0yLGE9Il9yZGMiLmNvbmNhdChEYXRlLm5vdygpKSxpPSJ3cml0ZWFibGUiO2Rve3Q9ci5zbGljZShvKS5qb2luKCIuIik7dmFyIGM9bmV3IERhdGUoT2JqZWN0KGcudGltZXN0YW1wKSgpKzFlNCkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZShhLGksYywiTGF4Iix0LHZvaWQgMCk7dmFyIHU9Qy5nZXRDb29raWUoYSx2b2lkIDApO3U9PT1pPyhuPSExLEMuc2V0Q29va2llKGEsIiIsIlRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UIix2b2lkIDAsdCx2b2lkIDApKToobys9LTEsbj1NYXRoLmFicyhvKTw9ci5sZW5ndGgpfXdoaWxlKG4pO3JldHVybiB0fWZ1bmN0aW9uIEgoZSx0KXt2YXIgbj1mdW5jdGlvbigpe307dCYmKG49T2JqZWN0KGcuZGVsYXlFeGVjdXRpb24pKChmdW5jdGlvbigpe2NsZWFyVGltZW91dChoKSx0KCl9KSxlLmxlbmd0aCkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjaygoZnVuY3Rpb24odCl7dD8oZS5jb25maWcuc3RvcmFnZSYmTChlLHQpLGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHQsZS5jb25maWcpKTpPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiOiAiKS5jb25jYXQoZS5zdWJtb2R1bGUubmFtZSwiIC0gcmVxdWVzdCBpZCByZXNwb25kZWQgd2l0aCBhbiBlbXB0eSB2YWx1ZSIpKSxuKCl9KSksZS5jYWxsYmFjaz12b2lkIDB9KSl9ZnVuY3Rpb24geihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZy5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModC5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10LmlkT2JqW25dfSkpLGV9KSx7fSk6e319ZnVuY3Rpb24gRyhlLHQpe1tlXS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RofSkpfHxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcyYmT2JqZWN0KGcuaXNBcnJheSkoZS5iaWRzKSYmKCFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKSYmZS5iaWRzLnB1c2goe2JpZGRlcjoiczJzQmlkZGVyUGxhY2Vob2xkZXIifSksZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoJiZ0P2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5jb25maWcuYmlkZGVyc3x8IU9iamVjdChnLmlzQXJyYXkpKGUuY29uZmlnLmJpZGRlcnMpfHx5KCkoZS5jb25maWcuYmlkZGVycyx0KXx8InMyc0JpZGRlclBsYWNlaG9sZGVyIj09PXR9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fSh0LGUuYmlkZGVyKTtPYmplY3Qua2V5cyhuKS5sZW5ndGgmJihlLnVzZXJJZD1uLGUudXNlcklkQXNFaWRzPU9iamVjdChiLmIpKG4pKX0pKSl9KSl9ZnVuY3Rpb24gVyhlKXt2YXIgdD0hMTtpZih2b2lkIDA9PT1qJiYoaj1mdW5jdGlvbihlLHQpe3ZhciBuPVkoZSx0KSxyPW4udXNlcklkTW9kdWxlcztpZighbi5oYXNWYWxpZGF0ZWQmJiFSKHQpKXJldHVybiBPYmplY3QoZy5sb2dXYXJuKSgiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKSxbXTt2YXIgbz1CKCk7cmV0dXJuIE0odCksci5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIFoobix0LG8sITEpLGUucHVzaChuKSxlfSksW10pfShQLHMuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkpKS5sZW5ndGgpe04oaik7dmFyIG49ai5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZy5pc0ZuKShlLmNhbGxiYWNrKX0pKTtpZihuLmxlbmd0aClpZihlJiZrPjApe3Q9ITA7dmFyIHI9ITEsbz1mdW5jdGlvbigpe3J8fChyPSEwLGUoKSl9O09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBhdWN0aW9uIGRlbGF5ZWQgYnkgIikuY29uY2F0KGssIiBhdCBtb3N0IHRvIGZldGNoIGlkcyIpKSxoPXNldFRpbWVvdXQobyxrKSxIKG4sbyl9ZWxzZSBjLmEub24obC5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24gZSgpe2MuYS5vZmYobC5hLkVWRU5UUy5BVUNUSU9OX0VORCxlKSxJPjA/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtIKG4pfSksSSk6SChuKX0pKX1lJiYhdCYmZSgpfWZ1bmN0aW9uICQoZSx0KXtXKChmdW5jdGlvbigpe0codC5hZFVuaXRzfHxPYmplY3QodS5hKSgpLmFkVW5pdHMsaiksZS5jYWxsKHRoaXMsdCl9KSl9ZnVuY3Rpb24gSygpe3JldHVybiBXKCkseihqKX1mdW5jdGlvbiBRKCl7cmV0dXJuIFcoKSxPYmplY3QoYi5iKSh6KGopKX1mdW5jdGlvbiBYKGUsdCl7dmFyIG49ZT9lLnN1Ym1vZHVsZU5hbWVzOm51bGw7bnx8KG49W10pLFcoKGZ1bmN0aW9uKCl7dmFyIGU9cy5nZHByRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxyPVkoUCxlKSxvPXIudXNlcklkTW9kdWxlcztpZihyLmhhc1ZhbGlkYXRlZHx8UihlKSl7dmFyIGE9QigpO00oZSk7dmFyIGksYz1bXSx1PU8obyk7dHJ5e2Zvcih1LnMoKTshKGk9dS5uKCkpLmRvbmU7KXt2YXIgZD1pLnZhbHVlO24ubGVuZ3RoPjAmJi0xPT09bi5pbmRleE9mKGQuc3VibW9kdWxlLm5hbWUpfHwoT2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIiAtIHJlZnJlc2hpbmcgIikuY29uY2F0KGQuc3VibW9kdWxlLm5hbWUpKSxaKGQsZSxhLCEwKSxlZShkKSxqLmxlbmd0aCYmTihqKSxPYmplY3QoZy5pc0ZuKShkLmNhbGxiYWNrKSYmYy5wdXNoKGQpKX19Y2F0Y2goZSl7dS5lKGUpfWZpbmFsbHl7dS5mKCl9Yy5sZW5ndGg+MCYmSChjKSx0JiZ0KCl9ZWxzZSBPYmplY3QoZy5sb2dXYXJuKSgiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKX0pKX12YXIgWT1PYmplY3QoZi5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJue3VzZXJJZE1vZHVsZXM6ZSxoYXNWYWxpZGF0ZWQ6dCYmdC5oYXNWYWxpZGF0ZWR9fSksInZhbGlkYXRlR2RwckVuZm9yY2VtZW50Iik7ZnVuY3Rpb24gWihlLHQsbixyKXtpZihlLmNvbmZpZy5zdG9yYWdlKXt2YXIgbyxhPXEoZS5jb25maWcuc3RvcmFnZSksaT0hMTtpZigibnVtYmVyIj09dHlwZW9mIGUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kcyl7dmFyIGM9bmV3IERhdGUocShlLmNvbmZpZy5zdG9yYWdlLCJsYXN0IikpO2k9YyYmRGF0ZS5ub3coKS1jLmdldFRpbWUoKT4xZTMqZS5jb25maWcuc3RvcmFnZS5yZWZyZXNoSW5TZWNvbmRzfSFhfHxpfHxyfHwhZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmZT09PUYodCl9KG4sdCk/bz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LGEpOiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5leHRlbmRJZCYmKG89ZS5zdWJtb2R1bGUuZXh0ZW5kSWQoZS5jb25maWcsdCxhKSksT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkobykmJihvLmlkJiYoTChlLG8uaWQpLGE9by5pZCksImZ1bmN0aW9uIj09dHlwZW9mIG8uY2FsbGJhY2smJihlLmNhbGxiYWNrPW8uY2FsbGJhY2spKSxhJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUoYSxlLmNvbmZpZykpfWVsc2UgaWYoZS5jb25maWcudmFsdWUpZS5pZE9iaj1lLmNvbmZpZy52YWx1ZTtlbHNle3ZhciB1PWUuc3VibW9kdWxlLmdldElkKGUuY29uZmlnLHQsdm9pZCAwKTtPYmplY3QoZy5pc1BsYWluT2JqZWN0KSh1KSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB1LmNhbGxiYWNrJiYoZS5jYWxsYmFjaz11LmNhbGxiYWNrKSx1LmlkJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUodS5pZCxlLmNvbmZpZykpKX19ZnVuY3Rpb24gZWUoZSl7Zm9yKHZhciB0PSExLG49MDtuPGoubGVuZ3RoO24rKylpZihlLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCk9PT1qW25dLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCkpe3Q9ITAsaltuXT1lO2JyZWFrfXR8fGoucHVzaChlKX1mdW5jdGlvbiB0ZSgpe3ZhciBlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4hdHx8T2JqZWN0KGcuaXNFbXB0eVN0cikodC5uYW1lKXx8KCF0LnN0b3JhZ2V8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQuc3RvcmFnZS50eXBlKXx8T2JqZWN0KGcuaXNFbXB0eVN0cikodC5zdG9yYWdlLm5hbWUpfHwtMT09PW4uaW5kZXhPZih0LnN0b3JhZ2UudHlwZSk/T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodC52YWx1ZSk/ZS5wdXNoKHQpOnQuc3RvcmFnZXx8dC52YWx1ZXx8ZS5wdXNoKHQpOmUucHVzaCh0KSksZX0pLFtdKTpbXX0oVCwwLFUpO2lmKGUubGVuZ3RoKXt2YXIgdD1WLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW8oKShQLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpO1A9dC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPW8oKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lJiYoZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10Lm5hbWUudG9Mb3dlckNhc2UoKXx8dC5hbGlhc05hbWUmJmUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5hbGlhc05hbWUudG9Mb3dlckNhc2UoKSl9KSk7cmV0dXJuIG4mJnQubmFtZSE9PW4ubmFtZSYmKG4ubmFtZT10Lm5hbWUpLHQuZmluZFJvb3REb21haW49SixuP3tzdWJtb2R1bGU6dCxjb25maWc6bixjYWxsYmFjazp2b2lkIDAsaWRPYmo6dm9pZCAwfTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpLCFfJiZQLmxlbmd0aCYmKE9iamVjdCh1LmEpKCkucmVxdWVzdEJpZHMuYmVmb3JlKCQsNDApLE9iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSB1c2Vyc3luYyBjb25maWcgdXBkYXRlZCBmb3IgIikuY29uY2F0KFAubGVuZ3RoLCIgc3VibW9kdWxlczogIiksUC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1Ym1vZHVsZS5uYW1lfSkpKSxfPSEwKX19ZnVuY3Rpb24gbmUoZSl7bygpKFYsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSl8fChWLnB1c2goZSksdGUoKSl9ZnVuY3Rpb24gcmUoZSl7UD1bXSxUPVtdLF89ITEsaj12b2lkIDAsLTEhPT0oVT1bQy5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKT9TOm51bGwsQy5jb29raWVzQXJlRW5hYmxlZCgpP0U6bnVsbF0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWV9KSkpLmluZGV4T2YoRSkmJkMuZ2V0Q29va2llKHcpP09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGNvb2tpZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6LTEhPT1VLmluZGV4T2YoUykmJkMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uodyk/T2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgbG9jYWxTdG9yYWdlIGZvdW5kLCBleGl0IG1vZHVsZSIpKTooZS5nZXRDb25maWcoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlclN5bmM7dCYmdC51c2VySWRzJiYoVD10LnVzZXJJZHMsST1PYmplY3QoZy5pc051bWJlcikodC5zeW5jRGVsYXkpP3Quc3luY0RlbGF5OjUwMCxrPU9iamVjdChnLmlzTnVtYmVyKSh0LmF1Y3Rpb25EZWxheSk/dC5hdWN0aW9uRGVsYXk6MCx0ZSgpKX0pKSxPYmplY3QodS5hKSgpLmdldFVzZXJJZHM9SyxPYmplY3QodS5hKSgpLmdldFVzZXJJZHNBc0VpZHM9USxPYmplY3QodS5hKSgpLnJlZnJlc2hVc2VySWRzPVgpfXJlKGEuYiksT2JqZWN0KGYuYykoInVzZXJJZCIsbmUpfX0sWzg4Nl0pOwp1cGJqc0NodW5rKFs3N10sezkyOTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoOTMwKX0sOTMwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgaT1yKDEpLGE9cigyKSxzPXIoMCksZD1yKDMpLG49cigxMyk7ZnVuY3Rpb24gYyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gbyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHA9IjUuMjAuMiIsYj0iVVNEIixtPVsiYWRtaXhlci5uZXQiLCJhZHNlcnZlci5vcmciLCJhZHRlbGxpZ2VudC5jb20iLCJha2FtYWkuY29tIiwiYW14cnRiLmNvbSIsImF1ZGlnZW50LmNvbSIsImJyaXRlcG9vbC5jb20iLCJjcml0ZW8uY29tIiwiY3J3ZGNudHJsLm5ldCIsImRlZXBpbnRlbnQuY29tIiwiaGNuLmhlYWx0aCIsImlkNS1zeW5jLmNvbSIsImlkeC5sYXQiLCJpbnRlbnRpcS5jb20iLCJpbnRpbWF0ZW1lcmdlci5jb20iLCJsaXZlaW50ZW50LmNvbSIsImxpdmVyYW1wLmNvbSIsIm1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsIm1lcmtsZWluYy5jb20iLCJuZXRpZC5kZSIsIm5ldXN0YXIuYml6IiwibmV4dHJvbGwuY29tIiwibm92YXRpcS5jb20iLCJwYXJyYWJsZS5jb20iLCJwdWJjaWQub3JnIiwicXVhbnRjYXN0LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ0YXBhZC5jb20iLCJ1aWRhcGkuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsInlhaG9vLmNvbSIsInplb3RhcC5jb20iXTtmdW5jdGlvbiB1KGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0pLGg6cGFyc2VJbnQoZVsxXSl9fWZ1bmN0aW9uIHYoZSl7cmV0dXJuIE9iamVjdChzLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGgmJiFPYmplY3Qocy5pc0FycmF5KShlWzBdKT9bdShlKV06ZS5tYXAodSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gT2JqZWN0KHMuaXNBcnJheSkoT2JqZWN0KHMuZGVlcEFjY2VzcykoZSwidXNlcklkQXNFaWRzIikpP2UudXNlcklkQXNFaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1tLmluZGV4T2YoZS5zb3VyY2UpfSkpOltdfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAuc2VjdXJlIil8fCJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/MTowfWZ1bmN0aW9uIHkoZSl7dmFyIHQ7cmV0dXJuIE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5wdWJJZCIpP3Q9ITA6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmRjbiIpJiZPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucG9zIikmJih0PSExKSx0fWZ1bmN0aW9uIGooKXt2YXIgZT1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5tb2RlIik7cmV0dXJuIHZvaWQgMD09PShlPWU/ZS50b0xvd2VyQ2FzZSgpOnZvaWQgMCl8fGU9PT1hLmI/YS5iOmU9PT1hLmQ/YS5kOiJhbGwiPT09ZT8iKiI6dm9pZCAwfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9aigpLHI9e2N1cnJlbmN5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5jdXIiKXx8YixtZWRpYVR5cGU6dCxzaXplOiIqIn07cmV0dXJuISFPYmplY3Qocy5pc0ZuKShlLmdldEZsb29yKSYmZS5nZXRGbG9vcihyKX1mdW5jdGlvbiBnKGUsdCxyLGkpe3ZhciBhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpjKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfSh7fSxpKTtmb3IodmFyIGQgaW4gcilzd2l0Y2goZSl7Y2FzZSJzdHJpbmciOi0xIT09dC5pbmRleE9mKGQpJiZPYmplY3Qocy5pc1N0cikocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2UibnVtYmVyIjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNOdW1iZXIpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlImFycmF5IjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNBcnJheSkocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2Uib2JqZWN0IjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2Uib2JqZWN0QWxsS2V5cyI6T2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocikmJihhW2RdPXJbZF0pfXJldHVybiBhfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZC5iLmdldENvbmZpZygieWFob29zc3AudHRsIik7cmV0dXJuIEEodHx8T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnR0bCIpKX1mdW5jdGlvbiBBKGUpe3JldHVybiBPYmplY3Qocy5pc051bWJlcikoZSkmJmU+MCYmZTwzNjAwP2U6MzAwfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIE9iamVjdChzLmlzU3RyKShlKSYmZS5sZW5ndGg+MH1mdW5jdGlvbiBUKGUsdCl7aWYoZSl7dmFyIHI9e2lkOk9iamVjdChzLmdlbmVyYXRlVVVJRCkoKSxjdXI6W2YoZSkuY3VycmVuY3l8fE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5jdXIiKXx8Yl0saW1wOltdLHNpdGU6e3BhZ2U6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicmVmZXJlckluZm8ucmVmZXJlciIpfSxkZXZpY2U6e2RudDowLHVhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmJpZE92ZXJyaWRlLmRldmljZS5pcCIpfHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuZXh0LmlwIil8fHZvaWQgMH0scmVnczp7ZXh0Ont1c19wcml2YWN5OmUudXNwQ29uc2VudD9lLnVzcENvbnNlbnQ6IiIsZ2RwcjplLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19LHNvdXJjZTp7ZXh0OntoYjoxLGFkYXB0ZXJ2ZXI6IjEuMC4xIixwcmViaWR2ZXI6cCxpbnRlZ3JhdGlvbjp7bmFtZToicHJlYmlkLmpzIix2ZXI6cH19LGZkOjF9LHVzZXI6e2V4dDp7Y29uc2VudDplLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP2UuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIixlaWRzOk8odCl9fX07cmV0dXJuITA9PT15KHQpPyhyLnNpdGUucHVibGlzaGVyPXtpZDp0LnBhcmFtcy5wdWJJZH0sKE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5zaXRlLmlkIil8fE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5zaXRlSWQiKSkmJihyLnNpdGUuaWQ9T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmJpZE92ZXJyaWRlLnNpdGUuaWQiKXx8dC5wYXJhbXMuc2l0ZUlkKSk6ci5zaXRlLmlkPXQucGFyYW1zLmRjbixkLmIuZ2V0Q29uZmlnKCJvcnRiMiIpJiYocj1mdW5jdGlvbihlLHQpe3ZhciByPWQuYi5nZXRDb25maWcoIm9ydGIyIiksaT1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJzaXRlIil8fHZvaWQgMCxhPU9iamVjdChzLmRlZXBBY2Nlc3MpKGksImNvbnRlbnQiKXx8dm9pZCAwLG49T2JqZWN0KHMuZGVlcEFjY2VzcykoaSwiY29udGVudC5kYXRhIil8fHZvaWQgMCxjPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsImFwcC5jb250ZW50Iil8fHZvaWQgMCxvPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsImFwcC5jb250ZW50LmRhdGEiKXx8dm9pZCAwLHA9T2JqZWN0KHMuZGVlcEFjY2VzcykociwidXNlciIpfHx2b2lkIDA7aWYoaSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoaSkpe3ZhciBiPVsibmFtZSIsImRvbWFpbiIsInBhZ2UiLCJyZWYiLCJrZXl3b3JkcyIsInNlYXJjaCJdLG09WyJjYXQiLCJzZWN0aW9uY2F0IiwicGFnZWNhdCJdLHU9WyJleHQiXTtlLnNpdGU9Zygic3RyaW5nIixiLGksZS5zaXRlKSxlLnNpdGU9ZygiYXJyYXkiLG0saSxlLnNpdGUpLGUuc2l0ZT1nKCJvYmplY3QiLHUsaSxlLnNpdGUpfWlmKGEmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGEpKXt2YXIgdj1bImlkIiwidGl0bGUiLCJzZXJpZXMiLCJzZWFzb24iLCJnZW5yZSIsImNvbnRlbnRyYXRpbmciLCJsYW5ndWFnZSJdLE89WyJlcGlzb2RlIiwicHJvZHEiLCJjb250ZXh0IiwibGl2ZXN0cmVhbSIsImxlbiJdLGw9WyJjYXQiXSx5PVsiZXh0Il07ZS5zaXRlLmNvbnRlbnQ9Zygic3RyaW5nIix2LGEsZS5zaXRlLmNvbnRlbnQpLGUuc2l0ZS5jb250ZW50PWcoIm51bWJlciIsTyxhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJhcnJheSIsbCxhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJvYmplY3QiLHksYSxlLnNpdGUuY29udGVudCksbiYmT2JqZWN0KHMuaXNBcnJheSkobikmJm4uZXZlcnkoKGZ1bmN0aW9uKHQpe3ZhciByPXt9LGk9WyJzZWdtZW50Il0sYT1bImV4dCJdO3I9Zygic3RyaW5nIixbImlkIiwibmFtZSJdLHQscikscj1nKCJhcnJheSIsaSx0LHIpLHI9Zygib2JqZWN0IixhLHQsciksZS5zaXRlLmNvbnRlbnQuZGF0YT1bXSxlLnNpdGUuY29udGVudC5kYXRhLnB1c2gocil9KSl9YyYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoYykmJm8mJk9iamVjdChzLmlzQXJyYXkpKG8pJiZvLmV2ZXJ5KChmdW5jdGlvbih0KXt2YXIgcj17fSxpPVsic2VnbWVudCJdLGE9WyJleHQiXTtyPWcoInN0cmluZyIsWyJpZCIsIm5hbWUiXSx0LHIpLHI9ZygiYXJyYXkiLGksdCxyKSxyPWcoIm9iamVjdCIsYSx0LHIpLGUuYXBwPXtjb250ZW50OntkYXRhOltdfX0sZS5hcHAuY29udGVudC5kYXRhLnB1c2gocil9KSk7aWYocCYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocCkpe3ZhciBqPVsiaWQiLCJidXllcnVpZCIsImdlbmRlciIsImtleXdvcmRzIiwiY3VzdG9tZGF0YSJdLGY9WyJ5b2IiXSxoPVsiZGF0YSJdLEE9WyJleHQiXTtlLnVzZXI9Zygic3RyaW5nIixqLHAsZS51c2VyKSxlLnVzZXI9ZygibnVtYmVyIixmLHAsZS51c2VyKSxlLnVzZXI9ZygiYXJyYXkiLGgscCxlLnVzZXIpLGUudXNlci5leHQ9Zygib2JqZWN0IixBLHAsZS51c2VyLmV4dCl9cmV0dXJuIGV9KHIpKSxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJzY2hhaW4iKSYmKHIuc291cmNlLmV4dC5zY2hhaW49dC5zY2hhaW4sci5zb3VyY2UuZXh0LnNjaGFpbi5ub2Rlc1swXS5yaWQ9ci5pZCkscn19ZnVuY3Rpb24gayhlLHQpe3ZhciByPWooKTtpZih0JiZlKXt2YXIgaT17aWQ6ZS5iaWRJZCxzZWN1cmU6bChlKSxiaWRmbG9vcjpmKGUpLmZsb29yfHxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLmJpZGZsb29yIil9O2lmKCFlLm1lZGlhVHlwZXMuYmFubmVyfHx2b2lkIDAhPT1yJiZyIT09YS5iJiYiKiIhPT1yfHwoaS5iYW5uZXI9e21pbWVzOmUubWVkaWFUeXBlcy5iYW5uZXIubWltZXN8fFsidGV4dC9odG1sIiwidGV4dC9qYXZhc2NyaXB0IiwiYXBwbGljYXRpb24vamF2YXNjcmlwdCIsImltYWdlL2pwZyJdLGZvcm1hdDp2KGUuc2l6ZXMpfSxlLm1lZGlhVHlwZXMuYmFubmVyLnBvcyYmKGkuYmFubmVyLnBvcz1lLm1lZGlhVHlwZXMuYmFubmVyLnBvcykpLGUubWVkaWFUeXBlcy52aWRlbyYmKHI9PT1hLmR8fCIqIj09PXIpKXt2YXIgZD12KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKTtpLnZpZGVvPXttaW1lczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1pbWVzIil8fGUubWVkaWFUeXBlcy52aWRlby5taW1lc3x8WyJ2aWRlby9tcDQiLCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Il0sdzpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnciKXx8ZFswXS53LGg6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5oIil8fGRbMF0uaCxtYXhiaXRyYXRlOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWF4Yml0cmF0ZSIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWF4Yml0cmF0ZXx8dm9pZCAwLG1heGR1cmF0aW9uOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWF4ZHVyYXRpb24iKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9ufHx2b2lkIDAsbWluZHVyYXRpb246T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5taW5kdXJhdGlvbiIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb258fHZvaWQgMCxhcGk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5hcGkiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLmFwaXx8WzJdLGRlbGl2ZXJ5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uZGVsaXZlcnkiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5fHx2b2lkIDAscG9zOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucG9zIil8fGUubWVkaWFUeXBlcy52aWRlby5wb3N8fHZvaWQgMCxwbGF5YmFja21ldGhvZDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fGUubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZHx8dm9pZCAwLHBsYWNlbWVudDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBsYWNlbWVudCIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx2b2lkIDAsbGluZWFyaXR5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubGluZWFyaXR5Iil8fGUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEscHJvdG9jb2xzOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucHJvdG9jb2xzIil8fGUubWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHN8fFsyLDVdLHN0YXJ0ZGVsYXk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5zdGFydGRlbGF5Iil8fGUubWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5fHwwLHJld2FyZGVkOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucmV3YXJkZWQiKXx8dm9pZCAwfX1pZihpLmV4dD17ZGZwX2FkX3VuaXRfY29kZTplLmFkVW5pdENvZGV9LE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5rdnAiKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoZS5wYXJhbXMua3ZwKSlmb3IodmFyIG4gaW4gaS5leHQua3ZzPXt9LGUucGFyYW1zLmt2cClpZihPYmplY3Qocy5pc1N0cikoZS5wYXJhbXMua3ZwW25dKXx8T2JqZWN0KHMuaXNOdW1iZXIpKGUucGFyYW1zLmt2cFtuXSkpaS5leHQua3ZzW25dPWUucGFyYW1zLmt2cFtuXTtlbHNlIGlmKE9iamVjdChzLmlzQXJyYXkpKGUucGFyYW1zLmt2cFtuXSkpe3ZhciBjPWUucGFyYW1zLmt2cFtuXTsoYy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChzLmlzU3RyKShlKX0pKXx8Yy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChzLmlzTnVtYmVyKShlKX0pKSkmJihpLmV4dC5rdnNbbl09ZS5wYXJhbXMua3ZwW25dKX1PYmplY3Qocy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YSIpJiZPYmplY3Qocy5pc1BsYWluT2JqZWN0KShlLm9ydGIySW1wLmV4dC5kYXRhKSYmKGkuZXh0LmRhdGE9ZS5vcnRiMkltcC5leHQuZGF0YSksITE9PT15KGUpPyhpLnRhZ2lkPWUucGFyYW1zLnBvcyxpLmV4dC5wb3M9ZS5wYXJhbXMucG9zKTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucGxhY2VtZW50SWQiKSYmKGkudGFnaWQ9ZS5wYXJhbXMucGxhY2VtZW50SWQpLHQuaW1wLnB1c2goaSl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5wYXlsb2FkLHI9ZS5yZXF1ZXN0T3B0aW9ucyxpPWUuYmlkZGVyUmVxdWVzdCxuPXkoaSksYz1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5lbmRwb2ludCIpfHwiaHR0cHM6Ly9jMnNoYi5wdWJndy55YWhvby5jb20vYmlkUmVxdWVzdCI7aWYoITA9PT1uJiYoYz1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5lbmRwb2ludCIpfHwiaHR0cHM6Ly9jMnNoYi5wdWJndy55YWhvby5jb20vYWRtYXgvYmlkL3BhcnRuZXJzL1BCSlMiKSwhMD09PU9iamVjdChzLmRlZXBBY2Nlc3MpKGksInBhcmFtcy50ZXN0aW5nLmUyZXRlc3QiKSlpZihPYmplY3Qocy5sb2dJbmZvKSgieWFob29zc3AgYWRhcHRlciBlMmV0ZXN0IG1vZGUgaXMgYWN0aXZlIiksci53aXRoQ3JlZGVudGlhbHM9ITEsITA9PT1uKXQuc2l0ZS5pZD0iMTIzNDU2NyI7ZWxzZXt2YXIgbz1qKCk7dC5zaXRlLmlkPSI4YTk2OTUxNjAxN2E3YTM5NmVjNTM5ZDk3ZjU0MDAxMSIsdC5pbXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5leHQuZTJlVGVzdE1vZGU9ITAsbz09PWEuYj9lLnRhZ2lkPSI4YTk2OTk3ODAxN2E3YWFhYmFiNGFiMGJjMDFhMDAwOSI6bz09PWEuZD9lLnRhZ2lkPSI4YTk2OTU4YTAxN2E3YTU3YWMzNzVkNTBjMGM3MDBjYyI6KE9iamVjdChzLmxvZ1dhcm4pKCd5YWhvb3NzcCBhZGFwdGVyIGUyZXRlc3QgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHlhaG9vc3NwLm1vZGU9ImFsbCIuIFxuIFBsZWFzZSBzcGVjaWZ5IGVpdGhlciAiYmFubmVyIiBvciAidmlkZW8iJyksT2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIGFkYXB0ZXIgZTJldGVzdCBtb2RlOiBQbGVhc2UgbWFrZSBzdXJlIHlvdXIgYWRVbml0IG1hdGNoZXMgdGhlIHlhaG9vc3NwLm1vZGUgdmlkZW8gb3IgYmFubmVyIikpfSkpfXJldHVybiBPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgYWRhcHRlciBlbmRwb2ludCBvdmVycmlkZSBlbmFibGVkLiBQb2ludGluZyByZXF1ZXN0cyB0bzogIixjKSx7dXJsOmMsbWV0aG9kOiJQT1NUIixkYXRhOnQsb3B0aW9uczpyLGJpZGRlclJlcXVlc3Q6aX19dmFyIEM9e2NvZGU6InlhaG9vc3NwIixhbGlhc2VzOltdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zO3JldHVybiEwPT09T2JqZWN0KHMuZGVlcEFjY2VzcykodCwidGVzdGluZy5lMmV0ZXN0Iil8fCghKCFPYmplY3Qocy5pc1BsYWluT2JqZWN0KSh0KXx8ISh4KHQucHViSWQpfHx4KHQuZGNuKSYmeCh0LnBvcykpKXx8KE9iamVjdChzLmxvZ1dhcm4pKCJ5YWhvb3NzcCBiaWRkZXIgcGFyYW1zIG1pc3Npbmcgb3IgaW5jb3JyZWN0LCBwbGVhc2UgcGFzcyBvYmplY3Qgd2l0aCBlaXRoZXI6IGRjbiAmIHBvcyBPUiBwdWJJZCIpLCExKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZighT2JqZWN0KHMuaXNFbXB0eSkoZSkmJiFPYmplY3Qocy5pc0VtcHR5KSh0KSl7dmFyIHI9e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjUifX07ci53aXRoQ3JlZGVudGlhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIShlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uKX0odCk7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9aigpLHI9W107cmV0dXJuIHQ9PT1hLmI/cj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmJ9KSl9KSk6dD09PWEuZD9yPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PWEuZH0pKX0pKToiKiI9PT10JiYocj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmJ8fGU9PT1hLmR9KSl9KSkpLHJ9KGUpO2lmKCEwPT09ZC5iLmdldENvbmZpZygieWFob29zc3Auc2luZ2xlUmVxdWVzdE1vZGUiKSl7dmFyIG49VCh0LGlbMF0pO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2soZSxuKX0pKSx3KHtwYXlsb2FkOm4scmVxdWVzdE9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0OnR9KX1yZXR1cm4gaS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBpPVQodCxlKTtyZXR1cm4gayhlLGkpLHcoe3BheWxvYWQ6aSxyZXF1ZXN0T3B0aW9uczpyLGJpZGRlclJlcXVlc3Q6ZX0pfSkpfU9iamVjdChzLmxvZ1dhcm4pKCd5YWhvb3NzcCBBZGFwdGVyOiBidWlsZFJlcXVlc3RzIGNhbGxlZCB3aXRoIGVpdGhlciBlbXB0eSAidmFsaWRCaWRSZXF1ZXN0cyIgb3IgImJpZGRlclJlcXVlc3QiJyl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dC5kYXRhO3ZhciByPXQuYmlkZGVyUmVxdWVzdCxpPVtdO3JldHVybiBlLmJvZHkmJkFycmF5LmlzQXJyYXkoZS5ib2R5LnNlYXRiaWQpPyhlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1lLmJpZFswXX1jYXRjaChlKXtyZXR1cm4gaX12YXIgZD10LmV4dCYmdC5leHQuZW5jcD90LmV4dC5lbmNwOnQucHJpY2UsYz17YWRJZDpPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJhZElkIik/dC5hZElkOnQuaW1waWR8fHQuY3JpZCxhZFVuaXRDb2RlOnIuYWRVbml0Q29kZSxyZXF1ZXN0SWQ6dC5pbXBpZCxiaWRkZXJDb2RlOkMuY29kZSxjcG06ZCx3aWR0aDp0LncsaGVpZ2h0OnQuaCxjcmVhdGl2ZUlkOnQuY3JpZHx8MCxjdXJyZW5jeTp0LmN1cnx8YixkZWFsSWQ6dC5kZWFsaWQ/dC5kZWFsaWQ6bnVsbCxuZXRSZXZlbnVlOiEwLHR0bDpoKHIpLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnQuYWRvbWFpbn19LG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZG07cmV0dXJuLTEhPT10LmluZGV4T2YoIm8ycGxheWVyU2V0dGluZ3MiKXx8LTEhPT10LmluZGV4T2YoIllBSE9PLlZpZGVvUGxhdGZvcm0uVmlkZW9QbGF5ZXIiKXx8LTEhPT10LmluZGV4T2YoIkFkUGxhY2VtZW50Iik/YS5iOi0xIT09dC5pbmRleE9mKCJWQVNUIik/YS5kOnZvaWQgMH0odCk7bz09PWEuYj8oYy5tZWRpYVR5cGU9YS5iLGMuYWQ9dC5hZG0sYy5tZXRhLm1lZGlhVHlwZT1hLmIpOm89PT1hLmQmJihjLm1lZGlhVHlwZT1hLmQsYy5tZXRhLm1lZGlhVHlwZT1hLmQsYy52YXN0WG1sPXQuYWRtLHQubnVybCYmKGMudmFzdFVybD10Lm51cmwpKSwib3V0c3RyZWFtIiE9PU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfHxyLnJlbmRlcmVyfHwoYy5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPW4uYS5pbnN0YWxsKHt1cmw6Imh0dHBzOi8vY2RuLnZpZGlibGUudHYvcHJvZC9oYi1vdXRzdHJlYW0tcmVuZGVyZXIvcmVuZGVyZXIuanMiLGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcigoZnVuY3Rpb24odCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtvMlBsYXllclJlbmRlcih0KX0pLE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50ZXN0aW5nLnJlbmRlcmVyLnNldFRpbWVvdXQiKXx8NzAwKX0pKX1jYXRjaChlKXtPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgcmVuZGVyZXIgZXJyb3I6IHNldFJlbmRlcigpIGZhaWxlZCIsZSl9cmV0dXJuIHJ9KHIpfHx2b2lkIDApLGkucHVzaChjKX0pKSxpKTppfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9IU9iamVjdChzLmlzRW1wdHkpKHQpJiZ0WzBdLmJvZHk7cmV0dXJuIGEmJmEuZXh0JiZhLmV4dC5waXhlbHM/ZnVuY3Rpb24oZSx0KXt2YXIgcj0vXHcqKD89XHMpLyxpPS9zcmM9KCJ8JykoLio/KVwxLyxhPVtdO2lmKHQpe3ZhciBzPXQubWF0Y2goLyhpbWd8aWZyYW1lKVtcc1xTXSo/c3JjXHMqPVxzKigifCcpKC4qPylcMi9naSk7cyYmcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcz10Lm1hdGNoKHIpWzBdLGQ9dC5tYXRjaChpKVsyXTtpZihzJiZkKXt2YXIgbj0iaW1nIj09PXMudG9Mb3dlckNhc2UoKT8iaW1hZ2UiOiJpZnJhbWUiO2lmKCFlLmlmcmFtZUVuYWJsZWQmJiJpZnJhbWUiPT09bnx8IWUucGl4ZWxFbmFibGVkJiYiaW1hZ2UiPT09bilyZXR1cm47YS5wdXNoKHt0eXBlOm4sdXJsOmR9KX19KSl9cmV0dXJuIGF9KGUsYS5leHQucGl4ZWxzKTpbXX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShDKX19LFs5MjldKTsKdXBianNDaHVuayhbMTBdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIG49YyhlW3JdLHIpO24mJnQucHVzaChuKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KG4uZGVlcEFjY2VzcykoaSxyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOmlbcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBuPXIoMCksaT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChuLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYyhlLHQpe3ZhciByPWlbdF07aWYociYmZSl7dmFyIGM9e307Yy5zb3VyY2U9ci5zb3VyY2U7dmFyIG89T2JqZWN0KG4uaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChuLmlzU3RyKShvKSl7dmFyIGE9e2lkOm8sYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KG4uaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgdT1yLmdldFVpZEV4dChlKTt1JiYoYS5leHQ9dSl9aWYoYy51aWRzPVthXSxPYmplY3Qobi5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciBkPXIuZ2V0RWlkRXh0KGUpO2QmJihjLmV4dD1kKX1yZXR1cm4gY319cmV0dXJuIG51bGx9fSw5MzU6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDkzNil9LDkzNjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSk7dmFyIG49cigwKSxpPXIoMiksYz1yKDEpLG89cigxMyksYT1yKDEyKSx1PXIubihhKSxkPXIoMTEpLHM9ci5uKGQpLHA9cigxNyk7ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBmPSJVU0QiLGw9MzAwLGI9ITAseT0iaHR0cHM6Ly9hZHMueWllbGRtby5jb20vZXhjaGFuZ2UvcHJlYmlkIix2PSJodHRwczovL3ByZWJpZC1vdXRzdHJlYW0ueWllbGRtby5jb20vYnVuZGxlLmpzIixnPVsibWltZXMiLCJzdGFydGRlbGF5IiwicGxhY2VtZW50Iiwic3RhcnRkZWxheSIsInNraXBhZnRlciIsInByb3RvY29scyIsImFwaSIsInBsYXliYWNrbWV0aG9kIiwibWF4ZHVyYXRpb24iLCJtaW5kdXJhdGlvbiIsInBvcyIsInNraXAiLCJza2lwcGFibGUiXSxPPVsibmFtZSIsImRvbWFpbiIsImNhdCIsImtleXdvcmRzIl0saD1PYmplY3Qobi5nZXRXaW5kb3dUb3ApKCksaj1bImRlc2NyaXB0aW9uIiwidGl0bGUiLCJwciIsInBhZ2VfdXJsIl0sST17Y29kZToieWllbGRtbyIsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5hZFVuaXRDb2RlJiZlLmJpZElkJiYoeChlKXx8QShlKSkmJmZ1bmN0aW9uKGUpe2lmKCFBKGUpKXJldHVybiEwO3ZhciB0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0nIicuY29uY2F0KGUsJyIgaXMgcmVxdWlyZWQnKTt0aHJvdyByJiYobis9IiB3aGVuICIrciksbmV3IEVycm9yKG4pfSxyPWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyByPXI/IiwgZXhwZWN0ZWQ6ICIrcjoiIix0PUpTT04uc3RyaW5naWZ5KHQpLG5ldyBFcnJvcignIicuY29uY2F0KGUsJyI9JykuY29uY2F0KHQsIiBpcyBpbnZhbGlkIikuY29uY2F0KHIpKX0saT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZX0sYz1mdW5jdGlvbih0LHIsaSxjKXtpZigwPT09dC5pbmRleE9mKCJ2aWRlbyIpKXt2YXIgbz0icGFyYW1zLiIrdCxhPSJtZWRpYVR5cGVzLiIrdCx1PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsbyksZD1PYmplY3Qobi5kZWVwQWNjZXNzKShlLGEpLHM9cih1KSxwPXIoZCk7cmV0dXJuIHM/dTpwfHwocz9wfHxpKGEsZCxjKTppKG8sdSxjKSx1fHxkKX12YXIgbT1PYmplY3Qobi5kZWVwQWNjZXNzKShlLHQpO3JldHVybiByKG0pfHxpKHQsbSxjKSxtfTt0cnl7YygidmlkZW8uY29udGV4dCIsKGZ1bmN0aW9uKGUpe3JldHVybiFPYmplY3Qobi5pc0VtcHR5KShlKX0pLHQpLGMoInBhcmFtcy5wbGFjZW1lbnRJZCIsKGZ1bmN0aW9uKGUpe3JldHVybiFPYmplY3Qobi5pc0VtcHR5KShlKX0pLHQpLGMoInZpZGVvLnBsYXllclNpemUiLChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNBcnJheU9mTnVtcykoZSwyKXx8T2JqZWN0KG4uaXNBcnJheSkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc0FycmF5T2ZOdW1zKShlLDIpfSkpfSksciwiYXJyYXkgb2YgMiBpbnRlZ2VycywgZXg6IFs2NDAsNDgwXSBvciBbWzY0MCw0ODBdXSIpLGMoInZpZGVvLm1pbWVzIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSx0KSxjKCJ2aWRlby5taW1lcyIsKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc0FycmF5KShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzU3RyKShlKX0pKX0pLHIsJ2FycmF5IG9mIHN0cmluZ3MsIGV4OiBbInZpZGVvL21wNCJdJyk7dmFyIG89YygidmlkZW8ucGxhY2VtZW50IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSx0KTtyZXR1cm4gYygidmlkZW8ucGxhY2VtZW50IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTEmJmU8PTV9KSxyKSwxPT09byYmKGMoInZpZGVvLnN0YXJ0ZGVsYXkiLChmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pLChmdW5jdGlvbihlLHIpe3JldHVybiB0KGUsciwicGxhY2VtZW50ID09IDEiKX0pKSxjKCJ2aWRlby5zdGFydGRlbGF5IiwoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzTnVtYmVyKShlKX0pLHIsIm51bWJlciwgZXg6IDUiKSksYygidmlkZW8ucHJvdG9jb2xzIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSx0KSxjKCJ2aWRlby5wcm90b2NvbHMiLChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNBcnJheU9mTnVtcykoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlPj0xJiZlPD02fSkpfSksciwiYXJyYXkgb2YgbnVtYmVycywgZXg6IFsyLDNdIiksYygidmlkZW8uYXBpIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSx0KSxjKCJ2aWRlby5hcGkiLChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNBcnJheU9mTnVtcykoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBlPj0xJiZlPD02fSkpfSksciwiYXJyYXkgb2YgbnVtYmVycywgZXg6IFsyLDNdIiksYygidmlkZW8ucGxheWJhY2ttZXRob2QiLChmdW5jdGlvbihlKXtyZXR1cm4haShlKXx8T2JqZWN0KG4uaXNBcnJheU9mTnVtcykoZSl9KSxyLCJhcnJheSBvZiBpbnRlZ2VycywgZXg6IFsyLDZdIiksYygidmlkZW8ubWF4ZHVyYXRpb24iLChmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pLHQpLGMoInZpZGVvLm1heGR1cmF0aW9uIiwoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzSW50ZWdlcikoZSl9KSxyKSxjKCJ2aWRlby5taW5kdXJhdGlvbiIsKGZ1bmN0aW9uKGUpe3JldHVybiFpKGUpfHxPYmplY3Qobi5pc051bWJlcikoZSl9KSxyKSxjKCJ2aWRlby5za2lwcGFibGUiLChmdW5jdGlvbihlKXtyZXR1cm4haShlKXx8T2JqZWN0KG4uaXNCb29sZWFuKShlKX0pLHIpLGMoInZpZGVvLnNraXBhZnRlciIsKGZ1bmN0aW9uKGUpe3JldHVybiFpKGUpfHxPYmplY3Qobi5pc051bWJlcikoZSl9KSxyKSxjKCJ2aWRlby5wb3MiLChmdW5jdGlvbihlKXtyZXR1cm4haShlKXx8T2JqZWN0KG4uaXNOdW1iZXIpKGUpfSksciksYygicGFyYW1zLmJhZHYiLChmdW5jdGlvbihlKXtyZXR1cm4haShlKXx8T2JqZWN0KG4uaXNBcnJheSkoZSl9KSxyLCdhcnJheSBvZiBzdHJpbmdzLCBleDogWyJmb3JkLmNvbSIsInBlcHNpLmNvbSJdJyksYygicGFyYW1zLmJjYXQiLChmdW5jdGlvbihlKXtyZXR1cm4haShlKXx8T2JqZWN0KG4uaXNBcnJheSkoZSl9KSxyLCdhcnJheSBvZiBzdHJpbmdzLCBleDogWyJJQUIxLTUiLCJJQUIxLTYiXScpLCEwfWNhdGNoKGUpe3JldHVybiBPYmplY3Qobi5sb2dFcnJvcikoZS5tZXNzYWdlKSwhMX19KGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4geChlKX0pKSxjPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQShlKX0pKSxvPVtdLGE9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkIikpcmV0dXJuIE9iamVjdChwLmIpKGUudXNlcklkKXx8W119KGVbMF0pfHxbXTtpZihyLmxlbmd0aD4wKXt2YXIgZD17cGJhdjoiNS4yMC4yIixwOltdLHBhZ2VfdXJsOnQucmVmZXJlckluZm8ucmVmZXJlcixidXN0OihuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCkscHI6aC5kb2N1bWVudCYmaC5kb2N1bWVudC5yZWZlcnJlcnx8IiIsc2NyZDpoLmRldmljZVBpeGVsUmF0aW98fDAsZG50OiIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cubmF2aWdhdG9yLmRvTm90VHJhY2t8fCExLGRlc2NyaXB0aW9uOmsoKSx0aXRsZTpoLmRvY3VtZW50LnRpdGxlfHwiIix3OmguaW5uZXJXaWR0aCxoOmguaW5uZXJIZWlnaHQsdXNlckNvbnNlbnQ6SlNPTi5zdHJpbmdpZnkoe2dkcHJBcHBsaWVzOk9iamVjdChuLmRlZXBBY2Nlc3MpKHQsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIil8fCIiLGNtcDpPYmplY3Qobi5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudC5jb25zZW50U3RyaW5nIil8fCIifSksdXNfcHJpdmFjeTpPYmplY3Qobi5kZWVwQWNjZXNzKSh0LCJ1c3BDb25zZW50Iil8fCIifSxzPXdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM7cyYmKGQubXRwPXMpLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZC5wLnB1c2goZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKSxyPXtwbGFjZW1lbnRfaWQ6ZS5hZFVuaXRDb2RlLGNhbGxiYWNrX2lkOmUuYmlkSWQsc2l6ZXM6ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc307aWYoZS5wYXJhbXMpe2UucGFyYW1zLnBsYWNlbWVudElkJiYoci55bV9wbGFjZW1lbnRfaWQ9ZS5wYXJhbXMucGxhY2VtZW50SWQpO3ZhciBjPUUoZSxpLmIpO2MmJihyLmJpZEZsb29yPWMpfXQmJihyLmdwaWQ9dCk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpfShlKSk7dmFyIHQ9dyhlLCJwdWJjaWQiKTt0P2QucHViY2lkPXQ6ZS5jcnVtYnMmJmUuY3J1bWJzLnB1YmNpZCYmKGQucHViY2lkPWUuY3J1bWJzLnB1YmNpZCk7dmFyIHI9dyhlLCJ0ZGlkIik7ciYmKGQudGRpZD1yKTt2YXIgYz13KGUsImNyaXRlb0lkIik7YyYmKGQuY3JpX3ByZWJpZD1jKSxlLnNjaGFpbiYmKGQuc2NoYWluPUpTT04uc3RyaW5naWZ5KGUuc2NoYWluKSksT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwicGFyYW1zLmxyX2VudiIpJiYoZC5hdHNfZW52ZWxvcGU9ZS5wYXJhbXMubHJfZW52KX0pKSxkLnA9IlsiK2QucC50b1N0cmluZygpKyJdIixhLmxlbmd0aCYmKGQuZWlkcz1KU09OLnN0cmluZ2lmeShhKSk7dmFyIG09IiIuY29uY2F0KHksIj8iKS5jb25jYXQoT2JqZWN0KG4ucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKGQpKS5sZW5ndGgtOGUzO2lmKG0+MClmb3IodmFyIGY9MDtmPGoubGVuZ3RoJiYhKChtPV8obSxkLGpbZl0pKTw9MCk7ZisrKTtvLnB1c2goe21ldGhvZDoiR0VUIix1cmw6eSxkYXRhOmR9KX1pZihjLmxlbmd0aD4wKXt2YXIgbD1mdW5jdGlvbihlLHQpe3ZhciByPWVbMF0uc2NoYWluLGM9e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGF0OjEsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKSxyPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO2lmKE9iamVjdChuLmlzQXJyYXlPZk51bXMpKHQsMikpcmV0dXJuIHQ7aWYoT2JqZWN0KG4uaXNBcnJheSkodCkmJk9iamVjdChuLmlzQXJyYXlPZk51bXMpKHRbMF0sMikpcmV0dXJuIHRbMF07cmV0dXJuIG51bGx9KGUpLGM9e2lkOmUuYmlkSWQsdGFnaWQ6ZS5hZFVuaXRDb2RlLGJpZGZsb29yOkUoZSxpLmQpLGV4dDp7cGxhY2VtZW50X2lkOmUucGFyYW1zLnBsYWNlbWVudElkfSx2aWRlbzp7dzpyWzBdLGg6clsxXSxsaW5lYXJpdHk6MX19LG89T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpO09iamVjdC5rZXlzKG8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUoKShnLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBjLnZpZGVvW2VdPW9bZV19KSk7dmFyIGE9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIik7T2JqZWN0LmtleXMoYSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKGcsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGMudmlkZW9bZV09YVtlXX0pKSxjLnZpZGVvLnNraXBwYWJsZSYmKGMudmlkZW8uc2tpcD0xLGRlbGV0ZSBjLnZpZGVvLnNraXBwYWJsZSk7MSE9PWMudmlkZW8ucGxhY2VtZW50JiYoYy52aWRlby5zdGFydGRlbGF5PTAsYy52aWRlby5wbGF5YmFja21ldGhvZD1bMl0pO3QmJihjLmV4dC5ncGlkPXQpO3JldHVybiBjfShlKX0pKSxzaXRlOlMoZVswXSx0KSxkZXZpY2U6VChlWzBdKSxiYWR2OmVbMF0ucGFyYW1zLmJhZHZ8fFtdLGJjYXQ6ZVswXS5wYXJhbXMuYmNhdHx8W10sZXh0OntwcmViaWQ6IjUuMjAuMiJ9LGF0c19lbnZlbG9wZTplWzBdLnBhcmFtcy5scl9lbnZ9O3ImJihjLnNjaGFpbj1yKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj10LmdkcHJDb25zZW50O3ImJiJnZHByQXBwbGllcyJpbiByJiYoT2JqZWN0KG4uZGVlcFNldFZhbHVlKShlLCJyZWdzLmV4dC5nZHByIixyLmdkcHJBcHBsaWVzPzE6MCksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShlLCJ1c2VyLmV4dC5jb25zZW50IixyLmNvbnNlbnRTdHJpbmcpKTt2YXIgaT1PYmplY3Qobi5kZWVwQWNjZXNzKSh0LCJ1c3BDb25zZW50Iik7aSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShlLCJyZWdzLmV4dC51c19wcml2YWN5IixpKX0oYyx0KSxjfShjLHQpO2EubGVuZ3RoJiYobC51c2VyPXtlaWRzOmF9KSxvLnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2Fkcy55aWVsZG1vLmNvbS9leGNoYW5nZS9wcmViaWR2aWRlbyIsZGF0YTpsfSl9cmV0dXJuIG99LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sYz1lLmJvZHk7KGMubGVuZ3RoPjAmJmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jcG0+MCYmci5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybntyZXF1ZXN0SWQ6ZS5jYWxsYmFja19pZCxjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3JlYXRpdmVJZDplLmNyZWF0aXZlX2lkLGN1cnJlbmN5OmYsbmV0UmV2ZW51ZTpiLHR0bDozMDAsYWQ6ZS5hZCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW58fFtdLG1lZGlhVHlwZTppLmJ9fX0oZSkpfSkpLGMuc2VhdGJpZCkmJmMuc2VhdGJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYmlkKX0pLFtdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gci5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cygpKE9iamVjdChuLmRlZXBBY2Nlc3MpKHQsImRhdGEuaW1wIil8fFtdLChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWUuaW1waWR9KSksYz17cmVxdWVzdElkOnIuaWQsY3BtOmUucHJpY2Usd2lkdGg6ci52aWRlby53LGhlaWdodDpyLnZpZGVvLmgsY3JlYXRpdmVJZDplLmNyaWR8fGUuYWRpZCxjdXJyZW5jeTpmLG5ldFJldmVudWU6YixtZWRpYVR5cGU6aS5kLHR0bDpsLHZhc3RYbWw6ZS5hZG0sbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXSxtZWRpYVR5cGU6aS5kfX07aWYoci52aWRlby5wbGFjZW1lbnQmJjEhPT1yLnZpZGVvLnBsYWNlbWVudCl7dmFyIGE9by5hLmluc3RhbGwoe3VybDp2LGNvbmZpZzp7d2lkdGg6Yy53aWR0aCxoZWlnaHQ6Yy5oZWlnaHQsdmFzdFRpbWVvdXQ6MTVlMyxtYXhBbGxvd2VkVmFzdFRhZ1JlZGlyZWN0czo1LGFsbG93VnBhaWQ6ITAsYXV0b1BsYXk6ITAscHJlbG9hZDohMCxtdXRlOiEwfSxpZDpyLnRhZ2lkLGxvYWRlZDohMX0pO2Euc2V0UmVuZGVyKChmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5yZW5kZXJlcixyPXQuaWQsbj10LmNvbmZpZzt3aW5kb3cuWU1vdXRzdHJlYW1QbGF5ZXIoZSxyLG4pfSkpfSkpLGMucmVuZGVyZXI9YX1yZXR1cm4gY30oZSx0KSl9KSk7cmV0dXJuIHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbigpe3JldHVybltdfX07ZnVuY3Rpb24geChlKXtyZXR1cm4hIU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIil9ZnVuY3Rpb24gQShlKXtyZXR1cm4hIU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBrKCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0iZGVzY3JpcHRpb24iXScpJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9ImRlc2NyaXB0aW9uIl0nKS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKXx8IiJ9ZnVuY3Rpb24gdyhlLHQpe3JldHVybiJvYmplY3QiPT09bShPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQiKSk/ZS51c2VySWRbdF06dm9pZCAwfWZ1bmN0aW9uIEUoZSx0KXt2YXIgcj17fTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmKHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6ZixtZWRpYVR5cGU6dCxzaXplOiIqIn0pKSxyLmZsb29yfHxlLnBhcmFtcy5iaWRmbG9vcnx8ZS5wYXJhbXMuYmlkRmxvb3J8fDB9ZnVuY3Rpb24gUyhlLHQpe3ZhciByPXt9LGk9T2JqZWN0KG4ucGFyc2VVcmwpKE9iamVjdChuLmRlZXBBY2Nlc3MpKHQsInJlZmVyZXJJbmZvLnJlZmVyZXIiKSk7T2JqZWN0KG4uaXNFbXB0eSkoaSl8fChyLnBhZ2U9IiIuY29uY2F0KGkucHJvdG9jb2wsIjovLyIpLmNvbmNhdChpLmhvc3RuYW1lKS5jb25jYXQoaS5wYXRobmFtZSkpLHNlbGY9PT10b3AmJmRvY3VtZW50LnJlZmVycmVyJiYoci5yZWY9ZG9jdW1lbnQucmVmZXJyZXIpO3ZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIikua2V5d29yZHM7YyYmYy5jb250ZW50JiYoci5rZXl3b3Jkcz1jLmNvbnRlbnQpO3ZhciBvPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXRlIik7cmV0dXJuIG8mJk9iamVjdC5rZXlzKG8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUoKShPLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdPW9bZV19KSkscn1mdW5jdGlvbiBUKGUpe3JldHVybnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfX1mdW5jdGlvbiBfKGUsdCxyKXtpZih0W3JdLmxlbmd0aD5lKXJldHVybiB0W3JdPXRbcl0uc3Vic3RyaW5nKDAsdFtyXS5sZW5ndGgtZSksMDt2YXIgbj1lLXRbcl0ubGVuZ3RoO3JldHVybiB0W3JdPSIiLG59T2JqZWN0KGMucmVnaXN0ZXJCaWRkZXIpKEkpfX0sWzkzNV0pOwp1cGJqcy5wcm9jZXNzUXVldWUoKTs=";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>r,isNumber:()=>a,isNil:()=>o,debounce:()=>s,escapeSelector:()=>l,getElementWithSelector:()=>u,isElementInBody:()=>f,extractQueryParamFromUrl:()=>p,topmostAccessibleWindow:()=>h,extractVariableFromString:()=>g,getRandomInt:()=>m,getTrueByProbability:()=>v,truncateString:()=>b,matchStringsOnString:()=>w,isFileHTML:()=>y,getElementBoundingClientRect:()=>M});var i=n(2),r=function e(t){if(!t)return t;var n,r=[Number,String,Boolean];try{if(r.forEach((function(e){t instanceof e&&(n=e(t))})),void 0===n)if("[object Array]"===Object.prototype.toString.call(t))n=[],t.forEach((function(t,i,r){n[i]=e(t)}));else if("object"==(0,i.Z)(t))if(t.nodeType&&"function"==typeof t.cloneNode)n=t.cloneNode(!0);else if(t.prototype)n=t;else if(t instanceof Date)n=new Date(t);else for(var a in n={},t)n[a]=e(t[a]);else n=t}catch(e){n=t}return n};function a(e){return!isNaN(e)&&"number"==typeof e}function o(e){return null==e}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var c=function(){t=null,i||e.apply(r,o)},d=i&&!t;clearTimeout(t),t=setTimeout(c,n),d&&e.apply(r,o)}}var c=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function d(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function l(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(c,d):e}function u(e){try{return document.querySelector(e)}catch(t){return console.error("document.querySelector:".concat(e," - error:").concat(t)),null}}function f(e){return e&&(document.documentElement||document.body).contains(e)}var p=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};var h=function(){var e=window;try{if(top.document)return top}catch(e){}try{for(;e.parent.document;)e=e.parent}catch(e){}return e}(),g=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var a=n[r];if(!i[a])return;i=i[a]}return i}};function m(e){return Math.floor(Math.random()*Math.floor(e))}function v(e){return m(100)<e}function b(e,t){return e.length>t?e.substring(0,t):e}function w(e,t){return e.every((function(e){return null==t?void 0:t.includes(e)}))}function y(e){var t,n=e.getResponseHeader("content-type");return null!==(t=null==n?void 0:n.toLowerCase().includes("html"))&&void 0!==t&&t}function M(e){if(!e)return null;for(var t,n,i,r=0,a=[e,e.parentElement];r<a.length;r++){var o=a[r];if("none"===window.getComputedStyle(o).display){i=o;break}}i&&(t=i.style.getPropertyValue("display"),n=i.style.getPropertyPriority("display"),i.style.setProperty("display","block","important"));var s=e.getBoundingClientRect();return i&&i.style.setProperty("display",t,n),s}},280:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var i=n(363),r=n(616),lg=new i.Z({prefix:"commonUtils: "});function a(e){try{if(!e)return null;var t=(0,r.getElementBoundingClientRect)(e);return t.top+t.bottom+t.width+t.height===0?(lg.warningf(null,"isFirstViewPortElement - Cannot determine if element is ATF"),null):t.top+Math.max(window.scrollY,document.body.scrollTop)<=window.innerHeight}catch(e){return lg.warningf(null,"isATFElement - error: %o",e),null}}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i={};n.r(i),n.d(i,{getSizeType:()=>b,isUnacceptable:()=>T,isUnacceptableATFSize:()=>_,isUnacceptableRelevantBTFAreaTotalAdSpace:()=>M,isUnacceptableTotalATFAdSpace:()=>y});var r=n(365);var a=n(616),o=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(302),c=n(280),d=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}];function l(e,t){var n=function(e,t){return e.filter((function(e){return N.sizeValidation.getSizeType(e)===t}))}(d,e);return n.filter((function(e){return!t||!N.sizeValidation.isUnacceptableATFSize(e)}))}var u=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=l(N.sizeValidation.getSizeType(t),n),a=0;a<r.length;a++){var o=r[a];if(o.width<=i.width&&o.height<=i.height){for(var s=!0,c=0;c<e.length;c++){var d=e[c];if(d&&d.width===o.width&&d.height===o.height){s=!1;break}}if(s)return o}}},f=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},p=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,a=0;a<i.length;a++){var o=i[a];if(t[o.type].indexOf(o.string)<0){r=!1;break}}if(r)return!0}};const h={isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=f(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var a=i[r],o=!0,s=0;s<a.length;s++){var c=a[s];if(n[c.type].indexOf(c.string)<0){o=!1;break}}if(o)return!0}return!1},isWhitelistURL:function(e,t){var n=f(e);return!p({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!p({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}};var g=n(400),m=1,v=2;function b(e){return e.width>350?m:v}function w(){var e=window.innerWidth*window.innerHeight,t=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,n=window.innerWidth>r.Z.consts.acceptableStandardScreenSize.width&&window.innerHeight>r.Z.consts.acceptableStandardScreenSize.height;return{windowArea:e,windowDefaultArea:t,isLargeStandardScreenSize:n,isPageContentWiderThanScreen:!n&&document.body.scrollWidth>window.innerWidth}}function y(e){var t=w(),n=t.windowArea,i=t.windowDefaultArea;return e/(t.isPageContentWiderThanScreen?i:n)*100>15}function M(e,t){var n=w(),i=n.windowArea,r=n.windowDefaultArea,a=n.isPageContentWiderThanScreen?r:i;return t/Math.max(a,e)*100>25}function _(e){var t=b(e),n=w(),i=n.windowArea,r=n.windowDefaultArea,a=n.isPageContentWiderThanScreen,o=e.height,s=e.width,c=s*o/(a?r:i)*100>15;return t==v?c||s>350:c||e.height>200}function E(e,t){var n=b(t),i=!1,r=t.height,o=t.width;if(e){var s=(0,a.getElementBoundingClientRect)(e),c=s.top;if(s.top+s.bottom+s.left+s.right===0)return!1;r=(i=c+t.height>window.innerHeight)?window.innerHeight-c:t.height}return n===v&&i?E(e,{width:o,height:r})&&D(e,t):_(t)}function D(e,t){var n,i=w(),r=i.windowArea,a=i.windowDefaultArea,o=i.isPageContentWiderThanScreen,s=b(t),c=null!==(n=g.h.getItem("totalAdSpace.stickySizes"))&&void 0!==n?n:{totalArea:0,sizes:[]},d=c.totalArea;return c.sizes.some((function(t){return t.element===e}))&&(d-=Math.max(0,t.width*t.height)),(t.width*t.height+d)/(o?a:r)*100>25||s===m&&t.height>400}function T(e,t){if(window.top!==window)return!1;if(function(e){return window.innerWidth*window.innerHeight<=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height&&[{width:970,height:250},{width:970,height:90}].some((function(t){return t.width===e.width&&t.height===e.height}))}(t))return!0;var n=(0,c.T)(e);return null!==n&&(n?E(e,t):D(e,t))}var S=n(817);const N={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")).replace("onetag-sys.com/prebid-request?upapi=true","onetag-sys.com/prebid-request/?upapi=true")},commonUtils:a,ElementInsertion:o,sizesRemover:function(e,t){var n=[],i=s.Y.fireEvent("enableLegacySizesReplacer");t.forEach((function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var a=n[r];if(N.sizeValidation.isUnacceptable(e,a))if(i){var o=(0,c.T)(e);n[r]=u(n,a,o)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){(e[t]||[]).forEach((function(e){e.call(void 0,n)}))}},urlValidations:h,sizeValidation:i,urlUtils:S}},817:(e,t,n)=>{"use strict";n.r(t),n.d(t,{makeURL:()=>c});var i=n(942),r=n(616),a=n(365);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c="cv",d="tid";try{t=r.topmostAccessibleWindow.__bt_intrnl.traceID}catch(e){t=""}for(var l=n,u=s(s({},o),{},(e={upapi:"true"},(0,i.Z)(e,d,t),(0,i.Z)(e,c,a.Z.upoSettings.recoveryScriptVersion),e)),f="?",p=Object.keys(u),h=0;h<p.length;h++){var g=p[h],m=u[g];l+=f+encodeURIComponent(g)+"="+encodeURIComponent(m),f="&"}return l}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=d||l||Function("return this")(),f=Object.prototype.toString,p=Math.max,h=Math.min,g=function(){return u.Date.now()};function m(e,t,n){var r,a,o,s,c,d,l=0,u=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function w(t){var n=r,i=a;return r=a=void 0,l=t,s=e.apply(i,n)}function y(e){return l=e,c=setTimeout(_,t),u?w(e):s}function M(e){var n=e-d;return void 0===d||n>=t||n<0||f&&e-l>=o}function _(){var e=g();if(M(e))return E(e);c=setTimeout(_,function(e){var n=t-(e-d);return f?h(n,o-(e-l)):n}(e))}function E(e){return c=void 0,m&&r?w(e):(r=a=void 0,s)}function D(){var e=g(),n=M(e);if(r=arguments,a=this,d=e,n){if(void 0===c)return y(d);if(f)return c=setTimeout(_,t),w(d)}return void 0===c&&(c=setTimeout(_,t)),s}return t=b(t)||0,v(n)&&(u=!!n.leading,o=(f="maxWait"in n)?p(b(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),D.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=d=a=c=void 0},D.flush=function(){return void 0===c?s:E(g())},D}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(i);return v(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),m(e,t,{leading:r,maxWait:t,trailing:a})}},671:(e,t,n)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>i})},144:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{Z:()=>r})},942:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},2:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{isBTDemandIntegration:()=>kn,isBTDemandSSP:()=>An,setupBtSsp:()=>zn,setupRelay:()=>Bn,setupSnigel:()=>xn});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{extractProviderData:()=>Vn,formatPriceFloorKV:()=>Kn,getHbPb:()=>Gn,getSpaceElement:()=>Ln,isFirstViewPortElement:()=>Fn,refreshTypeDecoder:()=>Wn});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{createWhitelistingIFrame:()=>Ai,setupWhitelistingIFrameSettings:()=>Si});var i={};function r(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||o(e,t)||s()}__webpack_require__.r(i),__webpack_require__.d(i,{detectUserCountry:()=>Li,getUserCountry:()=>Fi});var d=__webpack_require__(2);function l(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||l(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=__webpack_require__(365),p=__webpack_require__(942),h=__webpack_require__(302),g=__webpack_require__(614),m=__webpack_require__(363),lg=new m.Z({prefix:"xhrSingleton: "}),v=function(e,t){return e.substr(0,t.length)===t},b=function(e){if(e=e.toLowerCase(),v(e,"proxy-"))return!1;if(v(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},w=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!==(0,d.Z)(e)||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var a=this.protocol+"://"+this.host+r;a+=this.suffix?"#"+this.suffix:"";var o=e.method||"GET",s=e.headers||{},c=e.body?e.body:null,l=new XMLHttpRequest;for(var u in l.onreadystatechange=function(e){if(4==l.readyState)if(0!=l.status){var r=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t}(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],a=r.indexOf(": ");if(a>0){var o=r.substring(0,a),s=r.substring(a+2);t[o]||(t[o]=[]),t[o].push(s)}}return t}(l.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),l.status>=200&&l.status<300){var s={status:l.status,headers:r,body:l.response};t(s)}else n("status -> "+l.status)}else{if(i)return;i=!0,n("status -> "+l.status);var d={sendToServer:!0,sendPercentage:1,event:"xhr.onReadyStateChange error",meta:{url:a,method:o,body:c,event:e}};lg.errorf(null,"xhr error -> ",a,d)}},l.onerror=function(e){if(!i){i=!0,n(e);var t={sendToServer:!0,sendPercentage:1,event:"xhr.onError error",meta:{url:a,method:o,body:c,error:e}};lg.errorf(null,"xhr error -> ",a,t)}},l.open(o,a,!0),l.responseType="arraybuffer",s)s.hasOwnProperty(u)&&0!=s[u].length&&(b(u)||l.setRequestHeader(u,s[u][0]));l.send(c)}.bind(this))}},y=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",a=0;a<i;a++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},M=function(e,t){return y("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const _=M;function E(e){for(var t=e.length;--t>=0;)e[t]=0}var D=256,T=286,S=30,N=15,A=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),k=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z=new Array(576);E(z);var I=new Array(60);E(I);var O=new Array(512);E(O);var Z=new Array(256);E(Z);var R=new Array(29);E(R);var C,Y,j,H=new Array(S);function X(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}E(H);var P=function(e){return e<256?O[e]:O[256+(e>>>7)]},W=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},L=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,W(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},F=function(e,t,n){L(e,n[2*t],n[2*t+1])},V=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},K=function(e,t,n){var i,r,a=new Array(16),o=0;for(i=1;i<=N;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=V(a[s]++,s))}},G=function(e){var t;for(t=0;t<T;t++)e.dyn_ltree[2*t]=0;for(t=0;t<S;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},J=function(e){e.bi_valid>8?W(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Q=function(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]},q=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Q(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Q(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},$=function(e,t,n){var i,r,a,o,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?F(e,r,t):(a=Z[r],F(e,a+D+1,t),0!==(o=A[a])&&(r-=R[a],L(e,r,o)),i--,a=P(i),F(e,a,n),0!==(o=k[a])&&(i-=H[a],L(e,i,o)))}while(s<e.last_lit);F(e,256,t)},ee=function(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==a[2*n]?(e.heap[++e.heap_len]=d=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=d,n=e.heap_len>>1;n>=1;n--)q(e,a,n);r=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,q(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,s,c=t.dyn_tree,d=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,g=0;for(a=0;a<=N;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=c[2*c[2*(i=e.heap[n])+1]+1]+1)>h&&(a=h,g++),c[2*i+1]=a,i>d||(e.bl_count[a]++,o=0,i>=p&&(o=f[i-p]),s=c[2*i],e.opt_len+=s*(a+o),u&&(e.static_len+=s*(l[2*i+1]+o)));if(0!==g){do{for(a=h-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(a=h;0!==a;a--)for(i=e.bl_count[a];0!==i;)(r=e.heap[--n])>d||(c[2*r+1]!==a&&(e.opt_len+=(a-c[2*r+1])*c[2*r],c[2*r+1]=a),i--)}}(e,t),K(a,d,e.bl_count)},te=function(e,t,n){var i,r,a=-1,o=t[1],s=0,c=7,d=4;for(0===o&&(c=138,d=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<c&&r===o||(s<d?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4))},ne=function(e,t,n){var i,r,a=-1,o=t[1],s=0,c=7,d=4;for(0===o&&(c=138,d=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<c&&r===o)){if(s<d)do{F(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(F(e,r,e.bl_tree),s--),F(e,16,e.bl_tree),L(e,s-3,2)):s<=10?(F(e,17,e.bl_tree),L(e,s-3,3)):(F(e,18,e.bl_tree),L(e,s-11,7));s=0,a=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4)}},ie=!1,re=function(e,t,n,i){L(e,0+(i?1:0),3),function(e,t,n,i){J(e),i&&(W(e,n),W(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},ae=function(e,t,n,i){var r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<D;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),ee(e,e.l_desc),ee(e,e.d_desc),o=function(e){var t;for(te(e,e.dyn_ltree,e.l_desc.max_code),te(e,e.dyn_dtree,e.d_desc.max_code),ee(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*x[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?re(e,t,n,i):4===e.strategy||a===r?(L(e,2+(i?1:0),3),$(e,z,I)):(L(e,4+(i?1:0),3),function(e,t,n,i){var r;for(L(e,t-257,5),L(e,n-1,5),L(e,i-4,4),r=0;r<i;r++)L(e,e.bl_tree[2*x[r]+1],3);ne(e,e.dyn_ltree,t-1),ne(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),$(e,e.dyn_ltree,e.dyn_dtree)),G(e),i&&J(e)},oe={_tr_init:function(e){ie||(!function(){var e,t,n,i,r,a=new Array(16);for(n=0,i=0;i<28;i++)for(R[i]=n,e=0;e<1<<A[i];e++)Z[n++]=i;for(Z[n-1]=i,r=0,i=0;i<16;i++)for(H[i]=r,e=0;e<1<<k[i];e++)O[r++]=i;for(r>>=7;i<S;i++)for(H[i]=r<<7,e=0;e<1<<k[i]-7;e++)O[256+r++]=i;for(t=0;t<=N;t++)a[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,a[8]++;for(;e<=255;)z[2*e+1]=9,e++,a[9]++;for(;e<=279;)z[2*e+1]=7,e++,a[7]++;for(;e<=287;)z[2*e+1]=8,e++,a[8]++;for(K(z,287,a),e=0;e<S;e++)I[2*e+1]=5,I[2*e]=V(e,5);C=new X(z,A,257,T,N),Y=new X(I,k,0,S,N),j=new X(new Array(0),B,0,19,7)}(),ie=!0),e.l_desc=new U(e.dyn_ltree,C),e.d_desc=new U(e.dyn_dtree,Y),e.bl_desc=new U(e.bl_tree,j),e.bi_buf=0,e.bi_valid=0,G(e)},_tr_stored_block:re,_tr_flush_block:ae,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Z[n]+D+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){L(e,2,3),F(e,256,z),function(e){16===e.bi_valid?(W(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},se=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+t[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0},ce=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),de=function(e,t,n,i){var r=ce,a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e},le={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ue={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},fe=oe._tr_init,pe=oe._tr_stored_block,he=oe._tr_flush_block,ge=oe._tr_tally,me=oe._tr_align,ve=ue.Z_NO_FLUSH,be=ue.Z_PARTIAL_FLUSH,we=ue.Z_FULL_FLUSH,ye=ue.Z_FINISH,Me=ue.Z_BLOCK,_e=ue.Z_OK,Ee=ue.Z_STREAM_END,De=ue.Z_STREAM_ERROR,Te=ue.Z_DATA_ERROR,Se=ue.Z_BUF_ERROR,Ne=ue.Z_DEFAULT_COMPRESSION,Ae=ue.Z_FILTERED,ke=ue.Z_HUFFMAN_ONLY,Be=ue.Z_RLE,xe=ue.Z_FIXED,ze=ue.Z_DEFAULT_STRATEGY,Ie=ue.Z_UNKNOWN,Oe=ue.Z_DEFLATED,Ze=258,Re=262,Ce=103,Ye=113,je=666,He=function(e,t){return e.msg=le[t],t},Xe=function(e){return(e<<1)-(e>4?9:0)},Ue=function(e){for(var t=e.length;--t>=0;)e[t]=0},Pe=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},We=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Le=function(e,t){he(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,We(e.strm)},Fe=function(e,t){e.pending_buf[e.pending++]=t},Ve=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ke=function(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-Re?e.strstart-(e.w_size-Re):0,d=e.window,l=e.w_mask,u=e.prev,f=e.strstart+Ze,p=d[a+o-1],h=d[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(d[(n=t)+o]===h&&d[n+o-1]===p&&d[n]===d[a]&&d[++n]===d[a+1]){a+=2,n++;do{}while(d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&a<f);if(i=Ze-(f-a),a=f-Ze,i>o){if(e.match_start=t,o=i,i>=s)break;p=d[a+o-1],h=d[a+o]}}}while((t=u[t&l])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead},Ge=function(e){var t,n,i,r,a,o,s,c,d,l,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-Re)){e.window.set(e.window.subarray(u,u+u),0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=u?i-u:0}while(--n);t=n=u;do{i=e.prev[--t],e.prev[t]=i>=u?i-u:0}while(--n);r+=u}if(0===e.strm.avail_in)break;if(o=e.strm,s=e.window,c=e.strstart+e.lookahead,d=r,l=void 0,(l=o.avail_in)>d&&(l=d),n=0===l?0:(o.avail_in-=l,s.set(o.input.subarray(o.next_in,o.next_in+l),c),1===o.state.wrap?o.adler=se(o.adler,s,l,c):2===o.state.wrap&&(o.adler=de(o.adler,s,l,c)),o.next_in+=l,o.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Pe(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Pe(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Re&&0!==e.strm.avail_in)},Je=function(e,t){for(var n,i;;){if(e.lookahead<Re){if(Ge(e),e.lookahead<Re&&t===ve)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Pe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Re&&(e.match_length=Ke(e,n)),e.match_length>=3)if(i=ge(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Pe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Pe(e,e.ins_h,e.window[e.strstart+1]);else i=ge(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Le(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ye?(Le(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Le(e,!1),0===e.strm.avail_out)?1:2},Qe=function(e,t){for(var n,i,r;;){if(e.lookahead<Re){if(Ge(e),e.lookahead<Re&&t===ve)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Pe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Re&&(e.match_length=Ke(e,n),e.match_length<=5&&(e.strategy===Ae||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=ge(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Pe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Le(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=ge(e,0,e.window[e.strstart-1]))&&Le(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ge(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ye?(Le(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Le(e,!1),0===e.strm.avail_out)?1:2};function qe(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var $e=[new qe(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ge(e),0===e.lookahead&&t===ve)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Le(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Re&&(Le(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ye?(Le(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Le(e,!1),e.strm.avail_out),1)})),new qe(4,4,8,4,Je),new qe(4,5,16,8,Je),new qe(4,6,32,32,Je),new qe(4,4,16,16,Qe),new qe(8,16,32,32,Qe),new qe(8,16,128,128,Qe),new qe(8,32,128,256,Qe),new qe(32,128,258,1024,Qe),new qe(32,258,258,4096,Qe)];function et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ue(this.dyn_ltree),Ue(this.dyn_dtree),Ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var tt=function(e){if(!e||!e.state)return He(e,De);e.total_in=e.total_out=0,e.data_type=Ie;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Ye,e.adler=2===t.wrap?0:1,t.last_flush=ve,fe(t),_e},nt=function(e){var t,n=tt(e);return n===_e&&((t=e.state).window_size=2*t.w_size,Ue(t.head),t.max_lazy_match=$e[t.level].max_lazy,t.good_match=$e[t.level].good_length,t.nice_match=$e[t.level].nice_length,t.max_chain_length=$e[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},it=function(e,t,n,i,r,a){if(!e)return De;var o=1;if(t===Ne&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==Oe||i<8||i>15||t<0||t>9||a<0||a>xe)return He(e,De);8===i&&(i=9);var s=new et;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,nt(e)},rt={deflateInit:function(e,t){return it(e,t,Oe,15,8,ze)},deflateInit2:it,deflateReset:nt,deflateResetKeep:tt,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?De:(e.state.gzhead=t,_e):De},deflate:function(e,t){var n,i;if(!e||!e.state||t>Me||t<0)return e?He(e,De):De;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===je&&t!==ye)return He(e,0===e.avail_out?Se:De);r.strm=e;var a=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Fe(r,31),Fe(r,139),Fe(r,8),r.gzhead?(Fe(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Fe(r,255&r.gzhead.time),Fe(r,r.gzhead.time>>8&255),Fe(r,r.gzhead.time>>16&255),Fe(r,r.gzhead.time>>24&255),Fe(r,9===r.level?2:r.strategy>=ke||r.level<2?4:0),Fe(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Fe(r,255&r.gzhead.extra.length),Fe(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=de(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Fe(r,0),Fe(r,0),Fe(r,0),Fe(r,0),Fe(r,0),Fe(r,9===r.level?2:r.strategy>=ke||r.level<2?4:0),Fe(r,3),r.status=Ye);else{var o=Oe+(r.w_bits-8<<4)<<8;o|=(r.strategy>=ke||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=Ye,Ve(r,o),0!==r.strstart&&(Ve(r,e.adler>>>16),Ve(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=de(e.adler,r.pending_buf,r.pending-n,n)),We(e),n=r.pending,r.pending!==r.pending_buf_size));)Fe(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=de(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=de(e.adler,r.pending_buf,r.pending-n,n)),We(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Fe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=de(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=de(e.adler,r.pending_buf,r.pending-n,n)),We(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Fe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=de(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Ce)}else r.status=Ce;if(r.status===Ce&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&We(e),r.pending+2<=r.pending_buf_size&&(Fe(r,255&e.adler),Fe(r,e.adler>>8&255),e.adler=0,r.status=Ye)):r.status=Ye),0!==r.pending){if(We(e),0===e.avail_out)return r.last_flush=-1,_e}else if(0===e.avail_in&&Xe(t)<=Xe(a)&&t!==ye)return He(e,Se);if(r.status===je&&0!==e.avail_in)return He(e,Se);if(0!==e.avail_in||0!==r.lookahead||t!==ve&&r.status!==je){var s=r.strategy===ke?function(e,t){for(var n;;){if(0===e.lookahead&&(Ge(e),0===e.lookahead)){if(t===ve)return 1;break}if(e.match_length=0,n=ge(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Le(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ye?(Le(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Le(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===Be?function(e,t){for(var n,i,r,a,o=e.window;;){if(e.lookahead<=Ze){if(Ge(e),e.lookahead<=Ze&&t===ve)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=o[r=e.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){a=e.strstart+Ze;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=Ze-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ge(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ge(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Le(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ye?(Le(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Le(e,!1),0===e.strm.avail_out)?1:2}(r,t):$e[r.level].func(r,t);if(3!==s&&4!==s||(r.status=je),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),_e;if(2===s&&(t===be?me(r):t!==Me&&(pe(r,0,0,!1),t===we&&(Ue(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),We(e),0===e.avail_out))return r.last_flush=-1,_e}return t!==ye?_e:r.wrap<=0?Ee:(2===r.wrap?(Fe(r,255&e.adler),Fe(r,e.adler>>8&255),Fe(r,e.adler>>16&255),Fe(r,e.adler>>24&255),Fe(r,255&e.total_in),Fe(r,e.total_in>>8&255),Fe(r,e.total_in>>16&255),Fe(r,e.total_in>>24&255)):(Ve(r,e.adler>>>16),Ve(r,65535&e.adler)),We(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?_e:Ee)},deflateEnd:function(e){if(!e||!e.state)return De;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Ce&&t!==Ye&&t!==je?He(e,De):(e.state=null,t===Ye?He(e,Te):_e)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return De;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return De;if(1===r&&(e.adler=se(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(Ue(i.head),i.strstart=0,i.block_start=0,i.insert=0);var a=new Uint8Array(i.w_size);a.set(t.subarray(n-i.w_size,n),0),t=a,n=i.w_size}var o=e.avail_in,s=e.next_in,c=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ge(i);i.lookahead>=3;){var d=i.strstart,l=i.lookahead-2;do{i.ins_h=Pe(i,i.ins_h,i.window[d+3-1]),i.prev[d&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=d,d++}while(--l);i.strstart=d,i.lookahead=2,Ge(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=c,e.avail_in=o,i.wrap=r,_e},deflateInfo:"pako deflate (from Nodeca project)"},at=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ot=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(0,d.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)at(n,i)&&(e[i]=n[i])}}return e},st=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),a=0,o=0,s=e.length;a<s;a++){var c=e[a];r.set(c,o),o+=c.length}return r},ct=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ct=!1}for(var dt=new Uint8Array(256),lt=0;lt<256;lt++)dt[lt]=lt>=252?6:lt>=248?5:lt>=240?4:lt>=224?3:lt>=192?2:1;dt[254]=dt[254]=1;var ut=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,a,o=e.length,s=0;for(r=0;r<o;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},ft=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a=new Array(2*r);for(i=0,n=0;n<r;){var o=e[n++];if(o<128)a[i++]=o;else{var s=dt[o];if(s>4)a[i++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<r;)o=o<<6|63&e[n++],s--;s>1?a[i++]=65533:o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&ct)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(a,i)},pt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+dt[e[n]]>t?n:t};var ht=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},gt=Object.prototype.toString,mt=ue.Z_NO_FLUSH,vt=ue.Z_SYNC_FLUSH,bt=ue.Z_FULL_FLUSH,wt=ue.Z_FINISH,yt=ue.Z_OK,Mt=ue.Z_STREAM_END,_t=ue.Z_DEFAULT_COMPRESSION,Et=ue.Z_DEFAULT_STRATEGY,Dt=ue.Z_DEFLATED;function Tt(e){this.options=ot({level:_t,method:Dt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Et},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ht,this.strm.avail_out=0;var n=rt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==yt)throw new Error(le[n]);if(t.header&&rt.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?ut(t.dictionary):"[object ArrayBuffer]"===gt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=rt.deflateSetDictionary(this.strm,i))!==yt)throw new Error(le[n]);this._dict_set=!0}}function St(e,t){var n=new Tt(t);if(n.push(e,!0),n.err)throw n.msg||le[n.err];return n.result}Tt.prototype.push=function(e,t){var n,i,r=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?wt:mt,"string"==typeof e?r.input=ut(e):"[object ArrayBuffer]"===gt.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(i===vt||i===bt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=rt.deflate(r,i))===Mt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=rt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===yt;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Tt.prototype.onData=function(e){this.chunks.push(e)},Tt.prototype.onEnd=function(e){e===yt&&(this.result=st(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Nt={Deflate:Tt,deflate:St,deflateRaw:function(e,t){return(t=t||{}).raw=!0,St(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,St(e,t)},constants:ue},At=function(e,t){var n,i,r,a,o,s,c,d,l,u,f,p,h,g,m,v,b,w,y,M,_,E,D,T,S=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),r=e.next_out,T=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),s=S.dmax,c=S.wsize,d=S.whave,l=S.wnext,u=S.window,f=S.hold,p=S.bits,h=S.lencode,g=S.distcode,m=(1<<S.lenbits)-1,v=(1<<S.distbits)-1;e:do{p<15&&(f+=D[n++]<<p,p+=8,f+=D[n++]<<p,p+=8),b=h[f&m];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))T[r++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=h[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}y=65535&b,(w&=15)&&(p<w&&(f+=D[n++]<<p,p+=8),y+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=D[n++]<<p,p+=8,f+=D[n++]<<p,p+=8),b=g[f&v];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(M=65535&b,p<(w&=15)&&(f+=D[n++]<<p,(p+=8)<w&&(f+=D[n++]<<p,p+=8)),(M+=f&(1<<w)-1)>s){e.msg="invalid distance too far back",S.mode=30;break e}if(f>>>=w,p-=w,M>(w=r-a)){if((w=M-w)>d&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(_=0,E=u,0===l){if(_+=c-w,w<y){y-=w;do{T[r++]=u[_++]}while(--w);_=r-M,E=T}}else if(l<w){if(_+=c+l-w,(w-=l)<y){y-=w;do{T[r++]=u[_++]}while(--w);if(_=0,l<y){y-=w=l;do{T[r++]=u[_++]}while(--w);_=r-M,E=T}}}else if(_+=l-w,w<y){y-=w;do{T[r++]=u[_++]}while(--w);_=r-M,E=T}for(;y>2;)T[r++]=E[_++],T[r++]=E[_++],T[r++]=E[_++],y-=3;y&&(T[r++]=E[_++],y>1&&(T[r++]=E[_++]))}else{_=r-M;do{T[r++]=T[_++],T[r++]=T[_++],T[r++]=T[_++],y-=3}while(y>2);y&&(T[r++]=T[_++],y>1&&(T[r++]=T[_++]))}break}}break}}while(n<i&&r<o);n-=y=p>>3,f&=(1<<(p-=y<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<o?o-r+257:257-(r-o),S.hold=f,S.bits=p},kt=15,Bt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),It=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ot=function(e,t,n,i,r,a,o,s){var c,d,l,u,f,p,h,g,m,v=s.bits,b=0,w=0,y=0,M=0,_=0,E=0,D=0,T=0,S=0,N=0,A=null,k=0,B=new Uint16Array(16),x=new Uint16Array(16),z=null,I=0;for(b=0;b<=kt;b++)B[b]=0;for(w=0;w<i;w++)B[t[n+w]]++;for(_=v,M=kt;M>=1&&0===B[M];M--);if(_>M&&(_=M),0===M)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(y=1;y<M&&0===B[y];y++);for(_<y&&(_=y),T=1,b=1;b<=kt;b++)if(T<<=1,(T-=B[b])<0)return-1;if(T>0&&(0===e||1!==M))return-1;for(x[1]=0,b=1;b<kt;b++)x[b+1]=x[b]+B[b];for(w=0;w<i;w++)0!==t[n+w]&&(o[x[t[n+w]]++]=w);if(0===e?(A=z=o,p=19):1===e?(A=Bt,k-=257,z=xt,I-=257,p=256):(A=zt,z=It,p=-1),N=0,w=0,b=y,f=a,E=_,D=0,l=-1,u=(S=1<<_)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){h=b-D,o[w]<p?(g=0,m=o[w]):o[w]>p?(g=z[I+o[w]],m=A[k+o[w]]):(g=96,m=0),c=1<<b-D,y=d=1<<E;do{r[f+(N>>D)+(d-=c)]=h<<24|g<<16|m|0}while(0!==d);for(c=1<<b-1;N&c;)c>>=1;if(0!==c?(N&=c-1,N+=c):N=0,w++,0==--B[b]){if(b===M)break;b=t[n+o[w]]}if(b>_&&(N&u)!==l){for(0===D&&(D=_),f+=y,T=1<<(E=b-D);E+D<M&&!((T-=B[E+D])<=0);)E++,T<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;r[l=N&u]=_<<24|E<<16|f-a|0}}return 0!==N&&(r[f+N]=b-D<<24|64<<16|0),s.bits=_,0},Zt=ue.Z_FINISH,Rt=ue.Z_BLOCK,Ct=ue.Z_TREES,Yt=ue.Z_OK,jt=ue.Z_STREAM_END,Ht=ue.Z_NEED_DICT,Xt=ue.Z_STREAM_ERROR,Ut=ue.Z_DATA_ERROR,Pt=ue.Z_MEM_ERROR,Wt=ue.Z_BUF_ERROR,Lt=ue.Z_DEFLATED,Ft=12,Vt=30,Kt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Gt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Jt,Qt,qt=function(e){if(!e||!e.state)return Xt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Yt},$t=function(e){if(!e||!e.state)return Xt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,qt(e)},en=function(e,t){var n;if(!e||!e.state)return Xt;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Xt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,$t(e))},tn=function(e,t){if(!e)return Xt;var n=new Gt;e.state=n,n.window=null;var i=en(e,t);return i!==Yt&&(e.state=null),i},nn=!0,rn=function(e){if(nn){Jt=new Int32Array(512),Qt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ot(1,e.lens,0,288,Jt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ot(2,e.lens,0,32,Qt,0,e.work,{bits:5}),nn=!1}e.lencode=Jt,e.lenbits=9,e.distcode=Qt,e.distbits=5},an=function(e,t,n,i){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},on={inflateReset:$t,inflateReset2:en,inflateResetKeep:qt,inflateInit:function(e){return tn(e,15)},inflateInit2:tn,inflate:function(e,t){var n,i,r,a,o,s,c,d,l,u,f,p,h,g,m,v,b,w,y,M,_,E,D,T,S=0,N=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Xt;(n=e.state).mode===Ft&&(n.mode=13),o=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,d=n.hold,l=n.bits,u=s,f=c,E=Yt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(2&n.wrap&&35615===d){n.check=0,N[0]=255&d,N[1]=d>>>8&255,n.check=de(n.check,N,2,0),d=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=Vt;break}if((15&d)!==Lt){e.msg="unknown compression method",n.mode=Vt;break}if(l-=4,_=8+(15&(d>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=Vt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&d?10:Ft,d=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(n.flags=d,(255&n.flags)!==Lt){e.msg="unknown compression method",n.mode=Vt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Vt;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(N[0]=255&d,N[1]=d>>>8&255,n.check=de(n.check,N,2,0)),d=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}n.head&&(n.head.time=d),512&n.flags&&(N[0]=255&d,N[1]=d>>>8&255,N[2]=d>>>16&255,N[3]=d>>>24&255,n.check=de(n.check,N,4,0)),d=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(N[0]=255&d,N[1]=d>>>8&255,n.check=de(n.check,N,2,0)),d=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(N[0]=255&d,N[1]=d>>>8&255,n.check=de(n.check,N,2,0)),d=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((p=n.length)>s&&(p=s),p&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+p),_)),512&n.flags&&(n.check=de(n.check,i,p,a)),s-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;p=0;do{_=i[a+p++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&p<s);if(512&n.flags&&(n.check=de(n.check,i,p,a)),s-=p,a+=p,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;p=0;do{_=i[a+p++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&p<s);if(512&n.flags&&(n.check=de(n.check,i,p,a)),s-=p,a+=p,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Vt;break}d=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ft;break;case 10:for(;l<32;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}e.adler=n.check=Kt(d),d=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=d,n.bits=l,Ht;e.adler=n.check=1,n.mode=Ft;case Ft:if(t===Rt||t===Ct)break e;case 13:if(n.last){d>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}switch(n.last=1&d,l-=1,3&(d>>>=1)){case 0:n.mode=14;break;case 1:if(rn(n),n.mode=20,t===Ct){d>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Vt}d>>>=2,l-=2;break;case 14:for(d>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Vt;break}if(n.length=65535&d,d=0,l=0,n.mode=15,t===Ct)break e;case 15:n.mode=16;case 16:if(p=n.length){if(p>s&&(p=s),p>c&&(p=c),0===p)break e;r.set(i.subarray(a,a+p),o),s-=p,a+=p,c-=p,o+=p,n.length-=p;break}n.mode=Ft;break;case 17:for(;l<14;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(n.nlen=257+(31&d),d>>>=5,l-=5,n.ndist=1+(31&d),d>>>=5,l-=5,n.ncode=4+(15&d),d>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Vt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}n.lens[A[n.have++]]=7&d,d>>>=3,l-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},E=Ot(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,E){e.msg="invalid code lengths set",n.mode=Vt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(S=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(b<16)d>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(T=m+2;l<T;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(d>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Vt;break}_=n.lens[n.have-1],p=3+(3&d),d>>>=2,l-=2}else if(17===b){for(T=m+3;l<T;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}l-=m,_=0,p=3+(7&(d>>>=m)),d>>>=3,l-=3}else{for(T=m+7;l<T;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}l-=m,_=0,p=11+(127&(d>>>=m)),d>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Vt;break}for(;p--;)n.lens[n.have++]=_}}if(n.mode===Vt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Vt;break}if(n.lenbits=9,D={bits:n.lenbits},E=Ot(1,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,E){e.msg="invalid literal/lengths set",n.mode=Vt;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},E=Ot(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,E){e.msg="invalid distances set",n.mode=Vt;break}if(n.mode=20,t===Ct)break e;case 20:n.mode=21;case 21:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=d,n.bits=l,At(e,f),o=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,d=n.hold,l=n.bits,n.mode===Ft&&(n.back=-1);break}for(n.back=0;v=(S=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(v&&0==(240&v)){for(w=m,y=v,M=b;v=(S=n.lencode[M+((d&(1<<w+y)-1)>>w)])>>>16&255,b=65535&S,!(w+(m=S>>>24)<=l);){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}d>>>=w,l-=w,n.back+=w}if(d>>>=m,l-=m,n.back+=m,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=Ft;break}if(64&v){e.msg="invalid literal/length code",n.mode=Vt;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(T=n.extra;l<T;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(S=n.distcode[d&(1<<n.distbits)-1])>>>16&255,b=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(0==(240&v)){for(w=m,y=v,M=b;v=(S=n.distcode[M+((d&(1<<w+y)-1)>>w)])>>>16&255,b=65535&S,!(w+(m=S>>>24)<=l);){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}d>>>=w,l-=w,n.back+=w}if(d>>>=m,l-=m,n.back+=m,64&v){e.msg="invalid distance code",n.mode=Vt;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(T=n.extra;l<T;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Vt;break}n.mode=25;case 25:if(0===c)break e;if(p=f-c,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Vt;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=r,h=o-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{r[o++]=g[h++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===c)break e;r[o++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,d|=i[a++]<<l,l+=8}if(f-=c,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?de(n.check,r,f,o-f):se(n.check,r,f,o-f)),f=c,(n.flags?d:Kt(d))!==n.check){e.msg="incorrect data check",n.mode=Vt;break}d=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,d+=i[a++]<<l,l+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Vt;break}d=0,l=0}n.mode=29;case 29:E=jt;break e;case Vt:E=Ut;break e;case 31:return Pt;default:return Xt}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=d,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<Vt&&(n.mode<27||t!==Zt))&&an(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?de(n.check,r,f,e.next_out-f):se(n.check,r,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ft?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===f||t===Zt)&&E===Yt&&(E=Wt),E},inflateEnd:function(e){if(!e||!e.state)return Xt;var t=e.state;return t.window&&(t.window=null),e.state=null,Yt},inflateGetHeader:function(e,t){if(!e||!e.state)return Xt;var n=e.state;return 0==(2&n.wrap)?Xt:(n.head=t,t.done=!1,Yt)},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Xt:11===n.mode&&se(1,t,i,0)!==n.check?Ut:an(e,t,i,i)?(n.mode=31,Pt):(n.havedict=1,Yt):Xt},inflateInfo:"pako inflate (from Nodeca project)"};var sn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},cn=Object.prototype.toString,dn=ue.Z_NO_FLUSH,ln=ue.Z_FINISH,un=ue.Z_OK,fn=ue.Z_STREAM_END,pn=ue.Z_NEED_DICT,hn=ue.Z_STREAM_ERROR,gn=ue.Z_DATA_ERROR,mn=ue.Z_MEM_ERROR;function vn(e){this.options=ot({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ht,this.strm.avail_out=0;var n=on.inflateInit2(this.strm,t.windowBits);if(n!==un)throw new Error(le[n]);if(this.header=new sn,on.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=ut(t.dictionary):"[object ArrayBuffer]"===cn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=on.inflateSetDictionary(this.strm,t.dictionary))!==un))throw new Error(le[n])}function bn(e,t){var n=new vn(t);if(n.push(e),n.err)throw n.msg||le[n.err];return n.result}vn.prototype.push=function(e,t){var n,i,r,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?ln:dn,"[object ArrayBuffer]"===cn.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(n=on.inflate(a,i))===pn&&s&&((n=on.inflateSetDictionary(a,s))===un?n=on.inflate(a,i):n===gn&&(n=pn));a.avail_in>0&&n===fn&&a.state.wrap>0&&0!==e[a.next_in];)on.inflateReset(a),n=on.inflate(a,i);switch(n){case hn:case gn:case pn:case mn:return this.onEnd(n),this.ended=!0,!1}if(r=a.avail_out,a.next_out&&(0===a.avail_out||n===fn))if("string"===this.options.to){var c=pt(a.output,a.next_out),d=a.next_out-c,l=ft(a.output,c);a.next_out=d,a.avail_out=o-d,d&&a.output.set(a.output.subarray(c,c+d),0),this.onData(l)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==un||0!==r){if(n===fn)return n=on.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},vn.prototype.onData=function(e){this.chunks.push(e)},vn.prototype.onEnd=function(e){e===un&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=st(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var wn={Inflate:vn,inflate:bn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,bn(e,t)},ungzip:bn,constants:ue},yn={Deflate:Nt.Deflate,deflate:Nt.deflate,deflateRaw:Nt.deflateRaw,gzip:Nt.gzip,Inflate:wn.Inflate,inflate:wn.inflate,inflateRaw:wn.inflateRaw,ungzip:wn.ungzip,constants:ue},Mn=new m.Z({prefix:"utf8: "});const _n=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){Mn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},En=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){Mn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};var Dn=__webpack_require__(616);function Tn(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}const Sn=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bidder_",r=i+Tn(e+"_".concat(t,"_")+JSON.stringify(n).trim());return r.substr(0,500)};var Nn=new Set;function An(e){return Nn.has(e)}function kn(){return h.Y.hasEventListener("enableRelayAdapter")||h.Y.hasEventListener("snigelAdapterConfiguration")||h.Y.hasEventListener("addBTDemand")}function Bn(e){var t=(h.Y.fireEvent("enableRelayAdapter",{spaceName:e.name})||{}).relayBidderParams,n=e.prebidSettings.bidders.find((function(e){return"relay"===e.name}));if(t&&!n){var i={name:"relay",id:Sn(e.id,"relay",t),params:t};e.prebidSettings.bidders.push(i),e.prebidSettings.enabled=!0,Nn.add(i.name)}}function xn(e){var t=(h.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.name})||{}).adUnitStoredRequestId;if(t){var n={name:"bt_exchange",id:Sn(e.id,"snigel",t)};e.prebidSettings.bidders.push(n),e.prebidSettings.enabled=!0,Nn.add(n.name)}}function zn(e){var t=h.Y.fireEvent("addBTDemand",{space:e});if(t)for(var n in t)t.hasOwnProperty(n)&&(e.prebidSettings.bidders.push({name:n,id:Sn(e.id,n,e),params:t[n]}),e.prebidSettings.enabled=!0,Nn.add(n))}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn=new function(){var e="pid",t="nr",n=_(8,10),i=Dn.topmostAccessibleWindow.location.href,r=f.Z.upoSettings.recoveryScriptVersion;this.sendLog=function(e){var websiteConfig=f.Z.SharedObject.getItem("websiteConfig")||{},t=websiteConfig.organizationID,n=websiteConfig.websiteID,r={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:t,websiteID:n,meta:On(On({},e.meta||{}),{},{pageURL:i})},a={method:"POST",url:g.Z.urlUtils.makeURL("/log"),body:_n(JSON.stringify(r))};return w.$fetch(a)},this.testCompliance=function(i){return new Promise((function(r,a){var o,s,c=(o={},(0,p.Z)(o,e,[n]),(0,p.Z)(o,t,["2"]),o),d=JSON.stringify(i);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(s=yn.deflate(d).buffer,c.z=[1]):s=_n(d)}catch(e){s=_n(d)}var l={method:"POST",url:g.Z.urlUtils.makeURL("/tc",c),body:s};w.$fetch(l).then((function(e){var t=JSON.parse(En(e.body)),n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]={status:t[i].status,id:t[i].id,backup:t[i].backup});r(n)})).catch((function(e){return a(new Error)}))}))},this.reportAuctionStarted=function(r,a,o,s,c,d,l,u,f){var m,v=(m={},(0,p.Z)(m,e,[n]),(0,p.Z)(m,t,["1"]),m),b={websiteID:d,orgID:l,auctionID:r,spaceExternalID:a,spaceName:o,refreshDepth:u,pageURL:i,schainHash:f};b.bids=c.map((function(e){var t={bidderExternalID:e.bidderId,provider:"relay"===e.provider?"bt_server":e.provider};return An(e.provider)&&(t.demandSource="bt"),t})),s&&(b.gamAdUnitPath=s),h.Y.fireEvent("auctionStartChangeRequestData",{query:v,body:b});var y={method:"POST",url:g.Z.urlUtils.makeURL("/as",v),body:_n(JSON.stringify(b))};return w.$fetch(y)},this.reportAuctionEnd=function(r,a,o,s,c,d,l,u,f,m){var v,b=(v={},(0,p.Z)(v,e,[n]),(0,p.Z)(v,"seid",[l]),(0,p.Z)(v,t,["1"]),v),y=On(On({},d),{},{websiteID:s,orgID:c,auctionID:r,spaceExternalID:a,spaceName:o,adUnitCode:l,gamEnabled:f,refreshDepth:m,pageURL:i});u&&(y.gamAdUnitPath=u),h.Y.fireEvent("auctionEndChangeRequestData",{query:b,body:y});var M={method:"POST",url:g.Z.urlUtils.makeURL("/ae",b),body:_n(JSON.stringify(y))};return w.$fetch(M)},this.reportRender=function(e,n,r,a,o,s,c,d,l,u,f,h){var m=(0,p.Z)({},t,["1"]),v=On(On({websiteID:l,orgID:u,auctionID:e,spaceExternalID:s,spaceName:c,bidderExternalID:n},r),{},{gamEnabled:f,refreshDepth:h,pageURL:i,amount:a,currency:o,timestamp:(new Date).toISOString()});d&&(v.gamAdUnitPath=d);var b={method:"POST",url:g.Z.urlUtils.makeURL("/r",m),body:_n(JSON.stringify(v))};return w.$fetch(b)},this.reportView=function(e,n,r,a,o,s,c,d,l){var u=(0,p.Z)({},t,["1"]),f=On(On({websiteID:c,orgID:d,auctionID:e,spaceExternalID:a,spaceName:o,bidderExternalID:n},r),{},{refreshDepth:l,pageURL:i,timestamp:(new Date).toISOString()});s&&(f.gamAdUnitPath=s);var h={method:"POST",url:g.Z.urlUtils.makeURL("/v",u),body:_n(JSON.stringify(f))};return w.$fetch(h)},this.consentData=function(e){var t={},a={},o={consents:{}},s=e.tcData,c=e.error,websiteConfig=f.Z.SharedObject.getItem("websiteConfig")||{},d=websiteConfig.organizationID,l=websiteConfig.websiteID;d&&(t.organizationID=parseInt(d)),l&&(t.websiteID=parseInt(l)),t.pageID=n,t.clientVersion=r,s?(a.cmpVersion=s.cmpVersion,a.gdprApplies=s.gdprApplies,a.tcfPolicyVersion=s.tcfPolicyVersion,a.tcString=s.tcString,s.gdprApplies&&(a.purpose=s.purpose,[10,13,25,28,32,52,69,76,91,755].forEach((function(e){return o.consents[e]=s.vendor.consents[e]})),a.vendor=o)):(a.gdprApplies=null,a.error=g.Z.commonUtils.truncateString(c.message,1024)),t.tcData=a,t.pageURL=i;var u={method:"POST",url:g.Z.urlUtils.makeURL("/ce"),body:_n(JSON.stringify(t))};return w.$fetch(u)}},Rn=function e(t,n,i,r,a,o,s,c){this.bidId=_(16,24),this.ad=t.ad,this.adId=t.adId,this.adUrl=t.adUrl,this.bidderId=t.bidderId,this.bidder=t.bidder,this.bidderCode=t.bidderCode,this.contentIdHash=t.contentIdHash,this.currency=t.currency,this.creativeId=t.creativeId,this.c=t.c,this.cpm=t.cpm,this.complianceStatus=t.complianceStatus||0,this.height=t.height,this.isBackupCreative=t.isBackupCreative,this.timeToRespond=t.timeToRespond,this.size=t.size,this.width=t.width,this.rawBid=n,this.type=i,this.status=e.Status.LIVE,this.additionalBidsToRender=[],this.iterations=[],this.renderBid=a,this.cancelBid=function(){this.status!==e.Status.CANCELED&&(this.status=e.Status.CANCELED,o&&o(),this.additionalBidsToRender.forEach((function(e){return e.cancelBid()})))},this.getGPTTargeting=function(e){return r&&r.call(this,e)},this.onRenderedEvent=s||function(){},this.makeEntryForTestCompliance=c||function(){},this.addIteration=function(e){this.iterations.push(e)}};Rn.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},Rn.Status={LIVE:0,CANCELED:1},Rn.PrebidTemplateTypes={RENDER_AD:"renderAd",APSTAG:"apstag",HB_ADID:"hb_adid",UC_TAG_DATA:"ucTagData",DISTRICTM_ADSLOT:"districtm_adslot"};var Cn=__webpack_require__(143),Yn=new m.Z({prefix:"utils: "});function jn(e,t){if(!h.Y.fireEvent("omitBTAdLabel",{unit:e})){var n=e.element,i=n.querySelector(".default-creative-container")||n.querySelector(".ahover")||n.querySelector('[id^="google_ads_iframe_"]'),r="upo-label",a=!(!i||!i.querySelector(".".concat(r)));if(i&&!a){var o=function(e,t,n){var i=document.createElement("div");return i.className=e,i.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;cursor:pointer;"),window.setTimeout((function(){i.style.opacity="1"}),2e3),i.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',i.addEventListener("click",(function(e){e.stopPropagation(),function(e,t,n){var i=e.parentElement.parentElement.id;if(i){var r="bt-report-animated-ad-".concat(i);if(!!!document.getElementById(r)){var a=document.createElement("div");a.setAttribute("id",r),a.setAttribute("style","left:0;top:0;position:absolute;background:rgba(255,255,255,0.9);height:100%;width:100%;z-index:10001;");var o=document.createElement("div");o.setAttribute("style","position:relative;height:100%;width:100%;");var s=document.createElement("div");s.setAttribute("style","position:absolute;width:100%;top:50%;left:50%;transform:translateY(-50%)translateX(-50%);");var c=document.createElement("p");c.innerHTML="Report this ad as animated",c.setAttribute("style","font-size:14px;font-family:sans-serif;color:#444;margin-top:10px;margin-bottom:10px;"),s.appendChild(c);var d="bt-confirm-animated-ad",l="bt-cancel-animated-ad";Hn(s,"Confirm",d,Xn.bind({reportAnimatedAdPopup:a,unit:t,bid:n})),Hn(s,"Cancel",l,Un.bind(a)),o.appendChild(s),a.appendChild(o),a.addEventListener("click",(function(e){e.target.classList.contains(d)||e.target.classList.contains(l)||e.stopPropagation()}),!0),e.parentElement.appendChild(a)}}}(i,t,n)}),!0),i}(r,e,t);i.appendChild(o),e.adLabelElement=o}}}function Hn(e,t,n,i){var r=document.createElement("button");r.setAttribute("style","font-size:12px;font-family:sans-serif;cursor:pointer;margin-right:5px;margin-left:5px;"),r.classList.add(n),r.innerHTML=t,r.addEventListener("click",(function(e){e.stopPropagation(),i()}),!0),e.appendChild(r)}function Xn(){var e=this.reportAnimatedAdPopup,t=this.unit,n=this.bid;e.remove(),t.element.classList.add("up-hide"),t.element.classList.remove("up-show");var i=n.contentIdHash||n.creativeId;if(i){var r=document.querySelector('[src="'.concat(Cn.W,'"][style*="display: none !important;"]'));if(r){var a=n.contentIdHash?"contentIdHash":"creativeId";r.contentWindow.postMessage({message:"Set Blocklist Creative",creativeId:i},"https://".concat(Cn.I.staticDomain));var o={sendPercentage:100,sendToServer:!0,meta:{creativeId:i,idType:a},event:"Blocked animated creative"};Yn.infof(null,"Blocked animated creative with %o %o",[a,i],o)}}else{var s={sendPercentage:100,sendToServer:!0,meta:{SSP:n.bidder},event:"Blocked creative without id"};Yn.errorf(null,"Blocked creative without contentIdHash or creativeId from %o",[n.bidder],s)}}function Un(){this.remove()}var Pn=new m.Z({prefix:"commonBLUtils: "}),Wn=function(e){switch(e){case"ALL":return f.Z.consts.refreshType.ALL;case"VISIBLE":return f.Z.consts.refreshType.VISIBLE;case"HIDDEN":return f.Z.consts.refreshType.HIDDEN;default:return f.Z.consts.refreshType.UNKNOWN}};function Ln(e){return e&&e.selector?g.Z.commonUtils.getElementWithSelector(e.selector.value):null}function Fn(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var r=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),r<=f.Z.consts.acceptableStandardScreenSize.height}catch(e){Pn.errorf(null,"isFirstViewPortElement - error: %o",e)}}function Vn(e){var t={},n=e.bidderCode;return"relay"===n?(t.provider="bt_server",t.demandSource="bt",t.demandBidder=e.rawBid.btBidderCode):"s2s"===e.rawBid.source?(t.provider="bt_exchange",t.demandSource="bt",t.demandBidder=n):(t.provider=n,An(n)&&(t.demandSource="bt")),t}function Kn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="",n=(100*e).toString(),i=0;i<4-n.length;i++)t="0"+t;return t+n}function Gn(e){var t={auto:"pbAg",dense:"pbDg",low:"pbLg",medium:"pbMg",high:"pbHg",custom:"pbCg"};return e[t[f.Z.cpbjs.getConfig().priceGranularity]||t.high]}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qn=new m.Z({prefix:"auction: "}),$n=function e(t){var n=new g.Z.SubscriptionLayer;this.auctionId=_(8,9),this.unit=t.unit,this.state=e.States.UNOFFERED,this.creationTime=new Date,this.refreshTrigger=t.refreshTrigger,this.lastUpdate=this.creationTime,this.bids=[],this.gamResponses=[],this.iterations=[],this.subscribeForEvent=function(e,t){n.subscribeForEvent(e,t)},this.getWinningBid=function(){var e;return this.bids.forEach((function(t){e&&!(t.cpm>e.cpm)||t.status!==Rn.Status.LIVE||t.type!==Rn.Types.DEFAULT_CREATIVE&&t.complianceStatus!==f.Z.consts.complianceStatus.COMPLIANT||(e=t)})),e},this.hasAWinningBid=function(){return!!this.getWinningBid()},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}},this.addGAMResponse=function(e){e&&this.gamResponses.push(Qn(Qn({},e),{},{iterations:[this.getCurrentIteration()]}))};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var n=this.bids[t];n.complianceStatus===f.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.cancelAllCurrentBids=function(){this.bids.forEach((function(e){e.cancelBid()}))};function i(e){return new Promise((function(t,n){window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderWinningBid=function(){try{var t=this.getWinningBid();if(h.Y.fireEvent("trackClicksOnCreatives")&&"default-creative"!==(null==t?void 0:t.bidderCode)){var a=f.Z.SharedObject.getItem("websiteConfig"),o=a.organizationID,s=a.websiteID,c=this.unit.gamAdUnitPath.adUnit.split("/"),d=Qn(Qn({adUnitCode:c[c.length-1],auctionID:this.auctionId,bidderExternalID:t.bidderId,gamAdUnitPath:this.unit.gamAdUnitPath,orgID:o,pageURL:g.Z.commonUtils.topmostAccessibleWindow.location.href},Vn(t)),{},{size:"".concat(t.width,"x").concat(t.height),spaceExternalID:this.unit.space.id,spaceName:this.unit.space.name,websiteID:s}),l=f.Z.SharedObject.getItem("installedUserExtensions");l&&(d.extensions=l),f.Z.SharedObject.setItem("clickData",d);var u=f.Z.SharedObject.getItem("clickDataHB")||{};f.Z.SharedObject.setItem("clickDataHB",Qn(Qn({},u),{},(0,p.Z)({},this.unit.space.name,d)))}h.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=e.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,t);var m=!g.Z.commonUtils.isElementInBody(this.unit.element);if(!t||m)return this.unit.currentBid||((w=this.unit).element.classList.add("up-hide"),w.element.classList.remove("up-show")),t&&t.cancelBid(),void n.invokeEventCallbacks("renderBidDone",{bidWasSuccessfullyRendered:!1,adUnitElementIsMissing:m});this.unit.cleanup(),r(this.unit.element),function(e,t){e.element.classList.add("up-show"),e.element.classList.remove("up-hide")}(this.unit),this.unit.element._adData_=t,t.onRenderedEvent(function(){var e=this;!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,a=function(e){var t=e.sizes,n=0;return t.forEach((function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>a||r<120)&&(r=a),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,t,this.unit.space),jn(this.unit,t),function(e){return new Promise((function(t,n){try{if(h.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{var r=e.element;r.classList.contains("up-show")||r.classList.add("up-show"),Promise.all([i(r),i(r.parentElement),i(r.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((function(){!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){var t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};qn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(e.unit.element)})).catch((function(e){qn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),n.invokeEventCallbacks("auctionRendered",t),this.unit.rendered(t),f.Z.SharedObject.getItem("renderedUnits")||f.Z.SharedObject.setItem("renderedUnits",[]),f.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var v={placement:this.unit.element},b=t.additionalBidsToRender&&t.additionalBidsToRender.length>0&&t.additionalBidsToRender[0];b?(b.onRenderedEvent((function(){return t.renderBid(v)})),b.renderBid()):t.renderBid(v),n.invokeEventCallbacks("renderBidDone",{bidWasSuccessfullyRendered:!0,adUnitElementIsMissing:m})}catch(e){qn.errorf(null,"renderWinningBid err:%o",e)}var w},this.startIteration=function(e){var t=this.iterations.length+1;this.iterations.push({order:t,source:e})},this.getCurrentIteration=function(){var e=this.iterations.length;return this.iterations[e-1]};var r=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};function ei(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}$n.States={UNOFFERED:0,DISPATCHED:1,DONE:3},$n.IterationTypes={PREBID:"prebid",GAM:"gam",TAGLESS:"tagless"};var ni=function e(t){this.unitID=_(16,24),this.element=t.element,this.space=t.space,this.state=t.state||e.States.PENDING,this.gamAdUnitPath,this.currentBid,this.countOfDispatches=0,this.countOfDispatchesByRefresh={},this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,t=[],i=0;i<e.length;i++)t.push(n(e[i]));for(var r=0;r<t.length;r++)t[r]()},this.rendered=function(e){this.currentBid=e};var n=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};ni.States={PENDING:0,CHECKING:1,DISPATCHED:2};const ii={Auction:$n,Bid:Rn,Space:function(e){var t,n,i,r;this.id=e.id,this.name=e.name,this.templateSpaceName=e.templateSpaceName,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes;var a=h.Y.fireEvent("disableHeaderBidding");if(this.prebidSettings={enabled:null!==(t=(null===(n=e.prebidSettings)||void 0===n?void 0:n.enabled)&&!a)&&void 0!==t&&t,bidders:(null!==(i=null===(r=e.prebidSettings)||void 0===r?void 0:r.bidders)&&void 0!==i?i:[]).filter((function(e){return e.id&&e.name&&e.params})).map((function(e){return{name:e.name,id:e.id,params:e.params}}))},a||(Bn(this),zn(this),xn(this)),this.dfpSettings={enabled:!1},e.dfpSettings&&e.dfpSettings.enabled){this.dfpSettings={adxId:e.dfpSettings.adxId,directId:e.dfpSettings.directId,enabled:e.dfpSettings.enabled,order:[]};var o,s=ei(e.dfpSettings.order);try{for(s.s();!(o=s.n()).done;){var c=o.value;h.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:c})||this.dfpSettings.order.push({params:{keyValues:c.params.keyValues||{},queryParams:c.params.queryParams||{}},adx:{bidderID:c.adx.bidderID,testCompliance:c.adx.testCompliance},direct:{bidderID:c.direct.bidderID}})}}catch(e){s.e(e)}finally{s.f()}}},Unit:ni};function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oi=new m.Z({prefix:"report: "}),si=new function(){this.init=function(){var websiteConfig=f.Z.SharedObject.getItem("websiteConfig");h.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,n=t.eventName,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(n,i);return void window.dispatchEvent(r)}catch(e){var a=document.createEvent("CustomEvent");return a.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(a)}var o=document.createEvent("CustomEvent");o.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(o)})),h.Y.addEventListener("sendLog",(function(e){var t=e.data;Zn.sendLog(t).then((function(e){oi.infof(null,"sendLog - %o",e)}),(function(e){oi.errorf(null,"sendLog - %o",e)}))})),h.Y.addEventListener("onAuctionStarted",(function(e){var t,n,i=e.data.auction,r=i.auctionId,a=i.unit.space.id,o=i.unit.space.templateSpaceName||i.unit.space.name,s=i.unit.gamAdUnitPath,c=(null!==(t=null===(n=i.unit.space.prebidSettings)||void 0===n?void 0:n.bidders)&&void 0!==t?t:[]).map((function(e){return{bidderId:e.id,provider:e.name}}));Zn.reportAuctionStarted(r,a,o,s,c,websiteConfig.websiteID,websiteConfig.organizationID,i.unit.countOfDispatches-1,i.schainHash).then((function(e){oi.infof(null,"onAuctionStarted - %o",e)}),(function(e){oi.errorf(null,"onAuctionStarted - %o",e)}))})),h.Y.addEventListener("onAuctionEnded",(function(e){var t,n,i,r,a=e.data,o=a.auction,s=a.winningBid,c=a.adUnitElementIsMissing,d=o.bids,l=o.gamResponses,u=o.unit.space.templateSpaceName||o.unit.space.name,p=o.unit.gamAdUnitPath,g=o.unit.space.name,m=null===(t=f.Z.cpbjs)||void 0===t||null===(n=t.getConfig().floors)||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.values)||void 0===r?void 0:r.banner;try{if(websiteConfig.dfpEnabled)for(var v=window.googletag.pubads().getSlots(),b=0;b<v.length;b++){var w=v[b],y=w.getSlotElementId();if(document.getElementById(y)===o.unit.element){g=w.getAdUnitPath().split("/")[w.getAdUnitPath().split("/").length-1];break}}}catch(e){oi.errorf(null,"onAuctionEnded: %o",e)}var M={bids:[],iterations:o.iterations,adUnitElementIsMissing:c};d.forEach((function(e){var t,n={bid:{cpm:e.cpm,bidderCode:e.bidderCode,complianceStatus:e.complianceStatus}},i=h.Y.fireEvent("bidCpmAdjustment",n)||1,r=e.cpm/1e3*i,a=f.Z.upoSettings.prebidTimeout;e.type===ii.Bid.Types.PREBID&&(t="OK");var o=ai(ai({bidderExternalID:e.bidderId},Vn(e)),{},{amount:r,complianceStatus:e.complianceStatus,timeout:a,latency:e.timeToRespond,requestStatus:t,creativeID:e.contentIdHash,adSize:String(e.width)+"x"+String(e.height),adID:e.adId,currency:e.currency,gamIteration:e.gamIteration,iterations:e.iterations});if(e.additionalBidsToRender[0]&&(o.prebidTemplateType=e.additionalBidsToRender[0].prebidTemplateType,o.gamIteration=e.additionalBidsToRender[0].gamIteration),e.type===ii.Bid.Types.DEFAULT_CREATIVE)o.status="default_creative";else if(e===s)o.status="win";else switch(o.complianceStatus){case f.Z.consts.complianceStatus.COMPLIANT:case f.Z.consts.complianceStatus.INCOMPLIANT:o.status="bid";break;default:o.status="alien"}m&&(o.bidFloorCPM=m),M.bids.push(o)})),l.forEach((function(e){M.bids.push({status:e.type,gamIteration:e.gamIteration,iterations:e.iterations,bidFloorCPM:m})})),l.length>0&&(0,Dn.getTrueByProbability)(1)&&l.forEach((function(e){var t={sendToServer:!0,event:e.type,meta:ai({auctionId:o.auctionId,gamIteration:e.gamIteration},e.meta)};oi.infof(null,"Sending GAM response debug log [BTE-906]",e,t)})),Zn.reportAuctionEnd(o.auctionId,o.unit.space.id,u,websiteConfig.websiteID,websiteConfig.organizationID,M,g,p,websiteConfig.dfpEnabled,o.unit.countOfDispatches-1).then((function(e){oi.infof(null,"onAuctionEnded - %o",e)}),(function(e){oi.errorf(null,"onAuctionEnded - %o",e)}))})),h.Y.addEventListener("onAuctionRendered",(function(e){var t=e.data,n=t.auction,i=t.winningBid,r=n.unit.space.templateSpaceName||n.unit.space.name;if(i.type!==ii.Bid.Types.DEFAULT_CREATIVE){var a={bid:{cpm:i.cpm,bidderCode:i.bidderCode,complianceStatus:i.complianceStatus}},o=h.Y.fireEvent("bidCpmAdjustment",a)||1,s=i.cpm/1e3*o;Zn.reportRender(n.auctionId,i.bidderId,Vn(i),s,i.currency,n.unit.space.id,r,n.unit.gamAdUnitPath,websiteConfig.websiteID,websiteConfig.organizationID,websiteConfig.dfpEnabled,n.unit.countOfDispatches-1).then((function(e){oi.infof(null,"onAuctionRendered - %o",e)}),(function(e){oi.errorf(null,"onAuctionRendered - %o",e)}))}})),h.Y.addEventListener("onAdViewed",(function(e){var t=e.data,n=t.auction,i=t.winningBid,r=n.unit.space.templateSpaceName||n.unit.space.name;i.type!==ii.Bid.Types.DEFAULT_CREATIVE&&Zn.reportView(n.auctionId,i.bidderId,Vn(i),n.unit.space.id,r,n.unit.gamAdUnitPath,websiteConfig.websiteID,websiteConfig.organizationID,n.unit.countOfDispatches-1).then((function(e){oi.infof(null,"onAdViewed - %o",e)}),(function(e){oi.errorf(null,"onAdViewed - %o",e)}))}))},h.Y.addEventListener("consentData",(function(e){var t=e.data;Zn.consentData(t).then((function(e){oi.infof(null,"consentData - %o",e)}),(function(e){oi.errorf(null,"consentData - %o",e)}))}))},ci=new m.Z({prefix:"verifications: "});const di={Report:si,Verifications:new function(){this.run=function(){n(),e()};var e=function(){h.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=h.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var i=new Image;i.addEventListener("load",(function(){t.callback(!0)}),!1),i.addEventListener("error",(function(){t.callback(!1)}),!1),i.src=n}}))},t=!1,n=function(){h.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var n=e.data;n.contentRestriction&&n.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var n=0;n<e.length;n++)if(e[n].cpm>0&&"emx_digital"!==e[n].bidder&&"districtmDMX"!==e[n].bidder){t=!0,h.Y.fireEvent("disableStopFlag")||(Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag=!0);var i=f.Z.SharedObject.getItem("renderedUnits"),r={adBlockDetectionType:f.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!i||0==i.length},a={sendToServer:!0,event:"pbjsDetected",meta:r,sendPercentage:1};ci.noticef(null,"pub's pbjs was detected -> ",r,a)}if(e){var o={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""},s={sendToServer:!0,event:"pbjsBidReceived",meta:o};ci.noticef(null,"pub's pbjs bid was received -> ",o,s)}}))})))}))}}};var li=new m.Z({prefix:"moveElementPosition: "}),ui=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=i.filter((function(e){return t.indexOf(e)<0})))||i.length<=0)return;!function r(a,o){if(!(a>o)){for(var s=0;s<i.length;s++){for(var c=i[s],d=[],l=0;l<e.length;l++){var u=e[l];n(u,{space:c})&&(t.push(c),u.stayLive||d.push(u))}e=d.length>0?e.filter((function(e){return d.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){r(a+1,o)}),100)}}(0,20)}catch(e){li.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(g.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},fi=__webpack_require__(17),pi="chrome",hi="firefox",gi="edge",mi="opera",vi="highendphone",bi=function(){var e=navigator.userAgent;return/edge|edg/i.test(e)?gi:/opera/i.test(e)||/opr|opios/i.test(e)?mi:/chrome|chromium/i.test(e)?pi:/firefox|iceweasel|fxios/i.test(e)?hi:/msie|trident/i.test(e)?"ie":/^((?!chrome|android).)*safari/i.test(e)?"safari":/ucbrowser/i.test(e)?"uc":window.chrome?pi:"undefined"!=typeof InstallTrigger?hi:document.documentMode?"ie":window.StyleMedia?gi:"unknown"},wi=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?"windows":/ipod|iphone|ipad/i.test(e)?"ios":/android/i.test(e)?"android":/macintosh|mac os x/i.test(e)?"osx":/linux/i.test(e)?"linux":/windows phone/i.test(e)?"windowsphone":"unknown"},yi=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?"tablet":/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?vi:"pc"};function Mi(){return"function"==typeof window.bt_isMobileCustom?window.bt_isMobileCustom():/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function _i(){return Mi()?"mobile":"desktop"}var Ei=new m.Z({prefix:"whitelistingIFrame: "});var Di="BT_WHITELISTING_IFRAME_ACCESS";function Ti(){if("firefox"===bi())return Promise.resolve(Cn.W)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn.I.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidates,t=Ti();if(!t){var n=h.Y.fireEvent("customWhitelistingIFrameURL"),i=h.Y.fireEvent("keepBTDomainWhitelistingIFrame");t=n?Promise.resolve(n):i?Promise.resolve(null):Ni(e,0)}return t.then((function(e){Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL=e||Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL,Ei.infof(null,"Finished setupWhitelistingIFrameSettings: %o",Cn.I.whitelistingIFrameSettings)})),t}function Ni(e,t){var n=e[t];return n?new Promise((function(i){var r=n.src,a=n.acceptHTMLType,o=g.Z.addAcceptableParam(r),s=new window.XMLHttpRequest;s.open("GET",o),s.addEventListener("load",(function(n){try{if(!s.status.toString().startsWith("4")&&s.responseURL==="".concat(Dn.topmostAccessibleWindow.location.origin).concat(o)&&function(e){var t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;var n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((function(e){return e.startsWith("frame-ancestors")}))&&r.split(" ");return!(r&&!r.some((function(e){return e===Dn.topmostAccessibleWindow.location.origin})))}(s)&&(a||!(0,Dn.isFileHTML)(s)))return void function(e){try{var t=Dn.topmostAccessibleWindow.localStorage.getItem(Di);if((t=t&&JSON.parse(t))&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Ei.noticef(null,"whitelisting flawed cached value structure")}return new Promise((function(t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function i(){n.removeEventListener("load",i);var r=!1;n.contentDocument&&(r=!0),t(r);var a={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};Dn.topmostAccessibleWindow.localStorage.setItem(Di,JSON.stringify(a)),n.parentElement.removeChild(n)})),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(o).then((function(e){i(e?o:null)}));Ni(e,t+1).then((function(e){return i(e)}))}catch(n){Ni(e,t+1).then((function(e){return i(e)}))}})),s.addEventListener("error",(function(n){Ni(e,t+1).then((function(e){return i(e)}))})),s.send()})):Promise.resolve(null)}function Ai(e){var t=!!e,n=e||Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL,i=n===Cn.W,r=document.createElement("iframe");return r.addEventListener("load",(function e(){if(this.removeEventListener("load",e),i||t||this.contentDocument||(Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL=Cn.W,Dn.topmostAccessibleWindow.localStorage.removeItem(Di),this.src=Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL),n.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=Dn.topmostAccessibleWindow.location.protocol+e),e},i=function(e,t){if(e&&""===e.src&&e.outerHTML){var i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}},r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Ei.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var a=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Ei.errorf(null,"error in `window.open` hook: %o",e)}return a.apply(this,e)};var o=function(e){return function(){try{var t=Array.prototype.slice.call(arguments);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Ei.errorf(null,"error in `hookOnFunc`: %o",e)}return e.apply(this,t)}},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=o(s);var c=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=o(c);var d=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),l=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=l.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Ei.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return d.apply(this)}catch(e){Ei.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var u=fi.v.htmlElements,f=0;f<u.length;f++)t[u[f]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),a=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Ei.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return a.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Ei.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[u[f]])}(this)}catch(e){Ei.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}})),r.src=n,r}var ki=__webpack_require__(671),Bi=__webpack_require__(144),xi=__webpack_require__(817),zi=new m.Z({prefix:"safeFrameInjection: "}),Ii=function(){function e(){(0,ki.Z)(this,e)}return(0,Bi.Z)(e,[{key:"inject",value:function(){try{!function(e,t,n,i){var r={},a=Object.getOwnPropertyDescriptor(e,t);if(!a||"function"!=typeof a[i])return;for(var o=Object.keys(a),s=o.length,c=0;c<s;++c)r[o[c]]=a[o[c]];if(r[i]=n(a[i]),"value"===i){var d,l=r[i],u=a[i];try{d=u.prototype}catch(e){d=void 0}Object.defineProperty(l,"prototype",{value:d})}Object.defineProperty(e,t,r)}(Node.prototype,"appendChild",Ci,"value")}catch(e){zi.errorf(null,"error injecting to safeFrame",e)}}}]),e}(),Oi=function(){function e(){(0,ki.Z)(this,e)}return(0,Bi.Z)(e,[{key:"filterMetaContentForCSP",value:function(e){var t=!1;return e=e.replace(/script-src\s/,(function(e){return t=!0,"".concat(e,"'nonce-").concat(ji,"' ")})),t||(e=e.replace(/default-src\s([^;"]*)/,(function(e,n){return t=!0,"".concat(e,"; script-src 'nonce-").concat(ji,"' ").concat(n)}))),e}},{key:"inspectContent",value:function(e,t){return e&&t&&"content-security-policy"===t.toLowerCase()?this.filterMetaContentForCSP(e):e}},{key:"inspectElem",value:function(e){e.content&&e.httpEquiv&&(e.content=this.inspectContent(e.content,e.httpEquiv))}}]),e}(),Zi=function(){function e(){(0,ki.Z)(this,e)}return(0,Bi.Z)(e,[{key:"inspect",value:function(e){for(var t=e.ownerDocument.createTreeWalker(e,1,null),n=t.currentNode;n;n=t.nextNode())n.nodeType===Node.ELEMENT_NODE&&"META"===n.tagName&&Hi.inspectElem(n)}}]),e}(),Ri=function(){function e(){(0,ki.Z)(this,e)}return(0,Bi.Z)(e,[{key:"inspect",value:function(e){var t=e.getAttribute("name")||"";t&&e.setAttribute("name",this.inspectName(t))}},{key:"inspectName",value:function(e){var t=e.indexOf(";"),n=e.indexOf(";",t+1);if(n>t&&t>-1&&n>-1){var i=e.substring(0,t);if(!/1-\d+-\d+/.test(i))return e;var r=parseInt(e.substring(t+1,n),10);if(r){var a=e.substring(n+1,n+1+r),o=e.substring(n+1+r);if("<"===a[0]&&"{"===o[0])try{var s=this.maybeUpdateNameContent(a);return"".concat(e.substring(0,t),";").concat(s.length,";").concat(s).concat(o)}catch(e){zi.errorf(null,"error checking content - HTML should start with '<', and JSON should start with '{'",e)}}}return e}},{key:"maybeUpdateNameContent",value:function(e){var t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML="<!doctype html>"+e,Xi.inspect(t.documentElement),this.maybeInjectScript(t),"<!doctype html>"+t.documentElement.outerHTML}},{key:"maybeInjectScript",value:function(e){var t=e.documentElement;if(null!=t&&t.querySelectorAll)for(var n=t.querySelectorAll('meta[http-equiv="Content-Security-Policy"]'),i=0;i<n.length;++i){var r=n[i].content;if(r&&(-1!==r.indexOf("script-src")||-1!==r.indexOf("default-src"))&&-1===r.indexOf("'nonce-".concat(ji,"'")))return void zi.errorf(null,"error injecting script to safeFrame due to Content Security Policy")}var a=e.head||e.body;if(a){var o=document.createElement("script");o.setAttribute("nonce",ji);var s=f.Z.SharedObject.getItem("websiteConfig").apiDomain,c=f.Z.SharedObject.getItem("clickData"),d=(0,xi.makeURL)("https://".concat(s,"/c"));if(o.text="\n        function debounce(func, timeout = 500) {\n          var timer;\n          return function () {\n            var context = this;\n            var args = arguments;\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n              timer = null;\n              func.apply(context, args);\n            }, timeout);\n          };\n        }\n        function isAdxRedirectURL(url) {\n          return (\n            url &&\n            (url.indexOf('googleadservices.com/pagead/aclk') > -1 ||\n              url.indexOf('googleads.g.doubleclick.net/aclk') > -1 ||\n              url.indexOf('adclick.g.doubleclick.net/aclk') > -1)\n          );\n        }\n  \n        var onLoad = function (event) {\n          this.removeEventListener('load', onLoad);\n          var aTags = event.target.getElementsByTagName('a') || [];\n          for (var i = 0; i < aTags.length; i++) {\n            (function () {\n              var aTag = aTags[i];\n              var redirectURL = aTag.getAttribute('href');\n              if (isAdxRedirectURL(redirectURL)) {\n                var debouncedRedirect = debounce(function () {\n                  window.open(redirectURL);\n                });\n                aTag.addEventListener('click', function(event) {\n                  event.preventDefault();\n                  debouncedRedirect();\n                }, true);\n              }\n            })();  \n          }\n        };\n        this.addEventListener('load', onLoad);\n        \n        var debouncedClickHandler = debounce(function (event) {\n          var body = ".concat(JSON.stringify(c),";\n          if (body) {\n            body.timestamp = (new Date()).toISOString();\n            body.clickData = {\n              altKey: event.altKey,\n              button: event.button,\n              ctrlKey: event.ctrlKey,\n              offsetX: event.offsetX,\n              offsetY: event.offsetY,\n              movementX: event.movementX,\n              movementY: event.movementY,\n              shiftKey: event.shiftKey\n            };\n            window.navigator.sendBeacon('").concat(d,"', new Blob([JSON.stringify(body)]));\n          }\n        });\n        \n        this.addEventListener('click', function(event) {\n          if (event.offsetX < 30 && event.offsetY < 30) {\n            var isClickOnGoogleAdChoicesLogo = !!event.target.closest('#abgc');\n            if (!isClickOnGoogleAdChoicesLogo) {\n              event.stopPropagation();\n              event.preventDefault();\n              return;\n            }\n          }\n          debouncedClickHandler(event);\n        }, true);\n      "),a.appendChild(o),h.Y.fireEvent("enableAntiMaliciousAdvertising")){var l=document.createElement("script");l.src="//d19gyzcwfgfev2.cloudfront.net/script.js",l.type="text/javascript",a.appendChild(l)}}}}]),e}();function Ci(e){return function(t){try{(function(e){try{return Yi(e)&&document.documentElement&&document.documentElement.contains(e)}catch(e){return!1}})(this)&&Yi(t)&&"IFRAME"===t.tagName&&Ui.inspect(t)}catch(e){zi.errorf(null,"error hooking AppendChild method",e)}return e.call(this,t)}}function Yi(e){return e&&e.nodeType===Node.ELEMENT_NODE}var ji=window.btoa&&window.btoa(Math.random().toString(36).substring(2,11)),Hi=new Oi,Xi=new Zi,Ui=new Ri,Pi=new Ii,Wi=Dn.topmostAccessibleWindow.localStorage.getItem("btUserCountry");function Li(){Wi||(Wi=function(){if(window.Intl){var e=window.Intl.DateTimeFormat().resolvedOptions().timeZone;return fi.p[e]}}(),fetch("https://api.btloader.com/country").then((function(e){return e.json()})).then((function(e){return e.country})).then((function(e){Wi=e,Dn.topmostAccessibleWindow.localStorage.setItem("btUserCountry",e)})))}function Fi(){return Wi}const Vi={btDemandService:e,commonBLUtils:t,movePositionService:ui,whitelistingIFrame:n,safeFrameInjection:Pi,userCountry:i};function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e){var t=Mi();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function $i(e){var t=e.string,n=e.condition,i=e.candidates,r=void 0===i?[]:i;if(1===r.length)switch(n){case"equals":case"equalsOneOf":return t===r[0];case"startsWith":case"endsWith":case"includes":return t[n](r[0]);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var a=n.split("OneOf")[0];return t[a](r[0])}else if(r.length>1)switch(n){case"equalsOneOf":return r.includes(t);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var o=n.split("OneOf")[0];return r.some((function(e){return t[o](e)}))}}function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nr={hookName:"prebidDoneInit",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;return e.websiteOverridesOrg?r:tr(tr({},n),r)},handler:function(e,t){var n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}},ir={hookName:"priceFloor",handler:function(e,t){var n,i,r=e.currency,a=void 0===r?"USD":r,o=e.priceFloor,s=e.countries,c=e.hours,d=Vi.userCountry.getUserCountry(),l=(new Date).getHours(),u=null!==(n=null!==(i=null==c?void 0:c[l])&&void 0!==i?i:null==s?void 0:s[d])&&void 0!==n?n:o,f=t.data.cpbjs;u&&f.que.push((function(){f.setConfig({floors:{enforcement:{floorDeals:!0},data:{currency:a,schema:{fields:["mediaType"]},values:{banner:u}}}})}))}};const rr={addBTDemand:{hookName:"addBTDemand",handler:function(e,t){var n,i=e.btDemandConfig,r=void 0===i?{}:i;return Gi(Gi({},(null===(n=t.hookFileData)||void 0===n?void 0:n.btDemandConfig)||{}),r)}},enableAmazon:{hookName:"amazonBidderConfiguration",handler:function(e){var t=e.amazonConfig,n=void 0===t?{}:t,i=e.pubID,r=e.keepHbPb,a=void 0!==r&&r,o=n.amazonCPMCurrency,s=void 0===o?"USD":o,c=n.amazonCPMChart;return window.upo_amzn={amazonCPMCurrency:s,amazonCPMChart:c},{pubID:i,keepHbPb:a}}},enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:function(e){return e}},enableRelay:{hookName:"enableRelayAdapter",handler:function(e){var t=e.relayConfig,n=void 0===t?{}:t,i=e.sid;return{relayBidderParams:Qi({},n),sid:i}}},enableSnigel:{hookName:"snigelAdapterConfiguration",handler:function(e,t){var n,i=e.snigelConfig,r=void 0===i?{}:i,a=e.websiteStoredRequestId,o=e.useRosTag,s=e.rosTag,c=void 0===s?"":s,d=(null==t||null===(n=t.data)||void 0===n?void 0:n.spaceName)||"";return{websiteStoredRequestId:a,adUnitStoredRequestId:o?c:r[d]}}},hideDOMElementsViaCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(u(n),u(r))},handler:function(e){var t=[];if(e.forEach((function(e){var n=e.whenDevice,i=e.selectors;qi(n)&&t.push.apply(t,u(i))})),t.length>0){var n=document.createElement("style");n.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(n)}}},insertCustomCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(u(n),u(r))},handler:function(e){var t="";if(e.forEach((function(e){var n=e.whenDevice,i=e.customCSS,r=void 0===i?"":i;qi(n)&&(t="".concat(t,"\n").concat(r))})),""!==t){var n=document.createElement("style");n.textContent=t,(document.head||document.body||document.documentElement).appendChild(n)}}},prebidConfig:nr,prebidTimeout:{hookName:"prebidTimeout",handler:function(e){return e}},priceFloor:ir,refreshOnReturnToPage:{hookName:"refreshOnReturnToPage",handler:function(e){return e}},removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i,a=e.websiteOverridesOrg,o=n.forAllSpaces,s=void 0===o?[]:o,c=n.forSpaces,d=void 0===c?[]:c,l=r.forAllSpaces,f=void 0===l?[]:l,p=r.forSpaces,h=void 0===p?[]:p;return{forAllSpaces:a?f:[].concat(u(s),u(f)),forSpaces:a?h:[].concat(u(d),u(h))}},handler:function(e,t){var n=e.forAllSpaces,i=e.forSpaces,r=t.data.spaceName,a=t.hookFileData||[],o=new Set(a);return n.forEach((function(e){var t=e.whenDevice,n=e.sizes,i=void 0===n?[]:n;qi(t)&&i.forEach((function(e){o.add(e)}))})),i.forEach((function(e){var t=e.name,n=e.nameList,i=e.whenName,a=e.whenDevice,s=e.sizes,c=void 0===s?[]:s;qi(a)&&$i({string:r,condition:i,candidates:t?[t]:n})&&c.forEach((function(e){o.add(e)}))})),u(o).map((function(e){if("fluid"===e)return"fluid";var t,n;if("string"==typeof e){var i=c(e.split("x").map((function(e){return parseInt(e,10)})),2);t=i[0],n=i[1]}else"object"===(0,d.Z)(e)&&(t=e.width,n=e.height);return isNaN(t)||isNaN(n)?null:{width:t,height:n}})).filter((function(e){return null!==e}))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:function(e,t){var n,i=e.rewritePathMethod,r=e.rewritePathData;if("insertBTAdUnit"===i){var a=r||{},o=a.btUnitName,s=a.insertionDepth,c=a.maxDepth;s&&(n=function(e){var t=e.getAdUnitPath();"/"!==t[0]&&(t="/".concat(t));var n=o||"Blockthrough",i=t.split("/");return i.splice(s,0,n),c&&c>0&&(i=i.slice(0,c+1)),i.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGoogletagSlots:{hookName:"scrapeGoogletagSlots",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var a={},o=(n.filterOut||{}).slots,s=(r.filterOut||{}).slots;return(o||s)&&(a.filterOut={},a.filterOut.slots=o&&s?[].concat(u(o),u(s)):o||s),a},handler:function(e,t){var n,i=e.dontScrape,r=e.filterOut,a=t.data&&t.data.slot,o=null===(n=t.hookFileData)||void 0===n?void 0:n.scrapeGoogletagSlot,s=!0;if(i||!a||o&&!o(a))s=!1;else{var c=r&&r.slots;if(c&&c.length>0)s=!c.some((function(e){var t=e.divId,n=e.divIdList,i=e.whenDivId;return qi(e.whenDevice)&&$i({string:a.getSlotElementId(),condition:i,candidates:t?[t]:n})}))}return s}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var a={};a.adUnitsVar=n.adUnitsVar||r.adUnitsVar;var o=(n.parse||{}).removeBidders,s=(r.parse||{}).removeBidders;(o||s)&&(a.parse={},a.parse.removeBidders=o&&s?{forAllAdUnits:[].concat(u(o.forAllAdUnits||[]),u(s.forAllAdUnits||[])),forAdUnits:[].concat(u(o.forAdUnits||[]),u(s.forAdUnits||[]))}:o||s);var c=(n.filterOut||{}).adUnits,d=(r.filterOut||{}).adUnits;return(c||d)&&(a.filterOut={},a.filterOut.adUnits=c&&d?[].concat(u(c),u(d)):c||d),a},handler:function(e,t){var n,i,r=e.dontScrape,a=e.adUnitsVar,o=e.parse,s=e.filterOut;if(r)n=!1;else{if(n=t.hookFileData||{},a&&(n.getAdUnits=function(){return g.Z.commonUtils.extractVariableFromString(window,a)}),o){var c=o.removeBidders?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forAllAdUnits,n=void 0===t?[]:t,i=e.forAdUnits,r=void 0===i?[]:i;if(n.length>0||r.length>0)return function(e){var t=[];return n.forEach((function(e){var n=e.whenDevice,i=e.bidders,r=void 0===i?[]:i;qi(n)&&t.push.apply(t,r)})),r.forEach((function(n){var i=n.code,r=n.codeList,a=n.whenCode,o=n.whenDevice,s=n.bidders,c=void 0===s?[]:s,d=i?[i]:r;qi(o)&&$i({string:e.code,condition:a,candidates:d})&&t.push.apply(t,c)})),e.bids=e.bids.filter((function(e){var n=e.bidder;return!t.includes(n)})),e}}(o.removeBidders):null,d=n.parseAdUnit;c&&(n.parseAdUnit=d?function(e){return c(d(e))}:c)}if(s){var l=s.adUnits?(i=s.adUnits,function(e){return i.some((function(t){var n=t.code,i=t.codeList,r=t.whenCode;return qi(t.whenDevice)&&$i({string:e.code,condition:r,candidates:n?[n]:i})}))}):null,u=n.filterOutAdUnit;l&&(n.filterOutAdUnit=u?function(e){return u(e)||l(e)}:l)}}return n}}};var ar=new m.Z({prefix:"scriptsettings: "}),or=rr,sr={"enableAmazon":{"_enabled":true,"value":{"amazonConfig":{"amazonCPMChart":{"10842yo":3.1728,"10alzb4":10.1447,"10i3ocg":1.4298,"10s39q8":1.8655,"10x32f4":3.6085,"1122v40":0.1226,"11c2ghs":2.737,"11m21vk":0.994,"11ojy80":7.9659,"11w1n9c":2.5191,"12618n4":0.7762,"12b11c0":6.8766,"12g0u0w":3.3906,"12q0feo":1.6477,"13000sg":2.0834,"132hx4w":9.0553,"134zthc":3.8264,"139zm68":0.3404,"13jz7k0":2.9549,"13oz08w":4.6979,"13tysxs":1.2119,"143yebk":2.1923,"148y70g":3.9353,"14dxzpc":0.4494,"14gfw1s":7.4213,"14nxl34":3.0638,"14xx6gw":1.3208,"152wz5s":5.2425,"157wruo":1.7566,"15cwkjk":3.4996,"15hwd8g":0.0136,"15rvym8":2.6281,"15uduyo":9.6,"161vk00":0.8851,"16bv5ds":2.4102,"16guy2o":4.1532,"16luqrk":0.6672,"16vuc5c":3.2817,"175txj4":1.5387,"178btvk":8.5106,"17ftiww":1.9745,"17ktbls":3.7174,"17nb7y8":10.6893,"17pt4ao":0.2315,"17uswzk":6.3319,"17zspog":2.846,"189sb28":1.103,"18jrwg0":2.3557,"18m9ssg":9.3276,"18trhts":0.6128,"193r37k":3.2272,"198qvwg":4.9702,"19dqolc":1.4843,"19j8qo":1.8519,"19nq9z4":1.92,"19sq2o0":3.663,"19xpvcw":0.177,"1a07rpc":7.1489,"1a7pgqo":2.7915,"1ahp24g":1.0485,"1amoutc":6.0596,"1aroni8":2.5736,"1b1o8w0":0.8306,"1bbnu9s":3.4451,"1be5qm8":10.417,"1blnfnk":1.7021,"1bvn11c":2.1379,"1c0mtq8":3.8808,"1c5mmf4":0.3949,"1cfm7sw":3.0094,"1cplt6o":1.2664,"1cs3pj4":8.2383,"1czlekg":2.2468,"1d4l79c":3.9898,"1d9kzy8":0.5038,"1deksn4":6.6042,"1djklc0":3.1183,"1dtk6ps":1.3753,"1e3js3k":1.8111,"1e61og0":8.783,"1e8jksg":3.554,"1edjdhc":0.0681,"1ej1fk":3.5949,"1eniyv4":2.6825,"1esirk0":4.4255,"1exik8w":0.9396,"1f7i5mo":2.4647,"1fhhr0g":0.7217,"1fjzncw":7.6936,"1frhce8":3.3362,"1g1gxs0":1.5932,"1g6gqgw":5.5149,"1gbgj5s":2.0289,"1gggbuo":3.7719,"1glg4jk":0.286,"1gvfpxc":2.9004,"1gxxm9s":9.8723,"1h5fbb4":1.1574,"1hfewow":2.3285,"1hkepds":4.0715,"1hpei2o":0.5855,"1hrwef4":7.5574,"1hze3gg":3.2,"1i9dou8":1.457,"1i9vy8":24.5106,"1iedhj4":5.3787,"1ijda80":1.8928,"1iod2ww":3.6357,"1itcvls":0.1498,"1j3cgzk":2.7643,"1j5udc0":9.7362,"1jdc2dc":1.0213,"1jiu4g":0.1089,"1jnbnr4":2.5464,"1jsbgg0":4.2894,"1jxb94w":0.8034,"1k7auio":3.4179,"1khafwg":1.6749,"1kjsc8w":8.6468,"1kra1a8":2.1106,"1kw9tz4":3.8536,"1kyrqbk":10.8255,"1l19mo0":0.3677,"1l69fcw":6.4681,"1lb981s":2.9821,"1ll8tfk":1.2391,"1lv8etc":2.2196,"1lxqb5s":9.1915,"1m087i8":3.9625,"1m0qgw":7.0808,"1m58074":0.4766,"1mf7lkw":3.0911,"1mk7e9s":4.834,"1mp76yo":1.3481,"1mz6scg":1.7838,"1n46l1c":3.5268,"1n96dq8":0.0409,"1nboa2o":7.0128,"1nj5z40":2.6553,"1nt5khs":0.9123,"1ny5d6o":5.9234,"1o355vk":2.4374,"1od4r9c":0.6945,"1on4cn4":3.3089,"1opm8zk":10.2808,"1ox3y0w":1.566,"1p73jeo":2.0017,"1pc3c3k":3.7447,"1ph34sg":0.2587,"1pr2q68":2.8732,"1q12bk0":1.1302,"1q3k7wg":8.1021,"1qb1wxs":2.383,"1ql1ibk":0.64,"1qq1b0g":6.7404,"1qv13pc":3.2545,"1r50p34":1.5115,"1rf0agw":1.9472,"1rhi6tc":8.9191,"1rk035s":3.6902,"1rozvuo":0.2043,"1ryzh8g":2.8187,"1s3z9xc":4.5617,"1s8z2m8":1.0757,"1siyo00":2.6008,"1ssy9ds":0.8579,"1svg5q8":7.8298,"1t2xurk":3.4723,"1tcxg5c":1.7294,"1thx8u8":5.6511,"1tifi8":2.7234,"1tmx1j4":2.1651,"1trwu80":3.9081,"1twwmww":0.4221,"1u6w8ao":3.0366,"1u9e4n4":10.0085,"1ugvtog":1.2936,"1uqvf28":2.274,"1uvv7r4":4.017,"1v0v0g0":0.5311,"1vaults":3.1455,"1vku77k":1.4026,"1vnc3k0":8.3745,"1vutslc":1.8383,"1vztla8":3.5813,"1w2bhmo":10.5532,"1w4tdz4":0.0953,"1w9t6o0":6.1957,"1weszcw":2.7098,"1woskqo":0.9668,"1wys64g":2.4919,"1x1a2gw":9.4638,"1x8rri8":0.7489,"1xircw0":3.3634,"1xnr5kw":5.1064,"1xsqy9s":1.6204,"1y2qjnk":2.0562,"1y7qccg":3.7991,"1ycq51c":0.3132,"1yf81ds":7.2851,"1ympqf4":2.9277,"1ywpbsw":1.1847,"20dngg":46.2978,"23i0w0":0.9804,"28htkw":5.9915,"2bm70g":40.851,"2dhm9s":2.5055,"2nh7nk":0.7626,"2xgt1c":3.377,"2zypds":10.3489,"33pjwg":19.0638,"37gef4":1.634,"3hfzsw":2.0698,"3i2gw0":29.9574,"3mfshs":3.8128,"3rfl6o":0.3268,"41f6kg":2.9413,"4bery8":1.1983,"4dwoao":8.1702,"4ledc0":2.1787,"4qe60w":3.9217,"4sw2dc":10.8936,"4vdyps":0.4357,"50dreo":6.5362,"55dk3k":3.0502,"5aztvk":32.6808,"5fd5hc":1.3072,"5kv7k":2.2877,"5pcqv4":1.743,"5r864g":43.5744,"5run7k":8.7149,"5ucjk0":3.486,"69bxmo":2.6145,"6ebqbk":4.3574,"6jbj0g":0.8715,"6n2dj4":21.7872,"6tb4e8":2.3966,"6uk2kg":16.3404,"73aps0":0.6536,"75sm4g":7.6255,"7dab5s":3.2681,"7geolc":38.1276,"7n9wjk":1.5251,"7s9p8g":5.4468,"7x9hxc":1.9608,"829am8":3.7038,"82rk0":9.2596,"8793b4":0.2179,"8fzqio":27.234,"8h8oow":2.8323,"8jql1c":9.8042,"8r8a2o":1.0894,"8y3i0w":47.6595,"917vgg":2.3421,"967o5c":4.0851,"9b7gu8":0.5991,"9l7280":3.2136,"9txpfk":25.8723,"9v6nls":1.4706,"9xojy8":8.4425,"a568zk":1.9064,"a8amf4":36.7659,"aa61og":3.6494,"acny0w":10.6213,"af5udc":0.1634,"ak5n28":6.2638,"aknwg":4.0306,"ap5fr4":2.7779,"az514w":1.0349,"b0dzb4":14.9787,"b94mio":2.56,"bbmiv4":9.5319,"bj47wg":0.817,"bt3ta8":3.4315,"btqadc":31.3191,"by3lz4":5.1745,"c33eo0":1.6885,"cd301s":2.1243,"ci2sqo":3.8672,"cn2lfk":0.3813,"coy0ow":42.2127,"cpkhs0":7.3532,"ctbcao":20.4255,"cx26tc":2.9957,"d71s74":1.2528,"dc1kw0":5.7191,"dh1dkw":2.2332,"dks83k":23.1489,"dm169s":3.9762,"dr0yyo":0.4902,"e10kcg":3.1047,"e2vzls":44.9361,"e3igow":10.0766,"eb05q8":1.3617,"eihurk":12.2553,"ekzr40":1.7974,"epzjsw":3.5404,"euzchs":0.0545,"f0lm9s":34.0425,"f4yxvk":2.6689,"feyj9c":0.926,"fhgfls":7.8979,"fkglc":0.5447,"foy4n4":2.4511,"fyxq0w":0.7081,"fzk740":28.5957,"g3xips":6.8085,"g8xbeo":3.3225,"giwwsg":1.5796,"gswi68":2.0153,"gveeio":8.9872,"gxwav4":3.7583,"gz591c":17.7021,"h2w3k0":0.2723,"hcvoxs":2.8868,"hhvhmo":4.6298,"hkzv28":39.4893,"hmvabk":1.1438,"ht416o":19.7447,"hwuvpc":2.3149,"i1uoe8":4.0579,"i6uh34":0.5719,"ibu9s0":6.6723,"igu2gw":3.1864,"iou0w":35.4042,"iqtnuo":1.4434,"j0t98g":1.8791,"j3b5kw":8.851,"j5t1xc":3.6221,"jasum8":0.1362,"jksg00":2.7506,"jps8ow":4.4936,"jus1ds":1.0077,"k4rmrk":2.5328,"kdi9z4":25.1914,"ker85c":0.7898,"kh94hs":7.7617,"koqtj4":3.4042,"kyqeww":1.6613,"l3q7ls":5.583,"l8q0ao":2.097,"ldpszk":3.84,"liplog":0.354,"ljyjuo":14.2978,"lsp728":2.9685,"lv73eo":9.9404,"m2osg0":1.2255,"mcodts":2.206,"mho6io":3.9489,"mmnz7k":0.463,"mwnklc":3.0774,"mxwirk":17.0212,"n25mo":13.617,"n6n5z4":1.3345,"n952bk":8.3064,"ngmrcw":1.7702,"nlmk1s":3.5132,"no4ge8":10.4851,"nqmcqo":0.0272,"nvm5fk":6.1276,"o0ly4g":2.6417,"oalji8":0.8987,"okl4w0":2.4238,"on318g":9.3957,"oukq9s":0.6808,"p4kbnk":3.2953,"p9k4cg":5.0383,"pejx1c":1.5523,"piark0":22.468,"pk1z4":3.1591,"pojif4":1.9881,"ptjb40":3.7311,"pyj3sw":0.2451,"q1105c":7.217,"q8ip6o":2.8596,"qg0e80":11.5744,"qiiakg":1.1166,"qni39c":5.8553,"qshvy8":2.3694,"r2hhc0":0.6264,"rch2ps":3.2408,"reyz28":10.2127,"rmgo3k":1.4979,"rwg9hc":1.9336,"s1g268":3.6766,"s6fuv4":0.1906,"sa6pds":21.1063,"sgfg8w":2.8051,"sqf1mo":1.0621,"sswxz4":8.034,"t0en0g":2.5872,"tae8e8":0.8443,"tfe134":6.9447,"tkdts0":3.4587,"tudf5s":1.7157,"tvmdc0":15.6595,"u342dc":26.5531,"u4d0jk":2.1515,"u6uww0":9.1234,"u9ct8g":3.8945,"ueclxc":0.4085,"ujuo0":4.9021,"uoc7b4":3.023,"utc000":4.766,"uybsow":1.28,"v8be2o":2.2604,"vdb6rk":4.0034,"viazgg":0.5174,"vksvsw":7.4893,"vsaku8":3.1319,"w2a680":1.3889,"w79yww":5.3106,"wc9rls":1.8247,"wh9kao":3.5677,"wm9czk":0.0817,"ww8ydc":2.6962,"wyqups":9.6681,"x2hp8g":18.3829,"x68jr4":0.9532,"xdq8sg":12.9361,"xg854w":2.4783,"xl7xts":4.2213,"xq7qio":0.7353,"y07bwg":3.3498,"ya6xa8":1.6068,"ycotmo":8.5787,"yk6io0":2.0425,"yp6bcw":3.7855,"yro7pc":10.7574,"yu641s":0.2996,"yz5wqo":6.4,"z45pfk":2.914,"z7wjy8":23.8297,"ze5atc":1.1711,"zj53i8":5.7872,"zjncw":1.4162,"zo4w74":2.3013,"zt4ow0":4.0442,"zy4hkw":0.5583}},"pubID":"26c60b4f-549a-4efd-8ae0-f00e07c46204"}},"prebidConfig__org":{"_enabled":true,"value":{"currency":{"adServerCurrency":"GBP","granularityMultiplier":1},"priceGranularity":"high"}},"refreshOnReturnToPage":{"_enabled":true,"value":{"unitVisibility":"VISIBLE"}},"removeSizes__org":{"_enabled":true,"value":{"forAllSpaces":[{"sizes":["3x1","1x1","fluid"],"whenDevice":"any"}],"forSpaces":[{"name":"nn_skin","sizes":["1570x970"],"whenDevice":"any","whenName":"equals"},{"name":"nn_skinl","sizes":["301x970"],"whenDevice":"any","whenName":"equals"},{"name":"nn_skinr","sizes":["300x970"],"whenDevice":"any","whenName":"equals"}]}},"scrapePrebid__org":{"_enabled":true,"value":{"filterOut":{"adUnits":[{"codeList":["nn_mobile_lb2","nn_player","nn_lb_sticky","nn_skinr","flow_ad_","nn_1by1","nn_lb2"],"whenCode":"equalsOneOf","whenDevice":"any"}]},"parse":{"removeBidders":{"forAdUnits":[{"bidders":["triplelift"],"codeList":["nn_lb","nn_lb1"],"whenCode":"equalsOneOf","whenDevice":"any"}],"forAllAdUnits":[{"bidders":["cpmstar","synacormedia"],"whenDevice":"any"}]}}}}},cr=Object.entries(sr).reduce((function(e,t){var n=c(t,2),i=n[0],r=n[1];if(r._enabled)if(i.endsWith("__org")){var a=i.split("__org")[0];e[a]=e[a]||{},e[a].org=r.value}else if(i.endsWith("__website")){var o=i.split("__website")[0];e[o]=e[o]||{},e[o].websiteOverridesOrg=!!r._overrides_org,e[o].website=r.value}else e[i]=r.value;return e}),{});var dr={rawSettings:sr,parsed:cr},lr=new m.Z({prefix:"domutils.location"});var ur=new m.Z({prefix:"domutils.pageVisibility"});function fr(){try{var e,t=g.Z.commonUtils.debounce((function(t){if("document.hidden"===t&&e)e=!1,window.dispatchEvent(new Event("onUserLeftPage"));else if("focus"===t){if(void 0===e)return void(e=!0);e||(e=!0,dispatchEvent(new Event("onUserReturnedToPage")))}}),420);document.addEventListener("visibilitychange",(function(){document.hidden&&t("document.hidden")})),n=function(){t("focus")},window.addEventListener("focus",(function(e){n()}))}catch(e){ur.errorf(null,"setupPageVisibilityChangeEvents - error: %o",e)}var n}function pr(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}}function hr(e){window.addEventListener("scroll",(function(t){e()}))}var gr=new m.Z({prefix:"Hooks: "}),mr=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,i,r,a){var o=t[n];o&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag)return o.apply(this,t);if(i)try{var n=h.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}var s=o.apply(this,t);if(r)try{h.Y.fireEvent(r,s,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return s})},this.hookPropertySetter=function(t,n,i,r,a){var o=t.__lookupGetter__(n),s=t.__lookupSetter__(n);o&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag)return s.apply(this,t);if(i)try{var n=h.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}var o=s.apply(this,t);if(r)try{h.Y.fireEvent(r,o,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return o})),t.__defineGetter__(n,(function(){try{return o.apply(this)}catch(e){gr.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){h.Y.addEventListener(e,t)}},vr=new m.Z({prefix:"testCompliance: "}),br=new function(){this.init=function(){h.Y.addEventListener("onAuctionGroupStarted",(function(e){vr.infof(null,"onAuctionGroupStarted: %o",e)})),h.Y.addEventListener("onAuctionGroupEnded",(function(e){vr.infof(null,"onAuctionGroupEnded: %o",e)})),h.Y.addEventListener("onAuctionStarted",(function(e){vr.infof(null,"onAuctionStarted: %o",e)})),h.Y.addEventListener("onAuctionEnded",(function(e){vr.infof(null,"onAuctionEnded: %o",e)})),h.Y.addEventListener("onPrebiddingStarted",(function(e){vr.infof(null,"onPrebiddingStarted: %o",e)})),h.Y.addEventListener("onPrebiddingEnded",(function(e){vr.infof(null,"onPrebiddingEnded: %o",e)})),h.Y.addEventListener("onPostbiddingStarted",(function(e){vr.infof(null,"onPostbiddingStarted: %o",e)})),h.Y.addEventListener("onPostbiddingEnded",(function(e){vr.infof(null,"onPostbiddingEnded: %o",e)})),h.Y.addEventListener("onAuctionBidResponse",(function(e){vr.infof(null,"onAuctionBidResponse: %o",e)})),h.Y.addEventListener("onNewUnitFound",(function(e){vr.infof(null,"onNewUnitFound: %o",e)}))}};function wr(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function yr(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){wr(a,i,r,o,s,"next",e)}function s(e){wr(a,i,r,o,s,"throw",e)}o(void 0)}))}}var Mr=__webpack_require__(757),_r=__webpack_require__.n(Mr),Er=__webpack_require__(96),Dr=__webpack_require__.n(Er);const Tr=function(e){return e.filter((function(t,n){var i=JSON.stringify(t);return n===e.findIndex((function(e){return JSON.stringify(e)===i}))}))};var Sr=new m.Z({prefix:"adUnitParser: "});function Nr(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Ar(e){if(e){var t=h.Y.fireEvent("rewriteGAMSlots")||h.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),i=e.getSizes();i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(i);try{var r=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,r)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);var n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!r)return;var a=Nr(r,i,n);return a&&(a._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,a),t.postSlotCreation&&t.postSlotCreation(a)),a}catch(e){Sr.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}var kr=new function(){var e=[],t={},n={};this.set=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=i;Array.isArray(r)||(r=[r]);for(var a=function(i){var a=r[i],o=!a.deviceType||"all"===a.deviceType||a.deviceType===_i();if(!a||!o)return"continue";var s=h.Y.fireEvent("sizesToRemoveBySpace",{spaceName:a.name,slot:void 0});null!=s&&s.length&&(a.sizes=a.sizes.filter((function(e){return!s.some((function(t){return"fluid"===t?e===t:e==="".concat(t.width,"x").concat(t.height)}))}))),e.push(a),t[a.name]=t[a.name]||[],t[a.name].push(a),n[a.id]=n[a.id]||[],n[a.id].push(a)},o=0;o<r.length;o++)a(o);return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e},this.remove=function(i){e=e.filter((function(e){return e!=i}));var r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);var a=t[i.name].indexOf(i);a>=0&&t[i.name].splice(a,1)}};function Br(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ir=new m.Z({prefix:"visibility: "}),Or=new Map,Zr=new Map;function Rr(e){var t=h.Y.fireEvent("customElementVisibilityLogic");if(t)return t({element:e,useIABDefinition:!0});var n=e.getBoundingClientRect(),i=function(){var e,t,n=window,i=[];for(;n!==window.top;){var r,a=xr((e=n.parent).document.getElementsByTagName("iframe"));try{for(a.s();!(r=a.n()).done;){var o=r.value;o.contentWindow===n&&(t=o.getBoundingClientRect(),i.push({x:t.x,y:t.y}))}}catch(e){a.e(e)}finally{a.f()}n=e}return i.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0})}();try{return window.top.document.hasFocus()&&n.top+n.height/2+i.y>0&&n.left+n.width/2+i.x>0&&n.top+n.height/2+i.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&n.left+n.width/2+i.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Pr(e)}}function Cr(e,t,n){return Yr.apply(this,arguments)}function Yr(){return(Yr=yr(_r().mark((function e(t,n,i){var r;return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr((function(){return Rr(t)?{stopIterations:!1}:{stopIterations:!0}}),10,100);case 2:r=e.sent,g.Z.commonUtils.isElementInBody(t)||i(),r&&n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(e,t,n){return Hr.apply(this,arguments)}function Hr(){return(Hr=yr(_r().mark((function e(t,n,i){var r;return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!0);case 2:if(r=t(),!r.stopIterations){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(jr(t,n-1,i))}),i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(){Or.forEach((function(e,t){var n=c(e,2);Cr(t,n[0],n[1])}))}try{window.top.addEventListener("scroll",(function(){Xr()})),window.top.addEventListener("focus",(function(){Xr()}))}catch(He){Pr(He)}function Ur(e){var t,n=e.selector,i=e.id,r=e.element,a=e.useIABDefinition;if(!r)try{if(n)r=document.querySelector(n);else{if(!i)throw new Error("No selector, id, or element provided.");r=document.getElementById(i)}if(!r)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Ir.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[n,i,e]),f.Z.consts.elementVisibility.NOT_FOUND}var o=h.Y.fireEvent("customElementVisibilityLogic");if(o)t=o({element:r,useIABDefinition:a})?f.Z.consts.elementVisibility.VISIBLE:f.Z.consts.elementVisibility.HIDDEN;else if(a)t=Rr(r)?f.Z.consts.elementVisibility.VISIBLE:f.Z.consts.elementVisibility.HIDDEN;else{var s,c,d;"none"===window.getComputedStyle(r).display&&(c=r.style.getPropertyValue("display"),d=r.style.getPropertyPriority("display"),r.style.setProperty("display","block","important"),s=!0);var l=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(r),u=document.documentElement.scrollLeft||window.scrollX,p=document.documentElement.scrollTop||window.scrollY,g=window.innerHeight,m=window.innerWidth,v=r.offsetHeight,b=r.offsetWidth;t=l.left>=u&&l.top>=p&&b+l.left<=u+m&&v+l.top<=p+g||(l.left<=u&&l.left+b>u||l.left>=u&&l.left<=u+m)&&(l.top<=p&&l.top+v>p||l.top>=p&&l.top<=p+g)?f.Z.consts.elementVisibility.VISIBLE:f.Z.consts.elementVisibility.HIDDEN,s&&r.style.setProperty("display",c,d)}return t}function Pr(e){var t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Ir.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var Wr,Lr,Fr=function(){var e,t,n=this;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((function(e){return n.state="fulfilled",e}),(function(e){return n.state="rejected",e})),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)}},Vr=new m.Z({prefix:"amazonAdapter: "}),Kr=!1,Gr=!1;function Jr(e){e&&0!==e.length&&f.Z.upoSettings.amazonBidderConfiguration.enabled&&(!function(){if(Kr)return;Kr=!0,mr.addEventListener(mr.Types.XHR_OPEN_PRE,(function(e){try{var t=e.data;(null==(n=t[1])?void 0:n.indexOf("amazon-adsystem.com/e/dtb/bid"))>-1&&(null==n?void 0:n.indexOf("t=2965"))>-1&&(t[1]=g.Z.addAcceptableParam(t[1]),this.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=new RegExp("apstag\\.\\w+\\((.*?)\\)","gm").exec(this.responseText);Wr=JSON.parse(null==e?void 0:e[1])}})}catch(e){Vr.errorf(null,"addListenerOnAmazonBidRequest: %o",e)}var n}))}(),e.forEach((function(e){var t=e.space;if(t.prebidSettings.bidders=t.prebidSettings.bidders||[],!t.prebidSettings.bidders.some((function(e){return"amazon"===e.name}))&&googletag&&googletag.pubads){var n=e.element,i=googletag.pubads().getSlots().find((function(e){return document.getElementById(e.getSlotElementId())===n})),r=i&&i.getAdUnitPath();r&&t.prebidSettings.bidders.push({id:r+"_amazon_bidder",name:"amazon",params:{pubID:f.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:r}})}})))}function Qr(e){var t,n,i=null===(t=Wr)||void 0===t||null===(n=t.slots)||void 0===n?void 0:n.find((function(t){return t.slotID===e.adUnitCode}));return(null==i?void 0:i.crid)||""}var qr=new Promise((function(e){return Lr=e}));function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta=new m.Z({prefix:"prebidAdapter: "}),na=new function(){var e=!1,t={},n={},i=new g.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.dispatch=function(n){try{e||(e=!0,t=f.Z.cpbjs,m(),h.Y.fireEvent("wrapPrebidRequestBids")&&b());var a={};n.forEach((function(e){a[e.spaceName]={hbAdUnit:e,deferred:new Fr}}));var s=function(e){return e.map((function(e){var t=h.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},n=t.websiteStoredRequestId,i=t.adUnitStoredRequestId,r=o(e),a=[];e.biddersSettings.forEach((function(e){var t={bidder:e.name,params:e.params};a.push(t)}));var s={code:e.spaceName,bids:a,sizes:r,mediaTypes:{banner:{sizes:r}}};return n&&i&&(s.ortb2Imp={ext:{prebid:{storedrequest:{id:i}}}}),s}))}(n);r(),function(e,t){for(var n=function(n){var i=t.find((function(t){return t.code===e[n].spaceName})),r=[];i.bids.forEach((function(e){r.push(e.bidder)}));var a={sendToServer:!0,sendPercentage:1,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};ta.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,a)},i=0;i<e.length;i++)n(i)}(n,s),t.requestBids({adUnits:s,bidsBackHandler:function(e){try{for(var t in a)if(a.hasOwnProperty(t)){var n=a[t],r=n.hbAdUnit;if(e){var o=e[t],c=[];if(o){var d=s.find((function(e){return e.code===t})).sizes;o.bids=l(o.bids,d),c=u(o.bids,n.hbAdUnit)}var f={auctionId:r.auctionId,bids:c};n.deferred.resolve(f),c.forEach((function(e){var t={auctionId:r.auctionId,bid:e};i.invokeEventCallbacks("bidReceived",t)}))}else{var p={auctionId:r.auctionId,bids:[]};n.deferred.resolve(p)}}}catch(e){ta.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var c=[];for(var d in a)if(a.hasOwnProperty(d)){var p=a[d];c.push(p.deferred.promise)}return c}catch(e){ta.errorf(null,"dispatch: - %o",e)}};var r=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!t.bidderSettings.standard.adserverTargeting.find((function(e){return"hb_pb_org"===e.key})),n=!!t.bidderSettings.standard.adserverTargeting.find((function(e){return"hb_pb"===e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){return Gn(e)}})}};function a(e){if(e){var t=c(e.split("x"),2),n=t[0],i=t[1];if(n=parseInt(n),i=parseInt(i),!isNaN(n)&&!isNaN(i))return{width:n,height:i}}}function o(e){var t=e.sizes.map(a).filter((function(e){return!!e})),n=h.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});n&&(t=t.map((function(e){var t=n.find((function(t){return t.size.width===e.width&&t.size.height===e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));var i=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],r=e.element&&e.element.getAttribute("id")||e.spaceName,o=i.find((function(e){return e.getSlotElementId()===r})),s=h.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:o});s&&(t=t.filter((function(e){return!s.some((function(t){return t.width===e.width&&t.height===e.height}))})));var c=g.Z.sizesRemover(e.element,t);return c=c.filter((function(e){return!!e})).map((function(e){return[e.width,e.height]}))}function s(e){try{var t=JSON.parse(e.adTargeting);for(var n in t.amzniid=e.adId,t)e.adserverTargeting[n]=t[n];e.ad=e.adHtml.replace("bt_host_placeholder",(null===(i=Wr)||void 0===i?void 0:i.host)||"https://aax-us-east.amazon-adsystem.com").replace("bt_crid_placeholder","crid=".concat(Qr(e)));try{!f.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){ta.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){ta.errorf(null,"changeAmazonBid - %o",e)}var i;return e}var d=function(e){for(var t=o(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n},l=function(e,t){return e.filter((function(e){return t.some((function(t){return e.width===t[0]&&e.height===t[1]}))}))},u=function(e,i){var r=e.map((function(e){if(e.bidderId=function(e,t){var n=t.biddersSettings.find((function(t){var n="s2s"===e.source?"bt_exchange":e.bidderCode;return t.name===n}));if(n)return n.id}(e,i),e.bidderId){!function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&0!==e.cpm&&(e=s(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.btBidderCode&&("index"===e.btBidderCode?e.btBidderCode="ix":"magnite"===e.btBidderCode&&(e.btBidderCode="rubicon")),e.bidder&&("triplelift"===e.bidder&&e.ad&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=d(t)),e.ad&&e.cpm&&e.ad.replace(/\$\{AUCTION_PRICE\}/g,e.cpm),e.ad&&e.currency&&e.ad.replace(/\$\{AUCTION_CURRENCY\}/g,e.currency)}(e,i),n[e.adId]=new Fr;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:p(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},a=new ii.Bid(r,e,ii.Bid.Types.PREBID,(function(n){var i=n.complianceBidsInAuction.length>0?n.complianceBidsInAuction.map((function(e){return e.rawBid&&e.rawBid})):void 0,r=e.adUnitCode,a=t.getAdserverTargeting(r,i)[r];return""===a.hb_pb&&a.hb_pb_org&&(a.hb_pb=a.hb_pb_org),""===a.hb_pb&&a.hb_pb_btd&&(a.hb_pb=a.hb_pb_btd),""===a.hb_size&&a.hb_size_btd&&(a.hb_size=a.hb_size_btd),""===a.hb_adid&&a.hb_adid_btd&&(a.hb_adid=a.hb_adid_btd),""===a.hb_format&&a.hb_format_btd&&(a.hb_format=a.hb_format_btd),a=h.Y.fireEvent("customAdserverTargeting",{adServerTargeting:a})||a}),(function(e){try{v(this),w(e.placement,this)}catch(e){ta.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:n[e.adId]}),(function(){return function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:ea(ea({},Vi.commonBLUtils.extractProviderData(e)),{},{uid:e.creativeId}),width:parseInt(e.width),height:parseInt(e.height)};"underdogmedia"===e.bidderCode&&(t.hintID="".concat(t.hintID,"_").concat(e.width,"_").concat(e.height));"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative);if("komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var a=i.hdbd_data.hbbids[r];a.cpm>n&&(n=a.cpm,t.markup=a.creative_data.creative)}}catch(e){ta.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup="");return t}(this)}));return a}ta.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[i,e])}));return r.filter((function(e){return!g.Z.commonUtils.isNil(e)}))};function p(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:"amazon"===e.bidder?Qr(e):e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null}var m=function(){t.onEvent("bidWon",(function(e){n[e.adId].resolve()}))},v=function(e){var t=e.rawBid;t&&t.bidder&&(h.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),h.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},b=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,a=0;a<r.length;a++)n.push(r[a].code);if(i.invokeEventCallbacks("refresh",n),!h.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}};function w(e,n){var i=M(),r=i.container,a=i.iframe;a.addEventListener("load",(function e(){try{h.Y.fireEvent("trackClicksOnCreatives")&&function(e,t){var n=0,i=setInterval((function(){var r,a,o;if(n>20)clearInterval(i);else{var s=(null===(r=e.contentDocument)||void 0===r?void 0:r.head)||(null===(a=e.contentDocument)||void 0===a?void 0:a.body);if(s){clearInterval(i);var c=f.Z.SharedObject.getItem("websiteConfig").apiDomain,d=(0,xi.makeURL)("https://".concat(c,"/c")),l=null===(o=f.Z.SharedObject.getItem("clickDataHB"))||void 0===o?void 0:o[t.rawBid.adUnitCode],u=document.createElement("script");u.text="\n        document.addEventListener('click', function(event) {\n          if (event.offsetX < 30 && event.offsetY < 30) {\n            var isClickOnGoogleAdChoicesLogo = !!event.target.closest('#abgc');\n            if (!isClickOnGoogleAdChoicesLogo) {\n              event.stopPropagation();\n              event.preventDefault();\n              return;\n            }\n          }\n          var body = ".concat(JSON.stringify(l),";\n          if (body) {\n            body.timestamp = (new Date()).toISOString();\n            body.clickData = {\n              altKey: event.altKey,\n              button: event.button,\n              ctrlKey: event.ctrlKey,\n              offsetX: event.offsetX,\n              offsetY: event.offsetY,\n              movementX: event.movementX,\n              movementY: event.movementY,\n              shiftKey: event.shiftKey\n            };\n           window.navigator.sendBeacon('").concat(d,"', new Blob([JSON.stringify(body)]));\n          }\n        }, true);\n      "),s.appendChild(u)}else n++}}),10)}(a,n),a.removeEventListener("load",e);var i=a.src===Cn.W;a.style.setProperty("visibility",""),i||(a.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var r=!i&&a.contentWindow.document,o=bi();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===o&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(i){a.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var e=r.styleSheets,t=0;t<e.length;t++)e[t].cssText&&e[t].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(e[t].cssText="")}catch(e){ta.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var e="edge"===o||"ie"===o;if(e||y(n,a,i),i){var s='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';a.contentWindow.postMessage({type:"eval",code:s},"*")}else t.renderAd(r,n.adId);e&&y(n,a,i)}),0),a.style.width=n.width+"px",a.style.height=n.height+"px"}catch(e){ta.errorf(null,"renderBid - %o",e)}})),e.insertBefore(r,e.children[0])}function y(e,t,n){if(!1!==e.isBackupCreative)if(n)t.contentWindow.postMessage({type:"eval",code:f.Z.backupCreativeScriptForPostMessage},"*");else try{var i,r=null==t||null===(i=t.contentWindow)||void 0===i?void 0:i.document,a=r.createElement("script");a.append("window.onload = function(){".concat(atob(f.Z.backupCreativeScript),"}")),r.documentElement.appendChild(a)}catch(t){var o={sendToServer:!0,event:"loadBackupCreativeScript",sendPercentage:1,meta:{isBackupCreative:e.isBackupCreative,isItBTSafeFrame:n,error:t}};ta.errorf(null,"loadBackupCreativeScript: - %o",t,o)}}var M=function(){var e=document.createElement("div");e.className="ahover";var t=Vi.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}},ia=new m.Z({prefix:"testCompliance: "});var ra=!1;try{ra=Dn.topmostAccessibleWindow.location.href&&Dn.topmostAccessibleWindow.location.href.indexOf("bt_tc=false")>=0||"false"===Dn.topmostAccessibleWindow.localStorage.getItem("bt_tc")}catch(He){ia.errorf(null,"testComplianceDisabled: %o",He)}function aa(e,t){return g.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function oa(e,t,n,i){var r={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};ia.noticef(null,e,n,r)}function sa(e,t){var n,i=f.Z.consts.complianceStatus.UNKNOWN,r=h.Y.fireEvent("customComplianceCheck",{bid:e}),a=e.contentIdHash||e.creativeId;return null!==(n=f.Z.SharedObject.getItem("creativesIdBlocklist"))&&void 0!==n&&n.includes(a)?i=f.Z.consts.complianceStatus.INCOMPLIANT:ra?(i=f.Z.consts.complianceStatus.COMPLIANT,ia.debugf(null,"compliance is disabled for the current bid: ",e)):r?(i=r,oa("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):aa(t,e)&&(i=f.Z.consts.complianceStatus.INCOMPLIANT,oa("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")),i}function ca(e){var t,n={},i={},websiteConfig=f.Z.SharedObject.getItem("websiteConfig"),r=websiteConfig.websiteID,a=websiteConfig.organizationID,o={};if(e.forEach((function(e){var t=e.auction,r=e.bids;o[t.auctionId]=o[t.auctionId]||{};for(var a=0;a<r.length;a++){var s=r[a],c=sa(s,t);if(c===f.Z.consts.complianceStatus.UNKNOWN){o[t.auctionId][s.bidId]={bid:s,result:{}};var d=s.makeEntryForTestCompliance();d.auctionID=t.auctionId,d.spaceExternalID=t.unit.space.id,d.spaceName=t.unit.space.name,d.refreshDepth=t.unit.countOfDispatches-1;var l=parseFloat(s.cpm);d.cpm=isNaN(l)?0:l,da(d);var u=_(5,8);n[u]=d,i[u]=s}else o[t.auctionId][s.bidId]={bid:s,result:{status:c,backup:!1}}}})),Object.keys(n).length<=0){for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];for(var d in c)if(c.hasOwnProperty(d)){var l=c[d];o[s][d]=l.result}}return Promise.resolve(o)}try{t=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){t={locale:void 0,timeZone:void 0}}var u={domain:Dn.topmostAccessibleWindow.location.host,websiteID:r,orgID:a,bids:n,locale:t.locale,timezone:t.timeZone,pageURL:Dn.topmostAccessibleWindow.location.href};return Zn.testCompliance(u).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r,a=n[t].auctionID,s=o[a],c=i[t],d=s[c.bidId];d.result.status=e[t].status,d.result.bidContentIdHash=e[t].id,d.result.backup=e[t].backup||"true"===Dn.topmostAccessibleWindow.localStorage.getItem("bt_force_backup_creative");var l=null!==(r=f.Z.SharedObject.getItem("creativesIdBlocklist"))&&void 0!==r?r:[];(l.includes(e[t].id)||l.includes(c.creativeId))&&(d.result.status=f.Z.consts.complianceStatus.INCOMPLIANT)}for(var u in o)if(o.hasOwnProperty(u)){var p=o[u];for(var h in p)if(p.hasOwnProperty(h)){var g=p[h];o[u][h]=g.result}}return o}))}function da(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){ia.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}ia.debugf(null,"test Compliance disabled? ",ra);var la=new m.Z({prefix:"dfpAdapter: "});function ua(e){if(e){if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return ii.Bid.PrebidTemplateTypes.RENDER_AD;if(/apstag\.renderImp\(document,/gm.test(e))return ii.Bid.PrebidTemplateTypes.APSTAG;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e)||["requestAdFromPrebid(","PATTERN:hb_adid"].some((function(t){return e.includes(t)})))return ii.Bid.PrebidTemplateTypes.HB_ADID;if(/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e))return ii.Bid.PrebidTemplateTypes.UC_TAG_DATA;if(e.indexOf("districtm_adslot = ")>-1)return ii.Bid.PrebidTemplateTypes.DISTRICTM_ADSLOT}}function fa(e){if(!e)return!1;var t=h.Y.fireEvent("isPrebidResponse",{str:e});return void 0!==t?t:!!ua(e)}var pa=new function(){var e=!1,t={},n={},i={},r=[],a=[],o=new g.Z.SubscriptionLayer,s={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,j())},this.dispatch=function(e){try{this.init();var r=[];return h.Y.fireEvent("onBeforeDfpRefreshDispatch"),h.Y.fireEvent("tryDisableGoogletagLazyLoad")&&d(),e.forEach((function(e){var i=new Fr;r.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var a=new Fr;n[e.slotElementId]=a})),window.googletag.cmd.push((function(){try{la.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];t.forEach((function(t){e.forEach((function(e){var r=t.getSlotElementId();if(r===e.slotElementId){n.push(t);var a=_(16,24);if(i[a]=r,t.setTargeting("uponitSlotIterationId",a),h.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),m(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),v(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var o=window.uponit.modifiers.dfpTargeting,s=0;s<o.length;s++){var c=t.getTargetingMap(),d={};for(var l in c)d[l]=c[l];var u=null;!e||null==e.floorPrice&&null==e.floorPrice||(u=e.floorPrice);var f=o[s](d,t,u);if(f)for(var p in f)c[p]&&c[p]===f[p]||t.setTargeting(p,f[p])}}catch(e){la.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),la.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",p(n)),l(n);var r=googletag.pubads().isSRA()&&(s=0,n.forEach((function(e){var t=e.getTargetingMap();Object.entries(t).forEach((function(e){var t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;s+=t+n}))})),s>=6e3);if(h.Y.fireEvent("forceNotSingleRequestRefresh")||r)for(var a=function(){var e=n[o];setTimeout((function(){window.googletag.pubads().refresh([e],void 0,!0)}),0)},o=0;o<n.length;o++)a();else setTimeout((function(){window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){la.errorf(null,"dispatch: %o",e)}var s})),r}catch(e){la.criticalf(null,"google cmd function failed: %o",e)}};var d=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},l=function(e){e.forEach((function(e){return e.setTargeting("upstdfp",!0)}))},u=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){la.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},p=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:u(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){la.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},m=function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=e.getTargetingKeys(),a=0;a<r.length;a++){var o=r[a];i.test(o)&&e.clearTargeting(o)}},v=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}},b=function(e,t,n,i){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var r=h.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:i,googleSlot:t});if(r&&(e=r),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var a=0;a<n.length;a++){var o=n[a];if("fluid"!=o&&o.getWidth()>=120){e._width_=parseInt(o.getWidth()),e._height_=parseInt(o.getHeight());break}}};function w(e){switch(e){case ii.Bid.Types.ADX:return"gam_adx";case ii.Bid.Types.ADX_TEXT:return"gam_text";case ii.Bid.Types.DIRECT:return"gam_direct";case ii.Bid.Types.ADSENSE:return"gam_adsense"}}var y=function(e,t){switch(e){case ii.Bid.Types.ADSENSE:case ii.Bid.Types.ADX:case ii.Bid.Types.ADX_TEXT:return t.adxBidderId;case ii.Bid.Types.DIRECT:return t.directBidderId}},M=function(e,t){try{if(e==ii.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){la.errorf(null,"getCreativeId: %o",e)}};function E(e){var n=e.slotId,i=e.gamResponse,r=t[n],a={auctionId:r.asAdUnit.auctionId,bids:[],gamResponse:i};r.deferred.resolve(a)}var D=function(e,t){r.push(t),e._html_=h.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},T=function(e){var t=e.getSlotElementId(),n=g.Z.commonUtils.escapeSelector("#"+t),i=document.querySelector(n+' [id^="google_ads_iframe_"]');return i=h.Y.fireEvent("customInnerContainer",{googleSlot:e})||i},S=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},N=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},A=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],a=t[r.getSlotElementId()].asAdUnit;if(a&&a.params&&a.params.queryParams)for(var o in a.params.queryParams)if(a.params.queryParams.hasOwnProperty(o)){var s=a.params.queryParams[o];n[o]=s}}return n}catch(e){la.errorf(null,"getSlotsQueryParams: %o",e)}};var k=function(e,i,r,s,c){try{var d=r.map((function(e,t){if(s.indexOf(t)>-1)return r[t]}));return function(e,i,r){try{if(i){for(var s={},c=[],d=0;d<i.length;d++){var l=i[d].response.parsedData,u=i[d].response.rawResponse,f=i[d].slot;if(f){var p=r[d],h=f.getSlotElementId(),g=new Fr;s[h]=g,c.push(g.promise);var m=t[h],v=T(f);if(!l||l&&!l._html_||l&&l._empty_)s[h].resolve({injectToDom:!1}),E({slotId:h,gamResponse:{type:"gam_empty",meta:{requestUrl:e,rawResponse:i[d].response.rawString}}});else{b(l,f,p,v),fa(l._html_)&&D(l,h);var _=(z=f,I=void 0,I=(x=l)._html_,x._empty_?ii.Bid.Types.EMPTY:fa(I)?ii.Bid.Types.DFP_PREBID:x._is_afc_?"text"===A([z]).ad_type?ii.Bid.Types.ADX_TEXT:ii.Bid.Types.ADX:I.indexOf("js/adsbygoogle.js")>-1||I.indexOf("pagead/show_ads.js")>-1?ii.Bid.Types.ADSENSE:ii.Bid.Types.DIRECT),S={ad:l._html_,bidder:w(_),bidderId:y(_,m.asAdUnit.params),bidderCode:w(_),creativeId:M(_,l),width:l._width_,height:l._height_,cpm:m.asAdUnit.floorPrice+.01},N=new ii.Bid(S,u,_,void 0,function(e){return function(){var t=s[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(h),function(e){return function(){var t=s[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(h),function(e){return function(t){n[e].promise.then((function(){t()}))}}(h),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(l));_===ii.Bid.Types.DFP_PREBID&&(N.prebidTemplateType=ua(S.ad));var k={auctionId:m.asAdUnit.auctionId,bids:[N]};m.deferred.resolve(k);var B={auctionId:m.asAdUnit.auctionId,bid:N};o.invokeEventCallbacks("bidReceived",B)}}else c.push(Promise.resolve({injectToDom:!1}))}return Promise.all(c).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){var i=e[n],r=this.responsesWithSlots[n].response,o=r.parsedData,s=this.responsesWithSlots[n].slot,c=s&&s.getSlotElementId();i&&!i.injectToDom&&(c&&a.push(c),o._html_="",o._empty_=!0,o._width_=1,o._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){la.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:i,deferredsPromises:c}))}}catch(e){la.errorf(null,"handleDfpBidResponses: %o",e)}var x,z,I}(e,i.map((function(e,t){return{slot:d[t],response:e}})),c)}catch(e){la.errorf(null,"invokeMiddleware: %o",e)}},B=function(e,t,n,i,r){return la.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[p(n),i]),new Promise((function(a,o){try{if(""===t.responseText)return n.forEach((function(n){return E({slotId:n.getSlotElementId(),gamResponse:{type:"gam_exception",meta:{exception:"empty_string_response_text",requestUrl:e,responseStatusCode:t.status,responseStatusText:t.statusText}}})})),void a();var c=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var a=window.JSON.parse(r)}catch(e){la.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var o=Object.keys(a)[0],c=a[o],d={adUnitPath:o,rawResponse:c,rawString:e,parsedData:{}};try{for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];void 0!==c[u]&&null!==c[u]&&(d.parsedData[l]=c[u])}}catch(e){la.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(t.responseText);k(e,c,n,i,r).then((function(e){!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.injectBackupCreative){var i=n.parsedData,r=i._html_,a="<\/script>";i._html_=r.substr(0,r.indexOf(a)+a.length)+"<script>"+atob(f.Z.backupCreativeScript)+"<\/script>"+r.substr(r.indexOf(a)+a.length)}}}(e);var n=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,a=r._html_;delete r._html_;var o=i.rawResponse,c={};try{for(var d in s)if(s.hasOwnProperty(d)){var l=s[d];1==r[d]?o[l]=1:0==r[d]?o[l]=0:o[l]=r[d]}c[i.adUnitPath]=o}catch(e){la.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(c)+"\n"+a+"\n"}catch(e){la.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(e);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(n,t),a()}))}catch(e){la.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},x=function(e){var t="sz",n=g.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=g.Z.commonUtils.extractQueryParamFromUrl(t,e)),n)return n.split(",").map((function(e){return e.split("|")})).map((function(e){return e.map((function(e){var t=c(e.split("x"),2),n=t[0],i=t[1];return{width:parseInt(n),height:parseInt(i)}}))}))},z={width:320,height:50};function I(e,t,n){return!("fluid"!==e||!n)||t.some((function(t){return t.width===e.width&&t.height===e.height}))}function O(e){var t=g.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){var n=t.split(",");return n=n.map((function(e){return isNaN(e)?e:parseInt(e)}))}}var Z=function(e,n,i){var r;if(e)try{var a;if(e.indexOf("&sz=")>-1)a="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;a="prev_iu_szs"}var o=x(e);if(!o)return;var s=o.length;r=o.filter((function(e,t){return i.indexOf(t)>-1}));var c=(O(e)||Array(s).fill(0)).filter((function(e,t){return i.includes(t)})),d=[],l=[];!function(){var t=h.Y.fireEvent("removeSizesDfpConfig");if(t){var i=t.forAll||[];r=r.map((function(r,a){var o=n[a].getSlotElementId(),s=(t[o]||[]).concat(i);return s=s.map((function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:z.width,height:z.height}}return t})),r.filter((function(e){return!s.some((function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),r=r.map((function(e,i){var r=n[i],a=r.getSlotElementId(),o=t[a].asAdUnit.spaceName,s=c[i],d=h.Y.fireEvent("sizesToRemoveBySpace",{spaceName:o,slot:r});return d?(d.includes("fluid")&&s&&(c[i]=0),e.filter((function(e){return!d.some((function(t){return"fluid"===t?z.width==e.width&&z.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{r.forEach((function(e,i){var r=n[i].getSlotElementId(),a=t[r].asAdUnit,o=c[i],s=h.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:a});if(!s)return e;s.forEach((function(t){I(t,e,o)||("fluid"===t?(I(z,e,o)||e.push({width:z.width,height:z.height}),c[i]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){la.errorf(null,"sizesToAddBySpace error - %o",e)}r.forEach((function(e,t){var i=n[t].getSlotElementId(),r=document.getElementById(i),a=g.Z.sizesRemover(r,e);0==(a=a.filter((function(e){return!!e}))).length&&(a=[{width:2,height:3}]),d.push(a);var o=a.map((function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==z.width&&e.height==z.height&&(t="fluid"),t}));l.push(o)}));var u,f=0;return u=o.map((function(e,t){if(i.indexOf(t)<0)return e;var n=d[f];return f++,n})).map((function(e){return e.map((function(e){return e.width+"x"+e.height}))})).map((function(e){return e.join("|")})).join(","),{url:e=function(e,t){var n=!!O(e),i=t.join(",");return n?S(e,"fluid",i):"".concat(e,"&fluid=").concat(encodeURIComponent(i))}(e=S(e,a,u),c),modifiedSizes:l}}catch(t){return la.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:n.map((function(e){return e.getSizes()}))}}},R=function(){mr.addEventListener(mr.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(C(n[1])){var r=n[1],a=function(e){var t=[],n=g.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=g.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var r=n.split("|"),a=0;a<r.length;a++){var o=r[a],s=N("uponitSlotIterationId",o);i[s]&&t.push(i[s])}return t}}(n[1]),o=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],a=0;a<e.length;a++){var o=e[a];r.getSlotElementId()==o&&t.push(r)}return t}(a),s=function(e){var t=[],n=g.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=g.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,r=g.Z.commonUtils.extractQueryParamFromUrl("csp",e);r&&(i=N("upstdfp",r),la.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var a=n.split("|"),o=0;o<a.length;o++){var s=a[o];(i||N("upstdfp",s))&&t.push(o)}return t}}(n[1]);o.forEach((function(e){return e.clearTargeting("upstdfp")})),n[1]=g.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=A(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],o);var c=Z(n[1],o,s);n[1]=c.url;var d=c.modifiedSizes;!function(e,n,i,r){for(var a=0;a<e.length;a++){for(var o=e[a],s=t[n[o]],c=[],d=0;d<i[o].length;d++)i[o][d]&&(i[o][d].width&&i[o][d].height?c.push([i[o][d].width,i[o][d].height]):"fluid"===i[o][d]&&c.push("fluid"));for(var l=[],u=0;u<r[o].length;u++)r[o][u]&&(r[o][u].getWidth&&r[o][u].getHeight?l.push([r[o][u].getWidth(),r[o][u].getHeight()]):"fluid"===r[o][u]&&l.push("fluid"));var f={sendToServer:!0,sendPercentage:1,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:c,sizesAfterFiltering:l}};la.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,f)}}(s,a,x(r),d),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=g.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var r=i.split(","),a=0;a<r.length;a++){var o=r[a];n.indexOf(o)<0&&t.push(o)}return S(e,"eid",t.join(","))}(n[1]),h.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]});var l=n[1];la.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[l,p(o),s]);var u=null,f=null,m=this,v=!1;this.onload=function(){try{if(!u||v)return;v=!0,B(l,m,o,s,d).then((function(){u.call(m)}))}catch(e){la.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){var t=this;try{if(!f||v)return;4===this.readyState&&(v=!0,200===this.status?B(l,m,o,s,d).then((function(){f.call(m,e)})):(la.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]),o.forEach((function(e){return E({slotId:e.getSlotElementId(),gamResponse:{type:"gam_error",meta:{error:"non_200_response",requestUrl:l,responseStatusCode:t.status,responseStatusText:t.statusText,responseText:t.responseText}}})}))))}catch(e){la.criticalf(null,"onReadyStateChangeError, err %o",e)}},setTimeout((function(){v||(v=!0,la.criticalf(null,"addListenersOnHooks - call to GAM failed to respond (in %f seconds)",7),o.forEach((function(e){return E({slotId:e.getSlotElementId(),gamResponse:{type:"gam_exception",meta:{exception:"request_timed_out",requestUrl:l,responseStatusCode:m.status,responseStatusText:m.statusText,responseText:m.responseText}}})})))}),7e3),this.__defineGetter__("onload",(function(){return u})),this.__defineSetter__("onload",(function(e){return u=e,e})),this.__defineGetter__("onreadystatechange",(function(){return f})),this.__defineSetter__("onreadystatechange",(function(e){return f=e,e}))}}catch(e){la.errorf(null,"addListenersOnHooks: %o",e)}}))},C=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){o.subscribeForEvent(e,t)};var Y=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),o=T(t),s=o&&o.querySelector("iframe");if(a.indexOf(i)>=0)a.splice(a.indexOf(i),1);else{var c=n[i];if(c&&"unresolved"==c.fate&&c.resolve(),function(e){setTimeout((function(){var t=e.getSlotElementId(),n=document.getElementById(t),i=T(e);if(!(i&&i.querySelector("iframe")&&i&&g.Z.commonUtils.isElementInBody(n)&&n)){var r={sendToServer:!0,sendPercentage:1,event:"creative-removed",meta:{creativeId:t}};la.infof(null,"removed creative id -> ",r,r)}}),1e3)}(t),s)if(r.indexOf(i)>-1){r.splice(r.indexOf(i),1);try{o.style.width="1px",o.style.height="1px",s.width="1",s.height="1"}catch(e){la.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===s.width)s.style.setProperty("width","max-content","important");else{var d=s.width;s.style.setProperty("width",d+"px","important")}}}))};var j=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;h.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();la.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&p(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],a=0;a<t.length;a++)try{var s=t[a].getSlotElementId();s&&r.push(s)}catch(e){la.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}o.invokeEventCallbacks("refresh",r)}),Y(),R(window)}))}},ha=new m.Z({prefix:"tagless: ",level:m.z.INFO});function ga(e){var t={sendToServer:!0,event:"AdSlotMissingForTaglessRequest",sendPercentage:1,meta:{auctionID:e.auctionId}};ha.infof(null,"AdSlotMissingForTaglessRequest, auction ID -> ",e.auctionId||"N/A",t)}function ma(e,t,n){var i={sendToServer:!0,event:"HBGoogleTaglessRequestFailed",sendPercentage:1,meta:{auctionID:e.auctionId,elementID:e.slotElementId,requestUrl:t,error:n}};ha.errorf(null,"HBGoogleTaglessRequestFailed ",{auctionID:e.auctionId,elementID:e.slotElementId,error:n},i)}function va(e){var t={sendToServer:!0,event:"HBGoogleTaglessRequestStarted",sendPercentage:1,meta:{auctionID:e.auctionId,elementID:e.slotElementId}};ha.infof(null,"HBGoogleTaglessRequestStarted ",{auctionID:e.auctionId,elementID:e.slotElementId},t)}var ba=function(e){return function(){"unresolved"===e.fate&&e.resolve()}},wa=function(e){var t=e.deferred,n=e.adUnit,i=e.impressionUrl;return function(e){t.promise.then((function(){e(),function(e,t){e.auction.subscribeForEvent("auctionRendered",(function(){navigator.sendBeacon(t),function(e){var t={sendToServer:!0,event:"HBGoogleTaglessRequestRendered",sendPercentage:1,meta:{auctionID:e.auctionId,elementID:e.slotElementId}};ha.infof(null,"HBGoogleTaglessRequestRendered ",{auctionID:e.auctionId,elementID:e.slotElementId},t)}(e)}))}(n,i)}))}};const ya=function(e){var t=e.adUnit,n=e.data,i=e.impressionUrl,r=new Fr,a=new ii.Bid({ad:"",width:1,height:1,cpm:t.floorPrice},n,ii.Bid.Types.DFP_PREBID,void 0,ba(r),null,wa({deferred:r,adUnit:t,impressionUrl:i}),null);return a.prebidTemplateType=ua(n),a};var Ma=["keyValuesParams","queryParams"];function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Da="https://api.btloader.com/tagless",Ta=Math.round(1e9*Math.random());function Sa(e,t){var n=new URL("https://securepubads.g.doubleclick.net/gampad/adx");n.searchParams.append("iu",e.getName());var i=e.getSizes().filter((function(e){return e.width&&e.height})).map((function(e){return"".concat(e.width,"x").concat(e.height)})).join("|");n.searchParams.append("sz",i),n.searchParams.append("c",Ta),n.searchParams.append("d_imp",1),n.searchParams.append("d_imp_hdr",1);var r=t.params,a=r.keyValuesParams,o=(r.queryParams,Br(r,Ma)),s=Ea(Ea({},a.toAdd),o),c=new URLSearchParams;for(var d in s){var l=s[d];c.set(d,l)}return c.set("tagless",1),n.searchParams.append("t",c),n.searchParams.append("upapi",!0),n}function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=yr(_r().mark((function e(t,n){var i,r,a,o;return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new URL(Da)).searchParams.set("u",t),va(n),e.next=5,fetch(i);case 5:if((r=e.sent).ok){e.next=8;break}throw new Error;case 8:return e.next=10,r.text();case 10:return a=e.sent,o=r.headers.get("google-delayed-impression"),e.abrupt("return",{data:a,impressionUrl:o});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const ka={dispatch:function(e){return e.map(function(){var e=yr(_r().mark((function e(t){var n,i,r,a,o,s,c,d,l;return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(n=window.googletag)||void 0===n||null===(i=n.pubads())||void 0===i||null===(r=i.getSlots())||void 0===r?void 0:r.find((function(e){return e.getSlotElementId()===t.slotElementId}))){e.next=4;break}return ga(t),e.abrupt("return",{auctionId:t.auctionId,bids:[]});case 4:return o=Sa(a,t),e.prev=5,e.next=8,Na(o,t);case 8:if(s=e.sent,c=s.data,d=s.impressionUrl,!fa(c)){e.next=16;break}return l=ya({adUnit:t,data:c,impressionUrl:d}),e.abrupt("return",{auctionId:t.auctionId,tagless:!0,bids:[l]});case 16:throw new Error;case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(5),ma(t,o,e.t0),e.abrupt("return",{auctionId:t.auctionId,bids:[],tagless:!0,gamResponse:{meta:{requestUrl:o.toString()}}});case 23:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t){return e.apply(this,arguments)}}())}};var Ba=["ad","adId","bidderId","bidder","bidderCode","currency","creativeId","cpm","height","size","width"];function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=new m.Z({prefix:"dispatch: ",level:m.z.INFO}),Oa=new function(){var e=new g.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)},this.dispatchPrebid=function(e){try{var t={},n=[],i=[];e.forEach((function(e){var r=new Fr;t[e.auctionId]=r,n.push(r.promise);var a=e.unit.space.prebidSettings;if(a&&a.enabled)i.push(e),e.startIteration(ii.Auction.IterationTypes.PREBID);else{var o={auctionId:e.auctionId,bids:[]};r.resolve(o)}}));var r=i.map((function(e){var t=e.unit.space.prebidSettings.bidders;return{auctionId:e.auctionId,biddersSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=r.filter((function(e){return e.biddersSettings.length>0})),o=[];a.length>0&&(o=na.dispatch(a));var s=r.map((function(e,t){return a.includes(e)?o[t]:{auctionId:e.auctionId,bids:[]}}));return Promise.all(s).then((function(e){try{for(var n=[],r=function(t){var r=e[t],a=r.auctionId,o=i.find((function(e){return e.auctionId===a})),s=r.bids.filter((function(e){return 0!==e.cpm})),c=h.Y.fireEvent("filterPrebidBids");if(c){var d=s.map((function(e){return{bid:e,rawBid:e.rawBid}}));s=c(d)}s.forEach((function(e){return e.addIteration(o.getCurrentIteration())})),o.addBids(s),r.bids=s,n.push({auction:o,bids:s})},a=0;a<e.length;a++)r(a);ca(n).then((function(n){for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],a=e.find((function(e){return e.auctionId==i})),o=a.bids;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s],d=o.find((function(e){return e.bidId==s}));d.contentIdHash=c.bidContentIdHash,d.complianceStatus=c.status,d.isBackupCreative=c.backup}t[i].resolve(a)}}))}catch(e){Ia.errorf(null,"error testing Prebid bid compliance: %o",e)}})),n}catch(e){Ia.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchDFP=function(e){try{var n={},i=[],r=[];return e.forEach((function(e){var t=new Fr;n[e.auctionId]=t,i.push(t.promise);var a=e.unit.space.dfpSettings;if(null!=a&&a.enabled)r.push(e);else{var o={auctionId:e.auctionId,bids:[]};t.resolve(o)}})),t(r,0).forEach((function(t){t.then((function(t){var i=t.auctionId;e.find((function(e){return e.auctionId==i})).addBids(t.bids),n[i].resolve(t)}))})),i}catch(e){Ia.errorf(null,"error in `dispatchAS`: %o",e)}};var t=function e(t,n){try{var r={},a=[];t.forEach((function(e){var t=new Fr;a.push(t.promise),r[e.auctionId]={auction:e,deferred:t}}));var o=[];t.forEach((function(e){e.unit.space.dfpSettings.order[n]?o.push(e):r[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})}));var s=o.reduce((function(e,t){var r=e.gptAdUnits,a=e.taglessAdUnits,o=t.unit.space.dfpSettings,s=t.getWinningBid(),d=s?s.cpm:0,l={auctionId:t.auctionId,spaceName:t.unit.space.name,params:i(t,o.order[n]),slotElementId:t.unit.element.getAttribute("id"),floorPrice:d},u=function(e){var t,n=e.auction,i=e.gamIteration,r=e.winningBid,a=e.winningBidCpm;if(!h.Y.fireEvent("enableGoogleTaglessRequest"))return ii.Auction.IterationTypes.GAM;var o=c(null!==(t=n.gamResponses)&&void 0!==t?t:[],1)[0],s=["gam_empty","gam_error","gam_exception"].includes(null==o?void 0:o.type)&&1===(null==o?void 0:o.gamIteration),d=r&&a>0;return 1===i&&d&&s?ii.Auction.IterationTypes.TAGLESS:ii.Auction.IterationTypes.GAM}({auction:t,gamIteration:n,winningBid:s,winningBidCpm:d});return t.startIteration(u),u===ii.Auction.IterationTypes.TAGLESS?a.push(za(za({},l),{},{auction:t})):r.push(l),{gptAdUnits:r,taglessAdUnits:a}}),{gptAdUnits:[],taglessAdUnits:[]}),d=s.gptAdUnits,l=s.taglessAdUnits;return[].concat(u(d.length?pa.dispatch(d):[]),u(ka.dispatch(l))).forEach((function(t){t.then((function(t){try{var i=t.auctionId,a=t.bids,s=t.gamResponse,p=c(a,1)[0],h=o.find((function(e){return e.auctionId==i})),m=[].concat(u(d),u(l)).find((function(e){return e.auctionId==i})),v=h.getWinningBid();null==v||v.addIteration(h.getCurrentIteration());var b=n+1;if(s&&(s.gamIteration=b,h.addGAMResponse(s)),!p){e([h],n+1)[0].then((function(e){r[i].deferred.resolve(e)}));try{if(v&&1===n&&!t.tagless){v.ad,v.adId,v.bidderId,v.bidder,v.bidderCode,v.currency,v.creativeId,v.cpm,v.height,v.size,v.width;var w=Br(v,Ba),y={sendToServer:!0,event:"AAHBWithEmptyGAM",sendPercentage:1,meta:za({auctionID:m.auctionId,winningBidData:w,spaceID:h.unit.space.id},Za(s,m))};Ia.infof(null,"AAHBWithEmptyGAM, auction ID -> ",m.auctionId||"N/A",y)}}catch(e){Ia.errorf(null,'error checking for "AAHBWithEmptyGAM": %o',e)}return}if(p.gamIteration=t.tagless?0:b,p.addIteration(h.getCurrentIteration()),p.type==ii.Bid.Types.DFP_PREBID)return v.additionalBidsToRender.push(p),p.complianceStatus=f.Z.consts.complianceStatus.COMPLIANT,void r[i].deferred.resolve({auctionId:i,bids:[]});if(!(p.type!=ii.Bid.Types.ADX_TEXT||m.params.adxShouldTestCompliance||aa(h,p)||function(e){return e.type==Rn.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((function(t){return g.Z.commonUtils.matchStringsOnString(t,e.ad)}))}(p))){p.complianceStatus=f.Z.consts.complianceStatus.COMPLIANT,r[i].deferred.resolve(t);var M={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:i,bidderID:p.bidderId}};return void Ia.noticef(null,"gam text ad: ",p,M)}ca([{auction:h,bids:[p]}]).then((function(a){if(p.contentIdHash=a[i][p.bidId].bidContentIdHash,p.complianceStatus=a[i][p.bidId].status,p.isBackupCreative=a[i][p.bidId].backup,p.complianceStatus!=f.Z.consts.complianceStatus.COMPLIANT)return p.cancelBid(),void e([h],n+1)[0].then((function(e){e.bids.push(p),r[i].deferred.resolve(e)}));r[i].deferred.resolve(t)})).catch((function(t){p.cancelBid(),e([h],n+1)[0].then((function(e){e.bids.push(p),r[i].deferred.resolve(e)}))}))}catch(e){Ia.errorf(null,"error handling auction responses from AS: %o",e)}}))})),a}catch(e){Ia.errorf(null,"error in `innerInvokePostbid`: %o",e)}},n={},i=function(e,t){var i={},a=function(e,t){var i=e.getWinningBid(),a=e.getComplianceBids(),o=r(i,e),s=i?i.getGPTTargeting({complianceBidsInAuction:a}):{},c=za(za(za({},o),s),t.keyValues),d=n[e.unit.unitID]?Object.keys(n[e.unit.unitID]).map((function(e){return new RegExp(e)})):[];return d.push.apply(d,u(["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((function(e){return new RegExp("".concat(e,".*"))})))),n[e.unit.unitID]=c,{toAdd:c,toRemove:d}}(e,t);return i.keyValuesParams=a,i.queryParams=t.params.queryParams||{},i.adxBidderId=t.adx.bidderID,i.adxShouldTestCompliance=t.adx.testCompliance,i.directBidderId=t.direct.bidderID,i},r=function(e,t){var n,i,r,a,o=t.unit,s={up_bidder:!0};if(null!=e&&e.bidder)if((An(e.bidder)||"s2s"===e.rawBid.source||"relay"===e.bidder)&&(s.up_source="bt"),"s2s"===e.rawBid.source||"relay"===e.bidder)s.up_bidder="btd";else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","amazon","andbeyond","aol","appnexus","appnexusAst","arteebee","atomx","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickforce","clickonometrics","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtm","e-planning","emx_digital","emxdigital","engagebdr","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamma","gamoshi","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","indexExchange","IndexExchange","inneractive","innity","inskin","insticator","invibes","iqm","ix","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","nobid","oftmedia","onemobile","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","phaedrus","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandadk","rtbdemandBidder","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","soloway","somoAudience","sonobi","sortable","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","undertone","unruly","upo","upo1","upo10","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yahoossp","yieldbot","yieldmo","yieldone"].indexOf(e.bidder)>-1)s.up_bidder=e.bidder;else{var c={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode},sendPercentage:1};Ia.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,c)}var d=Dn.topmostAccessibleWindow.location.hostname;0===d.indexOf("www.")&&(d=d.replace("www.",""));var l=d;l=l.match(/(co\.il|co\.uk|org\.il)/)?l.replace("www.","").split(".").splice(-3).join("."):l.replace("www.","").split(".").splice(-2).join("."),s.up_recovery="true",s.up_browser=bi(),s.up_device=yi(),s.up_platform=wi(),s.up_domain=d,s.up_website=l,s.up_website_id=f.Z.SharedObject.getItem("websiteConfig").websiteID;var u=o.countOfDispatches-1;if(s.up_refresh=u>30?"30":"".concat(u),t.refreshTrigger===Ha.TRIGGERS.ON_RETURN_TO_PAGE){var p=o.countOfDispatchesByRefresh[Ha.TRIGGERS.ON_RETURN_TO_PAGE];p&&(s.up_tabrefresh=p>30?"30":"".concat(p))}var h=null===(n=f.Z.cpbjs)||void 0===n||null===(i=n.getConfig().floors)||void 0===i||null===(r=i.data)||void 0===r||null===(a=r.values)||void 0===a?void 0:a.banner;return s.up_floor=Kn(h),s};pa.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),pa.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),na.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),na.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))};function Za(e,t){try{var n=[],i=[],r=new URL(e.meta.requestUrl),a=new URLSearchParams(decodeURIComponent(r.searchParams.get("prev_scp"))),o=t.params.keyValuesParams.toAdd;for(var s in o){var c=o[s],d=a.get(s);d||n.push({paramToAdd:s,paramInUrl:d,paramValue:c}),d&&c!==d&&i.push({paramToAdd:s,paramInUrl:d,paramValue:c})}var l=r.searchParams.has("adsid"),u=r.searchParams.get("adsid"),f=e.meta.rawResponse;return{requestUrl:e.meta.requestUrl,paramsNotInUrl:n,paramsWithDifferentValues:i,hasAdsid:l,adsidValue:u,rawGamResponse:f.substr(0,3e3),rawGamResponseOriginalLength:f.length,targetingParams:Object.fromEntries(a.entries())}}catch(e){return{loggingError:e}}}var Ra=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((function(e){return e.element===t}))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((function(e){return g.Z.commonUtils.isElementInBody(e.element)}))}},Ca=["space"];function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var ja=new m.Z({prefix:"refresh: "}),Ha=new function(){this.initialize=function(c){var d=c.invokeSpaces,l=function(e){var a=e.invokeSpaces;function c(){if(window.top.document.hasFocus()){if(0!==i.size){var e=new Map;if(i.forEach((function(r,a){if(r.expiresAt&&r.expiresAt<Date.now())i.delete(a);else{var s,c,d=Ur({selector:a.selector.value});d===f.Z.consts.elementVisibility.VISIBLE?(s=r.skipComplianceCheck||Date.now()-t<(t===n?2500:500)+o,c="IS_VISIBLE"===r.whenVisibility||"ANY"===r.whenVisibility):d===f.Z.consts.elementVisibility.HIDDEN?(s=!0,c="IS_HIDDEN"===r.whenVisibility||"ANY"===r.whenVisibility):d===f.Z.consts.elementVisibility.NOT_FOUND&&i.delete(a),s&&c&&(i.delete(a),e.set(a,r))}})),0!==e.size){var c=[],d={},l={};e.forEach((function(e,t){c.push(t),g.Z.commonUtils.isNumber(e.minTimeBetweenRefreshes)&&(d[t]=e.minTimeBetweenRefreshes,l[t]=e.trigger)}));var u={filteringSettings:{minTimeBetweenRefreshesBySpace:d},refreshTriggerBySpace:l};ja.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[s(e),s(i)]),a(c,u).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=c.filter((function(e){return!t.includes(e)}));n.length>0&&(n.forEach((function(t){r(e.get(t))})),ja.infof(null,"Could not refresh & requeued: %o",n))}))}else ja.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",s(i))}}else ja.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.")}return g.Z.commonUtils.debounce(c,o)}({invokeSpaces:d});(function(i){var o=i.triggerRefresh;hr(o),window.addEventListener("onUserReturnedToPage",(function(){!function(){var t=(h.Y.fireEvent("refreshOnReturnToPage")||{}).unitVisibility;if(t){var n=Ra.getAll().filter((function(e){return("ANY"===t||t===Ur({element:e.element,useIABDefinition:!0}))&&e.lastInvokeTime&&Date.now()-e.lastInvokeTime.getTime()>5e3}));if(n.length>0){n.forEach((function(t){r({space:t.space,trigger:e.ON_RETURN_TO_PAGE,whenVisibility:"ANY",skipComplianceCheck:!0,minTimeBetweenRefreshes:0,expiresAt:Date.now()+1e3})}));var i={event:"refreshOnReturnToPage",sendToServer:!0,sendPercentage:1,meta:{totalUnitsQueuedForRefresh:n.length,unitsQueuedForRefresh:n.map((function(e){return{elementId:e.element.id,space:{name:e.space.name,templateSpaceName:e.space.templateSpaceName},gamAdUnitPath:e.gamAdUnitPath,prevDispatchCount:e.countOfDispatches,prevRenderCount:e.countOfRenders,secsSinceLastAuction:e.lastInvokeTime?((Date.now()-e.lastInvokeTime.getTime())/1e3).toFixed(1):"Never"}})),secsSinceLastRefreshOnRTP:a?((Date.now()-a)/1e3).toFixed(1):"Never"}};ja.infof(null,"refreshOnReturnToPage, units ->",n,i),a=Date.now()}}}(),o()})),window.addEventListener("locationChange",(function(){!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locationChanged,i=Date.now();t=i,e&&(n=i)}({locationChanged:!0})}))})({triggerRefresh:l}),(h.Y.hasEventListener("spaceRefreshOnInterval")||h.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(t){var n=t.triggerRefresh;return function(t){var i=t.space,a=t.unitDispatchCount,o={space:i,unitDispatchCount:a},s=h.Y.fireEvent("spaceRefreshOnInterval",o)||h.Y.fireEvent("spaceRefreshSettings",o);if(s){var c=s.whenVisibility,d=s.type,l=s.skipComplianceCheck,u=void 0!==l&&l;if(u=u||h.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:i}),!c){if(!d)return void ja.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(Vi.commonBLUtils.refreshTypeDecoder(d)){case f.Z.consts.refreshType.UNKNOWN:return void ja.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",d);case f.Z.consts.refreshType.ALL:case f.Z.consts.refreshType.VISIBLE:return void ja.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",d);case f.Z.consts.refreshType.HIDDEN:c="IS_HIDDEN"}}var p=s.interval||s.rate||3e4;setTimeout((function(){r({space:i,trigger:e.ON_INTERVAL,whenVisibility:c,skipComplianceCheck:u}),n()}),p),ja.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[p/1e3,{spaceName:i.name,space:i,whenVisibility:c,skipComplianceCheck:u}])}}}({triggerRefresh:l}));(function(t){var n=t.triggerRefresh;Oa.subscribeForEvent("refresh",(function(t){t.forEach((function(t){var n=document.getElementById(t),i=n&&Ra.getByElement(n),a=i&&i.space;if(a&&i.countOfDispatches>0){var o,s=Ur({element:n});if(s===f.Z.consts.elementVisibility.VISIBLE)o="IS_VISIBLE";else if(s===f.Z.consts.elementVisibility.HIDDEN)o="IS_HIDDEN";else if(s===f.Z.consts.elementVisibility.NOT_FOUND)return;var c=h.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:a});ja.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:a.name,space:a,correspondingUnit:i,whenVisibility:o,skipComplianceCheck:c}),r({space:a,trigger:e.GOOGLETAG,whenVisibility:o,skipComplianceCheck:c})}})),n()}))})({triggerRefresh:l}),function(t){var n=t.invokeSpaces,i=[];h.Y.addEventListener("refreshByForce",(function(t){var r=t.data,a=r&&r.settings,o=kr.getAll(),s=a&&a.minTimeBetweenRefreshes,c=a&&a.shouldRefreshFailedSpaces,d=a&&a.spacesNames,l=a&&a.shouldRefreshAllSpaces,f=[],p={filteringSettings:{minTimeBetweenRefreshes:s}};l?f=o:(c&&(f=[].concat(u(f),u(i))),d&&o.forEach((function(e){d.indexOf(e.name)>-1&&f.push(e)}))),f=u(new Set(f)),p.refreshTriggerBySpace=f.reduce((function(t,n){return t[n]=e.BY_FORCE,t}),{}),ja.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[a,f]),n(f,p).then((function(e){i=f.filter((function(t){return e.indexOf(t)<0}))}))}))}({invokeSpaces:d})},this.minTimeBetweenAuctionsUnitsFilter=function(e,t){var i=f.Z.upoSettings.minTimeBetweenRefreshes;h.Y.hasEventListener("minTimeBetweenRefreshes")&&(i=h.Y.fireEvent("minTimeBetweenRefreshes"));g.Z.commonUtils.isNumber(t.minTimeBetweenRefreshes)&&(i=t.minTimeBetweenRefreshes);var r=t.minTimeBetweenRefreshesBySpace||{};return e.filter((function(e){var t;if(e)if(e.lastInvokeTime){var a=g.Z.commonUtils.isNumber(r[e.space])?r[e.space]:i,o=Date.now()-e.lastInvokeTime.getTime();o>a||n&&e.lastInvokeTime.getTime()<n?(t=!0,ja.infof(null,"Re-auctioning Unit: %o",e)):(t=!1,ja.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(a-o)/1e3,e]))}else t=!0;else t=!1;return t}))},this.spaceRefreshOnInterval;var e={GOOGLETAG:"GOOGLETAG",ON_INTERVAL:"ON_INTERVAL",ON_RETURN_TO_PAGE:"ON_RETURN_TO_PAGE",BY_FORCE:"BY_FORCE"};this.TRIGGERS=e;var t,n,i=new Map;function r(e){var t=e.space,n=e.trigger,r=e.whenVisibility,a=e.skipComplianceCheck,o=e.minTimeBetweenRefreshes,s=e.expiresAt;"IS_VISIBLE"===r&&h.Y.fireEvent("dontQueueViewableRefreshes",{space:t})?ja.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:t.name,trigger:n,space:t,whenVisibility:r,skipComplianceCheck:a,minTimeBetweenRefreshes:o,expiresAt:s||"Never"}):i.set(t,{space:t,trigger:n,whenVisibility:r,skipComplianceCheck:a,minTimeBetweenRefreshes:o,expiresAt:s})}var a,o=500;function s(e){return Array.from(e.values()).map((function(e){var t=e.space,n=Br(e,Ca);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({spaceName:t.name,space:t},n)}))}};function Xa(e){var t=h.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((function(e){return e.countOfDispatches<t})):e}function Ua(e,t){return Ha.minTimeBetweenAuctionsUnitsFilter(e,t)}function Pa(e){return e.filter((function(e){return!h.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})}))}function Wa(e){var t=e.map((function(e){return e.element}));return e.filter((function(e,n){return t.indexOf(e.element)==n}))}function La(e){var t=e.getAdUnitPath();"/"===t.charAt(0)&&(t=t.slice(1));var n,i=t.split("/"),a=r(n=i)||l(n)||o(n)||s(),c=a[0],d=a.slice(1);return{networkCode:c,adUnit:"/".concat(d.join("/"))}}function Fa(e,t){return new Promise((function(n,i){t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){var i=window.googletag.pubads().getSlots(),r=[];e.forEach((function(e){t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.dfpSettings.enabled?i.forEach((function(t){t.getSlotElementId()===e.element.getAttribute("id")&&(e.gamAdUnitPath=La(t),r.push(e))})):r.push(e)})),n(r)})):n(e)}))}var Va=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),h.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),h.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),h.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},Ka=function(e){if("dfp"===e)return Va};function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qa,qa=new m.Z({prefix:"prebidPostset: "}),$a=new Date,eo=function(){var e;Qa=f.Z.cpbjs,f.Z.upoSettings.prebidTimeout=h.Y.fireEvent("prebidTimeout")||f.Z.upoSettings.prebidTimeout,function(){var e=f.Z.SharedObject.getItem("whitelistingIFrame");e?Qa.setCookieFrame({frame:e,isBTSafeFrameDomain:e.src===Cn.W}):h.Y.addEventListener("whitelistingIFrameLoaded",(function(e){Qa.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:e.data.whitelistingIFrame.src===Cn.W})}))}(),function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var n=e.getConfig("consentManagement");if(n&&(n.gdpr||n.usp))return void Qa.setConfig({consentManagement:n})}}catch(e){qa.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:Qa.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},Qa.setConfig(t)}}))}catch(e){qa.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:Qa.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},Qa.setConfig(t)}}))}catch(e){qa.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var n={consentManagement:Qa.getConfig().consentManagement||{}};n.consentManagement.usp={cmpApi:"iab",timeout:100},Qa.setConfig(n)}}))}catch(e){qa.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),function(){var e=[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}},{name:"id5Id",params:{partner:993},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}];if(h.Y.hasEventListener("enableLiveRamp")){var t={name:"identityLink",params:{pid:"13441"},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}};e.push(t)}Qa.que.push((function(){Qa.setConfig({userSync:{userIds:e,auctionDelay:50}})}))}(),e={},Qa.onSendLog((function(t,n,i,r){if(ro===pi&&r.meta.fired){var a=1;e[r.meta.uid]=(0,Dn.getTrueByProbability)(a)}if(e[r.meta.uid])return r=Ja(Ja({},r),{},{sendPercentage:101,sendToServer:!0}),void qa.infof(t,n,i,r);r.sendPercentage&&(r=Ja(Ja({},r),{},{sendToServer:!0}),qa.infof(t,n,i,r))})),Qa.onBeforeRequest((function(e){var t=e&&g.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&h.Y.fireEvent("addCriteoAdblockQueryParam")){var n=t.includes("abp=1");t=n?t:"".concat(t,"&abp=1")}return t})),Qa.aliasBidder("pulsepointLite","pulsepoint"),Qa.aliasBidder("indexExchange","ix"),Qa.aliasBidder("ix","indexExchange"),Qa.aliasBidder("my6sense","upo2"),Qa.aliasBidder("lockerdome","upo3"),Qa.aliasBidder("appnexus","appnexus_cl"),Qa.aliasBidder("appnexus","phaedrus"),Qa.aliasBidder("rubicon","rubi_ttd"),Qa.aliasBidder("rubicon","rubi_mm"),Qa.aliasBidder("rubicon","pgRubicon"),Qa.aliasBidder("rubicon","rubiconAU"),Qa.aliasBidder("rubicon","rubi_ss"),Qa.aliasBidder("colossus","colossusssp"),Qa.aliasBidder("pubmatic","PubmaticAU"),Qa.aliasBidder("pubmatic","pubmatic_cl"),Qa.aliasBidder("pubmatic","pubmatic_alien"),function(){var e,t=null===(e=window._pbjsGlobals)||void 0===e?void 0:e.find((function(e){return"upbjs"!==e})),n=window.pbjs||window[t];null!=n&&n.bidderSettings&&(Qa.bidderSettings=n.bidderSettings);var i,r,a=(null==n?void 0:n.getConfig)&&n.getConfig(),o="high";if(a){ao();var s=a.customPriceBucket,c=a.priceGranularity;o="custom"===c?s:c,i=a.currency,r=a.schain}else var d=100,l=0,u=setInterval((function(){var e;if(l>d)clearInterval(u);else{var t=null===(e=window._pbjsGlobals)||void 0===e?void 0:e.find((function(e){return"upbjs"!==e})),n=window.pbjs||window[t];(null==n?void 0:n.getConfig)&&n.getConfig()?(ao(),clearInterval(u)):l++}}),100);Qa.setConfig({bidderTimeout:f.Z.upoSettings.prebidTimeout,maxRequestsPerOrigin:6,priceGranularity:o,schain:r,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0,aliasSyncEnabled:!0},floors:{enforcement:{floorDeals:!0},data:{schema:{fields:["mediaType"]},values:{banner:.03}}}}),i&&Qa.setConfig({currency:i});h.Y.fireEvent("priceFloor",{cpbjs:Qa})}(),Qa.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}}),h.Y.hasEventListener("enableLiveRamp")&&Qa.que.push((function(){Qa.enableAnalytics([{provider:"atsAnalytics",options:{pid:"13441"}}])}));var t,n,i=h.Y.fireEvent("scrapePrebidRequestBids");i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onListenerAdded,n=e.pollingInterval,i=void 0===n?100:n,r=e.maxIntervalCount,a=void 0===r?50:r;if(no())io(t);else var o=0,s=setInterval((function(){++o>=a?clearInterval(s):no()&&(clearInterval(s),io(t))}),i)}(i),h.Y.fireEvent("addIndexExchangeWrappers")&&function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(var n in e)Qa.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=Qa.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),(t=h.Y.fireEvent("provideSChainConfig"))&&Qa.que.push((function(){try{if(!window[t.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");Qa.setConfig({schain:window[t.prebidVariable].getConfig("schain")})}catch(n){try{var e=t.manualFallback||{};Qa.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==e.complete&&void 0!==e.complete?e.complete:1,nodes:[{asi:e.asi,sid:e.sid,hp:null!==e.hp&&void 0!==e.hp?e.hp:1}]}}})}catch(e){qa.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}})),h.Y.fireEvent("prebidDoneInit",{cpbjs:Qa}),(n=(h.Y.fireEvent("snigelAdapterConfiguration")||{}).websiteStoredRequestId)&&(Qa.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:n}}}]}),to()),function(){if(h.Y.hasEventListener("enableRelayAdapter")){var e=(h.Y.fireEvent("enableRelayAdapter")||{}).sid||f.Z.SharedObject.getItem("websiteConfig").websiteID;Qa.setConfig({relayAccountId:12021}),Qa.setBidderConfig({bidders:["relay"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"blockthrough.com",sid:e,hp:1}]}}}}),to()}}()};function to(){Qa.bidderSettings={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return"s2s"===e.source||"relay"===e.bidderCode?"btd":e.bidderCode}},{key:"hb_bidder_btd",val:function(e){if("s2s"===e.source||"relay"===e.bidderCode)return"btd"}},{key:"hb_pb",val:function(e){if("s2s"!==e.source&&"relay"!==e.bidderCode)return Gn(e)}},{key:"hb_pb_btd",val:function(e){if("s2s"===e.source||"relay"===e.bidderCode)return Gn(e)}},{key:"hb_size",val:function(e){if("s2s"!==e.source&&"relay"!==e.bidderCode)return e.size}},{key:"hb_size_btd",val:function(e){if("s2s"===e.source||"relay"===e.bidderCode)return e.size}},{key:"hb_format",val:function(e){if("s2s"!==e.source&&"relay"!==e.bidderCode)return"banner"}},{key:"hb_format_btd",val:function(e){if("s2s"===e.source||"relay"===e.bidderCode)return"banner"}},{key:"hb_adid",val:function(e){if("s2s"!==e.source&&"relay"!==e.bidderCode)return e.adId}},{key:"hb_adid_btd",val:function(e){if("s2s"===e.source||"relay"===e.bidderCode)return e.adId}}]}}}function no(){return window.pbjs&&window.pbjs.onEvent}function io(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){var t=window.pbjs.adUnits||[],n=t.map((function(e){return e.code})),i=e.filter((function(e){return!n.includes(e.code)}));i.length>0&&(window.pbjs.adUnits=[].concat(u(t),u(i)))})),e&&e()}catch(e){qa.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var ro=bi();function ao(){var e=f.Z.SharedObject.getItem("websiteConfig"),t={sendToServer:!0,sendPercentage:1,event:"pbConfig-defined",meta:{organizationID:e.organizationID,websiteID:e.websiteID,pbConfigDefinedTimeDiffMs:new Date-$a}};qa.infof(null,"pbConfig is defined",t,t)}var oo=function(e){if("prebid"===e)return eo},so=new function(){var e=new g.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+Dn.topmostAccessibleWindow.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var r=window.googletag._vars_,a=[21063911,21063048,21063670,21063817,21063671],o=[];for(var s in r){var c=r[s];if("string"==typeof c&&c.indexOf("pubads_impl_")>-1&&!n)try{n=!0;var d=document.createElement("script");d.async="true",d.type="text/javascript",d.addEventListener("load",(function(){e()})),d.addEventListener("error",(function(e){t(e)})),c.indexOf("?")>-1?d.src=c+"&upapi=true":d.src=c+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(d)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(c))try{var l=c.length;if(a)for(;l--;){var u=c[l];a.indexOf(u)>-1&&c.splice(l,1)}if(o)for(var f=0;f<o.length;f++){var p=o[f];-1===c.indexOf(p)&&c.push(p)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},co=__webpack_require__(228),lo=new g.Z.SubscriptionLayer,uo=!1,fo=function(e){switch(uo||uo||(uo=!0,so.subscribeForEvent("preset",(function(){ho("dfp")})),so.subscribeForEvent("postset",(function(){mo("dfp")})),co.k.subscribeForEvent("preset",(function(){ho("prebid")})),co.k.subscribeForEvent("postset",(function(){mo("prebid")}))),e){case"dfp":so.load();break;case"prebid":co.k.load()}},po=function(e,t){lo.subscribeForEvent(e,t)},ho=function(e){lo.invokeEventCallbacks(e)},go=function(e,t){lo.subscribeForEvent(e,t)},mo=function(e){lo.invokeEventCallbacks(e)},vo=new m.Z({prefix:"defaultCreativeBid: "});function bo(e,t){var n=[],i=!1;function r(t){var r=e.height+"px",a=e.width+"px",o=e.creativeHTML,s=document.createElement("div");s.className="default-creative-container",s.style.height=r,s.style.width=a;var c=Vi.whitelistingIFrame.createWhitelistingIFrame(e.customWhitelistingIFrameURL);c.className="default-creative-iframe",c.style.border="0",c.setAttribute("scrolling","no"),c.setAttribute("marginwidth","0"),c.setAttribute("marginheight","0"),c.setAttribute("height",r),c.setAttribute("width",a),s.appendChild(c);c.addEventListener("load",(function e(){try{if(c.removeEventListener("load",e),c.src===Cn.W)c.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:o}),"*");else{var t=c.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var r=navigator.userAgent.toLowerCase().match(/firefox\/([\d.]+)/)[1];r&&parseInt(r,10)<67&&t.open("text/html","replace")}t.write(o),t.close()}i=!0,n.forEach((function(e){return e()}))}catch(e){vo.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),t.appendChild(s)}var a={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:e.providerName||"default-creative",width:e.width,height:e.height},o=new ii.Bid(a,a,ii.Bid.Types.DEFAULT_CREATIVE,void 0,(function(e){r(e.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return o}var wo=__webpack_require__(400);var yo=new m.Z;const Mo={flagStickySpaces:function(e){if(!(window.innerWidth*window.innerHeight<=f.Z.consts.acceptableStandardScreenSize.width*f.Z.consts.acceptableStandardScreenSize.height)){var t=e.reduce((function(e,t){var n=document.querySelector(t.selector.value);if(!n)return e;for(var i=n,r=0;r<=5;r++){if(["sticky","fixed"].includes(window.getComputedStyle(i).position))return[].concat(u(e),[[t,n]]);if(!(i=i.parentElement))break}return e}),[]),n=t.map((function(e){var t=c(e,2),n=t[0],i=t[1],r=n.sizes.map((function(e){var t=function(e){if("fluid"===e)return{width:320,height:50};var t=c(e.split("x").map((function(e){return Number(e)})),2);return{width:t[0],height:t[1]}}(e);return{width:t.width,height:t.height,id:n.id,element:i,space:n}})).sort((function(e,t){return t.width*t.height-e.width*e.height}));return c(r,1)[0]})).filter((function(e){return e})),i=n.reduce((function(e,t,i){var r=(0,Dn.getElementBoundingClientRect)(t.element);if(r.width+r.height+r.top+r.bottom===0)return e;if(0===i)return t.width*t.height;var a=n[i-1],o=(0,Dn.getElementBoundingClientRect)(a.element),s=o.width+o.height+o.top+o.bottom===0;return Math.abs(r.top-o.top)<=window.innerHeight&&Math.abs(r.left-o.left)<=window.innerWidth&&!s?e+t.width*t.height:t.width*t.height}),0);wo.h.setItem("totalAdSpace.stickySizes",{totalArea:i,sizes:n});var r={viewportSize:"".concat(window.innerWidth,"x").concat(window.innerHeight),totalArea:i,sizes:n.map((function(e){var t=e.width,n=e.height;return{spaceName:e.space.name,width:t,height:n}}))};yo.infof(null,"totalAdSpace.stickySizesDetected -> ",r,{event:"totalAdSpace.stickySizesDetected",sendToServer:t.length>0,sendPercentage:1,meta:r})}}};var _o=__webpack_require__(280);function Eo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Do(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=new m.Z,Ao=new function(){var e,t=!1,n=[],i=[],r=!1;function a(){return window.pbjs&&window.pbjs.adUnits}function o(e){return c(y(e))}function s(){var e=[],t=h.Y.fireEvent("auctionBlockerHook");t&&e.push(t);var n=function(){if(f.Z.upoSettings.amazonBidderConfiguration.enabled&&!window.apstagLOADED){if(!Gr){Gr=!0;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//c.amazon-adsystem.com/aax2/apstag.js?upapi=true",e.addEventListener("load",(function(){var e,t,n;window.apstag.init({pubID:f.Z.upoSettings.amazonBidderConfiguration.pubID,adServer:"googletag",schain:null===(e=(t=f.Z.cpbjs).getConfig)||void 0===e||null===(n=e.call(t).schain)||void 0===n?void 0:n.config}),Lr()})),e.addEventListener("error",(function(){return Lr()})),(document.head||document.body||document.documentElement).appendChild(e);var t=0,n=setInterval((function(){(window.apstagLOADED||t>=25)&&(clearInterval(n),Lr()),t++}),100)}return qr}}();return n&&e.push(n),e}function c(t,i){var r=s();return Promise.all(r).then((function(){return function(e){var t=[],n=[];return e.forEach((function(e){var i,r,a=Vi.commonBLUtils.getSpaceElement(e);a&&((i=Ra.getByElement(a))||((r=a).alreadyWraped||(mr.hookFunction(r,"setAttribute",mr.Types.SET_ATTRIBUTE_PRE,void 0,!0),r.alreadyWraped=!0),i=new ii.Unit({element:a,space:e}),h.Y.fireEvent("onNewUnitFound",i),Ra.set(i),n.push(i)),i&&i.space==e&&t.push(i))})),function(e){var t=h.Y.fireEvent("newGAMSlotsOnUnitCreation")||{},n=t.AD_UNIT_PATH_PREFIX,i=t.deriveDataFromUnitForSpaces,r=t.slotDataBySpaceName;e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((function(e){var t,a,o,s=e.unitID,c=e.element,d=e.space,l=i&&i.includes(d.name)&&n,u=r&&r[d.name];if(l||u){if(u){var f=r[d.name]||{};t=f.adUnitPath,a=f.sizes,o=f.slotElementId}!t&&n&&(t="".concat(n).concat(d.name)),a||(a=d.sizes.map((function(e){return e.split("x").map((function(e){return parseInt(e,10)}))})).filter((function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}))),o||(c.id||c.setAttribute("id","bt-unit-".concat(s)),o=c.id),t&&a&&a.length>0&&o&&Nr(t,a,o)}}))}catch(e){Sr.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t)})).then((function(t){return function(t,i){return new Promise((function(r,a){if(0!==t.length){h.Y.fireEvent("onBeforeInvokeDispatch",{spaces:t.map((function(e){return e.space}))}),function(e){e.forEach((function(e){var t=e.space;h.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var o=(null==i?void 0:i.filteringSettings)||{};(function(e,t){return w.apply(this,arguments)})(t,o).then((function(t){try{if(Jr(t),r(t||[]),!t||0===t.length)return;try{Mo.flagStickySpaces(kr.getAll())}catch(e){No.errorf(null,"recovery: totalAdSpace.flagStickySpaces %o",e)}var a=t.map((function(e){return e.space}));Vi.movePositionService.dispatch(a);var o=t.map((function(e){var t;return new ii.Auction({unit:e,refreshTrigger:null==i||null===(t=i.refreshTriggerBySpace)||void 0===t?void 0:t[e.space]})}));if(h.Y.fireEvent("onAuctionGroupStarted",o),function(e){var t,i,r,a=null===(t=f.Z.cpbjs)||void 0===t||null===(i=t.getConfig())||void 0===i||null===(r=i.schain)||void 0===r?void 0:r.config;No.infof(null,"auctionsStarted: schain config",null==a?void 0:a.nodes,{event:"auctionsStarted: schain config",sendToServer:!0,sendPercentage:1,meta:{schainConfig:a||null}}),e.forEach((function(e){if(e.state=ii.Auction.States.DISPATCHED,e.unit.state=ii.Unit.States.DISPATCHED,n.push(e),e.unit.countOfDispatches++,e.refreshTrigger){var t=(e.unit.countOfDispatchesByRefresh[e.refreshTrigger]||0)+1;e.unit.countOfDispatchesByRefresh[e.refreshTrigger]=t}e.unit.lastInvokeTime=new Date,e.schainHash=a?"".concat(Tn(JSON.stringify(a))):null,h.Y.fireEvent("onAuctionStarted",{auction:e})}))}(o),Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;h.Y.fireEvent("onPrebiddingStarted",o);var s=Oa.dispatchPrebid(o);Promise.all(s).then((function(t){if(h.Y.fireEvent("onPrebiddingEnded",o),!Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag){var n=Oa.dispatchDFP(o),i=[],r={url:Dn.topmostAccessibleWindow.location.href,units:[],websiteID:f.Z.SharedObject.getItem("websiteConfig").websiteID,initialViewportSize:{height:Dn.topmostAccessibleWindow.innerHeight,width:Dn.topmostAccessibleWindow.innerWidth}},a=r.initialViewportSize.height*r.initialViewportSize.width,s=0;n.forEach((function(t){t.then((function(t){s+=1;var c=o.find((function(e){return e.auctionId==t.auctionId})),d=c.getWinningBid();if(d){var l=c.unit.element;if((0,_o.T)(l)){i.push({width:d.width,height:d.height,area:d.width*d.height});var u=i.reduce((function(e,t){var n=t.width,i=t.height,r=t.area;return{width:e.width+n,height:e.height+i,area:e.area+r}})),f={};f.spaceName=c.unit.space.name,c.unit.gamAdUnitPath&&(f.adUnitPath=c.unit.gamAdUnitPath.adUnit),r.units.push(f),r.adCoverage="".concat(Math.round(100*u.area/a),"%")}}if(n.length===s&&parseInt(r.adCoverage,10)>0&&No.infof(null,"ATF detection at the auction level",r,{event:"ATF detection at the auction level",sendToServer:!0,sendPercentage:1,meta:r}),d&&d.type===ii.Bid.Types.PREBID&&0===d.additionalBidsToRender.length&&e.dfp&&c.unit.space.dfpSettings.enabled&&c.cancelAllCurrentBids(),!Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag){var p,g,m,v,b,w,y,M=h.Y.fireEvent("getDefaultCreative",{auction:c}),_=(p=c.unit.space.sizes,b=!1,w="https://helpua.nazk.gov.ua/?utm_source=adt_f&utm_medium=cpm&utm_campaign=Blockthrough&utm_id=adt_f_traffic",["728x90","300x250","160x600"].every((function(e){if(p.includes(e)){var t=e.split("x");return m=t[0],g=t[1],v=function(e){var t,n,i={"300x250":["300x250-1.jpg","300x250-2.png","300x250-3.jpg","300x250-4.jpg"],"160x600":["160x600-1.jpg","160x600-2.png","160x600-3.jpg","160x600-4.jpg"],"728x90":["728x90-1.jpg","728x90-2.png","728x90-3.jpg","728x90-4.jpg"]},r=null===(t=i[e])||void 0===t?void 0:t[Math.floor(Math.random()*(null===(n=i[e])||void 0===n?void 0:n.length))];return r?"//ads2ads.net/ua/".concat(r):null}(e),b=!!v,!1}return!0})),b?{width:m,height:g,creativeHTML:"<a href='".concat(w,"' target='_blank'><img src='").concat(v,"'></a>"),providerName:"uaCharityV2"}:null),E=!h.Y.fireEvent("disableSMCDefaultCreatives"),D=!h.Y.fireEvent("disablePSACountryDefaultCreatives"),T=Vi.userCountry.getUserCountry(),S="RU"===T||"BY"===T;S&&E&&D?y=function(e,t){var n=["120x600","250x250","300x250","336x280","728x90"],i=["120x600","250x250","300x250","336x280","728x90"];e=e.filter((function(e){return"RU"===t?n.includes(e):i.includes(e)}));var r=e[Math.floor(Math.random()*e.length)],a="RU"===t?"r":"b",o=function(e,t){var n,i,r,a,o={"120x600":["120x600-1.jpg","120x600-2.jpg","120x600-3.jpg","120x600-4.jpg","120x600-5.jpg","120x600-6.jpg","120x600-7.jpg","120x600-8.jpg","120x600-9.jpg","120x600-10.jpg","120x600-11.jpg","120x600-12.jpg"],"250x250":["250x250-1.jpg","250x250-2.jpg","250x250-3.jpg","250x250-4.jpg","250x250-5.jpg","250x250-6.jpg","250x250-7.jpg","250x250-8.jpg","250x250-9.jpg","250x250-10.jpg","250x250-11.jpg","250x250-12.jpg"],"300x250":["300x250-1.jpg","300x250-2.jpg","300x250-3.jpg","300x250-4.jpg","300x250-5.jpg","300x250-6.jpg","300x250-7.jpg","300x250-8.jpg","300x250-9.jpg","300x250-10.jpg","300x250-11.jpg","300x250-12.jpg"],"336x280":["336x280-1.jpg","336x280-2.jpg","336x280-3.jpg","336x280-4.jpg","336x280-5.jpg","336x280-6.jpg","336x280-7.jpg","336x280-8.jpg","336x280-9.jpg","336x280-10.jpg","336x280-11.jpg","336x280-12.jpg"],"728x90":["728x90-1.jpg","728x90-2.jpg","728x90-3.jpg","728x90-4.jpg","728x90-5.jpg","728x90-6.jpg","728x90-7.jpg","728x90-8.jpg","728x90-9.jpg","728x90-10.jpg","728x90-11.jpg","728x90-12.jpg"]},s={"120x600":["120x600-13.jpg","120x600-14.jpg"],"250x250":["250x250-13.jpg","250x250-14.jpg"],"300x250":["300x250-13.jpg","300x250-14.jpg"],"336x280":["336x280-13.jpg","336x280-14.jpg"],"728x90":["728x90-13.jpg","728x90-14.jpg"]},c="r"===t?null===(n=o[e])||void 0===n?void 0:n[Math.floor(Math.random()*(null===(i=o[e])||void 0===i?void 0:i.length))]:null===(r=s[e])||void 0===r?void 0:r[Math.floor(Math.random()*(null===(a=s[e])||void 0===a?void 0:a.length))];return c?"//ads2ads.net/".concat(t,"/").concat(e,"/").concat(c):null}(r,a);if(o){var s=a+"PSA",c="r"===a?"https://youtu.be/EJasSVlSGf8":"https://t.me/lukabekkk/16";return{width:(r=r.split("x"))[0],height:r[1],creativeHTML:'<a href="'+c+'" target="_blank"><img src="'+o+'"></a>',providerName:s}}return null}(c.unit.space.sizes,T):M?y=M:_&&E&&(y=_),y&&((S&&E&&D||Dn.topmostAccessibleWindow.localStorage.getItem("forceDefaultCreative"))&&c.cancelAllCurrentBids(),c.hasAWinningBid()||c.addBids([bo(y,c)])),c.subscribeForEvent("auctionRendered",(function(){var e=c.getWinningBid();c.unit.countOfRenders++,h.Y.fireEvent("onAuctionRendered",{auction:c,winningBid:e}),h.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:c.unit.space,element:c.unit.element,winningBid:e});var t=c.unit.countOfRenders;!function(e,t){var n,i;if(Or.has(e))Zr.get(e).push(t);else{var r=new Promise((function(e,t){n=e,i=t}));Or.set(e,[n,i]),Zr.set(e,[t]),r.then((function(){Zr.get(e).forEach((function(e){return e()}))})).finally((function(){Or.delete(e),Zr.delete(e)})),Cr(e,n,i)}}(c.unit.element,(function(){t==c.unit.countOfRenders&&(h.Y.fireEvent("onAdViewed",{auction:c,winningBid:e}),h.Y.fireEvent("onAdViewedWebsiteHook",{space:c.unit.space,element:c.unit.element,winningBid:e}))}))})),c.subscribeForEvent("renderBidDone",(function(e){var t=e.bidWasSuccessfullyRendered,n=e.adUnitElementIsMissing,i=c.getWinningBid();h.Y.fireEvent("onAuctionEnded",{auction:c,winningBid:i,adUnitElementIsMissing:n}),h.Y.fireEvent("onAuctionEndedWebsiteHook",{element:c.unit.element,bid:t?i:void 0})})),c.renderWinningBid(),c.unit.state=ii.Unit.States.PENDING,Ha.spaceRefreshOnInterval&&Ha.spaceRefreshOnInterval({space:c.unit.space,unitDispatchCount:c.unit.countOfDispatches})}}))}))}}))}catch(e){No.errorf(null,"recovery: filterUnits %o",e)}}))}else r([])}))}(t,i)})).then((function(e){return e.map((function(e){return e.space}))}))}function d(e){var t,n='[id="'.concat(e,'"]');if(t=g.Z.commonUtils.getElementWithSelector(n)){var i=Ra.getByElement(t);return i?i.space:y().find((function(e){var n=Vi.commonBLUtils.getSpaceElement(e);return n&&n===t}))}}this.invoke=function(s){if(!Dn.topmostAccessibleWindow.__bt_intrnl.stopFlag&&!t){t=!0,e=s.settings||{};var l,u,p=kr.set(s.spaces);r=h.Y.fireEvent("alwaysFilterByGoogletagSlots")||f.Z.upoSettings.amazonBidderConfiguration.enabled,function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],i=[],r=Ka(t),a=oo(t);r&&n.push(r),a&&i.push(a);var o=h.Y.fireEvent("thirdPartyModulePreset",{type:t}),s=h.Y.fireEvent("thirdPartyModulePostset",{type:t});o&&n.push(o),s&&i.push(s),n.forEach((function(e){return po(t,e)})),i.forEach((function(e){return go(t,e)})),fo(t)}}(e),(e.dfp||r)&&(l=window.googletag&&window.googletag.cmd.unshift?"unshift":"push",window.googletag.cmd[l]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){var r=e(t,n,i);return setTimeout((function(){if(r){if(Ar(r))return;m(r)}}),0),r},h.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,n){var i=t(e,n);return setTimeout((function(){if(i){if(Ar(i))return;m(i)}}),0),i}}}))),window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){return Ar(e)}))})),u=kr.getAll(),h.Y.fireEvent("listenToNewSpaces",{spaces:u,callback:function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=n&&new ii.Space(n);kr.set(i)}o()}}}),(i=h.Y.fireEvent("movePositionRules")||[])&&i.length>0&&Vi.movePositionService.setMovePositionRules(i),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){lr.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}(),fr(),hr(Dr()((function(){o()}),500)),window.addEventListener("locationChange",(function(){setTimeout(o,1001)})),Ha.initialize({invokeSpaces:c}),h.Y.addEventListener("websiteHooksGetSpaces",(function(){return kr.getAll()}));var b=h.Y.fireEvent("scrapePrebidAdUnits");b&&("boolean"==typeof b&&(b={}),function(e){var t,n=e.getAdUnits||a,i=e.filterOutAdUnit,r=e.parseAdUnit,s=e.postParsingAdUnits,c=e.parseInterval||1e3,d=[],l=function(){if((t=n()||[]).length>0){for(var e=[],a=[],c=0;c<t.length;c++){var l=t[c];if(l&&!(d.indexOf(l)>=0)){var u=JSON.parse(JSON.stringify(l)),p=r?r(u):u;!p||i&&i(p)||(d.push(l),e.push(p))}}if(0===e.length)return;if((e=s?s(e):e).forEach((function(e){if(e){var t=function(e){try{var t,n,i,r,a=function(e){return 2===e.length&&e.every((function(e){return!Array.isArray(e)&&!isNaN(e)}))},o=function(e){return"".concat(e[0],"x").concat(e[1])},s={},c=e.selector||g.Z.commonUtils.escapeSelector("#"+e.code),d=e.sizes;if(d||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(d=e.mediaTypes.banner.sizes),!d)return;t=a(d)?[o(d)]:d.filter(a).map(o),s.id=e.id,s.id||(s.id="space_"+Tn(e.code+"_"+c)),s.id=s.id.substr(0,500),s.name=e.code,s.deviceType=e.deviceType,s.sizes=t,s.selector={position:0,value:c},e.bids?s.prebidSettings={enabled:!0,bidders:null!==(n=null===(i=(r=e.bids).map)||void 0===i?void 0:i.call(r,(function(e){return e.params=e.params||{},{id:Sn(s.id,e.bidder,e.params),name:e.bidder,params:e.params}})))&&void 0!==n?n:[]}:s.prebidSettings={enabled:!1,bidders:[]},s.prebidSettings.bidders=Tr(s.prebidSettings.bidders);var websiteConfig=f.Z.SharedObject.getItem("websiteConfig"),l=h.Y.fireEvent("enableComplianceSecondPass");return websiteConfig.dfpEnabled?s.dfpSettings={adxId:s.name+"_adx",directId:s.name+"_direct",enabled:!0,order:[{params:{},adx:{bidderID:s.name+"_adx",testCompliance:!0},direct:{bidderID:s.name+"_direct"}},{params:{queryParams:l?{}:{ad_type:"text"}},adx:{bidderID:s.name+"_adx",testCompliance:!!l},direct:{bidderID:s.name+"_direct"}}]}:s.dfpSettings={enabled:!1},s}catch(e){Sr.errorf(null,"error in parsing prebid ad unit - err: %o",e)}}(e),n=t&&new ii.Space(t);if(n)kr.getSpacesByName(n.name).length>0||a.push(n)}})),0===a.length)return;kr.set(a),o(a)}};l(),setInterval((function(){l()}),c)}(b)),h.Y.hasEventListener("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){!d(e.getSlotElementId())&&h.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&kr.set(v(e))}))})),(e.dfp||r)&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){m(e)}))})),window.__upo_d.getSpaces=function(){return kr.getAll()},window.__upo_d.getUnits=function(){return Ra.getAll()},window.__upo_d.getAuctions=function(){return n},o(p);var w=1,y=setInterval((function(){15===w&&clearInterval(y),w++,o(p)}),100)}};var l,p=[];function m(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),i=kr.getAll(),r=d(t);if(!r){if(h.Y.fireEvent("useSlotPath"))r=kr.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var a=h.Y.fireEvent("customGetSpace",{spaces:i,divId:t,slot:e});a&&(r=i.find((function(e){return e.name==a.name})))}(r=r&&JSON.parse(JSON.stringify(r)))&&(r.selector.value=g.Z.commonUtils.escapeSelector("#"+t),r.templateSpaceName=r.name,r.name=t,kr.set(r))}!r&&h.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&kr.set(v(e)),r&&p.indexOf(r)<0&&(p.push(r),clearTimeout(l),l=setTimeout((function(){c(p),p=[]}),100))}function v(t){if(t&&!h.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t})){var n=t.getSlotElementId(),i=t.getSizes().map((function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()})).filter((function(e){return!!e})),r="adxId_"+n,a="directId_"+n,o=h.Y.fireEvent("enableComplianceSecondPass"),s={id:n,name:n,staging:!1,selector:{value:g.Z.commonUtils.escapeSelector("#"+n),position:f.Z.consts.selectorPosition.APPEND_CHILD},sizes:i,prebidSettings:{enabled:!0,bidders:[]},dfpSettings:{adxId:r,directId:a,enabled:e.dfp,order:[{params:{},adx:{bidderID:r,testCompliance:!0},direct:{bidderID:a}},{params:{queryParams:o?{}:{ad_type:"text"}},adx:{bidderID:r,testCompliance:!!o},direct:{bidderID:a}}]}};return s.prebidSettings.bidders=[],new ii.Space(s)}}var b=[Xa,Ua,Pa,Wa,Fa];function w(){return(w=yr(_r().mark((function t(n,i){var a,o,s,c,d,l;return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:r}},i=So(So({},a),i),!((o=n.filter((function(e){return e.state===ii.Unit.States.PENDING}))).length>0)){t.next=27;break}o.forEach((function(e){e.state=ii.Unit.States.CHECKING})),s=u(o),c=Eo(b),t.prev=7,c.s();case 9:if((d=c.n()).done){t.next=19;break}return l=d.value,t.next=13,l(o,i);case 13:if(o=t.sent,s=s.filter((function(e){var t=o.includes(e);return t||(e.state=ii.Unit.States.PENDING),t})),0!==o.length){t.next=17;break}return t.abrupt("break",19);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),c.e(t.t0);case 24:return t.prev=24,c.f(),t.finish(24);case 27:return t.abrupt("return",o);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})))).apply(this,arguments)}function y(e){var t=e||kr.getAll();return Ra.purgeUnitsWithNoElementOnPage(),t.filter((function(e){return!Ra.getBySpace(e)}))}};function ko(e){return Dn.topmostAccessibleWindow.location.hostname.indexOf(e)>-1}var hookUtils={isSite:ko,isSiteOneOf:function(e){return e.some((function(e){return ko(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")}};function Bo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zo=bi(),Io=[{name:"AdBlock",id:zo===pi?"gighmmpiobklfepjocnamgkkbiglidom":"119ee911-db0c-4be2-bffe-73717aaf7c75",webAccessibleResources:["adblock-onpage-icon.svg","adblock-ads-allowed-icon.svg","adblock-ads-blocked-icon.svg","icons/ab-19.png","icons/icon24.png"]}];function Oo(){if(zo===pi||zo===hi){var e=[];Promise.allSettled(Io.map((function(t){return function(e){var t,n=zo===pi?"chrome-extension":"moz-extension",i=Bo(e.webAccessibleResources);try{for(i.s();!(t=i.n()).done;){var r=t.value;try{return fetch("".concat(n,"://").concat(e.id,"/").concat(r)).then((function(t){if(t.ok)return e.name}))}catch(e){}}}catch(e){i.e(e)}finally{i.f()}}(t).then((function(t){return e.push(t)}))}))).then((function(){return f.Z.SharedObject.setItem("installedUserExtensions",e)}))}}var Zo=new m.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",Dn.topmostAccessibleWindow.__bt_intrnl=Dn.topmostAccessibleWindow.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Ro,Co,Yo={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},jo=Yo.spaces||{},Ho="api.btloader.com",Xo=f.Z.upoSettings.staticDomain,Uo=f.Z.upoSettings.recoveryScriptVersion;(Dn.topmostAccessibleWindow.location.href.indexOf("bt_debug=true")>=0||"true"===Dn.topmostAccessibleWindow.localStorage.getItem("bt_debug"))&&(Yo.dfpEnabled="true"===Dn.topmostAccessibleWindow.localStorage.getItem("forceGAM")||Yo.dfpEnabled,Yo.mobileContentEnabled="true"===Dn.topmostAccessibleWindow.localStorage.getItem("forceMobileContent")||Yo.mobileContentEnabled,Yo.contentEnabled="true"===Dn.topmostAccessibleWindow.localStorage.getItem("forceContent")||Yo.contentEnabled);var Po,Wo=dr,websiteConfig={websiteData:Yo,scriptSettings:Wo,apiDomain:Ho,staticDomain:Xo,websiteID:"5742176156254208",organizationID:"5684350990417920",dfpEnabled:Yo.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Yo.mobileContentEnabled,contentEnabled:Yo.contentEnabled,recoveryScriptVersion:Uo};window.__upo_d.websiteConfig=websiteConfig,f.Z.SharedObject.setItem("websiteConfig",websiteConfig);var Lo=function(){return{browser:bi(),device:yi(),platform:wi(),isMobile:Mi()}};var Fo=function(){Go(window),Qo(),Vi.whitelistingIFrame.setupWhitelistingIFrameSettings().then(Ko),function(){window.addEventListener("message",(function(e){var t=e.data,n=t.message,i=t.blocklistedCreatives;"Get Blocklist Creatives"===n&&f.Z.SharedObject.setItem("creativesIdBlocklist",i)}));var e=Vi.whitelistingIFrame.createWhitelistingIFrame(Cn.W);e.style.width="0px",e.style.height="0px",e.style.setProperty("display","none","important"),e.addEventListener("load",(function(){e.contentWindow.postMessage({message:"Get Blocklist Creatives"},"https://".concat(Cn.I.staticDomain))})),document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))}(),h.Y.fireEvent("clearSpaces")&&(jo=[]),Vo()},Vo=function(){var e=u(jo),t=h.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(jo=jo.filter((function(e){return t.some((function(t){return t.id===e.id}))})))},Ko=function(){var e=Vi.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){Ro=e,Co=e.src===Cn.W,f.Z.SharedObject.setItem("whitelistingIFrame",Ro),h.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:Ro})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},Go=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),pr((function(){document.body.appendChild(n)}))}else t()}(e,(function(){try{e.XMLHttpRequest&&mr.hookFunction(e.XMLHttpRequest.prototype,"open",mr.Types.XHR_OPEN_PRE,void 0,!0),mr.hookFunction(e,"fetch",mr.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&mr.hookFunction(e.HTMLElement.prototype,"insertBefore",mr.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&mr.hookFunction(e.HTMLElement.prototype,"appendChild",mr.Types.APPEND_CHILD_PRE,mr.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&mr.hookFunction(e.HTMLImageElement.prototype,"setAttribute",mr.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),mr.hookFunction(e,"open",mr.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&mr.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",mr.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&mr.hookFunction(e.HTMLElement.prototype,"hasChildNodes",mr.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),Jo(e)}catch(e){Zo.errorf(null,"`createHooksOnWindow` - %o",e)}}))},Jo=function(e){for(var t=f.Z.consts.htmlElements,n=0;n<t.length;n++)e[t[n]]&&mr.hookPropertySetter(e[t[n]].prototype,"src",mr.Types.HTML_SRC_PROP_PRE,void 0,!0)},Qo=function(){mr.addEventListener(mr.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"===(0,d.Z)(t[0])&&t[0].toString&&(t[0]=t[0].toString()),g.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=g.Z.addAcceptableParam(t[0]);else if(g.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&Ro){if(Co){var n="new window.Image().src = '"+t[0]+"'";return Ro.contentWindow.postMessage({type:"eval",code:n},"*"),t[0]}return(new Ro.contentWindow.Image).src=t[0]}})),mr.addEventListener(mr.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(this.classList.contains("up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(this.children[n].classList.contains("up-show")){t=!0;break}if(t)return!1}}catch(e){Zo.errorf(null,"`hasChildNodes` hook - %o",e)}})),mr.addEventListener(mr.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||Go(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=g.Z.addAcceptableParam(e)),i.call(this,e)}}})),mr.addEventListener(mr.Types.XHR_OPEN_PRE,(function(e){var t=e.data;g.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=g.Z.addAcceptableParam(t[1]))})),mr.addEventListener(mr.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&g.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=g.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var r=n[i],a=(r=r.trim()).split(" ")[0],o=r.split(" ")[1]||"";g.Z.urlValidations.isWhitelistURL(a,this.tagName)&&(r=g.Z.addAcceptableParam(a)+" "+o,n[i]=r)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&g.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=g.Z.addAcceptableParam(t[1]))})),mr.addEventListener(mr.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;h.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&g.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=g.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&g.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=g.Z.addAcceptableParam(t[0].href))})),mr.addEventListener(mr.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&g.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=g.Z.addAcceptableParam(i.src)),i.src&&g.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&Ro){if(Co){var r="new Image().src = '"+t[0].src+"'";return Ro.contentWindow.postMessage({type:"eval",code:r},"*"),t[0]}return Ro.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&g.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=g.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&g.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=g.Z.addAcceptableParam(t[0].src)),g.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&Ro){if(Co){var a="new Image().src = '"+t[0].src+"'";return Ro.contentWindow.postMessage({type:"eval",code:a},"*"),t[0]}return Ro.contentDocument.body.appendChild(t[0])}}})),mr.addEventListener(mr.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||Go(t.contentWindow)})),mr.addEventListener(mr.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&Ro&&!Co)return Ro.contentWindow.open(e.data[0])})),mr.addEventListener(mr.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},qo=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){Zo.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}},$o=function(e){var t=Object.entries(e).map((function(e){var t=c(e,2),n=t[0],i=t[1],r={};r.id=n,r.name=i.name,r.staging=i.staging,r.deviceType=i.device_type,r.selector={position:i.selector.position,value:i.selector.value},r.sizes=i.sizes;var a=i.prebids&&Object.keys(i.prebids).length>0;r.prebidSettings={enabled:a,bidders:[]},a&&Object.entries(i.prebids).forEach((function(e){var t=c(e,2),n=t[0],i=t[1],a={id:n,name:i.bidder,params:i.params};r.prebidSettings.bidders.push(a)}));var o=h.Y.fireEvent("enableComplianceSecondPass");return r.dfpSettings={adxId:i.adx,directId:i.direct,enabled:websiteConfig.dfpEnabled&&"0"!=i.adx,order:[{params:{},adx:{bidderID:i.adx,testCompliance:!0},direct:{bidderID:i.direct}},{params:{queryParams:o?{}:{ad_type:"text"}},adx:{bidderID:i.adx,testCompliance:!!o},direct:{bidderID:i.direct}}]},[n,r]}));return Object.fromEntries(t)},es=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new ii.Space(i);t.push(r)}return t};!function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0,w.init(Ho,{secure:!0});try{br.init(),di.Verifications.run(),di.Report.init()}catch(e){Zo.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Vi.userCountry.detectUserCountry(),Po=Lo(),window.__upo_d.isMobile=Po.isMobile;var e,t={browser:Po.browser,device:Po.device,platform:Po.platform,isMobile:Po.isMobile};h.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return t})),window.__upo_d.userEvnData=t,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),h.Y.fireEvent("consentData",{error:{message:n}})}}else h.Y.fireEvent("consentData",{tcData:e})}))}catch(e){h.Y.fireEvent("consentData",{error:e})}}(),function(){try{var e=new m.Z({prefix:"hook: "});(function(CustomEvents,websiteConfig,lg,hookUtils){
// Override element guarding on ancestor units to ensure website (SPA) can clear DOM on page navigation [AM-907]
CustomEvents.addEventListener('allowRemovalOfAdUnitParents', function () {
  return true;
});

// Styling Overrides
var orgHookStyleRules = [
  // Hide unmonetized ad unit containers creating blank spaces on the page [AM-807]
  // TODO: See if this works reliably and add it to the core code by default or as a hook
  ':not(.up-hide):not(.up-show) > div[id^="google_ads_iframe_"][id$="__container__"] { display: none; }',
  // Hide unmonetized ad unit container parents in mobile [AM-863]
  '.ad.ad-mobile-sticky { height: auto; }',
  '#nn_mobile_lb_top { height: auto; }',
];
var orgHookStyleElement = document.createElement('style');
orgHookStyleElement.textContent = orgHookStyleRules.join(' ');
(document.head || document.body || document.documentElement).appendChild(orgHookStyleElement);

// Disable refresh [AM-3559]
CustomEvents.addEventListener('maxAmountOfUnitDispatches', function (event) {
  return 1;
});

// the publisher refresh behaviour is the destroy the slots and then re-defining them again
// redefine gpt destory slots function [AM-3559]
window.googletag.cmd.push(function () {
  window.googletag.destroySlots = function (slots) {};
});
})(h.Y,websiteConfig,e,hookUtils)}catch(e){Zo.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(cr).forEach((function(e){var t=c(e,2),n=t[0],i=t[1];if(or[n]){var r=or[n],a=r.hookName,o=r.parseSettingValue,s=r.handler,d=o?o(i):i;a?h.Y.addEventListener(a,(function(e){return s(d,e)})):(s(d),ar.infof(null,"loadSettings: ".concat(n," (no associated hook): Setting applied.")))}else ar.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",n)})),h.Y.fireEvent("trackClicksOnCreatives")&&(Vi.safeFrameInjection.inject(),Oo()),function(){var e,t,n,i,r=null==Wo||null===(e=Wo.parsed)||void 0===e?void 0:e.scrapePrebid;r&&(t=r.websiteOverridesOrg?null===(n=r.website)||void 0===n?void 0:n.adUnitsVar:null===(i=r.org)||void 0===i?void 0:i.adUnitsVar);if(!t){var a,o=h.Y.fireEvent("scrapePrebidAdUnits");if(o)t="boolean"==typeof o?"pbjs":null===(a=o.getAdUnits)||void 0===a?void 0:a.toString()}var s=50,c=0,d=setInterval((function(){var e,n=null===(e=window._pbjsGlobals)||void 0===e?void 0:e.filter((function(e){return"upbjs"!==e}));if(null!=n&&n.length){var i=t&&n.find((function(e){return t.includes(e)}))||n[0];if(i){var r=f.Z.SharedObject.getItem("websiteConfig"),a=r.organizationID,o=r.websiteID,l=window[i]||{},u=l.version,p=l.installedModules,h={sendToServer:!0,sendPercentage:1,event:"prebid-info",meta:{organizationID:a,websiteID:o,pbVariable:i,isScraped:!!t,version:u,installedModules:p}};Zo.infof(null,"Prebid Info",h,h)}clearInterval(d)}c++>s&&clearInterval(d)}),100)}(),(e=h.Y.fireEvent("amazonBidderConfiguration"))&&e.pubID&&(f.Z.upoSettings.amazonBidderConfiguration.enabled=!0,f.Z.upoSettings.amazonBidderConfiguration=Object.assign(f.Z.upoSettings.amazonBidderConfiguration,e));var n=h.Y.fireEvent("hookDFPEnabledValue");n&&(websiteConfig.dfpEnabled=n);try{jo=es($o(jo))}catch(e){Zo.errorf(null,"init - parsing static spaces - %o",e)}if(qo(),h.Y.fireEvent("shouldDisableUponit"))Zo.noticef(null,"halting: we have been disabled by hooks");else{h.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),h.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),Fo(),websiteConfig.prebidEnabled=!!(jo.find((function(e){return e.prebidSettings&&e.prebidSettings.enabled}))||h.Y.fireEvent("scrapePrebidAdUnits")||h.Y.fireEvent("amazonBidderConfiguration")||Vi.btDemandService.isBTDemandIntegration());var i={spaces:jo,settings:{prebid:h.Y.fireEvent("forcePrebidEnabled")||websiteConfig.prebidEnabled,dfp:websiteConfig.dfpEnabled}};pr((function(){h.Y.fireEvent("onDomLoaded"),h.Y.fireEvent("onBeforeRecovery",{spaces:jo,settings:i.settings}),Ao.invoke(i)}))}}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
